const M_ = {
  context: void 0,
  registry: void 0
}, L_ = (k, L) => k === L, Ur = {
  equals: L_
};
let Fh = Hh;
const Ri = 1, zr = 2, Bh = {
  owned: null,
  cleanups: null,
  context: null,
  owner: null
};
var je = null;
let Fs = null, Ae = null, dt = null, ci = null, Jr = 0;
function Nh(k, L) {
  const f = Ae, $ = je, j = k.length === 0, w = L === void 0 ? $ : L, Q = j ? Bh : {
    owned: null,
    cleanups: null,
    context: w ? w.context : null,
    owner: w
  }, X = j ? k : () => k(() => zo(() => Qr(Q)));
  je = Q, Ae = null;
  try {
    return vo(X, !0);
  } finally {
    Ae = f, je = $;
  }
}
function Zr(k, L) {
  L = L ? Object.assign({}, Ur, L) : Ur;
  const f = {
    value: k,
    observers: null,
    observerSlots: null,
    comparator: L.equals || void 0
  }, $ = (j) => (typeof j == "function" && (j = j(f.value)), jh(f, j));
  return [Ah.bind(f), $];
}
function $s(k, L, f) {
  const $ = Hs(k, L, !1, Ri);
  Yo($);
}
function Vh(k, L, f) {
  Fh = A_;
  const $ = Hs(k, L, !1, Ri);
  (!f || !f.render) && ($.user = !0), ci ? ci.push($) : Yo($);
}
function F_(k, L, f) {
  f = f ? Object.assign({}, Ur, f) : Ur;
  const $ = Hs(k, L, !0, 0);
  return $.observers = null, $.observerSlots = null, $.comparator = f.equals || void 0, Yo($), Ah.bind($);
}
function zo(k) {
  if (Ae === null)
    return k();
  const L = Ae;
  Ae = null;
  try {
    return k();
  } finally {
    Ae = L;
  }
}
function $h(k) {
  Vh(() => zo(k));
}
function Th(k) {
  return je === null || (je.cleanups === null ? je.cleanups = [k] : je.cleanups.push(k)), k;
}
function B_() {
  return je;
}
function N_(k, L) {
  const f = je, $ = Ae;
  je = k, Ae = null;
  try {
    return vo(L, !0);
  } catch (j) {
    Gs(j);
  } finally {
    je = f, Ae = $;
  }
}
function Ah() {
  if (this.sources && this.state)
    if (this.state === Ri)
      Yo(this);
    else {
      const k = dt;
      dt = null, vo(() => qr(this), !1), dt = k;
    }
  if (Ae) {
    const k = this.observers ? this.observers.length : 0;
    Ae.sources ? (Ae.sources.push(this), Ae.sourceSlots.push(k)) : (Ae.sources = [this], Ae.sourceSlots = [k]), this.observers ? (this.observers.push(Ae), this.observerSlots.push(Ae.sources.length - 1)) : (this.observers = [Ae], this.observerSlots = [Ae.sources.length - 1]);
  }
  return this.value;
}
function jh(k, L, f) {
  let $ = k.value;
  return (!k.comparator || !k.comparator($, L)) && (k.value = L, k.observers && k.observers.length && vo(() => {
    for (let j = 0; j < k.observers.length; j += 1) {
      const w = k.observers[j], Q = Fs && Fs.running;
      Q && Fs.disposed.has(w), (Q ? !w.tState : !w.state) && (w.pure ? dt.push(w) : ci.push(w), w.observers && Gh(w)), Q || (w.state = Ri);
    }
    if (dt.length > 1e6)
      throw dt = [], new Error();
  }, !1)), L;
}
function Yo(k) {
  if (!k.fn)
    return;
  Qr(k);
  const L = je, f = Ae, $ = Jr;
  Ae = je = k, V_(k, k.value, $), Ae = f, je = L;
}
function V_(k, L, f) {
  let $;
  try {
    $ = k.fn(L);
  } catch (j) {
    return k.pure && (k.state = Ri, k.owned && k.owned.forEach(Qr), k.owned = null), k.updatedAt = f + 1, Gs(j);
  }
  (!k.updatedAt || k.updatedAt <= f) && (k.updatedAt != null && "observers" in k ? jh(k, $) : k.value = $, k.updatedAt = f);
}
function Hs(k, L, f, $ = Ri, j) {
  const w = {
    fn: k,
    state: $,
    updatedAt: null,
    owned: null,
    sources: null,
    sourceSlots: null,
    cleanups: null,
    value: L,
    owner: je,
    context: je ? je.context : null,
    pure: f
  };
  return je === null || je !== Bh && (je.owned ? je.owned.push(w) : je.owned = [w]), w;
}
function Yr(k) {
  if (k.state === 0)
    return;
  if (k.state === zr)
    return qr(k);
  if (k.suspense && zo(k.suspense.inFallback))
    return k.suspense.effects.push(k);
  const L = [k];
  for (; (k = k.owner) && (!k.updatedAt || k.updatedAt < Jr); )
    k.state && L.push(k);
  for (let f = L.length - 1; f >= 0; f--)
    if (k = L[f], k.state === Ri)
      Yo(k);
    else if (k.state === zr) {
      const $ = dt;
      dt = null, vo(() => qr(k, L[0]), !1), dt = $;
    }
}
function vo(k, L) {
  if (dt)
    return k();
  let f = !1;
  L || (dt = []), ci ? f = !0 : ci = [], Jr++;
  try {
    const $ = k();
    return $_(f), $;
  } catch ($) {
    f || (ci = null), dt = null, Gs($);
  }
}
function $_(k) {
  if (dt && (Hh(dt), dt = null), k)
    return;
  const L = ci;
  ci = null, L.length && vo(() => Fh(L), !1);
}
function Hh(k) {
  for (let L = 0; L < k.length; L++)
    Yr(k[L]);
}
function A_(k) {
  let L, f = 0;
  for (L = 0; L < k.length; L++) {
    const $ = k[L];
    $.user ? k[f++] = $ : Yr($);
  }
  for (L = 0; L < f; L++)
    Yr(k[L]);
}
function qr(k, L) {
  k.state = 0;
  for (let f = 0; f < k.sources.length; f += 1) {
    const $ = k.sources[f];
    if ($.sources) {
      const j = $.state;
      j === Ri ? $ !== L && (!$.updatedAt || $.updatedAt < Jr) && Yr($) : j === zr && qr($, L);
    }
  }
}
function Gh(k) {
  for (let L = 0; L < k.observers.length; L += 1) {
    const f = k.observers[L];
    f.state || (f.state = zr, f.pure ? dt.push(f) : ci.push(f), f.observers && Gh(f));
  }
}
function Qr(k) {
  let L;
  if (k.sources)
    for (; k.sources.length; ) {
      const f = k.sources.pop(), $ = k.sourceSlots.pop(), j = f.observers;
      if (j && j.length) {
        const w = j.pop(), Q = f.observerSlots.pop();
        $ < j.length && (w.sourceSlots[Q] = $, j[$] = w, f.observerSlots[$] = Q);
      }
    }
  if (k.owned) {
    for (L = k.owned.length - 1; L >= 0; L--)
      Qr(k.owned[L]);
    k.owned = null;
  }
  if (k.cleanups) {
    for (L = k.cleanups.length - 1; L >= 0; L--)
      k.cleanups[L]();
    k.cleanups = null;
  }
  k.state = 0;
}
function j_(k) {
  return k instanceof Error ? k : new Error(typeof k == "string" ? k : "Unknown error", {
    cause: k
  });
}
function Gs(k, L = je) {
  throw j_(k);
}
function Wh(k, L) {
  return zo(() => k(L || {}));
}
function H_(k, L, f) {
  let $ = f.length, j = L.length, w = $, Q = 0, X = 0, Ee = L[j - 1].nextSibling, ze = null;
  for (; Q < j || X < w; ) {
    if (L[Q] === f[X]) {
      Q++, X++;
      continue;
    }
    for (; L[j - 1] === f[w - 1]; )
      j--, w--;
    if (j === Q) {
      const Pe = w < $ ? X ? f[X - 1].nextSibling : f[w - X] : Ee;
      for (; X < w; )
        k.insertBefore(f[X++], Pe);
    } else if (w === X)
      for (; Q < j; )
        (!ze || !ze.has(L[Q])) && L[Q].remove(), Q++;
    else if (L[Q] === f[w - 1] && f[X] === L[j - 1]) {
      const Pe = L[--j].nextSibling;
      k.insertBefore(f[X++], L[Q++].nextSibling), k.insertBefore(f[--w], Pe), L[j] = f[w];
    } else {
      if (!ze) {
        ze = /* @__PURE__ */ new Map();
        let pt = X;
        for (; pt < w; )
          ze.set(f[pt], pt++);
      }
      const Pe = ze.get(L[Q]);
      if (Pe != null)
        if (X < Pe && Pe < w) {
          let pt = Q, $i = 1, Ai;
          for (; ++pt < j && pt < w && !((Ai = ze.get(L[pt])) == null || Ai !== Pe + $i); )
            $i++;
          if ($i > Pe - X) {
            const qo = L[Q];
            for (; X < Pe; )
              k.insertBefore(f[X++], qo);
          } else
            k.replaceChild(f[X++], L[Q++]);
        } else
          Q++;
      else
        L[Q++].remove();
    }
  }
}
function Ws(k, L, f) {
  let $;
  const j = () => {
    const Q = document.createElement("template");
    return Q.innerHTML = k, f ? Q.content.firstChild.firstChild : Q.content.firstChild;
  }, w = L ? () => zo(() => document.importNode($ || ($ = j()), !0)) : () => ($ || ($ = j())).cloneNode(!0);
  return w.cloneNode = w, w;
}
function Kr(k, L, f, $) {
  if (f !== void 0 && !$ && ($ = []), typeof L != "function")
    return Xr(k, L, $, f);
  $s((j) => Xr(k, L(), j, f), $);
}
function Xr(k, L, f, $, j) {
  for (; typeof f == "function"; )
    f = f();
  if (L === f)
    return f;
  const w = typeof L, Q = $ !== void 0;
  if (k = Q && f[0] && f[0].parentNode || k, w === "string" || w === "number")
    if (w === "number" && (L = L.toString()), Q) {
      let X = f[0];
      X && X.nodeType === 3 ? X.data = L : X = document.createTextNode(L), f = bo(k, f, $, X);
    } else
      f !== "" && typeof f == "string" ? f = k.firstChild.data = L : f = k.textContent = L;
  else if (L == null || w === "boolean")
    f = bo(k, f, $);
  else {
    if (w === "function")
      return $s(() => {
        let X = L();
        for (; typeof X == "function"; )
          X = X();
        f = Xr(k, X, f, $);
      }), () => f;
    if (Array.isArray(L)) {
      const X = [], Ee = f && Array.isArray(f);
      if (As(X, L, f, j))
        return $s(() => f = Xr(k, X, f, $, !0)), () => f;
      if (X.length === 0) {
        if (f = bo(k, f, $), Q)
          return f;
      } else
        Ee ? f.length === 0 ? Dh(k, X, $) : H_(k, f, X) : (f && bo(k), Dh(k, X));
      f = X;
    } else if (L.nodeType) {
      if (Array.isArray(f)) {
        if (Q)
          return f = bo(k, f, $, L);
        bo(k, f, null, L);
      } else
        f == null || f === "" || !k.firstChild ? k.appendChild(L) : k.replaceChild(L, k.firstChild);
      f = L;
    }
  }
  return f;
}
function As(k, L, f, $) {
  let j = !1;
  for (let w = 0, Q = L.length; w < Q; w++) {
    let X = L[w], Ee = f && f[w], ze;
    if (!(X == null || X === !0 || X === !1))
      if ((ze = typeof X) == "object" && X.nodeType)
        k.push(X);
      else if (Array.isArray(X))
        j = As(k, X, Ee) || j;
      else if (ze === "function")
        if ($) {
          for (; typeof X == "function"; )
            X = X();
          j = As(k, Array.isArray(X) ? X : [X], Array.isArray(Ee) ? Ee : [Ee]) || j;
        } else
          k.push(X), j = !0;
      else {
        const Pe = String(X);
        Ee && Ee.nodeType === 3 && Ee.data === Pe ? k.push(Ee) : k.push(document.createTextNode(Pe));
      }
  }
  return j;
}
function Dh(k, L, f = null) {
  for (let $ = 0, j = L.length; $ < j; $++)
    k.insertBefore(L[$], f);
}
function bo(k, L, f, $) {
  if (f === void 0)
    return k.textContent = "";
  const j = $ || document.createTextNode("");
  if (L.length) {
    let w = !1;
    for (let Q = L.length - 1; Q >= 0; Q--) {
      const X = L[Q];
      if (j !== X) {
        const Ee = X.parentNode === k;
        !w && !Q ? Ee ? k.replaceChild(j, X) : k.insertBefore(j, f) : Ee && X.remove();
      } else
        w = !0;
    }
  } else
    k.insertBefore(j, f);
  return [j];
}
const G_ = "http://www.w3.org/2000/svg";
function W_(k, L = !1) {
  return L ? document.createElementNS(G_, k) : document.createElement(k);
}
function U_(k) {
  const {
    useShadow: L
  } = k, f = document.createTextNode(""), $ = () => k.mount || document.body, j = B_();
  let w, Q = !!M_.context;
  return Vh(() => {
    w || (w = N_(j, () => F_(() => k.children)));
    const X = $();
    if (X instanceof HTMLHeadElement) {
      const [Ee, ze] = Zr(!1), Pe = () => ze(!0);
      Nh((pt) => Kr(X, () => Ee() ? pt() : w(), null)), Th(Pe);
    } else {
      const Ee = W_(k.isSVG ? "g" : "div", k.isSVG), ze = L && Ee.attachShadow ? Ee.attachShadow({
        mode: "open"
      }) : Ee;
      Object.defineProperty(Ee, "_$host", {
        get() {
          return f.parentNode;
        },
        configurable: !0
      }), Kr(ze, w), X.appendChild(Ee), k.ref && k.ref(Ee), Th(() => X.removeChild(Ee));
    }
  }, void 0, {
    render: !Q
  }), f;
}
function z_(k) {
  return Object.keys(k).reduce((f, $) => {
    const j = k[$];
    return f[$] = Object.assign({}, j), zh(j.value) && !J_(j.value) && !Array.isArray(j.value) && (f[$].value = Object.assign({}, j.value)), Array.isArray(j.value) && (f[$].value = j.value.slice(0)), f;
  }, {});
}
function Y_(k) {
  return k ? Object.keys(k).reduce((f, $) => {
    const j = k[$];
    return f[$] = zh(j) && "value" in j ? j : {
      value: j
    }, f[$].attribute || (f[$].attribute = X_($)), f[$].parse = "parse" in f[$] ? f[$].parse : typeof f[$].value != "string", f;
  }, {}) : {};
}
function q_(k) {
  return Object.keys(k).reduce((f, $) => (f[$] = k[$].value, f), {});
}
function K_(k, L) {
  const f = z_(L);
  return Object.keys(L).forEach((j) => {
    const w = f[j], Q = k.getAttribute(w.attribute), X = k[j];
    Q && (w.value = w.parse ? Uh(Q) : Q), X != null && (w.value = Array.isArray(X) ? X.slice(0) : X), w.reflect && Mh(k, w.attribute, w.value), Object.defineProperty(k, j, {
      get() {
        return w.value;
      },
      set(Ee) {
        const ze = w.value;
        w.value = Ee, w.reflect && Mh(this, w.attribute, w.value);
        for (let Pe = 0, pt = this.__propertyChangedCallbacks.length; Pe < pt; Pe++)
          this.__propertyChangedCallbacks[Pe](j, Ee, ze);
      },
      enumerable: !0,
      configurable: !0
    });
  }), f;
}
function Uh(k) {
  if (k)
    try {
      return JSON.parse(k);
    } catch {
      return k;
    }
}
function Mh(k, L, f) {
  if (f == null || f === !1)
    return k.removeAttribute(L);
  let $ = JSON.stringify(f);
  k.__updating[L] = !0, $ === "true" && ($ = ""), k.setAttribute(L, $), Promise.resolve().then(() => delete k.__updating[L]);
}
function X_(k) {
  return k.replace(/\.?([A-Z]+)/g, (L, f) => "-" + f.toLowerCase()).replace("_", "-").replace(/^-/, "");
}
function zh(k) {
  return k != null && (typeof k == "object" || typeof k == "function");
}
function J_(k) {
  return Object.prototype.toString.call(k) === "[object Function]";
}
function Z_(k) {
  return typeof k == "function" && k.toString().indexOf("class") === 0;
}
let Bs;
function Q_(k, L) {
  const f = Object.keys(L);
  return class extends k {
    static get observedAttributes() {
      return f.map((j) => L[j].attribute);
    }
    constructor() {
      super(), this.__initialized = !1, this.__released = !1, this.__releaseCallbacks = [], this.__propertyChangedCallbacks = [], this.__updating = {}, this.props = {};
    }
    connectedCallback() {
      if (this.__initialized)
        return;
      this.__releaseCallbacks = [], this.__propertyChangedCallbacks = [], this.__updating = {}, this.props = K_(this, L);
      const j = q_(this.props), w = this.Component, Q = Bs;
      try {
        Bs = this, this.__initialized = !0, Z_(w) ? new w(j, {
          element: this
        }) : w(j, {
          element: this
        });
      } finally {
        Bs = Q;
      }
    }
    async disconnectedCallback() {
      if (await Promise.resolve(), this.isConnected)
        return;
      this.__propertyChangedCallbacks.length = 0;
      let j = null;
      for (; j = this.__releaseCallbacks.pop(); )
        j(this);
      delete this.__initialized, this.__released = !0;
    }
    attributeChangedCallback(j, w, Q) {
      if (this.__initialized && !this.__updating[j] && (j = this.lookupProp(j), j in L)) {
        if (Q == null && !this[j])
          return;
        this[j] = L[j].parse ? Uh(Q) : Q;
      }
    }
    lookupProp(j) {
      if (L)
        return f.find((w) => j === w || j === L[w].attribute);
    }
    get renderRoot() {
      return this.shadowRoot || this.attachShadow({
        mode: "open"
      });
    }
    addReleaseCallback(j) {
      this.__releaseCallbacks.push(j);
    }
    addPropertyChangedCallback(j) {
      this.__propertyChangedCallbacks.push(j);
    }
  };
}
function eg(k, L = {}, f = {}) {
  const {
    BaseElement: $ = HTMLElement,
    extension: j
  } = f;
  return (w) => {
    if (!k)
      throw new Error("tag is required to register a Component");
    let Q = customElements.get(k);
    return Q ? (Q.prototype.Component = w, Q) : (Q = Q_($, Y_(L)), Q.prototype.Component = w, Q.prototype.registeredTag = k, customElements.define(k, Q, j), Q);
  };
}
function tg(k) {
  const L = Object.keys(k), f = {};
  for (let $ = 0; $ < L.length; $++) {
    const [j, w] = Zr(k[L[$]]);
    Object.defineProperty(f, L[$], {
      get: j,
      set(Q) {
        w(() => Q);
      }
    });
  }
  return f;
}
function ig(k) {
  if (k.assignedSlot && k.assignedSlot._$owner)
    return k.assignedSlot._$owner;
  let L = k.parentNode;
  for (; L && !L._$owner && !(L.assignedSlot && L.assignedSlot._$owner); )
    L = L.parentNode;
  return L && L.assignedSlot ? L.assignedSlot._$owner : k._$owner;
}
function og(k) {
  return (L, f) => {
    const { element: $ } = f;
    return Nh((j) => {
      const w = tg(L);
      $.addPropertyChangedCallback((X, Ee) => w[X] = Ee), $.addReleaseCallback(() => {
        $.renderRoot.textContent = "", j();
      });
      const Q = k(w, f);
      return Kr($.renderRoot, Q);
    }, ig($));
  };
}
function rg(k, L, f) {
  return arguments.length === 2 && (f = L, L = {}), eg(k, L)(og(f));
}
var ng = "upVcPE+wPOmtLjqyBIh9RoBwWAefaNXUWdW9bu2N+21mYgRykpCTKL/JjAZ0GBPKvqb0L2dAeyxcWYcKXQUOHbLlq372orMBwxPfHInEzYTRJMJNOypo1MTPpdeRQ0zQWpLujGT0tbNSq7ns2sEs1oEijl2aqITzczh6nLRrOSi7c8pmU7qB+yjL558PidGa9QrPhN49fyTM+mqlmrcCzvF2U9oNZrNvy9JpqDw4QFlinUkah42DKE9bDbeUB3BsekgviRdbNPOrSBR2ZT8Vf7psLXYUvXb26Z8HOiZGMNXsVzCT+Gvljwx+qI66y+48MLKwlr0vpCuYWEKvrQN2jrpsLXYUvXb2vqb0L2dAeyzWE0Jq9W91Adb3SF3NekmmLhZJgzG/XiyhSRLW6oPOD6OUPwgqug5n0Zb86BhUF5zPOuof7g+e8yIKSEAMQ2CPf/5HGk2Sn7sP5R9Gr2VNxYPHVCbzhaVO0KlrzsH++0DtAWPZxpQjMhGcYelIsqisl8qPlbpt9w2bb0sy3/X4YLkFvTX/AyHknmvhUl5I/MBpeay/BtUCdFfUgvCN+z8Nj92h2gco9TnirzunfSuJEr0GLPTm1SCf8Ys4+71UJRqREXnGlizbUIPHVCbzhaVOkDyStnSRVg2ExhPCrV51zLwyt91cy5aKsNOrvPcjU3qCs3/nwdm/YsvTIG3gYePHDGRO3R1sIeeqUmGU6WOCIQ/fD3vNd3YserEqhSmYsPCEyJnftyQNOvYIYExqv62BhMiZ37ckDTp/Y7rLGFHnjy/FflfloSI7wCYVyqu5v6Ww06u89yNTekeR99yriIHXsNOrvPcjU3r7LeOslojVR04ac/j/gMae3V+/DcTVgAZJmf9pSZDmCdmEMaLJdimFnr5lGHfCyptm79yHT0KSfA1oxyisnfL5hra0RJuzmuODjzZGV3mqi+P4EXBToNrqNGsPYphNA6s=", Ns = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}, js = { exports: {} };
(function(k, L) {
  (function(f, $) {
    $(L);
  })(Ns, function(f) {
    var $ = { name: "RealGrid2", version: "2.7.2.1534", license: "enterprise", code: null }, j = function(a, i) {
      return j = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e, t) {
        e.__proto__ = t;
      } || function(e, t) {
        for (var o in t)
          Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
      }, j(a, i);
    };
    function w(a, i) {
      if (typeof i != "function" && i !== null)
        throw new TypeError("Class extends value " + String(i) + " is not a constructor or null");
      function e() {
        this.constructor = a;
      }
      j(a, i), a.prototype = i === null ? Object.create(i) : (e.prototype = i.prototype, new e());
    }
    var Q = function() {
      return Q = Object.assign || function(a) {
        for (var i, e = 1, t = arguments.length; e < t; e++)
          for (var o in i = arguments[e])
            Object.prototype.hasOwnProperty.call(i, o) && (a[o] = i[o]);
        return a;
      }, Q.apply(this, arguments);
    };
    function X(a, i, e, t) {
      return new (e || (e = Promise))(function(o, r) {
        function n(h) {
          try {
            l(t.next(h));
          } catch (u) {
            r(u);
          }
        }
        function s(h) {
          try {
            l(t.throw(h));
          } catch (u) {
            r(u);
          }
        }
        function l(h) {
          var u;
          h.done ? o(h.value) : (u = h.value, u instanceof e ? u : new e(function(c) {
            c(u);
          })).then(n, s);
        }
        l((t = t.apply(a, i || [])).next());
      });
    }
    function Ee(a, i) {
      var e, t, o, r, n = { label: 0, sent: function() {
        if (1 & o[0])
          throw o[1];
        return o[1];
      }, trys: [], ops: [] };
      return r = { next: s(0), throw: s(1), return: s(2) }, typeof Symbol == "function" && (r[Symbol.iterator] = function() {
        return this;
      }), r;
      function s(l) {
        return function(h) {
          return function(u) {
            if (e)
              throw new TypeError("Generator is already executing.");
            for (; r && (r = 0, u[0] && (n = 0)), n; )
              try {
                if (e = 1, t && (o = 2 & u[0] ? t.return : u[0] ? t.throw || ((o = t.return) && o.call(t), 0) : t.next) && !(o = o.call(t, u[1])).done)
                  return o;
                switch (t = 0, o && (u = [2 & u[0], o.value]), u[0]) {
                  case 0:
                  case 1:
                    o = u;
                    break;
                  case 4:
                    return n.label++, { value: u[1], done: !1 };
                  case 5:
                    n.label++, t = u[1], u = [0];
                    continue;
                  case 7:
                    u = n.ops.pop(), n.trys.pop();
                    continue;
                  default:
                    if (o = n.trys, !((o = o.length > 0 && o[o.length - 1]) || u[0] !== 6 && u[0] !== 2)) {
                      n = 0;
                      continue;
                    }
                    if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) {
                      n.label = u[1];
                      break;
                    }
                    if (u[0] === 6 && n.label < o[1]) {
                      n.label = o[1], o = u;
                      break;
                    }
                    if (o && n.label < o[2]) {
                      n.label = o[2], n.ops.push(u);
                      break;
                    }
                    o[2] && n.ops.pop(), n.trys.pop();
                    continue;
                }
                u = i.call(a, n);
              } catch (c) {
                u = [6, c], t = 0;
              } finally {
                e = o = 0;
              }
            if (5 & u[0])
              throw u[1];
            return { value: u[0] ? u[1] : void 0, done: !0 };
          }([l, h]);
        };
      }
    }
    function ze(a, i, e) {
      if (e || arguments.length === 2)
        for (var t, o = 0, r = i.length; o < r; o++)
          !t && o in i || (t || (t = Array.prototype.slice.call(i, 0, o)), t[o] = i[o]);
      return a.concat(t || Array.prototype.slice.call(i));
    }
    var Pe, pt, $i, Ai, qo, Us, wo, zs = "$_hash", Pi = "$_view", De = "$_row", ji = "$_idx", ki = "$_foc", Ko = "$_lev";
    f.ValueType = void 0, (Pe = f.ValueType || (f.ValueType = {})).TEXT = "text", Pe.NUMBER = "number", Pe.BOOLEAN = "boolean", Pe.DATETIME = "datetime", Pe.OBJECT = "object", Pe.CHAR = "char", Pe.UNUM = "unum", Pe.INT = "int", Pe.UINT = "uint", Pe.DATE = "date", f.SortDirection = void 0, (pt = f.SortDirection || (f.SortDirection = {})).ASCENDING = "ascending", pt.DESCENDING = "descending", pt.NONE = "none", f.SortCase = void 0, ($i = f.SortCase || (f.SortCase = {})).SENSITIVE = "sensitive", $i.INSENSITIVE = "insensitive", function(a) {
      a.ROWS = "rows", a.ITEMS = "items";
    }(Ai || (Ai = {})), f.SortMode = void 0, (qo = f.SortMode || (f.SortMode = {})).AUTO = "auto", qo.EXPLICIT = "explicit", f.FilterMode = void 0, (Us = f.FilterMode || (f.FilterMode = {})).AUTO = "auto", Us.EXPLICIT = "explicit", f.RowGroupAdornments = void 0, (wo = f.RowGroupAdornments || (f.RowGroupAdornments = {})).NONE = "none", wo.HEADER = "header", wo.FOOTER = "footer", wo.SUMMARY = "summary", wo.BOTH = "both";
    var en, Xo;
    f.ValidationMode = void 0, (en = f.ValidationMode || (f.ValidationMode = {})).ALWAYS = "always", en.UPDATE = "update", en.INSERT = "insert", f.ValidationLevel = void 0, (Xo = f.ValidationLevel || (f.ValidationLevel = {})).ERROR = "error", Xo.WARNING = "warning", Xo.INFO = "info", Xo.IGNORE = "ignore";
    var tn, At, tt, Jo, Co, Zo, xo, Qo, er, tr, on, Io, Jt, rn, nn, ir, Dt, sn, an, ln, hn, St, Ys, qs = { error: 1, warning: 2, info: 3, ignore: 4 }, Hi = function(a, i) {
      return qs[a] - qs[i];
    };
    f.SummaryMode = void 0, (tn = f.SummaryMode || (f.SummaryMode = {})).NONE = "none", tn.AGGREGATE = "aggregate", tn.STATISTICAL = "statistical", f.ColumnHeaderItemLocation = void 0, (At = f.ColumnHeaderItemLocation || (f.ColumnHeaderItemLocation = {})).NONE = "none", At.LEFT_EDGE = "leftEdge", At.RIGHT_EDGE = "rightEdge", At.TOP_EDGE = "topEdge", At.BOTTOM_EDGE = "bottomEdge", At.LEFT = "left", At.RIGHT = "right", At.TOP = "top", At.BOTTOM = "bottom", At.CENTER = "center", function(a) {
      a.NONE = "none", a.HEAD = "head", a.BODY = "body", a.TAIL = "tail";
    }(tt || (tt = {})), f.GridFitStyle = void 0, (Jo = f.GridFitStyle || (f.GridFitStyle = {})).NONE = "none", Jo.EVEN = "even", Jo.EVEN_FILL = "evenFill", Jo.FILL = "fill", f.RowMaskType = void 0, (Co = f.RowMaskType || (f.RowMaskType = {})).NONE = "none", Co.ROW = "row", Co.DATA = "data", Co.FILL = "fill", Co.CELL = "cell", f.TextInputCase = void 0, (Zo = f.TextInputCase || (f.TextInputCase = {})).NORMAL = "normal", Zo.UPPER = "upper", Zo.LOWER = "lower", Zo.DEFAULT = "default", f.DefaultShowDate = void 0, (xo = f.DefaultShowDate || (f.DefaultShowDate = {})).NORMAL = "normal", xo.TODAY = "today", xo.TODAY_WHEN_NULL = "todayWhenNull", xo.DEFAULT = "default", xo.DEFAULT_WHEN_NULL = "defaultWhenNull", f.SortStyle = void 0, (Qo = f.SortStyle || (f.SortStyle = {})).NONE = "none", Qo.EXCLUSIVE = "exclusive", Qo.INCLUSIVE = "inclusive", Qo.REVERSE = "reverse", f.MenuItemType = void 0, (er = f.MenuItemType || (f.MenuItemType = {})).NORMAL = "normal", er.CHECK = "check", er.RADIO = "radio", er.SEPARATOR = "separator", f.HandleVisibility = void 0, (tr = f.HandleVisibility || (f.HandleVisibility = {})).VISIBLE = "visible", tr.HOVERED = "hovered", tr.ALWAYS = "always", tr.HIDDEN = "hidden", f.CellButton = void 0, (on = f.CellButton || (f.CellButton = {})).NONE = "none", on.ACTION = "action", on.POPUP = "popup", f.ButtonVisibility = void 0, (Io = f.ButtonVisibility || (f.ButtonVisibility = {})).ALWAYS = "always", Io.DEFAULT = "default", Io.VISIBLE = "visible", Io.HIDDEN = "hidden", Io.ROWFOCUSED = "rowfocused", f.IconLocation = void 0, (Jt = f.IconLocation || (f.IconLocation = {})).LEFT = "left", Jt.RIGHT = "right", Jt.LEFT_EDGE = "leftEdge", Jt.RIGHT_EDGE = "rightEdge", Jt.TOP = "top", Jt.BOTTOM = "bottom", Jt.TOP_EDGE = "topEdge", Jt.BOTTOM_EDGE = "bottomEdge", Jt.CENTER = "center", f.RefreshMode = void 0, (rn = f.RefreshMode || (f.RefreshMode = {})).ALL = "all", rn.VISIBLE_ONLY = "visibleOnly", rn.RECYCLE = "recycle", f.ScrollOnEditing = void 0, (nn = f.ScrollOnEditing || (f.ScrollOnEditing = {})).CANCEL = "cancel", nn.COMMIT = "commit", nn.DEFAULT = "default", f.ItemType = void 0, (ir = f.ItemType || (f.ItemType = {})).ROW = "row", ir.GROUP = "group", ir.FOOTER = "footer", ir.TREE = "tree", f.SummaryType = void 0, (Dt = f.SummaryType || (f.SummaryType = {})).COUNT = "count", Dt.SUM = "sum", Dt.MAX = "max", Dt.MIN = "min", Dt.AVG = "avg", Dt.VAR = "var", Dt.VARP = "varp", Dt.STDEV = "stdev", Dt.STDEVP = "stdevp", Dt.DATACOUNT = "datacount", Dt.DATAAVG = "dataavg", f.ExpanderVisibility = void 0, (sn = f.ExpanderVisibility || (f.ExpanderVisibility = {})).ALWAYS = "always", sn.DEFAULT = "default", sn.NONE = "none", f.ExitGridWhenTab = void 0, (an = f.ExitGridWhenTab || (f.ExitGridWhenTab = {})).ROW = "row", an.GRID = "grid", an.NONE = "none", f.GroupShowMode = void 0, (ln = f.GroupShowMode || (f.GroupShowMode = {})).EXPAND = "expand", ln.COLLAPSE = "collapse", ln.ALWAYS = "always", f.SyncGridHeight = void 0, (hn = f.SyncGridHeight || (f.SyncGridHeight = {})).NONE = "none", hn.OVER = "over", hn.ALWAYS = "always", f.InlineFilterOperator = void 0, (St = f.InlineFilterOperator || (f.InlineFilterOperator = {})).EQUAL = "equal", St.NOT_EQUAL = "notEqual", St.CONTAINS = "contains", St.NOT_CONTAINS = "notContains", St.STARTS_WITH = "startsWith", St.ENDS_WITH = "endsWith", St.RESET = "reset", St.GREATER = "greater", St.GREATER_EQUAL = "greaterEqual", St.LOWER = "lower", St.LOWER_EQUAL = "lowerEqual", St.BETWEEN = "between", St.EMPTY = "empty", f.TreeExpanderIconStyle = void 0, (Ys = f.TreeExpanderIconStyle || (f.TreeExpanderIconStyle = {})).TRIANGLE = "triangle", Ys.SQUARE = "square";
    var ue = function() {
      function a(i, e, t, o) {
        i === void 0 && (i = 0), e === void 0 && (e = 0), t === void 0 && (t = 0), o === void 0 && (o = 0), this.x = i, this.y = e, this.width = t, this.height = o;
      }
      return Object.defineProperty(a.prototype, "left", { get: function() {
        return this.x;
      }, set: function(i) {
        var e = i - this.x;
        this.x += e, this.width -= e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "right", { get: function() {
        return this.x + this.width;
      }, set: function(i) {
        var e = i - (this.x + this.width);
        this.width += e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "top", { get: function() {
        return this.y;
      }, set: function(i) {
        var e = i - this.y;
        this.y += e, this.height -= e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "bottom", { get: function() {
        return this.y + this.height;
      }, set: function(i) {
        var e = i - (this.y + this.height);
        this.height += e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "isEmpty", { get: function() {
        return this.width === 0 || this.height === 0;
      }, enumerable: !1, configurable: !0 }), a.prototype.clone = function() {
        return new a(this.x, this.y, this.width, this.height);
      }, a.prototype.getInner = function() {
        return new a(0, 0, this.width, this.height);
      }, a.prototype.equals = function(i) {
        return i === this || i && this.x === i.x && this.y === i.y && this.width === i.width && this.height === i.height;
      }, a.prototype.leftBy = function(i) {
        return this.x += i, this.width -= i, this;
      }, a.prototype.rightBy = function(i) {
        return this.width += i, this;
      }, a.prototype.topBy = function(i) {
        return this.y += i, this.height -= i, this;
      }, a.prototype.bottomBy = function(i) {
        return this.height += i, this;
      }, a.prototype.shrink = function(i, e) {
        return this.width -= i, this.height -= e, this;
      }, a.prototype.expand = function(i, e) {
        return this.width += i, this.height += e, this;
      }, a.prototype.contains = function(i, e) {
        return i >= this.x && i <= this.x + this.width && e >= this.y && e <= this.y + this.height;
      }, a.prototype.setEmpty = function() {
        return this.width = this.height = 0, this;
      }, a.prototype.move = function(i, e) {
        return i === void 0 && (i = 0), e === void 0 && (e = 0), this.x = i, this.y = e, this;
      }, a.prototype.set = function(i, e, t, o) {
        return this.x = i, this.y = e, this.width = t, this.height = o, this;
      }, a.prototype.setWidth = function(i) {
        return this.width = i, this;
      }, a.prototype.copy = function(i) {
        return this.x = i.x, this.y = i.y, this.width = i.width, this.height = i.height, this;
      }, a.prototype.copyHorz = function(i) {
        return this.x = i.x, this.width = i.width, this;
      }, a.prototype.copyVert = function(i) {
        return this.y = i.y, this.height = i.height, this;
      }, a.prototype.inflate = function(i, e, t, o) {
        return i === void 0 && (i = 0), e === void 0 && (e = void 0), t === void 0 && (t = void 0), o === void 0 && (o = void 0), e = e !== void 0 ? e : i, t = t !== void 0 ? t : i, o = o !== void 0 ? o : e, i && (this.left = this.x - i), e && (this.top = this.y - e), t && (this.right = this.right + t), o && (this.bottom = this.bottom + o), this;
      }, a.prototype.offset = function(i, e) {
        return this.x += i, this.y += e, this;
      }, a.prototype.round = function() {
        var i = this.clone();
        return i.x >>>= 0, i.y >>>= 0, i.width >>>= 0, i.height >>>= 0, i;
      }, a.prototype.union = function(i) {
        var e = this.clone();
        return e.left = Math.min(this.x, i.x), e.right = Math.max(this.right, i.right), e.top = Math.min(this.y, i.y), e.bottom = Math.max(this.bottom, i.bottom), e;
      }, a.prototype.normalize = function() {
        return this.width < 0 && (this.x -= this.width, this.width *= -1), this.height < 0 && (this.y -= this.height, this.height *= -1), this;
      }, a.prototype.toString = function() {
        return "{x: " + this.x + ", y: " + this.y + ", width: " + this.width + ", height: " + this.height + "}";
      }, a.Temp = new a(), a;
    }(), Zt = typeof window < "u" ? window : {}, it = typeof navigator < "u" ? navigator.userAgent : "", Yh = typeof navigator < "u" ? navigator.platform : "", Ks = typeof navigator < "u" ? navigator.appVersion : "", qh = Yh.toUpperCase().indexOf("MAC") >= 0, or = !!Zt.opera || it.indexOf(" OPR/") >= 0, Kh = !!Zt.whale, un = !!Zt.chrome && !or, Xh = Zt.InstallTrigger !== void 0, Jh = !!Zt.safari || !un && !or && it.indexOf("Safari") >= 0, Xs = it.toLowerCase().indexOf("edge/") >= 0, Zh = /iPad|iPhone|iPod/.test(it) && !Zt.MSStream, Qh = it.toLowerCase().indexOf("edg/") >= 0 && it.toLowerCase().indexOf("chrome/") >= 0, rr = function() {
      try {
        for (var a = 3, i = document.createElement("div"), e = i.getElementsByTagName("i"); i.innerHTML = "<!--[if gt IE " + ++a + "]><i></i><![endif]-->", e[0]; )
          ;
        return a > 4 ? a : void 0;
      } catch {
        return;
      }
    }(), eu = rr !== void 0 && rr <= 9, tu = rr !== void 0 && rr <= 8, iu = !!it.match(/Trident.*rv\:11\./), Js = Ks.indexOf("MSIE 10") !== -1, Zs = Ks.indexOf("MSIE 9") !== -1, Qs = iu || Js || Zs, ou = (/* @__PURE__ */ new Date()).getTime(), cn = void 0, dn = void 0, pn = void 0, fn = void 0;
    function be(a) {
      return a && a.ownerDocument && (a.ownerDocument.defaultView || a.ownerDocument.parentWindow);
    }
    function te(a) {
      return a && a.ownerDocument;
    }
    function Xe(a) {
      return a.defaultView || a.parentWindow;
    }
    var So, b = function() {
      function a() {
      }
      return a.stopEvent = function(i, e) {
        e === void 0 && (e = !1), i.preventDefault ? (i.preventDefault(), i.stopPropagation()) : i.returnValue = !1, e && i.stopImmediatePropagation();
      }, a.setDebugging = function(i, e, t) {
        a.$$_debugging = e, a.$$_keyLog = t;
      }, a.isDebugging = function() {
        return a.$$_debugging;
      }, a.setSlotMode = function(i) {
        a.$$_slotMode = i;
      }, a.isSlotMode = function() {
        return a.$$_slotMode;
      }, a.log = function(i) {
        for (var e = [], t = 1; t < arguments.length; t++)
          e[t - 1] = arguments[t];
        a.isDebugging() && console.log(i, e);
      }, a.keyLog = function(i) {
        for (var e = [], t = 1; t < arguments.length; t++)
          e[t - 1] = arguments[t];
        a.$$_keyLog && console.log(i, e);
      }, a.isArray = function(i) {
        return Array.isArray(i);
      }, a.isObject = function(i) {
        return i != null && typeof i == "object";
      }, a.makeArray = function(i, e) {
        return e === void 0 && (e = !1), i != null ? a.isArray(i) ? i : [i] : e ? [] : void 0;
      }, a.isNumber = function(i) {
        return typeof i == "number";
      }, a.getNumber = function(i, e) {
        return isNaN(parseFloat(i)) ? e : parseFloat(i);
      }, a.getTimer = function() {
        return (/* @__PURE__ */ new Date()).getTime() - ou;
      }, a.isWhiteSpace = function(i) {
        return !i || !i.trim();
      }, a.pad = function(i, e, t) {
        return e = Math.max(e || 2, 1), t = t || "0", new Array(e - String(i).length + 1).join(t) + i;
      }, a.pick = function() {
        for (var i = [], e = 0; e < arguments.length; e++)
          i[e] = arguments[e];
        for (var t, o = i.length, r = 0; r < o; r++)
          if ((t = i[r]) != null)
            return t;
      }, a.included = function(i) {
        for (var e = [], t = 1; t < arguments.length; t++)
          e[t - 1] = arguments[t];
        for (var o = e.length, r = 0; r < o; r++)
          if (e[r] == i)
            return !0;
        return !1;
      }, a.valueIn = function(i, e) {
        if (typeof e == "object") {
          for (var t = Object.keys(e), o = 0; o < t.length; o++)
            if (e[t[o]] === i)
              return !0;
        }
        return !1;
      }, a.compareTextValue = function(i, e, t, o) {
        if (i === e)
          return !0;
        var r = String(i), n = e == null ? void 0 : String(e);
        return !r && !n || !(!r || !n) && (t || (r = r.toLowerCase(), n = n.toLowerCase()), o ? n.indexOf(r) >= 0 : r == n);
      }, a.cast = function(i, e) {
        return i instanceof e ? i : null;
      }, a.toInt = function(i, e) {
        var t = parseInt(i, e || 10);
        return isNaN(t) ? 0 : t;
      }, a.toFloat = function(i) {
        var e = parseFloat(i);
        return isNaN(e) ? 0 : e;
      }, a.hex = function(i, e, t) {
        e === void 0 && (e = 2), t === void 0 && (t = "0"), e = Math.max(e || 2, 1);
        var o = i.toString(16);
        return t = t || "0", new Array(e - o.length + 1).join(t) + o;
      }, a.deepCopy = function(i) {
        if (i == null || typeof i != "object")
          return i;
        if (i instanceof Date)
          return new Date(i);
        for (var e = a.isArray(i) ? [] : {}, t = 0, o = Object.keys(i); t < o.length; t++) {
          var r = o[t];
          i.hasOwnProperty(r) && (e[r] = a.deepCopy(i[r]));
        }
        return e;
      }, a.extendObj = function(i, e) {
        if (i == null || typeof i != "object" || e == null || typeof e != "object")
          return e;
        for (var t = 0, o = Object.keys(i); t < o.length; t++) {
          var r = o[t];
          i.hasOwnProperty(r) && e[r] === void 0 && (e[r] = i[r]);
        }
        return e;
      }, a.getBounds = function(i) {
        var e = new ue();
        return e.x = i.offsetLeft, e.y = i.offsetTop, e.width = i.offsetWidth, e.height = i.offsetHeight, e;
      }, a.toStr = function(i) {
        return typeof i == "number" ? isNaN(i) ? "" : String(i) : i != null ? String(i) : "";
      }, a.setBounds = function(i, e, t, o, r) {
        var n = i.style;
        n.left = e + "px", n.top = t + "px", n.width = o + "px", n.height = r + "px";
      }, a.getClientRect = function(i) {
        var e = i.getBoundingClientRect();
        return e.cx = i.offsetLeft, e.cy = i.offsetTop, e;
      }, a.getChildIndex = function(i) {
        if (i) {
          var e = i.parentNode;
          if (e) {
            for (var t = e.children, o = t.length; o--; )
              if (t[o] === i)
                return o;
          }
        }
        return -1;
      }, a.clearChildren = function(i) {
        for (var e; e = i.lastChild; )
          i.removeChild(e);
      }, a.clearElements = function(i) {
        for (var e; e = i.lastChild; )
          a.clearElements(e), i.removeChild(e);
      }, a.addChild = function(i, e) {
        return !(!i || !e || e.parentNode === i) && (i.appendChild(e), !0);
      }, a.removeChild = function(i, e) {
        return !(!i || !e || e.parentNode !== i) && (i.removeChild(e), !0);
      }, a.disableSelection = function(i) {
        var e = i.style;
        e["-moz-user-select"] = "-moz-none", e["-khtml-user-select"] = "none", e["-webkit-user-select"] = "none", e["-o-user-select"] = "none", e["-ms-user-select"] = "none", e["user-select"] = "none";
      }, a.setMobile = function(i) {
        cn = i;
      }, a.setTablet = function(i) {
        pn = i;
      }, a.isMobile = function() {
        return cn !== void 0 ? cn : (dn === void 0 && (dn = this.$_checkMobile()), dn);
      }, a.isTablet = function() {
        return pn !== void 0 ? pn : (fn === void 0 && (fn = this.$_checkTablet()), fn);
      }, a.$_checkTablet = function() {
        return a.isMobile() && /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(it.toLowerCase());
      }, a.$_checkMobile = function() {
        var i = !1;
        return (it.match(/Android/i) || it.match(/webOS/i) || it.match(/iPhone/i) || it.match(/iPad/i) || it.match(/iPod/i) || it.match(/BlackBerry/i) || it.match(/Windows Phone/i)) && (i = !0), i || (i = "ontouchstart" in window && it.indexOf("Macintosh") >= 0), i;
      }, a.getBrowserSize = function(i) {
        var e = i ? i.ownerDocument : document, t = e.defaultView;
        return { width: t.innerWidth || e.documentElement.clientWidth || e.body.clientWidth, height: t.innerHeight || e.documentElement.clientHeight || e.body.clientHeight };
      }, a.move = function(i, e, t) {
        i.style.left = e + "px", i.style.top = t + "px";
      }, a.htmlEncode = function(i) {
        return document.createElement("a").appendChild(document.createTextNode(i)).parentNode.innerHTML;
      }, a.detach = function(i) {
        return i && i.parentNode && i.parentNode.removeChild(i), null;
      }, a.getSize = function(i) {
        var e = i.getBoundingClientRect();
        return { width: e.width, height: e.height };
      }, a.getScrolled = function(i) {
        var e = i.body, t = Xe(i), o = i.documentElement;
        return { sx: t.pageXOffset || o.scrollLeft || e.scrollLeft, sy: t.pageYOffset || o.scrollTop || e.scrollTop };
      }, a.getOffset = function(i) {
        var e = i.ownerDocument, t = e.defaultView, o = i.getBoundingClientRect(), r = e.body, n = e.documentElement, s = t.pageYOffset || n.scrollTop || r.scrollTop, l = t.pageXOffset || n.scrollLeft || r.scrollLeft, h = n.clientTop || r.clientTop || 0, u = n.clientLeft || r.clientLeft || 0, c = o.left + l - u, d = o.top + s - h;
        return { x: Math.round(c), y: Math.round(d) };
      }, a.isAncestorOf = function(i, e, t) {
        var o;
        if ((e instanceof SVGElement || e.shadowRoot) && t && t.composedPath)
          for (var r = t.composedPath(); r.length && (o = r.shift()) && !(o instanceof HTMLElement); )
            ;
        else
          o = e.parentElement;
        for (; o; ) {
          if (o == i)
            return !0;
          o = o.parentElement;
        }
        return !1;
      }, a.getComposedPath = function(i) {
        if (i.composedPath)
          return i.composedPath();
        for (var e = i.target, t = []; e; )
          t.push(e), e = e.parentElement;
        return t;
      }, a.equalNumbers = function(i, e) {
        return isNaN(i) && isNaN(e) || !isNaN(i) && i == e;
      }, a.equalArrays = function(i, e) {
        if (i === e)
          return !0;
        if (i == null || e == null)
          return !1;
        var t = i.length;
        if (t != e.length)
          return !1;
        for (var o = 0; o < t; ++o)
          if (i[o] !== e[o])
            return !1;
        return !0;
      }, a.equalObjects = function(i, e) {
        return i == e || JSON.stringify(i) === JSON.stringify(e);
      }, a.isLeapYear = function(i) {
        return i % 4 == 0 && i % 100 != 0 || i % 400 == 0;
      }, a.incMonth = function(i, e) {
        var t = i.getDate();
        return i.setDate(1), i.setMonth(i.getMonth() + e), i.setDate(Math.min(t, a.month_days[a.isLeapYear(i.getFullYear()) ? 1 : 0][i.getMonth()])), i;
      }, a.incYear = function(i, e) {
        var t = i.getDate();
        return i.setDate(1), i.setFullYear(i.getFullYear() + e), i.setDate(Math.min(t, a.month_days[a.isLeapYear(i.getFullYear()) ? 1 : 0][i.getMonth()])), i;
      }, a.setClassName = function(i, e) {
        (e = e || "") != i.className && (i.className = e);
      }, a.addClassName = function(i, e) {
        if (e = e || "", i.classList)
          i.classList.add(e);
        else {
          var t = i.className.split(" ");
          t.indexOf(e) < 0 && t.push(e), i.className = t.join(" ");
        }
      }, a.removeClassName = function(i, e) {
        if (i.classList)
          i.classList.remove(e);
        else {
          var t, o = i.className.split(" ");
          (t = o.indexOf(e)) >= 0 && o.splice(t, 1), i.className = o.join(" ");
        }
      }, a.setStyle = function(i, e) {
        var t = e.style;
        for (var o in i)
          i[o] != null ? t[o] = i[o] : (t.removeProperty ? t.removeProperty(o) : t.removeAttribute && t.removeAttribute(o), t[o] = "");
      }, a.getBoundingClientRect2 = function(i) {
        var e = i.getBoundingClientRect();
        return { left: e.left, right: e.right, width: e.right - e.left, top: e.top, bottom: e.bottom, height: e.bottom - e.top };
      }, a.getTextLength = function(i) {
        for (var e = 0, t = 0, o = 0; i && (t = i.charCodeAt(o)); o++)
          e += t >> 7 ? 2 : 1;
        return e;
      }, a.isEmpty = function(i) {
        return i && Object.keys(i).length > 0;
      }, a.isPassive = function() {
        if (a.$_supportPassive === null) {
          a.$_supportPassive = !1;
          try {
            addEventListener("test", null, Object.defineProperty({}, "passive", { get: function() {
              a.$_supportPassive = !0;
            } }));
          } catch {
            a.log("passive not support");
          }
        }
        return a.$_supportPassive;
      }, a.hangulToChosungAll = function(i) {
        for (var e = "", t = 0; t < i.length; t++) {
          var o = i.charCodeAt(t) - 44032;
          e += o > -1 && o < 11172 ? a.cho[Math.floor(o / 588)] : i[t];
        }
        return e;
      }, a.hangulToChosung = function(i) {
        var e = { cho: i, org: i };
        if (/[ㄱ-힝]/.test(i)) {
          var t = a.cho, o = i.charCodeAt(0);
          o >= 12593 && o <= 12622 && (e.org = void 0), (o -= 44032) >= 0 && o < 11172 && (e.cho = t[Math.floor(o / 588)]);
        }
        return e;
      }, a.addQuot = function(i, e) {
        return i && (i.indexOf(`
`) >= 0 || i.indexOf(`\r
`) >= 0 || i.charAt(0) == '"') && (i = '"' + (i = i.replace(/\"/g, '""')) + '"'), i;
      }, a.addQuatation = function(i, e, t, o) {
        return i != null && ((t || o) && (t && i && (i = i.replace(/\n/g, t)), o && i && (i = i.replace(/\r/g, o))), (e || i.indexOf(`
`) >= 0 || i.indexOf(",") >= 0 || i.indexOf('"') >= 0) && (i = '"' + i.replace(/\"/g, '""') + '"')), i === null ? "" : i;
      }, a.isClickableTemplate = function(i, e) {
        return Array.prototype.some.call(i.querySelectorAll("input, textarea, a, select, button, [tabindex]"), function(t) {
          return e === t;
        });
      }, a.isFocusableTemplate = function(i, e) {
        return Array.prototype.some.call(i.querySelectorAll("input, textarea, select"), function(t) {
          var o = t.type;
          return t === e && o !== "button" && o !== "checkbox";
        });
      }, a.objectToCssText = function(i) {
        return typeof i == "string" ? i : i ? Object.keys(i).map(function(e) {
          return "".concat(e.split(/(?=[A-Z])/).join("-").toLowerCase(), ":").concat(i[e]);
        }).join(";") : null;
      }, a.getLast = function(i) {
        return i[i.length - 1];
      }, a.camelToHyphen = function(i, e, t) {
        return t === void 0 && (t = "-"), i && (e ? i.split(/(?=[A-Z])/).join(t).toUpperCase() : i.split(/(?=[A-Z])/).join(t).toLowerCase());
      }, a.find = function(i, e) {
        for (var t = 0; t < i.length; t++)
          if (e.call(null, i[t], t, i))
            return i[t];
      }, a.isInteractive = function(i) {
        var e = be(i);
        return i instanceof e?.HTMLInputElement && i.type === "checkbox" || i instanceof e?.HTMLAnchorElement;
      }, a.isIE = Qs, a.isEdge = Xs, a.ieAll = Qs || Xs, a.ieOld = eu, a.isMac = qh, a.isSafari = Jh, a.isChrome = un, a.isFirefox = Xh, a.isOpera = or, a.ieLeg = tu, a.ieTen = Js, a.ieNine = Zs, a.isiOS = Zh, a.isChromium = un || Qh || Kh || or, a.TextProp = a.ieAll ? "innerText" : "textContent", a.week_days = Zt.RG_CONST && Zt.RG_CONST.WEEKDAYS ? Zt.RG_CONST.WEEKDAYS : ["일", "월", "화", "수", "목", "금", "토"], a.month_days = [[31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31], [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]], a.cho = ["ㄱ", "ㄲ", "ㄴ", "ㄷ", "ㄸ", "ㄹ", "ㅁ", "ㅂ", "ㅃ", "ㅅ", "ㅆ", "ㅇ", "ㅈ", "ㅉ", "ㅊ", "ㅋ", "ㅌ", "ㅍ", "ㅎ"], a.colonreg = /;(?=(?:[^"]*"[^"]*")*(?![^"]*"))/, a.$_INVISIBLE_EDIT_BOUNDS = new ue(-1e4, -1e4, 100, 100), a.$$_debugging = !1, a.$$_keyLog = !1, a.$$_slotMode = !1, a.$_supportPassive = null, a;
    }(), Eo = function() {
      function a() {
      }
      return a.encode = function(i) {
        var e, t, o, r, n, s, l, h = "", u = 0, c = a.CHARACTERS;
        for (i = a.utf8_encode(i); u < i.length; )
          r = (e = i.charCodeAt(u++)) >> 2, n = (3 & e) << 4 | (t = i.charCodeAt(u++)) >> 4, s = (15 & t) << 2 | (o = i.charCodeAt(u++)) >> 6, l = 63 & o, isNaN(t) ? s = l = 64 : isNaN(o) && (l = 64), h = h + c.charAt(r) + c.charAt(n) + c.charAt(s) + c.charAt(l);
        return h;
      }, a.decode = function(i) {
        var e, t, o, r, n, s, l = "", h = 0, u = a.CHARACTERS;
        for (i = i.replace(/[^A-Za-z0-9\+\/\=]/g, ""); h < i.length; )
          e = u.indexOf(i.charAt(h++)) << 2 | (r = u.indexOf(i.charAt(h++))) >> 4, t = (15 & r) << 4 | (n = u.indexOf(i.charAt(h++))) >> 2, o = (3 & n) << 6 | (s = u.indexOf(i.charAt(h++))), l += String.fromCharCode(e), n != 64 && (l += String.fromCharCode(t)), s != 64 && (l += String.fromCharCode(o));
        return l = a.utf8_decode(l);
      }, a.utf8_encode = function(i) {
        i = i.replace(/\r\n/g, `
`);
        for (var e = "", t = 0; t < i.length; t++) {
          var o = i.charCodeAt(t);
          o < 128 ? e += String.fromCharCode(o) : o > 127 && o < 2048 ? (e += String.fromCharCode(o >> 6 | 192), e += String.fromCharCode(63 & o | 128)) : (e += String.fromCharCode(o >> 12 | 224), e += String.fromCharCode(o >> 6 & 63 | 128), e += String.fromCharCode(63 & o | 128));
        }
        return e;
      }, a.utf8_decode = function(i) {
        for (var e = "", t = 0, o = 0, r = 0, n = 0, s = i.length; t < s; )
          (o = i.charCodeAt(t)) < 128 ? (e += String.fromCharCode(o), t++) : o > 191 && o < 224 ? (r = i.charCodeAt(t + 1), e += String.fromCharCode((31 & o) << 6 | 63 & r), t += 2) : (r = i.charCodeAt(t + 1), n = i.charCodeAt(t + 2), e += String.fromCharCode((15 & o) << 12 | (63 & r) << 6 | 63 & n), t += 3);
        return e;
      }, a.CHARACTERS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", a.btoa = function(i) {
        for (var e, t, o, r, n = a.CHARACTERS, s = "", l = 0, h = (i = String(i)).length % 3; l < i.length; ) {
          if ((t = i.charCodeAt(l++)) > 255 || (o = i.charCodeAt(l++)) > 255 || (r = i.charCodeAt(l++)) > 255)
            throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");
          e = t << 16 | o << 8 | r, s += n.charAt(e >> 18 & 63) + n.charAt(e >> 12 & 63) + n.charAt(e >> 6 & 63) + n.charAt(63 & e);
        }
        return h ? s.slice(0, h - 3) + "===".substring(h) : s;
      }, a;
    }();
    f.RowState = void 0, (So = f.RowState || (f.RowState = {})).NONE = "none", So.CREATED = "created", So.UPDATED = "updated", So.DELETED = "deleted", So.CREATE_AND_DELETED = "createAndDeleted";
    var Je = function(a) {
      return a == f.RowState.DELETED || a == f.RowState.CREATE_AND_DELETED;
    }, di = function() {
      function a(i) {
        this.format = i;
      }
      return Object.defineProperty(a.prototype, "format", { get: function() {
        return this._format;
      }, set: function(i) {
        i != this._format && (this._format = i, this.parse(i));
      }, enumerable: !1, configurable: !0 }), a.prototype.toBool = function(i) {
        return !!this.toBoolStrict(i);
      }, a.prototype.toBoolEx = function(i) {
        var e = this._sensitive ? i : i.toLowerCase(), t = this.$_toBool(i);
        return t ?? (e ? !!e : void 0);
      }, a.prototype.toBoolStrict = function(i) {
        return this.$_toBool(i);
      }, a.prototype.toText = function(i) {
        return i ? this._trueText : this._falseText;
      }, a.prototype.$_toBool = function(i) {
        if (this._values) {
          var e = this._sensitive ? i : i.toLowerCase();
          if (e in this._values)
            return this._values[e];
        }
      }, a.prototype.parse = function(i) {
        var e = this;
        if (this._values = {}, i) {
          this._trueText = this._falseText = null;
          var t = i.split(/[;\:]/), o = this._sensitive = t[2] != "0", r = t[0] ? o ? t[0].split(",") : t[0].toLowerCase().split(",") : null, n = t[1] ? o ? t[1].split(",") : t[1].toLowerCase().split(",") : null;
          r && r.forEach(function(s) {
            e._values[s] = !1, e._falseText = e._falseText || s;
          }), n && n.forEach(function(s) {
            e._values[s] = !0, e._trueText = e._trueText || s;
          });
        } else
          this._values[this._trueText = "true"] = !0, this._values[this._falseText = "false"] = !1;
      }, a.Default = new a("false,f,0:true,t,1:0"), a;
    }(), ru = function() {
      function a(i) {
        this._format = null, this._baseYear = 2e3, this._patterns = [], this._amText = "AM", this._pmText = "PM", i && (this.format = i);
      }
      return Object.defineProperty(a.prototype, "format", { get: function() {
        return this._format;
      }, set: function(i) {
        if (i != this._format) {
          if (!i)
            throw new Error("Invalid empty date format");
          this._format = i, this.parseFormat(i);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "baseYear", { get: function() {
        return this._baseYear;
      }, set: function(i) {
        i != this._baseYear && (this._baseYear = i);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "amText", { get: function() {
        return this._amText;
      }, set: function(i) {
        i != this._amText && (this._amText = i);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "pmText", { get: function() {
        return this._pmText;
      }, set: function(i) {
        i != this._pmText && (this._pmText = i);
      }, enumerable: !1, configurable: !0 }), a.prototype.parse = function(i, e) {
        try {
          for (var t = 0, o = 1, r = 1, n = 0, s = 0, l = 0, h = 0, u = 0, c = 0, d = this._patterns.length, p = 0, _ = i.length, g = 0; g < d && p < _; g++) {
            var y = this._patterns[g], m = y.c, v = y.len;
            switch (m) {
              case "y":
                t = parseInt(i.substr(p, v));
                break;
              case "M":
                o = parseInt(i.substr(p, v));
                break;
              case "d":
                r = parseInt(i.substr(p, v));
                break;
              case "a":
                if (this._amText && i.indexOf(this._amText, p) == p)
                  u = 12, v = this._amText.length;
                else if (i.substr(p, 2).toLocaleLowerCase() === "am")
                  u = 12, v = 2;
                else if (this._pmText && i.indexOf(this._pmText, p) == p)
                  c = 12, v = this._pmText.length;
                else {
                  if (i.substr(p, 2).toLocaleLowerCase() !== "pm") {
                    if (e)
                      throw "Invalid date value: " + i;
                    return null;
                  }
                  c = 12, v = 2;
                }
                break;
              case "H":
              case "h":
                n = parseInt(i.substr(p, v));
                break;
              case "m":
                s = parseInt(i.substr(p, v));
                break;
              case "s":
                l = parseInt(i.substr(p, v));
                break;
              case "S":
                h = parseInt(i.substr(p, v));
                break;
              case ".":
              case "/":
              case "-":
              case ":":
              case " ":
                if (a.DATE_SEPARATORS.indexOf(i.charAt(p)) < 0) {
                  if (e)
                    throw "Invalid date value: ".concat(i, ", invalid token[").concat(i.charAt(p), "]");
                  return null;
                }
                break;
              default:
                if (e)
                  throw "Invalid date value: ".concat(i, ", invalid pattern[").concat(i.charAt(p), "]");
                return null;
            }
            p += v;
          }
          return t < 100 && (t += this._baseYear), u > 0 ? n == 12 && (n = 0) : c > 0 && n < 12 && (n += 12), new Date(t, o - 1, r, n, s, l, h);
        } catch (C) {
          if (e)
            throw C;
          return null;
        }
      }, a.prototype.parseFormat = function(i) {
        var e = this, t = function(p) {
          p && !isNaN(parseInt(p)) && (e._baseYear = parseInt(p));
        }, o = function(p) {
          if (p) {
            var _ = p.split(",");
            _.length > 0 && _[0] && (e._amText = _[0] || e._amText), _.length > 1 && _[1] && (e._pmText = _[1] || e._pmText);
          }
        }, r = i.split(";");
        if (r.length > 2)
          t(r[1]), o(r[2]);
        else if (r.length > 1) {
          var n = r[1];
          isNaN(parseInt(n)) ? n && o(n) : t(n);
        }
        var s, l, h, u = r[0], c = u.length, d = 0;
        for (this._patterns = []; d < c; )
          if (s = d, l = u.charAt(d), b.isWhiteSpace(l)) {
            for (d++; d < c && b.isWhiteSpace(u.charAt(d)); )
              d++;
            this._patterns.push({ c: " ", p: s, len: d - s });
          } else {
            switch (h = 0, l) {
              case "y":
                (h = this.getPattern(u, d, l)) != 4 && h != 2 && this.throwInvalidFormat(u);
                break;
              case "M":
              case "d":
              case "H":
              case "h":
              case "m":
              case "s":
                (h = this.getPattern(u, d, l)) != 2 && this.throwInvalidFormat(u);
                break;
              case "S":
                (h = this.getPattern(u, d, l)) != 3 && this.throwInvalidFormat(u);
                break;
              case "a":
              case ".":
              case "/":
              case "-":
              case ":":
                (h = this.getPattern(u, d, l)) != 1 && this.throwInvalidFormat(u);
                break;
              default:
                this.throwInvalidFormat(u);
            }
            h > 0 && (this._patterns.push({ c: l, p: d, len: h }), d += h);
          }
      }, a.prototype.throwInvalidFormat = function(i) {
        throw new Error("Invalid date format: " + i);
      }, a.prototype.throwInvalidValue = function(i) {
        throw new Error("Invalid date format: " + i);
      }, a.prototype.getPattern = function(i, e, t) {
        for (var o = 1; ++e < i.length && i.charAt(e) == t; )
          o++;
        return o;
      }, a.DATE_SEPARATORS = "./-: ", a;
    }(), pi = function() {
      function a(i) {
        this._format = "", this._type = 0, this._parser = new ru(null), this.format = i;
      }
      return a.initialize = function() {
        a.Default.amText = "AM", a.Default.pmText = "PM", a.Default.baseYear = 2e3;
      }, a.getReader = function(i) {
        var e = a.Formatters[i];
        return e || (a.Formatters[i] = e = new a(i)), e;
      }, a.getSimpleDateNull = function(i) {
        if (i instanceof Date)
          return i;
        if (typeof i == "number")
          return new Date(i);
        if (typeof i != "string")
          return null;
        var e = (i = i.length === 8 && /^[0-9]*$/.test(i) ? i.replace(/(\d{4})(\d{2})(\d{2})/, "$1/$2/$3") : i).split(/[.//-]/);
        if (e.length != 3)
          return null;
        var t = parseInt(e[0]), o = parseInt(e[1]) - 1, r = parseInt(e[2]);
        return t == (i = new Date(t, o, r)).getFullYear() && o == i.getMonth() && r == i.getDate() ? i : null;
      }, Object.defineProperty(a.prototype, "format", { get: function() {
        return this._format;
      }, set: function(i) {
        i != this._format && (this._format = i, this.parse(i));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "amText", { get: function() {
        return this._parser.amText;
      }, set: function(i) {
        this._parser.amText = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "pmText", { get: function() {
        return this._parser.pmText;
      }, set: function(i) {
        this._parser.pmText = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "baseYear", { get: function() {
        return this._parser.baseYear;
      }, set: function(i) {
        this._parser.baseYear = i;
      }, enumerable: !1, configurable: !0 }), a.prototype.toDate = function(i, e) {
        if (!i)
          return null;
        var t = null;
        switch (this._type) {
          case 0:
            t = this._parser.parse(i, e);
            break;
          case 2:
            var o = parseInt(i);
            t = new Date(o);
            break;
          default:
            t = new Date(i);
        }
        return t && !isNaN(t.getTime()) ? t : null;
      }, a.prototype.parse = function(i) {
        if (i) {
          if (i.indexOf("T") > 0 || i.indexOf("Z") > 0 || /([+\-])(\d\d)?(:)?(\d\d)?$/.test(i))
            this._type = a.Formats.indexOf("iso");
          else {
            var e = i.toLowerCase();
            this._type = Math.max(0, a.Formats.indexOf(e));
          }
          this._type == 0 && (this._parser.format = i);
        }
      }, a.Formats = ["custom", "iso", "timestamp", "platform"], a.Default = new a("yyyy/MM/dd HH:mm:ss"), a.Formatters = {}, a;
    }();
    pi.initialize();
    var nu = 0, J = function() {
      function a(i) {
        this.$_disposed = !1, i || (this.$_hash = nu++);
      }
      return a.prototype.dispose = function() {
        return this.$_disposed || this.$_disposing || (this.$_disposed = !0, this.$_disposing = !0, this._doDispose()), null;
      }, a.prototype._doDispose = function() {
      }, Object.defineProperty(a.prototype, "disposing", { get: function() {
        return this.$_disposing;
      }, enumerable: !1, configurable: !0 }), a.prototype.isMe = function(i) {
        return i == this.$_hash;
      }, a.prototype.$_getters = function(i) {
        for (var e = [], t = Object.getOwnPropertyNames(i), o = 0, r = t.length; o < r; o++) {
          var n = t[o], s = Object.getOwnPropertyDescriptor(i, n);
          s && s.get && e.push(n);
        }
        return e;
      }, a.prototype.doAssignSimple = function(i) {
        return !1;
      }, a.prototype.assignFrom = function(i) {
        var e = Object.getPrototypeOf(this);
        if (i instanceof a)
          for (var t = Object.getPrototypeOf(i), o = {}; t && t.constructor != a; ) {
            for (var r = this.$_getters(t), n = 0, s = r.length; n < s; n++)
              if (!((c = r[n]) in o))
                if (o[c] = null, d = Object.getOwnPropertyDescriptor(e, c))
                  d.set && (u = Object.getOwnPropertyDescriptor(t, c).get) && d.set.call(this, u.call(i));
                else
                  for (var l = Object.getPrototypeOf(e); l; ) {
                    var h = Object.getOwnPropertyDescriptor(l, c);
                    if (h) {
                      var u;
                      h.set && (u = Object.getOwnPropertyDescriptor(t, c).get) && h.set.call(this, u.call(i)), l = null;
                    } else
                      l = Object.getPrototypeOf(l);
                  }
            t = Object.getPrototypeOf(t);
          }
        else if (!this.doAssignSimple(i))
          for (var c in i) {
            var d;
            if (d = Object.getOwnPropertyDescriptor(e, c))
              d.set && d.set.call(this, i[c]);
            else
              for (l = Object.getPrototypeOf(e); l; ) {
                var p = Object.getOwnPropertyDescriptor(l, c);
                p ? (p.set && p.set.call(this, i[c]), l = null) : l = Object.getPrototypeOf(l);
              }
          }
      }, a.prototype.extend = function(i) {
        for (var e in i)
          this.hasOwnProperty(e) && (this[e] = i[e]);
      }, a.prototype.toProxy = function(i) {
        i === void 0 && (i = !0);
        for (var e = {}, t = Object.getPrototypeOf(this), o = []; t && t.constructor != a; ) {
          for (var r = this.$_getters(t), n = 0, s = r.length; n < s; n++) {
            var l = r[n], h = Object.getOwnPropertyDescriptor(t, l);
            if (h) {
              if (h.get && h.set && o.indexOf(l) < 0) {
                o.push(l);
                var u = h.get.call(this);
                (i || u !== void 0) && (e[l] = u);
              }
            } else
              for (var c = Object.getPrototypeOf(t); c; ) {
                var d = Object.getOwnPropertyDescriptor(c, l);
                d ? (d.get && d.set && o.indexOf(l) < 0 && (o.push(l), u = d.get.call(this), (i || u !== void 0) && (e[l] = d.get.call(this))), c = null) : c = Object.getPrototypeOf(c);
              }
          }
          t = Object.getPrototypeOf(t);
        }
        return e;
      }, a;
    }(), Gi = function(a) {
      function i(e, t) {
        var o = a.call(this, e) || this;
        return o.message = e, o.tokenPos = t, o;
      }
      return w(i, a), i;
    }(Error), ie = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t.message = e, t;
      }
      return w(i, a), i;
    }(Error), nr = function() {
      for (var a = [], i = 0; i < arguments.length; i++)
        a[i] = arguments[i];
      for (var e = [], t = 0, o = a; t < o.length; t++)
        e[o[t]] = !0;
      return e;
    }, su = nr(26, 27), au = nr(40, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 41, 42, 43, 44), lu = nr(4, 5, 18, 19), hu = nr(11, 3, 2, 14, 15, 16, 17), uu = function() {
      function a() {
        this.IS_IDENT = [], this.IS_INTEGER = [], this.IS_NUMBER = [], this.IS_WHITE = [], this.IS_END = [], this.QUOTATION = 34, this.SQUOTATION = 39, this.BACKSLASH = 92, this.Keywords = { str: 20, num: 21, bool: 23, not: 13, len: 24, and: 11, in: 12, mod: 15, or: 18, div: 14, shl: 16, shr: 17, xor: 19, trim: 25, is: 26, like: 46, ilike: 48, match: 50, imatch: 52, likehan: 54, ilikehan: 55, defined: 35, null: 34, empty: 36, nan: 37, datestr: 90, year: 91, month: 92, day: 93, hour: 94, rounddown: 95 }, this._procs = null, this._source = null, this._len = 0, this._tokenId = 0, this._run = 0, this._runAhead = 0, this._nextRun = 0, this._lineNo = 0, this._linePos = 0, this._tokenPos = 0;
        for (var i = 0; i < 256; i++)
          this.IS_IDENT[i] = i == 95 || i >= 48 && i <= 57 || i >= 97 && i <= 122 || i >= 65 && i <= 90, this.IS_INTEGER[i] = i >= 48 && i <= 57 || i >= 97 && i <= 102 || i >= 65 && i <= 70, this.IS_NUMBER[i] = i >= 48 && i <= 57 || i == 46 || i == 101 || i == 69, this.IS_WHITE[i] = i >= 1 && i <= 9 || i == 11 || i >= 14 && i <= 32, this.IS_END[i] = i == 0;
        this.initProcs();
      }
      return a.prototype.clear = function() {
        this._source = null;
      }, a.prototype.next = function() {
        var i = this._source.charCodeAt(this._run);
        this._tokenPos = this._run, i < 256 ? this._procs[i].call(this) : this.identProc();
      }, a.prototype.unkownProc = function() {
        this._tokenId = 0, this._run++;
      }, a.prototype.symbolProc = function() {
        this._tokenId = 80, this._run++;
      }, a.prototype.commaProc = function() {
        this._tokenId = 32, this._run++;
      }, a.prototype.crProc = function() {
        this._tokenId = 33, this._source.charCodeAt(this._run + 1) == 10 ? this._run += 2 : this._run++, this._lineNo++, this._linePos = this._run;
      }, a.prototype.lfProc = function() {
        this._tokenId = 33, this._run++, this._lineNo++, this._linePos = this._run;
      }, a.prototype.equalProc = function() {
        this._tokenId = 40, this._run++;
      }, a.prototype.greaterProc = function() {
        this._source.charAt(this._run + 1) == "=" ? (this._tokenId = 42, this._run += 2) : (this._tokenId = 41, this._run++);
      }, a.prototype.lowerProc = function() {
        this._source.charAt(this._run + 1) == "=" ? (this._tokenId = 44, this._run += 2) : this._source.charAt(this._run + 1) == ">" ? (this._tokenId = 45, this._run += 2) : (this._tokenId = 43, this._run++);
      }, a.prototype.nextIdent = function() {
        for (var i = this._run; i < this._len && !this.IS_IDENT[this._source.charCodeAt(i)]; )
          i++;
        for (var e = i; i < this._len && this.IS_IDENT[this._source.charCodeAt(i)]; )
          i++;
        return i > e ? (this._nextRun = i, this._source.substr(e, i - e).toLowerCase()) : null;
      }, a.prototype.identProc = function() {
        for (var i = this._run; this._run < this._len && (this.IS_IDENT[this._source.charCodeAt(this._run)] || this._source.charCodeAt(this._run) > 255); )
          this._run++;
        var e = this._source.substr(i, this._run - i).toLowerCase();
        if (this.Keywords.hasOwnProperty(e))
          switch (this._tokenId = this.Keywords[e], this._tokenId) {
            case 13:
              if (e = this.nextIdent())
                switch (e) {
                  case "like":
                    this._tokenId = 47, this._run = this._nextRun;
                    break;
                  case "ilike":
                    this._tokenId = 49, this._run = this._nextRun;
                    break;
                  case "match":
                    this._tokenId = 51, this._run = this._nextRun;
                    break;
                  case "imatch":
                    this._tokenId = 53, this._run = this._nextRun;
                    break;
                  case "likehan":
                    this._tokenId = 56, this._run = this._nextRun;
                    break;
                  case "ilikehan":
                    this._tokenId = 57, this._run = this._nextRun;
                }
              break;
            case 26:
              (e = this.nextIdent()) == "not" && (this._tokenId = 27, this._run = this._nextRun);
          }
        else
          this._tokenId = 10;
      }, a.prototype.integerProc = function() {
        for (this._tokenId = 64, this._run++; this._run < this._len && this.IS_INTEGER[this._source.charCodeAt(this._run)]; )
          this._run++;
      }, a.prototype.numberProc = function() {
        for (this._tokenId = 64, this._run++; this._run < this._len && this.IS_NUMBER[this._source.charCodeAt(this._run)]; ) {
          if (this._source.charAt(this._run) == ".") {
            if (this._source.charAt(this._run + 1) == ".")
              break;
            this._tokenId = 63;
          }
          this._run++;
        }
      }, a.prototype.minusProc = function() {
        this._tokenId = 4, this._run++;
      }, a.prototype.plusProc = function() {
        this._tokenId = 5, this._run++;
      }, a.prototype.pointProc = function() {
        this._source.charAt(this._run + 1) == "." ? (this._tokenId = 68, this._run += 2) : (this._tokenId = 65, this._run++);
      }, a.prototype.roundOpenProc = function() {
        this._tokenId = 66, this._run++;
      }, a.prototype.roundCloseProc = function() {
        this._tokenId = 67, this._run++;
      }, a.prototype.slashProc = function() {
        this._tokenId = 2, this._run++;
      }, a.prototype.spaceProc = function() {
        for (this._tokenId = 71, this._run++; this._run < this._len && this.IS_WHITE[this._source.charCodeAt(this._run)]; )
          this._run++;
      }, a.prototype.bracketOpenProc = function() {
        this._tokenId = 69, this._run++;
      }, a.prototype.bracketCloseProc = function() {
        this._tokenId = 70, this._run++;
      }, a.prototype.starProc = function() {
        this._tokenId = 3, this._run++;
      }, a.prototype.modProc = function() {
        this._tokenId = 15, this._run++;
      }, a.prototype.stringProc = function() {
        this._tokenId = 61;
        do {
          var i = this._source.charCodeAt(this._run);
          if (this.IS_END[i])
            throw new Gi("Untermintated string", i);
          i == this.BACKSLASH && this._run++, this._run++;
        } while (this._run < this._len && this._source.charCodeAt(this._run) != this.QUOTATION);
        this._run++;
      }, a.prototype.smallStringProc = function() {
        this._tokenId = 61;
        do {
          var i = this._source.charCodeAt(this._run);
          if (this.IS_END[i])
            throw new Gi("Untermintated string", i);
          i == this.BACKSLASH && this._run++, this._run++;
        } while (this._run < this._len && this._source.charCodeAt(this._run) != this.SQUOTATION);
        this._run++;
      }, a.prototype.initProcs = function() {
        this._procs = [];
        for (var i = 1; i <= 255; i++)
          this._procs[i] = this.symbolProc;
        for (i = 1; i <= 32; i++)
          this._procs[i] = this.spaceProc;
        for (this._procs[10] = this.lfProc, this._procs[13] = this.crProc, this._procs[36] = this.integerProc, this._procs[this.QUOTATION] = this.stringProc, this._procs[this.SQUOTATION] = this.smallStringProc, i = 0; i <= 9; i++)
          this._procs[48 + i] = this.numberProc;
        for (i = 65; i <= 90; i++)
          this._procs[i] = this.identProc;
        for (i = 97; i <= 122; i++)
          this._procs[i] = this.identProc;
        this._procs[95] = this.identProc, this._procs[40] = this.roundOpenProc, this._procs[41] = this.roundCloseProc, this._procs[42] = this.starProc, this._procs[43] = this.plusProc, this._procs[44] = this.commaProc, this._procs[45] = this.minusProc, this._procs[46] = this.pointProc, this._procs[47] = this.slashProc, this._procs[37] = this.modProc, this._procs[60] = this.lowerProc, this._procs[61] = this.equalProc, this._procs[62] = this.greaterProc, this._procs[91] = this.bracketOpenProc, this._procs[93] = this.bracketCloseProc;
      }, Object.defineProperty(a.prototype, "tokenId", { get: function() {
        return this._tokenId;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "tokenLoc", { get: function() {
        return { x: this._tokenPos - this._linePos, y: this._lineNo };
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "tokenLen", { get: function() {
        return this._run - this._tokenPos;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "token", { get: function() {
        return this._source.substr(this._tokenPos, this.tokenLen);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "isSpace", { get: function() {
        return this._tokenId == 71;
      }, enumerable: !1, configurable: !0 }), a.prototype.init = function(i) {
        this._source = i, this._len = i.length, this._lineNo = 0, this._linePos = 0, this._tokenPos = 0, this._runAhead = this._run = 0, this._tokenId = 0;
      }, a.prototype.charAhread = function() {
        for (this._runAhead = this._run; this._runAhead < this._len && this._source.charCodeAt(this._runAhead) > 0 && this._source.charCodeAt(this._runAhead) <= 32; )
          this._runAhead++;
        return this._source.charCodeAt(this._runAhead);
      }, a.prototype.nextId = function(i) {
        do
          this.next();
        while (this._run < this._len && this._tokenId != i);
        return null;
      }, a.prototype.nextNoSpace = function() {
        if (this._run < this._len)
          do
            this.next();
          while (this._run < this._len && this.isSpace);
        return null;
      }, a.prototype.isFirstInLine = function() {
        if (this._tokenPos == 0)
          return !0;
        var i, e = this._tokenPos;
        for (e--; e > 0 && this.IS_WHITE[this._source.charCodeAt(e)]; )
          e--;
        return e == 0 || (i = this._source.charCodeAt(e)) == 10 || i == 13;
      }, a;
    }(), bt = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype.isIdentifier = function(e) {
        throw new Error("Token is not a valid Identifier: " + e);
      }, i.prototype.evaluateIdentifier = function(e) {
        throw new Error("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        throw new Error("Invalid identifier indexer: " + e);
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        throw new Error("Invalid identifier indexer: " + e);
      }, i;
    }(J), Qt = function() {
      function a() {
      }
      return Object.defineProperty(a.prototype, "value", { get: function() {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "asLiteral", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), a.prototype.prepareValue = function() {
      }, a.prototype.getLiteral = function() {
      }, a.prototype.isIdentifier = function(i) {
        return !1;
      }, a.prototype.toString = function() {
        return String(this);
      }, a;
    }(), ot = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i;
    }(Qt);
    (function(a) {
      function i() {
        return a.call(this) || this;
      }
      w(i, a), i.prototype.evaluate = function(e) {
      }, i.prototype.toString = function() {
        return "";
      }, i.Default = new i();
    })(Qt);
    var _n, sr = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._operator = 0, e;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        if (this._literal)
          return this._literal.value;
        if (!this._rightExpr)
          return this._leftExpr.evaluate(e);
        var t = this._leftExpr.evaluate(e), o = this._rightExpr.evaluate(e);
        switch (this._operator) {
          case 40:
            return t == o;
          case 45:
            return t != o;
          case 41:
            return t > o;
          case 42:
            return t >= o;
          case 43:
            return t < o;
          case 44:
            return t <= o;
          case 46:
            return this.calcLike(t, o, !1);
          case 47:
            return !this.calcLike(t, o, !1);
          case 48:
            return this.calcLike(t, o, !0);
          case 49:
            return !this.calcLike(t, o, !0);
          case 54:
            return this.calcLikeHan(t, o, !1);
          case 56:
            return !this.calcLikeHan(t, o, !1);
          case 55:
            return this.calcLikeHan(t, o, !0);
          case 57:
            return !this.calcLikeHan(t, o, !0);
          case 50:
            return this.calcMatch(t, o, !1);
          case 51:
            return !this.calcMatch(t, o, !1);
          case 52:
            return this.calcMatch(t, o, !0);
          case 53:
            return !this.calcMatch(t, o, !0);
          default:
            throw new ie("Unknown operator: " + this._operator);
        }
      }, i.prototype.toString = function() {
        var e = "";
        if (this._literal)
          e = this._literal.toString();
        else if (this._rightExpr) {
          var t = this._leftExpr.toString(), o = this._rightExpr.toString(), r = void 0;
          switch (this._operator) {
            case 40:
              r = "=";
              break;
            case 45:
              r = "<>";
              break;
            case 41:
              r = ">";
              break;
            case 42:
              r = ">=";
              break;
            case 43:
              r = "<";
              break;
            case 44:
              r = "<=";
              break;
            case 46:
              r = "like";
              break;
            case 47:
              r = "not like";
              break;
            case 48:
              r = "ilike";
              break;
            case 49:
              r = "not ilike";
              break;
            case 50:
              r = "match";
              break;
            case 51:
              r = "not match";
              break;
            case 52:
              r = "imatch";
              break;
            case 53:
              r = "not imatch";
              break;
            case 54:
              r = "likeHan";
              break;
            case 56:
              r = "not likehan";
              break;
            case 55:
              r = "ilikeHan";
              break;
            case 57:
              r = "not ilikehan";
              break;
            case 32:
              r = ",";
              break;
            default:
              r = "<<ERROR>>";
          }
          e = "(" + t + " " + r + " " + o + ")";
        } else
          e = this._leftExpr.toString();
        return e;
      }, i.prototype.isIdentifier = function(e) {
        return this._leftExpr && !this._rightExpr && this._leftExpr.isIdentifier(e);
      }, i.prototype.prepareValue = function() {
        this._leftExpr.prepareValue(), this._rightExpr == null ? this._literal = this._leftExpr.getLiteral() : this._rightExpr.prepareValue();
      }, i.prototype.getLiteral = function() {
        return this._literal;
      }, i.prototype.calcLike = function(e, t, o) {
        var r = String(e), n = String(t);
        if (r && n) {
          o && (r = r.toLowerCase(), n = n.toLowerCase());
          var s = n.length;
          if (s > 1) {
            var l = n.charAt(0) == "%", h = n.charAt(s - 1) == "%";
            return l && h ? (n = n.substr(1, s - 2), r.indexOf(n, 0) >= 0) : l ? (n = n.substr(1, s - 1), r.lastIndexOf(n) == r.length - n.length) : h ? (n = n.substr(0, s - 1), r.indexOf(n, 0) == 0) : r == n;
          }
          return n != "%" && r == n;
        }
        return !1;
      }, i.prototype.calcLikeHan = function(e, t, o) {
        if (e && t) {
          e = String(e);
          var r = (t = String(t)).length, n = t.charAt(0) == "%", s = t.charAt(r - 1) == "%";
          if (t = n && s ? t.substr(1, r - 2) : n ? t.substr(1, r - 1) : s ? t.substr(0, r - 1) : t, e.length < t.length)
            return;
          o && (e = e.toLowerCase(), t = t.toLowerCase());
          var l = b.hangulToChosungAll(e), h = b.hangulToChosungAll(t), u = -1, c = void 0;
          if (n && s) {
            for (; (u = l.indexOf(h, u + 1)) >= 0; ) {
              for (var d = 0; d < h.length && d + u < l.length; d++) {
                var p = b.hangulToChosung(e[d + u]);
                if ((_ = b.hangulToChosung(t[d])).org && _.org !== p.org || !_.cho || _.cho !== p.cho) {
                  c = !1;
                  break;
                }
                c = !0;
              }
              if (c)
                return !0;
            }
            return !1;
          }
          if (n) {
            if ((u = l.lastIndexOf(h)) === l.length - h.length) {
              for (d = 0; d < h.length; d++) {
                if (p = b.hangulToChosung(e[u + d]), (_ = b.hangulToChosung(t[d])).org && _.org !== p.org || !_.cho || _.cho !== p.cho) {
                  c = !1;
                  break;
                }
                c = !0;
              }
              if (c)
                return !0;
            }
            return !1;
          }
          if (s) {
            if (l.indexOf(h) === 0) {
              for (d = 0; d < h.length; d++) {
                var _;
                if (p = b.hangulToChosung(e[d]), (_ = b.hangulToChosung(t[d])).org && _.org !== p.org || !_.cho || _.cho !== p.cho) {
                  c = !1;
                  break;
                }
                c = !0;
              }
              if (c)
                return !0;
            }
            return !1;
          }
          return e == t;
        }
        return !1;
      }, i.prototype.calcMatch = function(e, t, o) {
        return new RegExp(t, "m" + (o ? "i" : "")).test(e);
      }, i;
    }(Qt), Oo = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "value", { get: function() {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "asLiteral", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), i.prototype.evaluate = function(e) {
      }, i;
    }(Qt), ea = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.toString = function() {
        return "defined";
      }, i;
    }(Oo), ta = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.toString = function() {
        return "empty";
      }, i;
    }(Oo), ia = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "value", { get: function() {
        return NaN;
      }, enumerable: !1, configurable: !0 }), i.prototype.toString = function() {
        return "null";
      }, i;
    }(Oo), oa = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.toString = function() {
        return "NaN";
      }, i;
    }(Oo), cu = function(a) {
      function i(e, t, o) {
        var r = a.call(this) || this;
        return r._leftExpr = e, r._operator = t, r._isNot = t == 27, r._value = -1, o instanceof ea ? r._value = i.DEFINED : o instanceof ia ? r._value = i.NULL : o instanceof ta ? r._value = i.EMPTY : o instanceof oa && (r._value = i.NAN), r;
      }
      return w(i, a), i.prototype.prepareValue = function() {
        this._leftExpr.prepareValue(), this._literal = this._leftExpr.getLiteral();
      }, i.prototype.getLiteral = function() {
        return null;
      }, i.prototype.evaluate = function(e) {
        var t, o = this._literal ? this._literal.value : this._leftExpr.evaluate(e);
        switch (this._value) {
          case i.DEFINED:
            t = o !== void 0;
            break;
          case i.NULL:
            t = o == null;
            break;
          case i.EMPTY:
            t = o == null || String(o).length == 0;
            break;
          case i.NAN:
            t = o === null || isNaN(o);
            break;
          default:
            return;
        }
        return this._isNot ? !t : t;
      }, i.prototype.toString = function() {
        var e = "<<ERROR>>";
        switch (this._value) {
          case i.DEFINED:
            e = "defined";
            break;
          case i.NULL:
            e = "null";
            break;
          case i.EMPTY:
            e = "empty";
            break;
          case i.NAN:
            e = "NaN";
        }
        return "(" + (this._isNot ? "is not " : "is ") + e + ")";
      }, i.DEFINED = 0, i.NULL = 1, i.EMPTY = 2, i.NAN = 3, i;
    }(sr), du = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._value = Number(e), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "value", { get: function() {
        return this._value;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "asLiteral", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), i.prototype.evaluate = function(e) {
        return this._value;
      }, i.prototype.toString = function() {
        return String(this._value);
      }, i;
    }(ot), pu = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._value = parseInt(e), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "value", { get: function() {
        return this._value;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "asLiteral", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), i.prototype.evaluate = function(e) {
        return this._value;
      }, i.prototype.toString = function() {
        return String(this._value);
      }, i;
    }(ot), fu = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        t._value = e.substr(1, e.length - 2);
        for (var o = "", r = 0, n = !1; r < t._value.length; )
          t._value[r] != "\\" || n ? (n = !1, o += t._value[r++]) : (n = !0, r++);
        return t._value = o, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "value", { get: function() {
        return this._value;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "asLiteral", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), i.prototype.evaluate = function(e) {
        return this._value;
      }, i.prototype.toString = function() {
        return "'" + this._value + "'";
      }, i;
    }(ot), ra = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._idKey = -651212, t._literal = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "identifier", { get: function() {
        return this._literal;
      }, enumerable: !1, configurable: !0 }), i.prototype.evaluate = function(e) {
        return this._idKey == -651212 && (this._idKey = e.isIdentifier(this._literal)), e.evaluateIdentifier(this._idKey);
      }, i.prototype.toString = function() {
        return this._literal;
      }, i;
    }(Qt), _u = function(a) {
      function i(e, t, o) {
        var r = a.call(this) || this;
        return r._idKey = -1490313, r._intIndex = NaN, r._strIndex = null, r._ident = e, r._indexer = t, r._capital = o, r;
      }
      return w(i, a), i.prototype.prepareValue = function() {
        var e = this._indexer.asLiteral;
        if (e || this._indexer instanceof sr && (this._indexer.prepareValue(), e = this._indexer.getLiteral()), e) {
          var t = e.value;
          typeof t == "string" ? this._strIndex = t : this._intIndex = parseInt(t), this._capital && this._strIndex && (this._strIndex = this._strIndex.toUpperCase());
        }
      }, i.prototype.getLiteral = function() {
        return null;
      }, i.prototype.evaluate = function(e) {
        if (this._idKey == -1490313 && (this._idKey = e.isIdentifier(this._ident)), this._strIndex)
          return e.evaluateIndexerS(this._idKey, this._strIndex, this._capital);
        if (isNaN(this._intIndex)) {
          var t = this._indexer.evaluate(e);
          return typeof t == "string" ? e.evaluateIndexerS(this._idKey, t, this._capital) : e.evaluateIndexerI(this._idKey, t);
        }
        return e.evaluateIndexerI(this._idKey, this._intIndex);
      }, i.prototype.toString = function() {
        return this._ident + "[" + this._indexer.toString() + "]";
      }, i;
    }(sr), vt = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._factor = e, t;
      }
      return w(i, a), i.prototype.prepareValue = function() {
        this._literal = this._factor.asLiteral, !this._literal && this._factor instanceof Qt && (this._factor.prepareValue(), this._literal = this._factor.getLiteral());
      }, i.prototype.getLiteral = function() {
        return null;
      }, i;
    }(Qt), gu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        return t ? t.length : 0;
      }, i.prototype.toString = function() {
        return "(len " + this._factor + ")";
      }, i;
    }(vt), yu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        return t && t.trim();
      }, i.prototype.toString = function() {
        return "(trim " + this._factor + ")";
      }, i;
    }(vt), mu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        return -(this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e));
      }, i.prototype.toString = function() {
        return "-" + this._factor;
      }, i;
    }(vt), bu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        return this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
      }, i.prototype.toString = function() {
        return "+" + this._factor;
      }, i;
    }(vt), vu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        return !(this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e));
      }, i.prototype.toString = function() {
        return "(not " + this._factor + ")";
      }, i;
    }(vt), wu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        return !!t;
      }, i.prototype.toString = function() {
        return "(bool " + this._factor + ")";
      }, i;
    }(vt), Cu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        return Number(t);
      }, i.prototype.toString = function() {
        return "(num " + this._factor + ")";
      }, i;
    }(vt), xu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        return String(t);
      }, i.prototype.toString = function() {
        return "(str " + this._factor + ")";
      }, i;
    }(vt), Iu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        if (t instanceof Date) {
          var o = b.pad;
          t = o(t.getFullYear(), 4) + o(t.getMonth() + 1, 2) + o(t.getDate(), 2);
        }
        return String(t);
      }, i.prototype.toString = function() {
        return "(datestr " + this._factor + ")";
      }, i;
    }(vt), Su = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        return t instanceof Date ? t.getFullYear() : null;
      }, i.prototype.toString = function() {
        return "(year " + this._factor + ")";
      }, i;
    }(vt), Eu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        return t instanceof Date ? t.getMonth() + 1 : null;
      }, i.prototype.toString = function() {
        return "(month " + this._factor + ")";
      }, i;
    }(vt), Ou = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        return t instanceof Date ? t.getDate() : null;
      }, i.prototype.toString = function() {
        return "(day " + this._factor + ")";
      }, i;
    }(vt), Ru = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._literal instanceof ot ? this._literal.value : this._factor.evaluate(e);
        return t instanceof Date ? t.getHours() : null;
      }, i.prototype.toString = function() {
        return "(hour " + this._factor + ")";
      }, i;
    }(vt), Pu = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.evaluate = function(e) {
        var t = this._factor, o = t.getLiteral();
        if (t.getLiteral())
          return o.value;
        if (t._rightExpr) {
          var r = t._leftExpr.evaluate(e), n = t._rightExpr.evaluate(e);
          if (t._operator === 32) {
            var s = Math.pow(10, n);
            return Math.floor(r * s) / s;
          }
          throw new ie("Unknown operator: " + t._operator);
        }
        return t._leftExpr.evaluate(e);
      }, i.prototype.toString = function() {
        return "(rounddown " + this._factor + ")";
      }, i;
    }(vt), ku = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._factors = [], e._operators = [], e._literal = null, e;
      }
      return w(i, a), i.prototype.addFactor = function(e) {
        this._factors.push(e);
      }, i.prototype.addOperator = function(e) {
        this._operators.push(e);
      }, i.prototype.isIdentifier = function(e) {
        return this._factors.length == 1 && this._factors[0] instanceof ra && this._factors[0].identifier == e;
      }, i.prototype.prepareValue = function() {
        for (var e = 0, t = this._factors.length; e < t; e++)
          this._factors[e].prepareValue();
        if (this._operators.length == 0) {
          var o = this._factors[0];
          this._literal = o.asLiteral, this._literal || (this._literal = o.getLiteral());
        }
      }, i.prototype.getLiteral = function() {
        return this._literal;
      }, i.prototype.evaluate = function(e) {
        if (this._literal)
          return this._literal.value;
        for (var t = this._factors.length, o = this._factors[0].evaluate(e), r = 1; r < t; r++) {
          var n = this._factors[r].evaluate(e);
          switch (this._operators[r - 1]) {
            case 11:
              o = o && n;
              break;
            case 3:
              o *= n;
              break;
            case 2:
              o /= n;
              break;
            case 14:
              o = Math.floor(Math.floor(o) / Math.floor(n));
              break;
            case 15:
              o %= n;
              break;
            case 16:
              o <<= n;
              break;
            case 17:
              o >>= n;
          }
        }
        return o;
      }, i.prototype.toString = function() {
        var e = "";
        if (this._literal)
          e = this._literal.toString();
        else if (this._factors.length == 1)
          e = this._factors[0].toString();
        else {
          e = "(" + this._factors[0].toString();
          for (var t = 1; t < this._factors.length; t++) {
            switch (this._operators[t - 1]) {
              case 11:
                e += " and ";
                break;
              case 3:
                e += " * ";
                break;
              case 2:
              case 14:
                e += " / ";
                break;
              case 15:
                e += " mod ";
                break;
              case 16:
                e += " shl ";
                break;
              case 17:
                e += " shr ";
            }
            e += this._factors[t].toString();
          }
          e += ")";
        }
        return e;
      }, i;
    }(Qt), Tu = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._terms = [], e._operators = [], e._literal = null, e;
      }
      return w(i, a), i.prototype.addTerm = function(e) {
        this._terms.push(e);
      }, i.prototype.addOperator = function(e) {
        this._operators.push(e);
      }, i.prototype.isIdentifier = function(e) {
        return this._terms.length == 1 && this._terms[0].isIdentifier(e);
      }, i.prototype.prepareValue = function() {
        for (var e = 0, t = this._terms.length; e < t; e++)
          this._terms[e].prepareValue();
        this._operators.length == 0 && (this._literal = this._terms[0].getLiteral());
      }, i.prototype.getLiteral = function() {
        return this._literal;
      }, i.prototype.evaluate = function(e) {
        if (this._literal)
          return this._literal.value;
        for (var t = this._terms.length, o = this._terms[0].evaluate(e), r = 1; r < t; r++) {
          var n = this._terms[r].evaluate(e);
          switch (this._operators[r - 1]) {
            case 4:
              o -= n;
              break;
            case 5:
              o += n;
              break;
            case 18:
              o = o || n;
              break;
            case 19:
              o ^= n;
          }
        }
        return o;
      }, i.prototype.toString = function() {
        var e = "";
        if (this._literal)
          e = this._literal.toString();
        else if (this._terms.length == 1)
          e = this._terms[0].toString();
        else {
          e = "(" + this._terms[0].toString();
          for (var t = 1; t < this._terms.length; t++) {
            switch (this._operators[t - 1]) {
              case 4:
                e += " - ";
                break;
              case 5:
                e += " + ";
                break;
              case 18:
                e += " or ";
                break;
              case 19:
                e += " xor ";
                break;
              default:
                e += " <<ERROR>> ";
            }
            e += this._terms[t].toString();
          }
          e += ")";
        }
        return e;
      }, i;
    }(Qt), Mt = function() {
      function a() {
        this._node = null, this._capitalIndexers = null, this._lexer = new uu();
      }
      return a.prototype.syntaxError = function(i, e) {
        throw new Gi(i, e);
      }, a.prototype.expected = function(i) {
        if (i != this._lexer.tokenId)
          throw new Gi("Token is not a expected kind [" + i + "]: " + this._lexer.tokenId, this._lexer.tokenLoc);
        this.nextToken();
      }, a.prototype.nextToken = function() {
        this._lexer.nextNoSpace();
      }, a.prototype.doExpression = function() {
        var i, e = null, t = this.doSimpleExpression();
        if (su[i = this._lexer.tokenId]) {
          this.nextToken();
          var o = this.doSimpleExpression();
          o.prepareValue();
          var r = o.getLiteral();
          if (!(r instanceof Oo))
            throw new Gi("is operator's operand must be defined, null or empty: " + this._lexer.tokenId, null);
          e = new cu(t, i, r);
        } else
          (e = new sr())._leftExpr = t, (au[this._lexer.tokenId] || this._lexer.tokenId == 32) && (e._operator = this._lexer.tokenId, this.nextToken(), e._rightExpr = this.doSimpleExpression());
        return e;
      }, a.prototype.doSimpleExpression = function() {
        var i = new Tu();
        for (i.addTerm(this.doTerm()); lu[this._lexer.tokenId]; )
          i.addOperator(this._lexer.tokenId), this.nextToken(), i.addTerm(this.doTerm());
        return i;
      }, a.prototype.doTerm = function() {
        var i = new ku();
        for (i.addFactor(this.doFactor()); hu[this._lexer.tokenId]; )
          i.addOperator(this._lexer.tokenId), this.nextToken(), i.addFactor(this.doFactor());
        return i;
      }, a.prototype.doFactor = function() {
        var i = this._lexer.tokenId;
        switch (i) {
          case 61:
            return this.doCharString();
          case 66:
            return this.doRoundOpen();
          case 10:
            return this.doIdentifier();
          case 64:
            return this.doInteger();
          case 63:
            return this.doNumber();
          case 4:
            return this.doMinus();
          case 5:
            return this.doPlus();
          case 13:
            return this.doNot();
          case 35:
            return this.doDefined();
          case 34:
            return this.doNull();
          case 36:
            return this.doEmpty();
          case 37:
            return this.doNaN();
          case 23:
            return this.doToBool();
          case 21:
            return this.doToNumber();
          case 20:
            return this.doToString();
          case 24:
            return this.doLength();
          case 25:
            return this.doTrim();
          case 90:
            return this.doToDateString();
          case 91:
            return this.doToYear();
          case 92:
            return this.doToMonth();
          case 93:
            return this.doToDay();
          case 94:
            return this.doToHour();
          case 95:
            return this.doRoundDown();
        }
        throw new Gi("Unkown token: " + i, this._lexer.tokenLoc);
      }, a.prototype.doCharString = function() {
        var i = this._lexer.token;
        return this.nextToken(), new fu(i);
      }, a.prototype.doRoundOpen = function() {
        this.nextToken();
        var i = this.doExpression();
        return this.expected(67), i;
      }, a.prototype.doIdentifier = function() {
        var i = this._lexer.token;
        if (this.nextToken(), this._lexer.tokenId == 69) {
          this.nextToken();
          var e = this.doExpression();
          return this.expected(70), new _u(i, e, this._capitalIndexers.indexOf(i) >= 0);
        }
        return new ra(i);
      }, a.prototype.doNumber = function() {
        var i = this._lexer.token;
        return this.nextToken(), new du(i);
      }, a.prototype.doInteger = function() {
        var i = this._lexer.token;
        return this.nextToken(), new pu(i);
      }, a.prototype.doMinus = function() {
        return this.nextToken(), new mu(this.doFactor());
      }, a.prototype.doPlus = function() {
        return this.nextToken(), new bu(this.doFactor());
      }, a.prototype.doNot = function() {
        return this.nextToken(), new vu(this.doFactor());
      }, a.prototype.doDefined = function() {
        return this.nextToken(), new ea();
      }, a.prototype.doNull = function() {
        return this.nextToken(), new ia();
      }, a.prototype.doEmpty = function() {
        return this.nextToken(), new ta();
      }, a.prototype.doNaN = function() {
        return this.nextToken(), new oa();
      }, a.prototype.doToBool = function() {
        return this.nextToken(), new wu(this.doFactor());
      }, a.prototype.doToNumber = function() {
        return this.nextToken(), new Cu(this.doFactor());
      }, a.prototype.doToString = function() {
        return this.nextToken(), new xu(this.doFactor());
      }, a.prototype.doLength = function() {
        return this.nextToken(), new gu(this.doFactor());
      }, a.prototype.doTrim = function() {
        return this.nextToken(), new yu(this.doFactor());
      }, a.prototype.doToDateString = function() {
        return this.nextToken(), new Iu(this.doFactor());
      }, a.prototype.doToYear = function() {
        return this.nextToken(), new Su(this.doFactor());
      }, a.prototype.doToMonth = function() {
        return this.nextToken(), new Eu(this.doFactor());
      }, a.prototype.doToDay = function() {
        return this.nextToken(), new Ou(this.doFactor());
      }, a.prototype.doToHour = function() {
        return this.nextToken(), new Ru(this.doFactor());
      }, a.prototype.doRoundDown = function() {
        return this.nextToken(), new Pu(this.doFactor());
      }, a.prototype.parse = function(i, e) {
        if (i) {
          this._capitalIndexers = e || [], this._lexer.init(i), this.nextToken();
          var t = this.doExpression();
          return t && t.prepareValue(), this._lexer.clear(), this._capitalIndexers = null, t;
        }
        return null;
      }, a.prototype.evaluate = function(i, e, t) {
        return this.parse(i, t).evaluate(e);
      }, a.Default = new a(), a;
    }(), Du = ["value", "values"], na = function(a) {
      function i(e, t, o) {
        t === void 0 && (t = f.ValueType.TEXT), o === void 0 && (o = 0);
        var r = a.call(this) || this;
        return r._index = -1, r._dataType = f.ValueType.TEXT, r._subType = null, r._runType = f.ValueType.TEXT, r._length = 0, r._subTypeEnabled = !0, r._required = !1, r._updatable = !0, r._ranged = !1, r._runSet = null, r._typeLock = !1, r._objectKey = null, r._objectCallback = null, e && (r.fieldName = e), t != null && (t === f.ValueType.DATE && (t = f.ValueType.DATETIME, r._subType = f.ValueType.DATE, r._subTypeEnabled = !0), r._dataType = t), r._length = o, r;
      }
      return w(i, a), Object.defineProperty(i.prototype, "hash", { get: function() {
        return this._fieldName;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        return this._index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fieldName", { get: function() {
        return this._fieldName;
      }, set: function(e) {
        if (!(e = e && e.trim()))
          throw new Error("Field name must be exists.");
        e != this._orgFieldName && (this._orgFieldName = e, this._orgAttrName = "@" + e, this._fieldName = e.toUpperCase(), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "orgFieldName", { get: function() {
        return this._orgFieldName;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "orgAttrName", { get: function() {
        return this._orgAttrName;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataType", { get: function() {
        return this._dataType;
      }, set: function(e) {
        e != this._dataType && (this._dataType = e, this.resetTypes(), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "runType", { get: function() {
        return this._runType;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "subType", { get: function() {
        return this._subType;
      }, set: function(e) {
        (e = e || null) != this._subType && (this._subType = e, this.resetTypes(), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "subTypeEnabled", { get: function() {
        return this._subTypeEnabled;
      }, set: function(e) {
        e != this._subTypeEnabled && (this._subTypeEnabled = e, this.resetTypes(), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "baseField", { get: function() {
        return this._baseField;
      }, set: function(e) {
        e != this._orgBaseField && (this._orgBaseField = e, this._baseField = e && e.toUpperCase(), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "length", { get: function() {
        return this._length;
      }, set: function(e) {
        (e = e || 0) != this._length && (this._length = e, this.resetTypes(), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "set", { get: function() {
        return this._set;
      }, set: function(e) {
        e !== this._set && (this._set = e, this.resetTypes(), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minimum", { get: function() {
        return this._minimum;
      }, set: function(e) {
        e != this._minimum && (this._minimum = e, this.resetTypes(), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maximum", { get: function() {
        return this._maximum;
      }, set: function(e) {
        e != this._maximum && (this._maximum = e, this.resetTypes(), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "required", { get: function() {
        return this._required;
      }, set: function(e) {
        e != this._required && (this._required = e, this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "header", { get: function() {
        return this._header;
      }, set: function(e) {
        e != this._header && (this._header = e, this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "defaultValue", { get: function() {
        return this._defaultValue;
      }, set: function(e) {
        e != this._defaultValue && (this._defaultValue = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "nullValue", { get: function() {
        return this._nullValue;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        e != this._booleanFormat && (this._booleanFormat = e, this._boolParser = e ? new di(e) : null, this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeFormat", { get: function() {
        return this._datetimeFormat;
      }, set: function(e) {
        e != this._datetimeFormat && (this._datetimeFormat = e, e ? (this._dateParser = new pi(e), this._amText && (this._dateParser.amText = this._amText), this._pmText && (this._dateParser.pmText = this._pmText), this._baseYear && (this._dateParser.baseYear = this._baseYear)) : this._dateParser = null, this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "amText", { get: function() {
        return this._amText;
      }, set: function(e) {
        e != this._amText && (this._amText = e, this._dateParser && (this._dateParser.amText = e), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pmText", { get: function() {
        return this._pmText;
      }, set: function(e) {
        e != this._pmText && (this._pmText = e, this._dateParser && (this._dateParser.pmText = e), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "baseYear", { get: function() {
        return this._baseYear;
      }, set: function(e) {
        e != this._baseYear && (this._baseYear = e, this._dateParser && (this._dateParser.baseYear = e), this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueExpression", { get: function() {
        return this._valueExpression;
      }, set: function(e) {
        e != this._valueExpression && (this._valueExpression = e, this._owner && this._owner.updateField(this, !0));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueCallback", { get: function() {
        return this._valueCallback;
      }, set: function(e) {
        e != this._valueCallback && (this._valueCallback = e, this._owner && this._owner.updateField(this, !0));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tag", { get: function() {
        return this._tag;
      }, set: function(e) {
        this._tag = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "objectKey", { get: function() {
        return this._objectKey;
      }, set: function(e) {
        this._objectKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "objectCallback", { get: function() {
        return this._objectCallback;
      }, set: function(e) {
        this._objectCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "calculated", { get: function() {
        return !!this._valueExpression || !!this._valueCallback;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "updatable", { get: function() {
        return !this._valueExpression && !this._valueCallback && this._updatable;
      }, set: function(e) {
        e != this._updatable && (this._updatable = e);
      }, enumerable: !1, configurable: !0 }), i.prototype.isEmpty = function(e) {
        var t = e == null || e === "";
        return t || this._dataType != f.ValueType.NUMBER || (t = isNaN(e)), t;
      }, i.prototype.equalValues = function(e, t) {
        return this._equalValues(e, t);
      }, i.prototype.sameValues = function(e, t) {
        return this._sameValues(e, t);
      }, i.prototype.readValue = function(e) {
        return this._readValue(e);
      }, i.prototype.getBool = function(e, t) {
        return typeof t == "boolean" ? t : this._boolParser ? this._boolParser.toBool(t) : e.toBool(t);
      }, i.prototype.getDate = function(e, t) {
        return t instanceof Date ? new Date(t.getTime()) : typeof t == "number" ? new Date(t) : this._dateParser ? this._dateParser.toDate(t, !1) : e.toDate(t, !1);
      }, i.prototype.clone = function() {
        var e = new i(this.fieldName, this.dataType, this.length);
        return e._orgFieldName = this._orgFieldName, e._orgAttrName = this._orgAttrName, e._boolParser = this._boolParser, e._dateParser = this._dateParser, e._orgBaseField = this._orgBaseField, e._baseField = this._baseField, e._defaultValue = this._defaultValue, e._valueCallback = this._valueCallback, e._valueExpression = this._valueExpression, e;
      }, i.prototype.$_resetTypes = function(e) {
        this.resetTypes(e);
      }, i.prototype.assignFrom = function(e) {
        "fieldName" in e && (this.fieldName = e.fieldName), "subType" in e && (this._subType = e.subType), "set" in e && (this._set = e.set instanceof Array ? e.set.slice() : null), "defaultValue" in e && (this._defaultValue = e.defaultValue), "baseField" in e && (this.baseField = e.baseField), "booleanFormat" in e && (this.booleanFormat = e.booleanFormat), "amText" in e && (this._amText = e.amText), "pmText" in e && (this._pmText = e.pmText), "baseYear" in e && (this._baseYear = e.baseYear), "header" in e && (this._header = e.header), "datetimeFormat" in e && (this.datetimeFormat = e.datetimeFormat), "objectKey" in e && (this._objectKey = e.objectKey), "objectCallback" in e && (this._objectCallback = e.objectCallback), "required" in e && (this._required = e.required), "minimum" in e && (this._minimum = e.minimum), "maximum" in e && (this._maximum = e.maximum), "valueExpression" in e && (this.valueExpression = e.valueExpression), "valueCallback" in e && (this._valueCallback = e.valueCallback), "tag" in e && (this._tag = e.tag);
      }, i.prototype.$_setIndex = function(e) {
        this._index = e;
      }, i.prototype.$_prepare = function(e) {
        this._owner = e;
      }, i.prototype.changed = function() {
      }, i.prototype.resetTypes = function(e) {
        if (!this._typeLock) {
          e && (this._ownerBoolParser = e.boolParser, this._ownerDateParser = e.dateParser);
          var t = this._dataType, o = this._subType;
          if (this._runType = t, this._ranged = !1, (!this._owner || this._owner.subTypeEnabled) && this._subTypeEnabled) {
            if (o)
              switch (t) {
                case f.ValueType.TEXT:
                  o == f.ValueType.CHAR && this._length > 0 && (t = o);
                  break;
                case f.ValueType.NUMBER:
                  o != f.ValueType.UNUM && o != f.ValueType.INT && o != f.ValueType.UINT || (t = o);
                  break;
                case f.ValueType.DATETIME:
                  o == f.ValueType.DATE && (t = o);
              }
            if (this._runType = t, this._runSet = null, this._set && this._set.length) {
              if (this._runType == f.ValueType.DATETIME) {
                this._runSet = [];
                for (var r = 0; r < this._set.length; r++)
                  (n = this.getDate(this._ownerDateParser, this._set[r])) && this._runSet.push(n.getTime());
                this._runSet.length < 1 && (this._runSet = null);
              } else if (this._runType == f.ValueType.DATE) {
                for (this._runSet = [], r = 0; r < this._set.length; r++) {
                  var n;
                  if (n = this.getDate(this._ownerDateParser, this._set[r])) {
                    var s = new Date(n.getDate());
                    this._runSet.push(s.setHours(0, 0, 0, 0));
                  }
                }
                this._runSet.length < 1 && (this._runSet = null);
              } else
                this._runSet = this._set;
              this._ranged = !0;
            }
            if (!this._ranged)
              switch (this._dataType) {
                case f.ValueType.NUMBER:
                  this._runMin = Number(this._minimum), this._runMax = Number(this._maximum), isNaN(this._runMin) || isNaN(this._runMax) ? this._ranged = !isNaN(this._runMin) || !isNaN(this._runMax) : this._ranged = this._runMin <= this._runMax;
                  break;
                case f.ValueType.DATETIME:
                case f.ValueType.DATE:
                  this._runMin = this.getDate(this._ownerDateParser, this._minimum), this._runMax = this.getDate(this._ownerDateParser, this._maximum), this._runMin && this._runMax ? this._ranged = this._runMin.getTime() <= this._runMax.getTime() : this._ranged = this._runMin || this._runMax;
              }
            switch (this._runType) {
              case f.ValueType.TEXT:
                this._equalValues = this.equalTextValues, this._sameValues = this.sameTextValues, this._readValue = this.readTextValue, this._nullValue = null;
                break;
              case f.ValueType.CHAR:
                this._equalValues = this.equalTextValues, this._sameValues = this.sameTextValues, this._readValue = this.readCharValue, this._nullValue = null;
                break;
              case f.ValueType.NUMBER:
                this._equalValues = this.equalNumberValues, this._sameValues = this.sameNumberValues, this._readValue = this.readNumberValue, this._nullValue = NaN;
                break;
              case f.ValueType.UNUM:
                this._equalValues = this.equalNumberValues, this._sameValues = this.sameNumberValues, this._readValue = this.readUnumValue, this._nullValue = NaN;
                break;
              case f.ValueType.INT:
                this._equalValues = this.equalNumberValues, this._sameValues = this.sameNumberValues, this._readValue = this.readIntValue, this._nullValue = NaN;
                break;
              case f.ValueType.UINT:
                this._equalValues = this.equalNumberValues, this._sameValues = this.sameNumberValues, this._readValue = this.readUintValue, this._nullValue = NaN;
                break;
              case f.ValueType.DATETIME:
                this._equalValues = this.equalDateValues, this._sameValues = this.sameDateValues, this._readValue = this.readDatetimeValue, this._nullValue = null;
                break;
              case f.ValueType.DATE:
                this._equalValues = this.equalDateValues, this._sameValues = this.sameDateValues, this._readValue = this.readDateValue, this._nullValue = null;
                break;
              case f.ValueType.BOOLEAN:
                this._equalValues = this.equalBoolValues, this._sameValues = this.sameBoolValues, this._readValue = this.readBooleanValue, this._nullValue = !1;
                break;
              case f.ValueType.OBJECT:
                this._equalValues = this.equalObjectValues, this._sameValues = this.sameObjectValues, this._readValue = this.readObjectValues, this._nullValue = !1;
                break;
              default:
                this._equalValues = this.equalDummyValues, this._sameValues = this.sameDummyValues, this._readValue = this.readDummyValue, this._nullValue = void 0;
            }
          }
        }
      }, i.prototype.$_refreshFormats = function(e) {
        this._owner = e, this._dateParser && (this._dateParser.baseYear || (this._dateParser.baseYear = e.baseYear), this._dateParser.amText || (this._dateParser.amText = e.amText), this._dateParser.pmText || (this._dateParser.pmText = e.pmText)), this._ownerBoolParser = e.boolParser, this._ownerDateParser = e.dateParser;
      }, i.prototype.equalDummyValues = function(e, t) {
        return this.equalTextValues(e, t);
      }, i.prototype.sameDummyValues = function(e, t) {
        return e == null ? t == null : t != null && e == t;
      }, i.prototype.equalTextValues = function(e, t) {
        return e === void 0 ? t === void 0 : t !== void 0 && e == t;
      }, i.prototype.sameTextValues = function(e, t) {
        return e == null || e == "" ? t == null || t == "" : t != null && t != "" && e == t;
      }, i.prototype.equalNumberValues = function(e, t) {
        return e === void 0 ? t === void 0 : t !== void 0 && (isNaN(e) ? isNaN(t) : !isNaN(t) && e == t);
      }, i.prototype.sameNumberValues = function(e, t) {
        return isNaN(e) ? isNaN(t) : !isNaN(t) && e == t;
      }, i.prototype.equalDateValues = function(e, t) {
        return e === void 0 ? t === void 0 : t !== void 0 && (e instanceof Date ? t instanceof Date && e.getTime() == t.getTime() : !(t instanceof Date));
      }, i.prototype.sameDateValues = function(e, t) {
        return e instanceof Date ? t instanceof Date && e.getTime() == t.getTime() : !(t instanceof Date);
      }, i.prototype.equalBoolValues = function(e, t) {
        return e === void 0 ? t === void 0 : t !== void 0 && !!e == !!t;
      }, i.prototype.sameBoolValues = function(e, t) {
        return this.equalBoolValues(e, t);
      }, i.prototype.equalObjectValues = function(e, t) {
        return e === void 0 || t === void 0 ? e === void 0 == (t === void 0) : JSON.stringify(e) === JSON.stringify(t);
      }, i.prototype.sameObjectValues = function(e, t) {
        return e == null || t == null ? e == null && t == null : JSON.stringify(e) === JSON.stringify(t);
      }, i.prototype.readDummyValue = function(e) {
        return e;
      }, i.prototype.readTextValue = function(e) {
        if (e === void 0)
          return e;
        var t = e === null ? null : String(e);
        return this._ranged && this._runSet && this._runSet.indexOf(t) < 0 ? void 0 : t;
      }, i.prototype.readCharValue = function(e) {
        if (e === void 0)
          return e;
        var t = e === null ? null : String(e);
        return t && (t = t.substr(0, this._length)), this._ranged && this._runSet && this._runSet.indexOf(t) < 0 ? void 0 : t;
      }, i.prototype.readNumberValue = function(e) {
        if (e != null && e !== "") {
          var t = Number(e);
          if (this._ranged)
            if (this._runSet) {
              if (this._runSet.indexOf(t) < 0)
                return;
            } else
              isNaN(this._runMin) || (t = Math.max(this._runMin, t)), isNaN(this._runMax) || (t = Math.min(this._runMax, t));
          return t;
        }
      }, i.prototype.readUnumValue = function(e) {
        if (e != null && e !== "") {
          var t = Math.max(0, Number(e));
          if (this._ranged) {
            if (this._runSet) {
              if (this._runSet.indexOf(t) < 0)
                return;
            } else
              isNaN(this._runMin) || (t = Math.max(this._runMin, t)), isNaN(this._runMax) || (t = Math.min(this._runMax, t));
            t = Math.max(0, t);
          }
          return t;
        }
      }, i.prototype.readIntValue = function(e) {
        if (e != null && e !== "") {
          var t = e >= 0 ? Math.floor(e) : Math.ceil(e);
          if (this._ranged) {
            if (this._runSet) {
              if (this._runSet.indexOf(t) < 0)
                return;
            } else
              isNaN(this._runMin) || (t = Math.max(this._runMin, t)), isNaN(this._runMax) || (t = Math.min(this._runMax, t));
            t = t >= 0 ? Math.floor(t) : Math.ceil(t);
          }
          return t;
        }
      }, i.prototype.readUintValue = function(e) {
        if (e != null && e !== "") {
          var t = Math.max(0, Math.floor(Math.floor(e)));
          if (this._ranged) {
            if (this._runSet) {
              if (this._runSet.indexOf(t) < 0)
                return;
            } else
              isNaN(this._runMin) || (t = Math.max(this._runMin, t)), isNaN(this._runMax) || (t = Math.min(this._runMax, t));
            t = Math.max(0, Math.floor(Math.floor(t)));
          }
          return t;
        }
      }, i.prototype.readDatetimeValue = function(e) {
        if (e !== void 0) {
          if (e === null)
            return this._nullValue;
          var t = this.getDate(this._ownerDateParser, e);
          if (t && this._ranged)
            if (this._runSet) {
              for (var o = !1, r = this._runSet.length; r--; )
                if (t.getTime() == this._runSet[r]) {
                  o = !0;
                  break;
                }
              if (!o)
                return;
            } else
              this._runMin && t.getTime() < this._runMin.getTime() && (t = new Date(this._runMin)), this._runMax && t.getTime() > this._runMax.getTime() && (t = new Date(this._runMax));
          return t;
        }
      }, i.prototype.readDateValue = function(e) {
        if (e !== void 0) {
          if (e === null)
            return this._nullValue;
          var t = this.getDate(this._ownerDateParser, e);
          if (t && (t.setHours(0, 0, 0, 0), this._ranged))
            if (this._runSet) {
              for (var o = !1, r = this._runSet.length; r--; )
                if (t.getTime() == this._runSet[r]) {
                  o = !0;
                  break;
                }
              if (!o)
                return;
            } else
              this._runMin && t.getTime() < this._runMin.getTime() && (t = new Date(this._runMin)), this._runMax && t.getTime() > this._runMax.getTime() && (t = new Date(this._runMax));
          return t;
        }
      }, i.prototype.readBooleanValue = function(e) {
        return e === void 0 ? e : e !== null && this.getBool(this._ownerBoolParser, e);
      }, i.prototype.readObjectValues = function(e) {
        if (typeof e == "string")
          try {
            e = JSON.parse(e);
          } catch (t) {
            throw new Error("Invalid Object String " + t + `\r
` + e);
          }
        else if (e != null && typeof e != "object")
          try {
            e = JSON.parse(e);
          } catch {
            b.log("JSON.parse fail => ".concat(e));
          }
        return b.deepCopy(e);
      }, i.prototype.$_compareObject = function(e, t, o, r) {
        var n = this._objectKey, s = this._objectCallback, l = s ? s(this.orgFieldName, o, e) : n && e.hasOwnProperty(n) ? e[n] : null, h = s ? s(this.orgFieldName, r, t) : n && t.hasOwnProperty(n) ? t[n] : null;
        return l > h ? 1 : l < h ? -1 : 0;
      }, i.prototype.$_calculateValue = function(e, t, o, r, n, s, l) {
        return this._valueCallback ? this._valueCallback(e.handler, o, r, s, l) : this._valueExpression ? (this._exprNode || (this._exprNode = Mt.Default.parse(this._valueExpression, Du)), t.setValues(l, n), this._exprNode.evaluate(t)) : void 0;
      }, i;
    }(J);
    f.RestoreMode = void 0, (_n = f.RestoreMode || (f.RestoreMode = {})).NONE = "none", _n.EXPLICIT = "explicit", _n.AUTO = "auto";
    var Mu = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._values = null, e._fields = null, e._fieldCount = 0, e;
      }
      return w(i, a), i.prototype.setValues = function(e, t) {
        this._values = e, this._fields = t, this._fieldCount = t ? t.length : 0;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (this._values) {
          if (e == i.ID_VALUE || e == i.ID_VALUES) {
            if (t < 0 || t >= this._fieldCount)
              throw new ie("Data field index out of bounds:" + t);
            return this._values[t];
          }
          throw new ie("Invalid identifier indexer: " + e);
        }
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        if (e != i.ID_VALUE && e != i.ID_VALUES)
          throw new ie("Invalid identifier indexer: " + e);
        if (this._values && this._fields) {
          var r = this._fields.indexOf(t);
          if (r < 0 || r >= this._fieldCount)
            throw new ie("Data field is not exists:" + t);
          return this._values[r];
        }
      }, i.ID_VALUE = 0, i.ID_VALUES = 1, i.IDENTS = { value: i.ID_VALUE, values: i.ID_VALUES }, i;
    }(bt), Be = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._listeners = [], e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        return this._listeners = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "listenerCount", { get: function() {
        return this._listeners.length;
      }, enumerable: !1, configurable: !0 }), i.prototype.addListener = function(e, t) {
        return e != null && this._listeners && this._listeners.indexOf(e) < 0 && (t != null && t >= 0 ? this._listeners.splice(t, 0, e) : this._listeners.push(e)), this;
      }, i.prototype.removeListener = function(e) {
        if (!this.disposing && e != null && this._listeners) {
          var t = this._listeners.indexOf(e);
          t >= 0 && this._listeners.splice(t, 1);
        }
        return this;
      }, i.prototype.clearListener = function() {
        this._listeners.length = 0;
      }, i.prototype.fireEvent = function(e) {
        var t = Array.prototype.slice.call(arguments, 0);
        t[0] = this;
        for (var o = 0, r = this._listeners.length; o < r; o++) {
          var n = this._listeners[o], s = n[e];
          s && s.apply(n, t);
        }
      }, i.prototype.fireConfirmEvent = function(e) {
        var t = Array.prototype.slice.call(arguments, 0);
        t[0] = this;
        for (var o = 0, r = this._listeners.length; o < r; o++) {
          var n = this._listeners[o], s = n[e];
          if (s) {
            var l = s.apply(n, t);
            if (typeof l == "boolean" && !l)
              return !1;
          }
        }
        return !0;
      }, i.prototype.fireMessageEvent = function(e) {
        var t = Array.prototype.slice.call(arguments, 0);
        t[0] = this;
        for (var o = 0, r = this._listeners.length; o < r; o++) {
          var n = this._listeners[o], s = n[e];
          if (s) {
            var l = s.apply(n, t);
            if (typeof l == "string" && l)
              return l;
          }
        }
        return null;
      }, i.prototype.fireObjectEvent = function(e) {
        var t = Array.prototype.slice.call(arguments, 0);
        t[0] = this;
        for (var o = 0, r = this._listeners.length; o < r; o++) {
          var n = this._listeners[o], s = n[e];
          if (s) {
            var l = s.apply(n, t);
            if (l != null)
              return l;
          }
        }
        return null;
      }, i;
    }(J), Lu = ["yy", "yyyy", "YY", "YYYY", "M", "MM", "d", "dd", "a", "H", "HH", "h", "hh", "m", "mm", "s", "ss", "S", "SS", "SSS", "T", "t", "Z", "z", "+"], Fu = [".", "/", "-", ":"], Bu = 65, Nu = 97, Vu = 89, $u = 121, Au = 77, ju = 109, Hu = 100, Gu = 72, Wu = 104, Uu = 83, zu = 115, jt = function(a, i, e) {
      e === void 0 && (e = 0);
      var t = a.toString();
      return e && t.length >= e ? t.substr(0, e) : (i = Math.max(t.length, i), ("0000" + a.toString()).substr(-i));
    }, Ne = function() {
      function a(i) {
        this.format = i;
      }
      return a.getFormatter = function(i) {
        var e = a.Formatters[i];
        return e || (a.Formatters[i] = e = new a(i)), e;
      }, Object.defineProperty(a, "Default", { get: function() {
        return a.getFormatter(a.DEFAULT_FORMAT);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "format", { get: function() {
        return this._format;
      }, set: function(i) {
        (i = i || a.DEFAULT_FORMAT) != this._format && (this._tokens = [], this.parse(i), this._format = i);
      }, enumerable: !1, configurable: !0 }), a.prototype.getText = function(i) {
        if (!this._tokens)
          return "";
        var e = this._hasUTC, t = new Date(i);
        e || this._timeOff == null || (t = new Date(t.getTime() + 60 * t.getTimezoneOffset() * 1e3 + this._timeOff));
        for (var o = this._tokens, r = "", n = e ? t.getUTCHours() : t.getHours(), s = 0, l = o.length; s < l; s++) {
          var h = o[s], u = h.length;
          switch (h.charCodeAt(0)) {
            case Vu:
            case $u:
              r += jt((e ? t.getUTCFullYear() : t.getFullYear()) % Math.pow(10, u), u);
              break;
            case Au:
              r += jt((e ? t.getUTCMonth() : t.getMonth()) + 1, u);
              break;
            case Hu:
              r += jt(e ? t.getUTCDate() : t.getDate(), u);
              break;
            case Gu:
              r += jt(n, u);
              break;
            case Wu:
              r += jt(this._hasAmPm ? n == 0 ? 12 : n > 12 ? n - 12 : n : n, u);
              break;
            case ju:
              r += jt(e ? t.getUTCMinutes() : t.getMinutes(), u);
              break;
            case zu:
              r += jt(e ? t.getUTCSeconds() : t.getSeconds(), u);
              break;
            case Nu:
            case Bu:
              r += n < 12 ? this._amText : this._pmText;
              break;
            case Uu:
              r += jt(e ? t.getUTCMilliseconds() : t.getMilliseconds(), u, u);
              break;
            default:
              r += h;
          }
        }
        if (!e && this._timeOff != null) {
          var c = this._timeOff >= 0 ? "+" : "-", d = Math.abs(this._timeOff / 6e4);
          r += c + "".concat(jt(Math.floor(d / 60), 2), ":").concat(jt(d % 60, 2));
        }
        return r;
      }, a.prototype.parseDateFormatTokens = function(i) {
        var e = [];
        if (i) {
          var t, o = i.trim(), r = 0;
          if (t = o.match(/([+\-])(\d\d)?(:)?(\d\d)?$/)) {
            var n = t[1];
            if (t[2] == null)
              this._timeOff = 60 * -(/* @__PURE__ */ new Date()).getTimezoneOffset() * 1e3;
            else {
              var s = parseInt(t[2]), l = parseInt(t[4] || "00");
              this._timeOff = 60 * (60 * s + l) * 1e3, n === "-" && (this._timeOff = -this._timeOff);
            }
            o = o.substr(0, t.index);
          }
          for (var h = o.length; r < h; ) {
            var u = o.charAt(r);
            if (Fu.indexOf(u) >= 0)
              e.push(u), r++;
            else {
              for (var c = r++; r < h && o.charAt(r) == u; )
                r++;
              if (u = o.substring(c, r), Lu.indexOf(u) < 0 && /[a-zA-Z\+]/.test(u[0]))
                throw new Error("Invalid datetime write format: " + i);
              e.push(u);
            }
            if (r < h && b.isWhiteSpace(u = o.charAt(r)))
              for (e.push(u); r < h && b.isWhiteSpace(o.charAt(r)); )
                r++;
          }
        }
        return e;
      }, a.prototype.parse = function(i) {
        if (this._amText = "AM", this._pmText = "PM", i) {
          var e = i.split(";");
          this._format = e[0] || a.DEFAULT_FORMAT, this._tokens = this.parseDateFormatTokens(this._format), this._hasAmPm = this._tokens.indexOf("a") >= 0 || this._tokens.indexOf("A") >= 0, this._hasUTC = this._tokens.indexOf("z") > 0 || this._tokens.indexOf("Z") > 0;
          var t = void 0;
          if (e.length > 2 ? t = e[2] : e.length > 1 && e[1] && (t = e[1]), t) {
            var o = t.split(",");
            o.length > 0 && o[0] && (this._amText = o[0] || this._amText), o.length > 1 && o[1] && (this._pmText = o[1] || this._pmText);
          }
        }
      }, a.DEFAULT_FORMAT = "yyyy/MM/dd", a.Formatters = {}, a;
    }(), Ht = function() {
      function a(i) {
        this.$_parse(this._format = i);
      }
      return a.getFormatter = function(i) {
        var e = a.Formatters[i];
        return e || (a.Formatters[i] = e = new a(i)), e;
      }, Object.defineProperty(a.prototype, "format", { get: function() {
        return this._format;
      }, enumerable: !1, configurable: !0 }), a.prototype.formatValue = function(i) {
        return i === void 0 ? this._nullText : i ? this._trueText : this._falseText;
      }, a.prototype.$_parse = function(i) {
        if (this._falseText = this._trueText = null, i) {
          var e = i.split(/[;\:]/);
          this._falseText = e[0], e.length > 0 && (this._trueText = e[1]), e.length > 1 && (this._nullText = e[2]);
        }
      }, a.Formatters = {}, a;
    }(), ar = ".", lr = ",", gn = function(a) {
      return b.included(a, "c", "f", "C", "F", "a", "A");
    }, Pt = function() {
      function a(i) {
        this._groupPos = 0, this._replacement = "$&,", this.parse(this._format = i);
      }
      return a.getFormatter = function(i) {
        var e = a.Formatters[i];
        return e || (a.Formatters[i] = e = new a(i)), e;
      }, Object.defineProperty(a, "Default", { get: function() {
        return a.getFormatter(a.DEFAULT_FORMAT);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "format", { get: function() {
        return this._format;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "separator", { get: function() {
        return this._seperator;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "groupSep", { get: function() {
        return this._groupSep;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "minDigits", { get: function() {
        return this._minDigits;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "maxDigits", { get: function() {
        return this._maxDigits;
      }, enumerable: !1, configurable: !0 }), a.prototype.parse = function(i) {
        this._minDigits = 0, this._maxDigits = 0, this._parse(i);
      }, a.prototype.getText = function(i, e) {
        e === void 0 && (e = !0);
        var t = Number(i);
        if (isNaN(t))
          return "";
        var o = this._minDigits, r = 0;
        if (this._optDecimal) {
          var n = (l = ("" + t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/)) ? Math.max(0, (l[1] ? l[1].length : 0) - (l[2] ? +l[2] : 0)) : 0;
          o = Math.min(Math.max(n, this._minDigits), this._maxDigits);
        }
        if (this._round)
          switch (r = Math.pow(10, o), this._round) {
            case "c":
              t = Math.ceil(r * t) / r;
              break;
            case "f":
              var s = t.toString().split(".");
              t = parseFloat(s.length > 1 ? s[0] + "." + s[1].substr(0, o) : s[0]);
          }
        t = this._round === "a" ? Math.abs(t) : t;
        var l, h = (t = Number(t.toPrecision(15))).toFixed(o);
        return !e && (r = parseFloat(h)) === Math.abs(parseFloat(h)) && r === 0 && (h = Math.abs(t).toFixed(o)), this._seperator && (h = h.replace(ar, this._seperator)), this._reg ? o ? h.replace(this._regDecimal, this._replacement) : h.replace(this._reg, this._replacement) : h;
      }, a.prototype._parse = function(i) {
        if (i && (i = i.trim()), i) {
          var e = ar, t = lr;
          if (i.indexOf(";") > -1) {
            var o = i.split(";");
            i = o[0], o.length > 1 && o[1] && !gn(o[1]) && (e = o[1]), o.length > 2 && o[2] && !gn(o[2]) && (t = o[2]), this._round = o[3] || o[2] || o[1], this._round = gn(this._round) ? this._round.toLowerCase() : this._round;
          }
          this._seperator = e == ar ? null : e, this._groupSep = t == lr ? null : t;
          var r = i.length, n = i.indexOf(ar);
          if (this._optDecimal = i.indexOf("#", n) > 0, n >= 0) {
            for (var s = n + 1; s < r && i.charAt(s) == "0"; s++)
              this._minDigits++, this._maxDigits++;
            for (; s < r && i.charAt(s) == "#"; s++)
              this._maxDigits++;
            i = i.substr(0, n);
          }
          if (i) {
            var l = i.length;
            i.charAt(l - 1) == lr && (this._groupPos = 3, i = i.substr(0, l - 1));
          }
          if (i) {
            var h = i.length, u = !0;
            for (s = h - 1; s >= 0; s--) {
              var c = i.charAt(s);
              if (!(c == "0" && u))
                if (this._groupPos == 0 && c == lr)
                  this._groupPos = h - s - 1;
                else {
                  if (c != "#")
                    break;
                  u = !1;
                }
            }
          }
          this._groupPos > 0 && (this._replacement = "$&" + t, this._reg = new RegExp("\\d(?=(\\d{" + this._groupPos + "})+($|\\" + e + "))", "g"), this._regDecimal = new RegExp("\\d(?=(\\d{" + this._groupPos + "})+\\" + e + ")", "g"));
        }
      }, a.DEFAULT_FORMAT = "#,##0.0", a.Formatters = {}, a;
    }(), Wi = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._datetimeWriter = null, t._booleanFormatter = null, t._numberFormatter = null, t.assignFrom(e), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "datetimeFormat", { get: function() {
        return this._datetimeFormat;
      }, set: function(e) {
        e != this._datetimeFormat && (this._datetimeFormat = e, this._datetimeWriter = e ? Ne.getFormatter(e) : null);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        e != this._booleanFormat && (this._booleanFormat = e, this._booleanFormatter = e ? Ht.getFormatter(e) : null);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberFormat", { get: function() {
        return this._numberFormat;
      }, set: function(e) {
        e != this._numberFormat && (this._numberFormat = e, this._numberFormatter = e ? Pt.getFormatter(e) : null);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeCallback", { get: function() {
        return this._datetimeCallback;
      }, set: function(e) {
        this._datetimeCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanCallback", { get: function() {
        return this._booleanCallback;
      }, set: function(e) {
        this._booleanCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberCallback", { get: function() {
        return this._numberCallback;
      }, set: function(e) {
        this._numberCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "nullDateText", { get: function() {
        return this._nullDateText;
      }, set: function(e) {
        this._nullDateText = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "nullText", { get: function() {
        return this._nullText;
      }, set: function(e) {
        this._nullText = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "nanText", { get: function() {
        return this._nanText;
      }, set: function(e) {
        this._nanText = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowState", { get: function() {
        return this._rowState;
      }, set: function(e) {
        this._rowState = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeWriter", { get: function() {
        return this._datetimeWriter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormatter", { get: function() {
        return this._booleanFormatter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberFormatter", { get: function() {
        return this._numberFormatter;
      }, enumerable: !1, configurable: !0 }), i;
    }(J), Yu = function() {
      function a() {
      }
      return a.prototype.compare = function(i, e, t) {
        return i.dataType == f.ValueType.NUMBER ? Number(e) - Number(t) : e > t ? 1 : e < t ? -1 : 0;
      }, a;
    }(), Lt = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i;
    }(Error), sa = function(a) {
      function i() {
        return a.call(this, "Client is editing (call grid.commit() or grid.cancel() first)") || this;
      }
      return w(i, a), i;
    }(Error), aa = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._subTypeEnabled = !0, e._undoable = !1, e._insertable = !0, e._updatable = !0, e._deletable = !0, e._softDeleting = !1, e._deleteCreated = !1, e._checkStates = !0, e._restoreMode = f.RestoreMode.NONE, e._strictRestore = !1, e._booleanFormat = null, e._datetimeFormat = null, e._baseYear = 2e3, e._amText = "AM", e._pmText = "PM", e._alertClientError = !0, e._throwClientError = !1, e._commitBeforeDataEdit = !1, e._fields = [], e._calcFields = [], e._fieldNames = [], e._fieldMap = {}, e._defComparer = new Yu(), e._comparers = [], e._boolParser = di.Default, e._dateParser = pi.Default, e._eventLock = 0, e._resetLock = 0, e._countLock = 0, e._clients = [], e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        try {
          this.$_internalClearFields(), this._fieldMap = null;
        } catch {
          b.log("DataSource dispose catch error");
        }
        this._fields = this._calcFields = this._fieldNames = this._fieldMap = this._boolParser = this._dateParser = this._comparers = this._clients = this._defComparer = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "subTypeEnabled", { get: function() {
        return this._subTypeEnabled;
      }, set: function(e) {
        if (e != this._subTypeEnabled) {
          this._subTypeEnabled = e;
          for (var t = 0, o = this._fields; t < o.length; t++)
            o[t].$_resetTypes();
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "insertable", { get: function() {
        return this._insertable;
      }, set: function(e) {
        this._insertable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "updatable", { get: function() {
        return this._updatable;
      }, set: function(e) {
        this._updatable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "deletable", { get: function() {
        return this._deletable;
      }, set: function(e) {
        this._deletable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "softDeleting", { get: function() {
        return this._softDeleting;
      }, set: function(e) {
        this._softDeleting = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "deleteCreated", { get: function() {
        return this._deleteCreated;
      }, set: function(e) {
        this._deleteCreated = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkStates", { get: function() {
        return this._checkStates;
      }, set: function(e) {
        e != this._checkStates && (this._checkStates = e, this._doCheckStatesChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "restoreMode", { get: function() {
        return this._restoreMode;
      }, set: function(e) {
        if (e != this._restoreMode) {
          var t = this._restoreMode;
          this._restoreMode = e, this._doRestoreModeChanged(t, e);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "strictRestore", { get: function() {
        return this._strictRestore;
      }, set: function(e) {
        this._strictRestore = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        e != this._booleanFormat && (this._booleanFormat = e, this._boolParser = e ? new di(e) : di.Default);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeFormat", { get: function() {
        return this._datetimeFormat;
      }, set: function(e) {
        e != this._datetimeFormat && (this._datetimeFormat = e, this.$_createDateReader());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "baseYear", { get: function() {
        return this._baseYear;
      }, set: function(e) {
        this._baseYear = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "amText", { get: function() {
        return this._amText;
      }, set: function(e) {
        e != this._amText && (this._amText = e, this.$_createDateReader());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pmText", { get: function() {
        return this._pmText;
      }, set: function(e) {
        e != this._pmText && (this._pmText = e, this.$_createDateReader());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "alertClientError", { get: function() {
        return this._alertClientError;
      }, set: function(e) {
        this._alertClientError = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "throwClientError", { get: function() {
        return this._throwClientError;
      }, set: function(e) {
        this._throwClientError = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitBeforeDataEdit", { get: function() {
        return this._commitBeforeDataEdit;
      }, set: function(e) {
        this._commitBeforeDataEdit = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "calculateRuntime", { get: function() {
        return this._calculateRuntime || (this._calculateRuntime = new Mu()), this._calculateRuntime;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fieldCount", { get: function() {
        return this._fields.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "boolParser", { get: function() {
        return this._boolParser;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dateParser", { get: function() {
        return this._dateParser;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "eventLocked", { get: function() {
        return this._eventLock > 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valuesCallback", { get: function() {
        return this._valuesCallback;
      }, set: function(e) {
        this._valuesCallback = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.registerClient = function(e) {
        e && this._clients.indexOf(e) < 0 && this._clients.push(e);
      }, i.prototype.unregisterClient = function(e) {
        if (e) {
          var t = this._clients.indexOf(e);
          t >= 0 && this._clients.splice(t, 1);
        }
      }, i.prototype.cancelClients = function() {
        for (var e = 0, t = this._clients; e < t.length; e++)
          t[e].cancelDataEditing();
      }, i.prototype.commitClients = function() {
        for (var e = 0, t = this._clients; e < t.length; e++)
          t[e].commitDataEditing();
      }, i.prototype.beginUpdate = function() {
        this._checkClientState(), this._eventLock++;
      }, i.prototype.endUpdate = function(e) {
        e === void 0 && (e = !0), this._checkClientState(), this._eventLock = Math.max(0, this._eventLock - 1), this._eventLock == 0 && (e && (this._resetLock > 0 ? this._fireReset() : this._fireRefresh(), this._countLock > 0 && this._fireRowCountChanged()), this._resetLock = this._countLock = 0);
      }, i.prototype.addField = function(e, t, o) {
        if (this._checkClientState()) {
          var r;
          this.beginUpdate();
          try {
            (r = this.$_internalAddField(e)) && r.$_resetTypes(this);
          } finally {
            t && this._doFieldsReset(), o && this._reCalculateFields(), this.endUpdate();
          }
          return r;
        }
      }, i.prototype.updateField = function(e, t) {
        var o = 0, r = this._calcFields;
        if (e.calculated && r.indexOf(e) < 0) {
          o = r.length;
          for (var n = 0; n < r.length; n++)
            if (r[n].index >= e.index) {
              o = n;
              break;
            }
          r.splice(o, 0, e);
        } else
          e.calculated || (o = r.indexOf(e)) >= 0 && r.splice(o, 1);
        if (t && e.calculated) {
          this.beginUpdate();
          try {
            this._reCalculateFields(e);
          } finally {
            this.endUpdate(!0);
          }
        }
      }, i.prototype.clearFields = function() {
        this._checkClientState() && this._fields.length > 0 && (this.$_internalClearFields(), this._doFieldsReset());
      }, i.prototype.setFields = function(e) {
        if (this._checkClientState()) {
          this.beginUpdate();
          try {
            if (this.$_internalClearFields(), e)
              for (var t = 0, o = e.length; t < o; t++) {
                var r = this.$_internalAddField(e[t]);
                r && r.$_resetTypes(this);
              }
          } finally {
            this.endUpdate(), this._doFieldsReset();
          }
        }
      }, i.prototype.getField = function(e) {
        return typeof e == "string" && (e = this.getFieldIndex(e)), this._fields[e];
      }, i.prototype.getFields = function() {
        return this._fields.slice();
      }, i.prototype.fieldByName = function(e) {
        if (e)
          for (var t = e.toUpperCase(), o = 0, r = this._fields; o < r.length; o++) {
            var n = r[o];
            if (n.fieldName == t)
              return n;
          }
        return null;
      }, i.prototype.getFieldNames = function() {
        for (var e = [], t = 0; t < this._fields.length; t++)
          e.push(this._fields[t].fieldName);
        return e;
      }, i.prototype.getOrgFieldNames = function() {
        for (var e = [], t = 0; t < this._fields.length; t++)
          e.push(this._fields[t].orgFieldName);
        return e;
      }, i.prototype.getFieldName = function(e) {
        return this._checkFieldIndex(e), this._fields[e].fieldName;
      }, i.prototype.getOrgFieldName = function(e) {
        return this._checkFieldIndex(e), this._fields[e].orgFieldName;
      }, i.prototype.getFieldIndex = function(e) {
        if (typeof e == "number")
          return e;
        if (e) {
          var t = e.toUpperCase();
          if (t in this._fieldMap)
            return this._fieldMap[t];
        }
        return -1;
      }, i.prototype.getFieldIndexC = function(e) {
        return e in this._fieldMap ? this._fieldMap[e] : -1;
      }, i.prototype.getBaseField = function(e) {
        return e >= 0 && e < this._fields.length ? this.getFieldIndex(this._fields[e].baseField) : -1;
      }, i.prototype.getValueType = function(e) {
        return this._fields[e].dataType;
      }, i.prototype.getDefaultValue = function(e) {
        return this._fields[e].defaultValue();
      }, i.prototype.objectToRow = function(e) {
        var t = [], o = this._valuesCallback;
        if (o) {
          var r = o.call(this, this.$_handler, e);
          if (r && Array.isArray(r))
            return r.slice();
        }
        if (e)
          for (var n = 0, s = this.fieldCount; n < s; n++) {
            var l = this.getOrgFieldName(n);
            e.hasOwnProperty(l) && (t[n] = e[l]);
          }
        return t;
      }, i.prototype.canUpdateField = function(e, t) {
        if (t >= 0 && t < this._fields.length) {
          if (!this._fields[t].updatable && e >= 0)
            try {
              var o = this.getRowState(e);
              return !o || o == f.RowState.CREATED || o == f.RowState.CREATE_AND_DELETED;
            } catch {
              return !1;
            }
          return !0;
        }
        return !1;
      }, i.prototype.getDataComparer = function(e) {
        return e >= 0 && this._comparers[e];
      }, i.prototype.setDataComparer = function(e, t) {
        this._comparers[e] = t;
      }, i.prototype.canSummarize = function(e) {
        return e >= 0 && e < this.fieldCount;
      }, i.prototype.canAppendRow = function() {
        return !1;
      }, i.prototype._convertValues = function(e, t) {
        var o = "*" in t && t["*"] == "*" ? e : {};
        for (var r in t)
          o[t[r]] = e[r];
        return o;
      }, i.prototype.getClientsBusy = function() {
        var e = { busy: !1, cnt: 0, client: null };
        if (this.disposing)
          return e;
        for (var t = this._clients.length; t--; )
          this._clients[t].isDataEditing() && (e.busy = !0, e.cnt++, e.client = this._clients[t]);
        return e;
      }, i.prototype._checkClientState = function() {
        if (this.getClientsBusy().busy) {
          if (this._throwClientError)
            throw new sa();
          return this._alertClientError && alert(new sa().message), !1;
        }
        return !0;
      }, i.prototype._checkFieldIndex = function(e) {
        if (e < 0 || e >= this._fields.length)
          throw new Lt("Invalid field index: " + e);
      }, i.prototype.$_internalClearFields = function() {
        this._checkClientState();
        for (var e = 0, t = this._fields; e < t.length; e++)
          t[e].$_setIndex(-1);
        this._fields.splice(0, this._fields.length), this._calcFields.splice(0, this._calcFields.length), this._fieldNames.splice(0, this._fieldNames.length), this._fieldMap = {};
      }, i.prototype.$_internalInsertField = function(e, t) {
        this._checkClientState();
        var o = this._fields.length;
        if (e < 0 || e > o)
          throw b.isDebugging(), new Lt("index is out of bounds:" + e);
        if (t) {
          t.$_prepare(this), this._fields.splice(e, 0, t), this._fieldNames.splice(e, 0, t.fieldName), t.calculated && this._calcFields.push(t), t.$_setIndex(e), this._fieldMap[t.fieldName] = e;
          for (var r = e + 1; r <= o; r++)
            (t = this._fields[r]).$_setIndex(r), this._fieldMap[t.fieldName] = r;
          return e;
        }
        return -1;
      }, i.prototype.$_addField = function(e, t, o, r) {
        if (!e)
          throw new Lt("fieldName must be exists.");
        if (this.getFieldIndex(e) >= 0)
          throw new Lt("fieldName is already exists: " + e);
        var n = new na(e, t, o);
        return r && n.assignFrom(r), this.$_internalInsertField(this._fields.length, n), n;
      }, i.prototype.$_internalAddField = function(e) {
        var t = null;
        return typeof e == "string" ? t = this.$_addField(e, f.ValueType.TEXT, 0) : e instanceof na ? (t = e.clone(), this.$_internalInsertField(this._fields.length, t)) : e && (t = this.$_addField(e.fieldName, e.dataType || f.ValueType.TEXT, e.length, e)), t;
      }, i.prototype._internalCalculateValues = function(e, t, o) {
        var r = o ? b.makeArray(o) : this._calcFields;
        if (r.length > 0) {
          for (var n = [], s = 0; s < e.length; s++)
            n[s] = this.getField(s).readValue(e[s]);
          s = 0;
          for (var l = r.length; s < l; s++) {
            var h = r[s], u = this._fieldMap[h.fieldName];
            e[u] = n[u] = h.readValue(h.$_calculateValue(this, this.calculateRuntime, t, h.orgFieldName, this._fieldNames, this.getOrgFieldNames(), n));
          }
        }
      }, i.prototype.refreshFieldFormats = function() {
        for (var e = 0, t = this._fields; e < t.length; e++)
          t[e].$_refreshFormats(this);
      }, i.prototype.refreshFieldFormat = function(e) {
        e && e.$_refreshFormats(this);
      }, i.prototype._getRowValues = function() {
        return new Array(this.fieldCount);
      }, i.prototype.$_createOutputRows = function(e, t, o) {
        o === void 0 && (o = 0);
        var r = this.fieldCount, n = e.length;
        t instanceof Wi || (t = new Wi(t));
        var s = t.nullDateText, l = t.nullText, h = t.nanText;
        try {
          for (var u = 0; u < r; u++) {
            var c = this.getField(u), d = c.dataType, p = c.orgFieldName, _ = void 0, g = void 0, y = void 0, m = void 0, v = void 0, C = void 0;
            if (d == f.ValueType.DATETIME && ((_ = t.datetimeCallback) || (m = t.datetimeWriter) || s))
              if (_)
                for (var x = 0; x < n; x++)
                  (E = e[x])[p] = _(this.handler, x + o, p, E[p]);
              else
                for (x = 0; x < n; x++) {
                  var S = (E = e[x])[p];
                  E[p] = S ? m ? m.getText(E[p]) : S : s;
                }
            else if (d == f.ValueType.BOOLEAN && ((g = t.booleanCallback) || (v = t.booleanFormatter)))
              if (g)
                for (x = 0; x < n; x++)
                  (E = e[x])[p] = g(this.handler, x + o, p, E[p]);
              else
                for (x = 0; x < n; x++)
                  (E = e[x])[p] = v.formatValue(E[p]);
            else if (d == f.ValueType.NUMBER && ((y = t.numberCallback) || (C = t.numberFormatter) || h))
              if (y)
                for (x = 0; x < n; x++)
                  (E = e[x])[p] = y(this.handler, x + o, p, E[p]);
              else
                for (x = 0; x < n; x++) {
                  var I = (E = e[x])[p];
                  E[p] = I == null || isNaN(I) ? h : C ? C.getText(I) : I;
                }
            else if (l != null && l != null)
              for (x = 0; x < n; x++) {
                var E;
                I = (E = e[x])[p], E[p] = I == null || I == null ? l : I;
              }
          }
        } finally {
          t && t.dispose();
        }
      }, i.prototype.$_sortRows = function(e, t, o, r, n) {
        do {
          var s = r, l = n, h = e[Math.floor((r + n) / 2)];
          do {
            for (; s <= l && !(o(t, h, e[s]) <= 0); )
              s++;
            for (; s <= l && !(o(t, h, e[l]) >= 0); )
              l--;
            if (s <= l) {
              if (s != l) {
                var u = e[s];
                e[s] = e[l], e[l] = u;
              }
              s++, l--;
            }
          } while (s <= l);
          r < l && this.$_sortRows(e, t, o, r, l), r = s;
        } while (r < n);
      }, i.prototype.$_createDateReader = function() {
        this._datetimeFormat ? (this._dateParser = new pi(this._datetimeFormat), this._dateParser.amText = this._amText, this._dateParser.pmText = this._pmText, this._dateParser.baseYear = this._baseYear) : this._dateParser = pi.Default;
      }, i.prototype._doCheckStatesChanged = function() {
      }, i.prototype._fireCommandStackChanged = function(e, t) {
        this._eventLock <= 0 && this.fireEvent(i.COMMAND_STACK_CHANGED, e, t);
      }, i.COMMAND_STACK_CHANGED = "onDataSourceCommandStackChanged", i;
    }(Be), la = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype.connect = function(e) {
      }, i.prototype.disconnect = function() {
      }, i.prototype.clearRows = function() {
      }, i.prototype.setRows = function() {
      }, i.prototype.setRowCount = function(e) {
      }, i.prototype.insertRow = function(e) {
      }, i.prototype.insertRows = function(e, t) {
      }, i.prototype.removeRow = function(e) {
      }, i.prototype.removeRows = function(e) {
      }, i.prototype.updateRow = function(e) {
      }, i.prototype.updateRows = function(e, t) {
      }, i.prototype.updateRowList = function(e) {
      }, i.prototype.setValue = function(e, t) {
      }, i.prototype.moveRow = function(e, t) {
      }, i.prototype.moveRows = function(e, t, o) {
      }, i.prototype.moveRowList = function(e, t) {
      }, i.prototype.changeStates = function(e) {
      }, i;
    }(J), qu = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._tags = [], t._owner = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._owner = null, this._tags = null, a.prototype._doDispose.call(this);
      }, i.prototype.add = function(e) {
        this._tags != null && e && this._tags.indexOf(e) < 0 && (this._tags.push(e), e.connect(this._owner));
      }, i.prototype.remove = function(e) {
        if (this._tags != null && e) {
          var t = this._tags.indexOf(e);
          t >= 0 && (this._tags.splice(t, 1), e.disconnect());
        }
      }, i.prototype.clearRows = function() {
        if (this._tags != null)
          for (var e = 0, t = this._tags; e < t.length; e++)
            t[e].clearRows();
      }, i.prototype.setRows = function() {
        if (this._tags != null)
          for (var e = 0, t = this._tags; e < t.length; e++)
            t[e].setRows();
      }, i.prototype.setRowCount = function(e) {
        if (this._tags != null)
          for (var t = 0, o = this._tags; t < o.length; t++)
            o[t].setRowCount(e);
      }, i.prototype.insertRow = function(e) {
        if (this._tags != null)
          for (var t = 0, o = this._tags; t < o.length; t++)
            o[t].insertRow(e);
      }, i.prototype.insertRows = function(e, t) {
        if (this._tags != null)
          for (var o = 0, r = this._tags; o < r.length; o++)
            r[o].insertRows(e, t);
      }, i.prototype.removeRow = function(e) {
        if (this._tags != null)
          for (var t = 0, o = this._tags; t < o.length; t++)
            o[t].removeRow(e);
      }, i.prototype.removeRows = function(e) {
        if (this._tags != null)
          for (var t = 0, o = this._tags; t < o.length; t++)
            o[t].removeRows(e);
      }, i.prototype.updateRow = function(e) {
        if (this._tags != null)
          for (var t = 0, o = this._tags; t < o.length; t++)
            o[t].updateRow(e);
      }, i.prototype.updateRows = function(e, t) {
        if (this._tags != null)
          for (var o = 0, r = this._tags; o < r.length; o++)
            r[o].updateRows(e, t);
      }, i.prototype.updateRowList = function(e) {
        if (this._tags != null)
          for (var t = 0, o = this._tags; t < o.length; t++)
            o[t].updateRowList(e);
      }, i.prototype.setValue = function(e, t) {
        if (this._tags != null)
          for (var o = 0, r = this._tags; o < r.length; o++)
            r[o].setValue(e, t);
      }, i.prototype.moveRow = function(e, t) {
        if (this._tags != null)
          for (var o = 0, r = this._tags; o < r.length; o++)
            r[o].moveRow(e, t);
      }, i.prototype.moveRows = function(e, t, o) {
        if (this._tags != null)
          for (var r = 0, n = this._tags; r < n.length; r++)
            n[r].moveRows(e, t, o);
      }, i.prototype.moveRowList = function(e, t) {
        if (this._tags != null)
          for (var o = 0, r = this._tags; o < r.length; o++)
            r[o].moveRowList(e, t);
      }, i;
    }(J), ha = function() {
      function a(i) {
        this._active = !1, this._exprNode = null, this.criteria = i;
      }
      return a.prototype.dispose = function() {
        this._exprNode = null;
      }, Object.defineProperty(a.prototype, "criteria", { get: function() {
        return this._criteria;
      }, set: function(i) {
        i != this._criteria && (this._criteria = i, this._exprNode = i ? Mt.Default.parse(i, a.CAPITAL_INDEXERS) : null);
      }, enumerable: !1, configurable: !0 }), a.prototype.select = function(i, e, t) {
        return !this._exprNode || (i.setRow(e, t), this._exprNode.evaluate(i));
      }, a.CAPITAL_INDEXERS = ["value", "values", "len"], a;
    }(), yn = function() {
      function a(i, e) {
        this._filterMode = a.FILTER_AND, this._or = !1, this.load(i), e && (this.filterMode = e);
      }
      return a.prototype.dispose = function() {
        return this._filters && this._filters.forEach(function(i, e) {
          i.dispose();
        }), this._filters = null, null;
      }, Object.defineProperty(a.prototype, "filterMode", { get: function() {
        return this._filterMode;
      }, set: function(i) {
        var e = i && i.toLocaleLowerCase();
        e != this._filterMode && (this._filterMode = e, this._or = this._filterMode == a.FILTER_OR);
      }, enumerable: !1, configurable: !0 }), a.prototype.load = function(i) {
        if (!i || i instanceof Array || (i = [i]), this._filters = [], i instanceof Array)
          for (var e = 0, t = i.length; e < t; e++) {
            var o = void 0, r = i[e];
            r && (typeof r == "string" ? o = new ha(r) : r.criteria && (o = new ha(r.criteria))), o && this._filters.push(o);
          }
      }, a.prototype.prepare = function(i, e) {
        i.prepare(e);
      }, a.prototype.select = function(i, e, t) {
        var o = this._filters, r = o.length;
        if (this._or) {
          for (var n = 0; n < r; n++)
            if (o[n].select(i, e, t) == 1)
              return !0;
          return !1;
        }
        for (n = 0; n < r; n++)
          if (o[n].select(i, e, t) == 0)
            return !1;
        return !0;
      }, a.FILTER_AND = "and", a.FILTER_OR = "or", a;
    }(), Ku = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._ds = null, e._fieldCount = 0, e._row = -1, e._values = null, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._ds = null, a.prototype._doDispose.call(this);
      }, i.prototype.prepare = function(e) {
        this._ds = e, this._fieldCount = e ? e.fieldCount : 0;
      }, i.prototype.setRow = function(e, t) {
        this._row = e, this._values = t;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        if (e === i.ID_ROW)
          return this._row;
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (t < 0 || t >= this._fieldCount)
          throw new ie("Data field index out of bounds:" + t);
        switch (e) {
          case i.ID_VALUE:
          case i.ID_VALUES:
            return this._values[t];
        }
        throw new ie("Invalid identifier indexer: " + e);
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        switch (e) {
          case i.ID_VALUE:
          case i.ID_VALUES:
            var r = this.getField(t, o);
            return this._values[r];
        }
        throw new ie("Invalid identifier indexer: " + e);
      }, i.prototype.getField = function(e, t) {
        var o = t ? this._ds.getFieldIndexC(e) : this._ds.getFieldIndex(e);
        if (o < 0 || o >= this._fieldCount)
          throw new ie("Data field is not exits:" + e);
        return o;
      }, i.ID_ROW = 0, i.ID_VALUE = 1, i.ID_VALUES = 2, i.IDENTS = { row: i.ID_ROW, value: i.ID_VALUE, values: i.ID_VALUES }, i;
    }(bt), mn = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._tags = new qu(e), e._filterRuntime = new Ku(), e._commandListeners = [], e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._tags = this._tags.dispose(), this._filters = this._filters && this._filters.dispose(), this._filterRuntime = this._filterRuntime.dispose(), this._commandListeners = null, this._fireDispose(), a.prototype._doDispose.call(this);
      }, i.prototype.editCommandStackChanged = function(e, t, o) {
        this._fireCommandStackChanged(t, o);
      }, Object.defineProperty(i.prototype, "filters", { get: function() {
        return this._filters;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterRuntime", { get: function() {
        return this._filterRuntime;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "deletedCount", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tags", { get: function() {
        return this._tags;
      }, enumerable: !1, configurable: !0 }), i.prototype.addTag = function(e) {
        this._tags.add(e);
      }, i.prototype.removeTag = function(e) {
        this._tags.remove(e);
      }, i.prototype.setFilterMode = function(e) {
        this._filters && e == this._filters.filterMode || (this._filters ? this._filters.filterMode = e : this._filters = new yn(null, e));
      }, i.prototype.setFilters = function(e, t) {
        !e || e instanceof yn ? (this._filters = e, this._filters && t && (this._filters.filterMode = t)) : this._filters = new yn(e, t);
      }, i.prototype.getRowObject = function(e) {
        if (e < 0 || e >= this.rowCount)
          throw new Lt("row is out of range: " + e);
        for (var t = {}, o = 0, r = this.fieldCount; o < r; o++) {
          var n = this.getOrgFieldName(o), s = this.getValue(e, o);
          t[n] = s;
        }
        return t;
      }, i.prototype.compareValues = function(e, t, o) {
        return 0;
      }, i.prototype.compareTexts = function(e, t, o, r) {
        return 0;
      }, i.prototype.compareNumbers = function(e, t, o) {
        return 0;
      }, i.prototype.compareBools = function(e, t, o) {
        return 0;
      }, i.prototype.compareObjects = function(e, t, o) {
        return 0;
      }, i.prototype.summarize = function(e, t) {
        return !1;
      }, i.prototype.summarizeRange = function(e, t, o) {
        return !1;
      }, i.prototype.copyRows = function(e, t, o, r) {
      }, Object.defineProperty(i.prototype, "hiddenCount", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), i.prototype.isHiddenRow = function(e) {
        return !1;
      }, i.prototype.registerCommandListener = function(e) {
        e && this._commandListeners && this._commandListeners.indexOf(e) < 0 && this._commandListeners.push(e);
      }, i.prototype.unregisterCommandListener = function(e) {
        var t = this._commandListeners ? this._commandListeners.indexOf(e) : -1;
        t >= 0 && this._commandListeners.splice(t, 1);
      }, i.prototype.findRow = function(e, t, o) {
      }, i.prototype._doFieldsReset = function() {
        this._fireReset();
      }, i.prototype._keepCommandStates = function(e) {
        if (this._commandListeners.length > 0)
          return this._commandListeners[0].getCommandStates(e);
      }, i.prototype._yieldCommandStates = function(e, t) {
        if (this._commandListeners.length > 0)
          return this._commandListeners[0].setCommandStates(e, t);
      }, i.prototype._fireDispose = function() {
        this._eventLock <= 0 && this.fireEvent("onDataProviderDisposed");
      }, i.prototype._fireReset = function() {
        this._eventLock <= 0 ? this.fireEvent("onDataProviderReset") : this._resetLock++;
      }, i.prototype._fireRefresh = function() {
        this._eventLock <= 0 && this.fireEvent("onDataProviderRefresh");
      }, i.prototype._fireRowCountChanged = function() {
        this._eventLock <= 0 ? this.fireEvent("onDataProviderRowCountChanged") : this._countLock++;
      }, i.prototype.fireDataLoadComplated = function() {
        this._eventLock <= 0 && this.fireEvent("onDataProviderDataLoadComplated");
      }, i.prototype.fireRowInserting = function(e, t) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowInserting", e, t);
      }, i.prototype.fireRowInserted = function(e) {
        this._eventLock <= 0 && (this.fireEvent("onDataProviderRowInserted", e), this.fireEvent("onDataProviderDataChanged"));
      }, i.prototype.fireRowsInserted = function(e, t) {
        this._eventLock <= 0 && (this.fireEvent("onDataProviderRowsInserted", e, t), this.fireEvent("onDataProviderDataChanged"));
      }, i.prototype.fireRowRemoving = function(e) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowRemoving", e);
      }, i.prototype.fireRowRemoved = function(e) {
        this._eventLock <= 0 && (this.fireEvent("onDataProviderRowRemoved", e), this.fireEvent("onDataProviderDataChanged"));
      }, i.prototype.fireRowsRemoving = function(e) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowsRemoving", e);
      }, i.prototype.fireRowsRemoved = function(e) {
        this._eventLock <= 0 && (this.fireEvent("onDataProviderRowsRemoved", e), this.fireEvent("onDataProviderDataChanged"));
      }, i.prototype.fireRowUpdating = function(e, t) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowUpdating", e, t);
      }, i.prototype.fireRowUpdated = function(e) {
        this._eventLock <= 0 && (this.fireEvent("onDataProviderRowUpdated", e), this.fireEvent("onDataProviderDataChanged"));
      }, i.prototype.fireRowsUpdated = function(e, t) {
        this._eventLock <= 0 && (this.fireEvent("onDataProviderRowsUpdated", e, t), this.fireEvent("onDataProviderDataChanged"));
      }, i.prototype.fireRowListUpdated = function(e) {
        this._eventLock <= 0 && (this.fireEvent("onDataProviderRowListUpdated", e), this.fireEvent("onDataProviderDataChanged"));
      }, i.prototype.fireRowMoving = function(e, t) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowMoving", e, t);
      }, i.prototype.fireRowMoved = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onDataProviderRowMoved", e, t);
      }, i.prototype.fireRowsMoving = function(e, t, o) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowsMoving", e, t, o);
      }, i.prototype.fireRowsMoved = function(e, t, o) {
        this._eventLock <= 0 && this.fireEvent("onDataProviderRowsMoved", e, t, o);
      }, i.prototype.fireRowListMoving = function(e, t) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderRowListMoving", e, t);
      }, i.prototype.fireRowListMoved = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onDataProviderRowListMoved", e, t);
      }, i.prototype.fireValueChanging = function(e, t, o) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onDataProviderValueChanging", e, t, o);
      }, i.prototype.fireValueChanged = function(e, t) {
        this._eventLock <= 0 && (this.fireEvent("onDataProviderValueChanged", e, t), this.fireEvent("onDataProviderDataChanged"));
      }, i.prototype.fireRowStateChanged = function(e) {
        this._eventLock <= 0 && this.fireEvent("onDataProviderStateChanged", e);
      }, i.prototype.fireRowStatesChanged = function(e) {
        this._eventLock <= 0 && this.fireEvent("onDataProviderStatesChanged", e);
      }, i.prototype.fireRowStatesCleared = function() {
        this._eventLock <= 0 && this.fireEvent("onDataProviderStatesCleared");
      }, i.prototype.fireRestoreRows = function(e) {
        this._eventLock <= 0 && this.fireEvent("onDataProviderRestoreRows", e);
      }, i.prototype.fireRowHided = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onDataProviderRowHided", e, t);
      }, i;
    }(aa), Ui = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t.fields = [], t.values = [], t.startIndex = 0, t.wrap = !0, t.select = !0, t.allFields = !0, t.caseSensitive = !1, t.partialMatch = !1, t.compareCallback = null, t.reverse = !1, e && t.extend(e), t;
      }
      return w(i, a), i;
    }(J), zi = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t.fields = null, t.value = null, t.startIndex = 0, t.startFieldIndex = 0, t.wrap = !0, t.select = !0, t.caseSensitive = !1, t.partialMatch = !1, t.columns = null, t.compareCallback = null, t.reverse = !1, e && t.extend(e), t;
      }
      return w(i, a), i;
    }(J);
    (function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      w(i, a);
    })(Error);
    var bn = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
      }, i.prototype.undo = function() {
      }, i.prototype.redo = function(e) {
      }, i.prototype.execute = function() {
        return this.redo(!1);
      }, i;
    }(J);
    (function(a) {
      function i() {
        return a.call(this) || this;
      }
      w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.undo = function() {
      }, i.prototype.redo = function(e) {
      }, i.prototype.execute = function() {
        return this.redo(!1);
      };
    })(bn);
    var vn = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._commands = [], t._current = -1, t._undoing = !1, t._redoing = !1, t._owner = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._owner = null, this._commands = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "owner", { get: function() {
        return this._owner;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "length", { get: function() {
        return this._commands.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canUndo", { get: function() {
        return this._current >= 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canRedo", { get: function() {
        return this._commands.length > this._current + 1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "undoing", { get: function() {
        return this._undoing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "redoing", { get: function() {
        return this._redoing;
      }, enumerable: !1, configurable: !0 }), i.prototype.undo = function() {
        if (this.canUndo) {
          var e = this._commands[this._current];
          this._undoing = !0;
          try {
            e.undo();
          } finally {
            this._undoing = !1;
          }
          this._current = this._current - 1, this._changed();
        }
      }, i.prototype.redo = function(e) {
        var t;
        if (this.canRedo) {
          var o = this._current + 1, r = this._commands[o];
          this._redoing = !0;
          try {
            t = r.redo(!0);
          } finally {
            this._redoing = !1;
          }
          this._current = o, this._changed();
        }
        return t;
      }, i.prototype.execute = function(e) {
        if (e) {
          var t = this._current++;
          this._commands[this._current] = e, this.$_shrink(this._current + 1);
          var o = void 0;
          try {
            o = e.execute();
          } catch (r) {
            throw this.$_shrink(t + 1), this._current = t, r;
          }
          return this._changed(), o;
        }
      }, i.prototype.flush = function() {
        var e = this._commands.length;
        if (e > 0) {
          for (; e--; )
            this._commands[e].dispose();
          this._commands = [], this._current = -1, this._changed();
        }
      }, i.prototype._changed = function() {
        this._owner != null && this._owner.editCommandStackChanged(this, this.canUndo, this.canRedo);
      }, i.prototype.$_shrink = function(e) {
        if (e >= 0 && e < this._commands.length) {
          for (var t = this._commands.length - 1; t >= e; t--)
            this._commands[t].dispose();
          this._commands.splice(e, this._commands.length - e);
        }
      }, i;
    }(Be), ua = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._ds = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._ds = null, this._save = null, a.prototype._doDispose.call(this);
      }, i.prototype.redo = function(e) {
        return e ? this._doRedo(this._ds, this._save) : this._save = this._doRun(this._ds), this._save && this._save.result;
      }, i.prototype.undo = function() {
        this._doUndo(this._ds, this._save);
      }, i.prototype._setSoftDeleting = function(e, t) {
        e._softDeleting = t;
      }, i.prototype._setDeleteCreated = function(e, t) {
        e._deleteCreated = t;
      }, i.prototype._cloneRow = function(e) {
        if (b.isArray(e))
          return e.slice();
        if (e) {
          var t = {};
          for (var o in e)
            t[o] = e[o];
          return t;
        }
      }, i.prototype._cloneValues = function(e, t, o) {
        if (t === void 0 && (t = 0), o === void 0 && (o = -1), e) {
          var r = e.length, n = [];
          o < 0 && (o = r), t = Math.max(0, t);
          for (var s = Math.min(r, t + o), l = t; l < s; l++) {
            var h = e[l];
            if (b.isArray(h))
              n.push(h.slice());
            else if (h) {
              var u = {};
              for (var c in h)
                u[c] = h[c];
              n.push(u);
            }
          }
          return n;
        }
        return null;
      }, i;
    }(bn), rt = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i;
    }(ua), Xu = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i;
    }(vn), Ju = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e) || this;
        return n._row = t, n._field = o, n._value = r, n;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = {};
        return t.row = e._keepRow(this._row), (t.result = e.$_setValue(this._row, this._field, this._value)) && (this._newState = e.getRowState(this._row)), t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_setValue(this._row, this._field, this._value);
      }, i.prototype._doUndo = function(e, t) {
        e._yieldRow(this._row, t.row), t.row.state != this._newState && e.fireRowStateChanged(this._row), e.fireValueChanged(this._row, this._field);
      }, i;
    }(rt), Zu = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e) || this;
        return n._row = t, n._values = n._cloneRow(o), n._strict = r, n;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._values = null, a.prototype._doDispose.call(this);
      }, i.prototype._doRun = function(e) {
        var t = {};
        return t.row = e._keepRow(this._row), (t.result = e.$_updateRow(this._row, this._values, this._strict)) && (this._newState = e.getRowState(this._row)), t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_updateRow(this._row, this._values, this._strict);
      }, i.prototype._doUndo = function(e, t) {
        e._yieldRow(this._row, t.row), t.row.state != this._newState && e.fireRowStateChanged(this._row), e.fireRowUpdated(this._row);
      }, i;
    }(rt), Qu = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e) || this;
        return r._row = t, b.isArray(o) || (o = e.objectToRow(o)), r._values = o.slice(), r;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = {};
        return t.result = e.$_insertRow(this._row, this._values), t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_insertRow(this._row, this._values);
      }, i.prototype._doUndo = function(e, t) {
        e.$_deleteRow(this._row);
      }, i;
    }(rt), ec = function(a) {
      function i(e, t) {
        var o = a.call(this, e) || this;
        return o._row = t, o;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = {};
        return this._softDeleting = e.softDeleting, t.row = e._keepRow(this._row), t.result = e.$_deleteRow(this._row), t;
      }, i.prototype._doRedo = function(e, t) {
        var o = e.softDeleting;
        try {
          this._setSoftDeleting(e, this._softDeleting), e.$_deleteRow(this._row);
        } finally {
          this._setSoftDeleting(e, o);
        }
      }, i.prototype._doUndo = function(e, t) {
        e.$_insertRow(this._row, t.row.values), e._yieldStates(this._row, t.row), e._yieldCommandStates(this._row, t.row.outer);
      }, i;
    }(rt), tc = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e) || this;
        return n._row = t, n._state = o, n._force = r, n;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = {};
        return t.row = e._keepStates(this._row), e.$_setRowState(this._row, this._state, this._force), t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_setRowState(this._row, this._state, this._force);
      }, i.prototype._doUndo = function(e, t) {
        e._yieldState(this._row, t.row), t.row.state != this._state && e.fireRowStateChanged(this._row);
      }, i;
    }(rt), ca = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e) || this;
        return r._row = t, r._state = o, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._doRun = function(e) {
        var t = {};
        return t.state = e._keepState(this._row), e.$_changeRowState(this._row, this._state, !0, !0, !0), t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_changeRowState(this._row, this._state, !0, !0, !0);
      }, i.prototype._doUndo = function(e, t) {
        e._yieldState(this._row, t.state), t.state != this._state && e.fireRowStateChanged(this._row);
      }, i;
    }(rt), ic = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e) || this;
        return r._deleteRows = t, r._rowEvents = o, r;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = { rows: [] };
        t.orgValues = e._keepOrgValues();
        var o = e.$_clearRowStates(this._deleteRows, this._rowEvents, !0);
        return t.rows = o.rows, t.states = o.states, t.values = o.values, t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_clearRowStates(this._deleteRows, this._rowEvents, !1);
      }, i.prototype._doUndo = function(e, t) {
        var o = t.rows, r = t.values, n = t.states, s = [];
        if (r)
          for (var l = 0; l < o.length; l++)
            e.$_internalInsertRow(l, r[l], t.row, !0);
        if (n)
          for (l = 0; l < n.length; l++)
            n[l] && (e._yieldState(l, n[l]), n[l] !== f.RowState.NONE && s.push(l));
        e._yieldOrgValues(t.rows), (o.length > 0 || n.length > 0) && e._fireRefresh();
      }, i;
    }(rt), oc = function(a) {
      function i(e, t, o, r, n, s, l) {
        var h = a.call(this, e) || this;
        return h._row = t, h._values = h._cloneValues(o, r, n), h._start = 0, h._count = h._values.length, h._rowEvents = s, h._strict = l, h;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._values = null, a.prototype._doDispose.call(this);
      }, i.prototype._doRun = function(e) {
        var t = {};
        return e.$_updateRows(this._row, this._values, this._start, this._count, this._strict, this._rowEvents, t), t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_updateRows(this._row, this._values, this._start, this._count, this._strict, this._rowEvents, null);
      }, i.prototype._doUndo = function(e, t) {
        var o = t.rows;
        if (!(o.length < 1)) {
          for (var r = t.values, n = t.states, s = t.orgValues, l = 0; l < o.length; l++) {
            var h = o[l];
            e.$_restoreRow(h, r[l], n[l], s[l]);
          }
          e._fireRefresh();
        }
      }, i;
    }(rt), rc = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e) || this;
        return r._rows = t.slice(), r._rowEvents = o, r;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = {};
        return this._softDeleting = e.softDeleting, e.$_removeRows(this._rows, this._rowEvents, t), t;
      }, i.prototype._doRedo = function(e, t) {
        var o = e.softDeleting;
        try {
          this._setSoftDeleting(e, this._softDeleting), e.$_removeRows(this._rows, this._rowEvents, null);
        } finally {
          this._setSoftDeleting(e, o);
        }
      }, i.prototype._doUndo = function(e, t) {
        var o = t.rows, r = t.statedRows;
        if (!(o.length < 1 && r.length < 1)) {
          for (var n = t.rowSaves, s = t.states, l = 0; l < o.length; l++) {
            var h = o[l], u = n[l];
            e.$_internalInsertRow(h, u.values, !0), e._yieldRow(h, u, !1);
          }
          for (l = 0; l < r.length; l++)
            h = r[l], e._yieldState(h, s[l]);
          for (e._fireRefresh(), l = 0; l < o.length; l++) {
            h = o[l];
            var c = n[l];
            e._yieldCommandStates(h, c.outer);
          }
        }
      }, i;
    }(rt), nc = function(a) {
      function i(e, t, o, r, n, s) {
        var l = a.call(this, e) || this;
        return l._row = t, l._values = l._cloneValues(o, r, n), l._start = 0, l._count = l._values.length, l._rowEvents = s, l;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        return e.$_insertRows(this._row, this._values, this._start, this._count, this._rowEvents), {};
      }, i.prototype._doRedo = function(e, t) {
        e.$_insertRows(this._row, this._values, this._start, this._count, this._rowEvents);
      }, i.prototype._doUndo = function(e, t) {
        if (!this._rows) {
          this._rows = [];
          for (var o = 0; o < this._values.length; o++)
            this._rows.push(this._row + o);
        }
        var r = e.softDeleting;
        try {
          this._setSoftDeleting(e, !1), e.$_removeRows(this._rows, !1, null);
        } finally {
          this._setSoftDeleting(e, r);
        }
      }, i;
    }(rt);
    function sc(a, i) {
      return a && a.getAttribute(i);
    }
    var Ti = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.csvToArray = function(e, t, o, r, n, s) {
        o === void 0 && (o = 0), r === void 0 && (r = -1), n === void 0 && (n = !1), s === void 0 && (s = ",");
        for (var l = [], h = [], u = t.length, c = 0, d = [], p = !1, _ = !1; c < u; ) {
          var g = t.charAt(c);
          g == '"' ? p ? _ && t.charAt(c + 1) == '"' ? (d.push(g), c++) : _ ? (_ = !1, !n && d.push(g)) : d.push(g) : (p = _ = !0, !n && d.push(g)) : _ || g != s && g != "\r" && g != `
` ? (p = !0, d.push(g)) : (g == s ? h.push(d.join("")) : g != "\r" && g != `
` || (h.push(d.join("")), l.push(h), h = [], t.charAt(c + 1) == `
` && c++), d = [], p = !1), c++;
        }
        _ && d.splice(0, 0, '"'), d.length > 0 && h.push(d.join("")), h.length > 0 && l.push(h), o > 0 && (r <= 0 ? l.splice(0, o) : l = l.splice(o, r));
        for (var y = e.getFields(), m = y.length, v = m > 0, C = 0, x = l.length; C < x; C++) {
          h = l[C], v && h.length > m && (h.length = m);
          for (var S = 0; S < m; S++)
            h[S] = y[S].readValue(h[S]);
        }
        return l;
      }, i.xmlToRow = function(e, t, o) {
        for (var r = e.childNodes, n = t.length, s = new Array(n), l = 0, h = r.length; l < h; l++) {
          var u, c = r[l];
          if ((u = o.indexOf(c.tagName)) >= 0) {
            var d = c.nodeValue;
            d == null && c.hasChildNodes() && (d = b.included(c.childNodes[0].nodeType, 3, 4) ? c.childNodes[0].nodeValue : void 0), d != null && (s[u] = d);
          }
        }
        for (l = 0; l < n; l++)
          if (s[l] === void 0) {
            var p = sc(e, o[l]);
            p != null && (s[l] = p);
          }
        return s;
      }, i.xmlToArray = function(e, t, o, r) {
        o === void 0 && (o = 0), r === void 0 && (r = -1);
        var n = null, s = i.xmlToRow, l = t ? t.length : 0;
        if (l && (o = Math.max(0, o), r < 0 && (r = l), r = Math.min(l - o, r))) {
          var h = e.getFields(), u = e.getOrgFieldNames();
          h.length, n = new Array(r);
          for (var c = 0; c < r; c++) {
            var d = s(t[c + o], h, u);
            n[c] = d;
          }
        }
        return n;
      }, i;
    }(J), ac = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e) || this;
        return r._row = t, r._newRow = o, r;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        e.$_moveRow(this._row, this._newRow);
      }, i.prototype._doRedo = function(e, t) {
        e.$_moveRow(this._row, this._newRow);
      }, i.prototype._doUndo = function(e, t) {
        e.$_moveRow(this._newRow, this._row);
      }, i;
    }(rt), lc = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e) || this;
        return n._row = t, n._count = o, n._newRow = r, n;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        e.$_moveRows(this._row, this._count, this._newRow);
      }, i.prototype._doRedo = function(e, t) {
        e.$_moveRows(this._row, this._count, this._newRow);
      }, i.prototype._doUndo = function(e, t) {
        e.$_moveRows(this._newRow, this._count, this._row);
      }, i;
    }(rt), hc = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e) || this;
        r._rows = t, r._newRows = t.slice();
        for (var n = o - t[0], s = 0; s < t.length; s++)
          r._newRows[s] += n;
        return r;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = {};
        return t.result = e.$_moveRowList(this._rows, this._newRows[0]), t;
      }, i.prototype._doRedo = function(e, t) {
        return e.$_moveRowList(this._rows, this._newRows[0]);
      }, i.prototype._doUndo = function(e, t) {
        return e.$_moveRowList(this._newRows, this._rows[0]);
      }, i;
    }(rt), uc = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e) || this;
        return r._rowFields = b.deepCopy(t), r._value = o, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._doRun = function(e) {
        var t = {};
        return e.$_fillValue(this._rowFields, this._value, t), t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_fillValue(this._rowFields, this._value, null);
      }, i.prototype._doUndo = function(e, t) {
        var o = t.rows;
        if (!(o.length < 1)) {
          for (var r = t.values, n = t.states, s = t.orgValues, l = 0; l < o.length; l++) {
            var h = o[l];
            e.$_restoreRow(h, r[l], n[l], s[l]);
          }
          e._fireRefresh();
        }
      }, i;
    }(rt), cc = function(a) {
      function i(e, t, o, r, n) {
        o === void 0 && (o = !1), r === void 0 && (r = null), n === void 0 && (n = f.RowState.NONE);
        var s = a.call(this, e) || this;
        return s._newCount = t, s._oldCount = e.rowCount, s._fillDefaults = o, s._defaultValues = r, s._rowState = n, s;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = {};
        return e.$_setRowCount(this._newCount, this._fillDefaults, this._defaultValues, this._rowState, t), t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_setRowCount(this._newCount, this._fillDefaults, this._defaultValues, this._rowState, null);
      }, i.prototype._doUndo = function(e, t) {
        if (this._oldCount < this._newCount)
          e.$_setRowCount(this._oldCount);
        else if (this._oldCount > this._newCount) {
          var o = t.rows, r = t.statedRows;
          if (o.length < 1 && r.length < 1)
            return;
          for (var n = t.rowSaves, s = t.states, l = 0; l < o.length; l++) {
            var h = o[l], u = n[l];
            e.$_internalInsertRow(h, u.values, !0), e._yieldRow(h, u, !1);
          }
          for (l = 0; l < r.length; l++)
            h = r[l], e._yieldState(h, s[l]);
          for (e._fireRefresh(), l = 0; l < o.length; l++) {
            h = o[l];
            var c = n[l];
            e._yieldCommandStates(h, c.outer);
          }
        }
      }, i;
    }(rt), dc = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e) || this;
        return n._values = b.deepCopy(t), n._rowEvents = o, n._strict = r, n;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._values = null, a.prototype._doDispose.call(this);
      }, i.prototype._doRun = function(e) {
        var t = {};
        return e.$_updateRows2(this._values, this._strict, this._rowEvents, t), t;
      }, i.prototype._doRedo = function(e, t) {
        e.$_updateRows2(this._values, this._strict, this._rowEvents, null);
      }, i.prototype._doUndo = function(e, t) {
        var o = t.rows;
        if (!(o.length < 1)) {
          for (var r = t.values, n = t.states, s = t.orgValues, l = 0; l < o.length; l++) {
            var h = o[l];
            e.$_restoreRow(h, r[l], n[l], s[l]);
          }
          e._fireRefresh();
        }
      }, i;
    }(rt), wn = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._points = [], o._nextPoint = 0, o._values = [], o._rowIds = [], o._rowStates = [], o._orgValues = null, o._needRestore = !1, o._deletedCount = 0, o._nextRowId = 0, o._hiddenIds = [], o.$_handler = t, e && (o.undoable = !0, o._commands = new Xu(o)), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._commands = this._commands && this._commands.dispose(), this._values = this._rowIds = this._rowStates = this._points = this._orgValues = this._hiddenIds = [], a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "handler", { get: function() {
        return this.$_handler;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "undoable", { get: function() {
        return this._undoable && !!this._commands;
      }, set: function(e) {
        e != this.undoable && (this._undoable = e, this._commands && this._commands.flush());
      }, enumerable: !1, configurable: !0 }), i.prototype.getDataRow = function(e) {
        return this._rowIds.indexOf(e);
      }, Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._values.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "deletedCount", { get: function() {
        return this._deletedCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canUndo", { get: function() {
        return this._commands && this._commands.canUndo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canRedo", { get: function() {
        return this._commands && this._commands.canRedo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "undoing", { get: function() {
        return this._commands && this._commands.undoing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "redoing", { get: function() {
        return this._commands && this._commands.redoing;
      }, enumerable: !1, configurable: !0 }), i.prototype.getRowId = function(e) {
        return this._rowIds[e];
      }, i.prototype.$_internalInsertField = function(e, t) {
        if ((e = a.prototype.$_internalInsertField.call(this, e, t)) >= 0) {
          for (var o = this._values.length, r = 0; r < o; r++)
            (n = this._values[r]) && n.splice(e, 0, void 0);
          if (this._orgValues)
            for (o = Math.min(o, this._orgValues.length), r = 0; r < o; r++) {
              var n;
              (n = this._orgValues[r]) && n.splice(e, 0, void 0);
            }
        }
        return e;
      }, i.prototype.$_internalClearFields = function() {
        a.prototype.$_internalClearFields.call(this), this.$_clearRows();
      }, i.prototype.setRowCount = function(e, t, o, r) {
        t === void 0 && (t = !1), o === void 0 && (o = null), r === void 0 && (r = f.RowState.NONE), this.undoable ? this._commands.execute(new cc(this, e, t, o, r)) : this.$_setRowCount(e, t, o, r);
      }, i.prototype.$_setRowCount = function(e, t, o, r, n) {
        if (t === void 0 && (t = !1), o === void 0 && (o = null), r === void 0 && (r = f.RowState.NONE), n === void 0 && (n = null), this._checkClientState()) {
          var s = this._values, l = s.length, h = Math.max(0, e);
          if (h != l) {
            var u = this._rowIds, c = this._rowStates;
            if (this.refreshFieldFormats(), n && (n.rows = [], n.rowSaves = [], n.statedRows = [], n.states = []), h > l && (t || o)) {
              var d = this.fieldCount, p = o;
              if (!p || p instanceof Array || (p = this.objectToRow(p)), p && p.length < 1 && (p = null), t || p)
                for (var _ = p ? Math.min(p.length, d) : 0, g = l; g < h; g++) {
                  var y = [];
                  if (t)
                    for (var m = 0; m < d; m++) {
                      var v = this.getField(m);
                      y[m] = v.defaultValue !== void 0 ? v.defaultValue : v.nullValue;
                    }
                  if (_ > 0)
                    for (m = 0; m < _; m++) {
                      var C = p[m];
                      C !== void 0 && (y[m] = this.getField(m).readValue(C));
                    }
                  s[g] = y;
                }
            } else if (h > l)
              for (g = l; g < h; g++)
                s[g] = [];
            else if (h < l) {
              if (n)
                for (g = h; g < l; g++) {
                  var x = g;
                  n.statedRows.push(x), n.states.push(c[g]), n.rows.push(x), n.rowSaves.push(this._keepRow(x));
                }
              if (this._deletedCount > 0)
                for (g = l - 1; g >= h; g--)
                  Je(c[g]) && this._deletedCount--;
            }
            for (r = this.checkStates && r ? r : f.RowState.NONE, s.length = u.length = c.length = h, this._orgValues && this._orgValues.length > h && (this._orgValues.length = h), g = l; g < h; g++)
              c[g] = r, u[g] = this._nextRowId++;
            for (g = this._hiddenIds.length - 1; g >= 0; g--)
              m = this._hiddenIds[g], u.indexOf(m) < 0 && this._hiddenIds.splice(g, 1);
            this.tags.setRowCount(h), this._fireRefresh(), this._fireRowCountChanged();
          }
        }
      }, i.prototype.$_clearRows = function() {
        this._values.length = 0, this._values = [], this._rowIds.length = 0, this._rowIds = [], this._rowStates.length = 0, this._rowStates = [], this._hiddenIds.length = 0, this._hiddenIds = [], this._orgValues ? (this._orgValues.length = 0, this._orgValues = []) : this._orgValues = null, this._deletedCount = 0, this.clearCommandStack(), this.tags.clearRows();
      }, i.prototype.clearRows = function() {
        this._checkClientState() && (this.$_clearRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated());
      }, i.prototype.setRows = function(e, t, o) {
        if (t === void 0 && (t = 0), o === void 0 && (o = -1), this._checkClientState() && o != 0) {
          this.refreshFieldFormats(), this.beginUpdate();
          try {
            this.$_clearRows();
            var r = this.checkStates, n = this.filters, s = this.filterRuntime, l = void 0;
            if (e && (l = e.length) > 0 && t < l) {
              if (t = Math.max(0, t), o = o < 0 ? l : Math.min(o, l - t), n) {
                this._values.length = this._rowIds.length = this._rowStates.length = o, n.prepare(s, this);
                for (var h = l, u = 0, c = 0, d = t; d < h && u < o; d++)
                  (p = e[d]) instanceof Array || (p = this.objectToRow(p)), n.select(s, c++, p) && this.$_internalSetRow(u++, p, r);
                this._values.length = this._rowIds.length = this._rowStates.length = u;
              } else if ((h = Math.min(l, t + o)) > t)
                for (this._values.length = this._rowIds.length = this._rowStates.length = h - t, u = 0, d = t; d < h; d++) {
                  var p;
                  (p = e[d]) instanceof Array || (p = this.objectToRow(p)), this.$_internalSetRow(u++, p, r);
                }
            }
          } finally {
            this.endUpdate(!1), this.clearCommandStack();
          }
          this.tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated();
        }
      }, i.prototype.setXmlRows = function(e, t, o) {
        t === void 0 && (t = 0), o === void 0 && (o = -1), this._checkClientState() && o != 0 && (e = Ti.xmlToArray(this, e, t, o), this.setRows(e));
      }, i.prototype.insertRows = function(e, t, o, r, n) {
        o === void 0 && (o = 0), r === void 0 && (r = -1), n === void 0 && (n = !1), this.undoable ? this._commands.execute(new nc(this, e, t, o, r, n)) : this.$_insertRows(e, t, o, r, n);
      }, i.prototype.$_insertRows = function(e, t, o, r, n) {
        if (this._checkClientState() && t) {
          var s = t.length;
          if (!(s < 1) && (r = r < 0 ? s : Math.min(s, r)) != 0) {
            if (e < 0 || e > this._values.length)
              throw new Lt("row is out of bounds:" + e);
            this.refreshFieldFormats(), o = Math.max(0, o);
            var l = Math.min(s, o + r);
            if (n)
              for (var h = e, u = o; u < l; u++)
                (c = t[u]) instanceof Array || (c = this.objectToRow(c)), this.fireRowInserting(h, c) && (this.$_internalInsertRow(h, c, !0), this.fireRowInserted(h), this._fireRowCountChanged(), h++);
            else {
              for (h = e, u = o; u < l; u++, h++) {
                var c;
                (c = t[u]) instanceof Array || (c = this.objectToRow(c)), this.$_internalInsertRow(h, c, !1);
              }
              this.tags.insertRows(e, r = l - o), this.fireRowsInserted(e, r), this._fireRowCountChanged();
            }
          }
        }
      }, i.prototype.appendRows = function(e, t, o, r) {
        t === void 0 && (t = 0), o === void 0 && (o = -1), r === void 0 && (r = !1), this.insertRows(this.rowCount, e, t, o, r);
      }, i.prototype.insertRowsFrom = function(e, t, o, r) {
        for (var n = [], s = 0, l = o; s < l.length; s++) {
          var h = l[s];
          n.push(e.getRowObject(h));
        }
        if (t)
          for (var u = o.length - 1; u >= 0; u--)
            n[u] = this._convertValues(n[u], t);
        this.insertRows(r, n);
      }, i.prototype.appendRowsFrom = function(e, t, o) {
        this.insertRowsFrom(e, t, o, this.rowCount);
      }, i.prototype.insertXmlRows = function(e, t, o, r, n) {
        o === void 0 && (o = 0), r === void 0 && (r = -1), n === void 0 && (n = !1), this._checkClientState() && (t = Ti.xmlToArray(this, t, o, r), this.insertRows(e, t, 0, -1, n));
      }, i.prototype.appendXmlRows = function(e, t, o, r) {
        r === void 0 && (r = !1), this.insertXmlRows(this.rowCount, e, t, o, r);
      }, i.prototype.fillValue = function(e, t) {
        if (this.undoable)
          return this._commands.execute(new uc(this, e, t));
        this.$_fillValue(e, t);
      }, i.prototype.updateRows = function(e, t, o, r, n, s) {
        if (s === void 0 && (s = !1), this.undoable)
          return this._commands.execute(new oc(this, e, t, o, r, s, n));
        this.$_updateRows(e, t, o, r, n, s);
      }, i.prototype.updateRows2 = function(e, t, o) {
        if (this.undoable)
          return this._commands.execute(new dc(this, e, o, t));
        this.$_updateRows2(e, t, o);
      }, i.prototype.updateXmlRows = function(e, t, o, r, n) {
        n === void 0 && (n = !1), this._checkClientState() && (t = Ti.xmlToArray(this, t, o, r), this.updateRows(e, t, 0, -1, n));
      }, i.prototype.getValue = function(e, t) {
        this.$_checkRowIndex(e), this._checkFieldIndex(t);
        var o = this._values[e];
        return o ? o[t] : void 0;
      }, i.prototype.setValue = function(e, t, o) {
        return this.undoable ? this._commands.execute(new Ju(this, e, t, o)) : this.$_setValue(e, t, o);
      }, i.prototype.$_setValue = function(e, t, o) {
        if (!this._checkClientState())
          return !1;
        this.$_checkRowIndex(e), this._checkFieldIndex(t);
        var r = this.getField(t), n = this._rowStates[e];
        if (!r)
          throw new Lt("Invalid field: " + t);
        if (!r.updatable && (n == f.RowState.NONE || n == f.RowState.UPDATED))
          return !1;
        var s, l = this._values[e], h = r.readValue(o);
        if (l && r.equalValues(h, l[t]))
          return !1;
        this.refreshFieldFormat(r);
        var u = this.checkStates && (n == f.RowState.NONE || !n);
        return l || (this._values[e] = l = new Array(this.fieldCount)), u && this._orgValues && (s = l.concat()), l[t] = h, this._internalCalculateValues(l, e), u ? (s && (this._orgValues[e] = s), this.$_changeRowState(e, f.RowState.UPDATED, !0)) : this._needRestore && this.restoreState(e), this.tags.setValue(e, t), this.fireValueChanged(e, t), !0;
      }, i.prototype.updateRow = function(e, t, o) {
        return this.undoable ? this._commands.execute(new Zu(this, e, t, o)) : this.$_updateRow(e, t, o);
      }, i.prototype.getRow = function(e) {
        this.$_checkRowIndex(e);
        var t = this._values[e];
        return t ? t.slice() : [];
      }, i.prototype.getRows = function(e, t) {
        e === void 0 && (e = 0), t === void 0 && (t = -1);
        var o = this._values.length, r = Math.max(0, e), n = t < 0 ? o - 1 : Math.min(o - 1, t);
        if (r >= o || n < r)
          return [];
        for (var s = n - r + 1, l = new Array(s), h = 0; h < s; h++)
          l[h] = this._values[h + r] ? this._values[h + r].slice() : [];
        return l;
      }, i.prototype.getRowObject = function(e, t) {
        return this.$_checkRowIndex(e), this.$_getRowObject(e, t);
      }, i.prototype.getRowObjects = function(e, t, o) {
        e === void 0 && (e = 0), t === void 0 && (t = -1);
        var r = this._values.length, n = Math.max(0, e), s = t < 0 ? r - 1 : Math.min(r - 1, t);
        if (n >= r || s < n)
          return [];
        for (var l = s - n + 1, h = new Array(l), u = 0; u < l; u++)
          h[u] = this.$_getRowObject(u + n, o);
        return h;
      }, i.prototype.getOutputObject = function(e, t) {
        var o = this.getRowObject(t, e?.rowState);
        return e && this.$_createOutputRows([o], e, t), o;
      }, i.prototype.getOutputObjects = function(e, t, o) {
        t === void 0 && (t = 0), o === void 0 && (o = -1);
        var r = this.getRowObjects(t, o, e?.rowState);
        return e && this.$_createOutputRows(r, e, t), r;
      }, i.prototype.getFieldValues = function(e, t, o) {
        t === void 0 && (t = 0), o === void 0 && (o = -1), this._checkFieldIndex(e);
        var r = this._values.length;
        if (o = o < 0 ? r - 1 : Math.min(r - 1, o), (t = Math.max(0, t)) >= r || o < t)
          return null;
        for (var n = new Array(o - t + 1), s = t; s <= o; s++) {
          var l = this._values[s];
          n[s - t] = l && l[e];
        }
        return n;
      }, i.prototype.hasData = function(e) {
        var t = this._values;
        return e >= 0 && e < t.length && t[e] !== void 0 && t[e].length > 0;
      }, i.prototype.insertRow = function(e, t) {
        return this.undoable ? this._commands.execute(new Qu(this, e, t)) : this.$_insertRow(e, t);
      }, i.prototype.$_insertRow = function(e, t, o) {
        if (o === void 0 && (o = void 0), !this._checkClientState())
          return !1;
        if (e < 0 || e > this._values.length)
          throw new Lt("row is out of bounds:" + e);
        return this.refreshFieldFormats(), !(!t || !this.fireRowInserting(e, t)) && (b.isArray(t) || (t = this.objectToRow(t)), this.$_internalInsertRow(e, t, !0), o && this._yieldStates(e, o), this.fireRowInserted(e), this._fireRowCountChanged(), !0);
      }, i.prototype.appendRow = function(e) {
        var t = this.rowCount;
        return this.insertRow(t, e) ? t : -1;
      }, i.prototype.removeRow = function(e) {
        if (this.undoable) {
          if (this.softDeleting && this.checkStates)
            switch (this._rowStates[e]) {
              case f.RowState.CREATED:
                if (!this.deleteCreated)
                  return this._commands.execute(new ca(this, e, f.RowState.CREATE_AND_DELETED));
                break;
              case f.RowState.DELETED:
              case f.RowState.CREATE_AND_DELETED:
                return;
              default:
                return this._commands.execute(new ca(this, e, f.RowState.DELETED));
            }
          return this._commands.execute(new ec(this, e));
        }
        return this.$_removeRow(e);
      }, i.prototype.$_removeRow = function(e) {
        if (!this._checkClientState())
          return !1;
        if (this.$_checkRowIndex(e), this.softDeleting && this.checkStates) {
          switch (this._rowStates[e]) {
            case f.RowState.CREATED:
              this.deleteCreated ? this.$_deleteRow(e) : this.$_changeRowState(e, f.RowState.CREATE_AND_DELETED, !0, !0, !0);
              break;
            case f.RowState.DELETED:
            case f.RowState.CREATE_AND_DELETED:
              break;
            default:
              this.$_changeRowState(e, f.RowState.DELETED, !0, !0, !0);
          }
          return !0;
        }
        return this.$_deleteRow(e);
      }, i.prototype.removeRows = function(e, t) {
        t === void 0 && (t = !1), this.undoable ? this._commands.execute(new rc(this, e, t)) : this.$_removeRows(e, t, null);
      }, i.prototype.$_removeRows = function(e, t, o) {
        if (this._checkClientState()) {
          var r, n = this.deleteCreated;
          if (e && !((r = e.length) < 1)) {
            if (e = e.slice(), o && (o.rows = [], o.rowSaves = [], o.statedRows = [], o.states = []), this.softDeleting && this.checkStates) {
              for (var s = t ? null : [], l = r; l--; ) {
                var h = e[l], u = this._rowStates[h], c = !1;
                switch (this.$_checkRowIndex(h), u) {
                  case f.RowState.CREATED:
                    n || (o && (o.statedRows.push(h), o.states.push(u)), c = this.$_changeRowState(h, f.RowState.CREATE_AND_DELETED, t, !1, !0), e.splice(l, 1));
                    break;
                  case f.RowState.DELETED:
                  case f.RowState.CREATE_AND_DELETED:
                    e.splice(l, 1);
                    break;
                  default:
                    o && (o.statedRows.push(h), o.states.push(u)), c = this.$_changeRowState(h, f.RowState.DELETED, t, !1, !0), e.splice(l, 1);
                }
                s && c && s.push(h);
              }
              t || s && s.length > 0 && this.fireRowStatesChanged(s);
            }
            if ((r = e.length) > 0) {
              if (r > 1 && e.sort(function(d, p) {
                return d - p;
              }), o)
                for (l = 0; l < r; l++)
                  h = e[l], o.rows.push(h), o.rowSaves.push(this._keepRow(h));
              if (t)
                for (l = r; l--; )
                  h = e[l], this.$_checkRowIndex(h), this.$_deleteRow(h);
              else if (this.fireRowsRemoving(e)) {
                for (l = r; l--; )
                  h = e[l], u = this._rowStates[h], this.$_checkRowIndex(h), this.$_internalRemoveRow(h), Je(u) && this._deletedCount--;
                this.tags.removeRows(e), this.fireRowsRemoved(e), this._fireRowCountChanged();
              }
            }
          }
        }
      }, i.prototype.moveRow = function(e, t) {
        if (e != t)
          return this.undoable ? this._commands.execute(new ac(this, e, t)) : void this.$_moveRow(e, t);
      }, i.prototype.$_moveRow = function(e, t) {
        this._checkClientState() && (this.$_checkRowIndex(e), this.$_checkRowIndex(t), this.fireRowMoving(e, t) && (this.$_internalMoveRow(e, t), this.tags.moveRow(e, t), this.fireRowMoved(e, t)));
      }, i.prototype.moveRows = function(e, t, o) {
        if (!(t < 1 || e == o))
          return this.undoable ? this._commands.execute(new lc(this, e, t, o)) : void this.$_moveRows(e, t, o);
      }, i.prototype.$_moveRows = function(e, t, o) {
        this._checkClientState() && (this.$_checkRowIndex(e), this.$_checkRowIndex(o), this.fireRowsMoving(e, t, o) && (this.$_internalMoveRows(e, t, o), this.tags.moveRows(e, t, o), this.fireRowsMoved(e, t, o)));
      }, i.prototype.moveRowList = function(e, t) {
        if (e && !(e.length < 1))
          return e = e.sort(function(o, r) {
            return o - r;
          }), this.undoable ? this._commands.execute(new hc(this, e, t)) : this.$_moveRowList(e, t);
      }, i.prototype.$_moveRowList = function(e, t) {
        if (this._checkClientState()) {
          var o = e[0];
          return this.$_checkRowIndex(o), this.$_checkRowIndex(t), this.fireRowListMoving(e, t) ? (this.$_internalMoveRowList(e, t), this.tags.moveRowList(e, t), this.fireRowListMoved(e, t), !0) : void 0;
        }
      }, i.prototype.getRowState = function(e) {
        return this.$_checkRowIndex(e), this._rowStates[e] || f.RowState.NONE;
      }, i.prototype.$_checkDeleted = function(e, t) {
        Je(t) ? this._deletedCount++ : Je(e) && !Je(t) && this._deletedCount--;
      }, i.prototype.setRowState = function(e, t, o) {
        return this.undoable ? this._commands.execute(new tc(this, e, t, o)) : this.$_setRowState(e, t, o);
      }, i.prototype.$_setRowState = function(e, t, o) {
        this._checkClientState() && (this.$_checkRowIndex(e), this._orgValues ? this.$_changeRowStateEx(e, t, !0, o, !1) : this.$_changeRowState(e, t, !0, o));
      }, i.prototype.setRowStates = function(e, t, o, r) {
        var n;
        if (r === void 0 && (r = !1), this._checkClientState() && e && !((n = e.length) < 1))
          if (r)
            for (var s = 0; s < n; s++) {
              var l = e[s];
              this.$_checkRowIndex(l), this.$_changeRowStateEx(l, t, !0, o, !1);
            }
          else {
            var h = [], u = this._rowStates;
            for (s = 0; s < n; s++) {
              var c = u[l = e[s]];
              this.$_checkRowIndex(l), t != c && (u[l] = t, h.push(l), this.$_checkDeleted(c, t), this._orgValues && this.prepareOrgValues(l, c, t));
            }
            h.length > 0 && this.fireRowStatesChanged(h);
          }
      }, i.prototype.clearRowStates = function(e, t) {
        t === void 0 && (t = !1), this.undoable ? this._commands.execute(new ic(this, e, t)) : this.$_clearRowStates(e, t);
      }, i.prototype.$_clearRowStates = function(e, t, o) {
        if (t === void 0 && (t = !1), o === void 0 && (o = !1), this._checkClientState()) {
          for (var r = [], n = o ? [] : null, s = o ? [] : null, l = this._rowStates.length; l--; ) {
            var h = this._rowStates[l];
            switch (n && (n[l] = h), s && (s[l] = null), h) {
              case f.RowState.CREATE_AND_DELETED:
              case f.RowState.DELETED:
                if (e) {
                  if (r.push(l), s) {
                    var u = this._keepRow(l);
                    u && (s[l] = u.values);
                  }
                  t ? this.$_deleteRow(l) : (this.$_internalRemoveRow(l), this.tags.removeRow(l), this._deletedCount--);
                } else
                  this.$_changeRowState(l, f.RowState.NONE, t), this._deletedCount--;
                break;
              default:
                this.$_changeRowState(l, f.RowState.NONE, t);
            }
          }
          return this.$_resetOrgValues(), t || (r.length > 0 && (this.fireRowsRemoved(r), this._fireRowCountChanged()), this.fireRowStatesCleared()), o ? { rows: r, states: n, values: s } : void 0;
        }
      }, i.prototype.$_restoreStates = function(e, t) {
        this.fireRowStatesChanged(e);
      }, i.prototype.getStateRows = function(e) {
        var t = [];
        if (e)
          for (var o = 0, r = this._rowStates.length; o < r; o++)
            this._rowStates[o] == e && t.push(o);
        return t;
      }, i.prototype.getAllStateRows = function() {
        for (var e = {}, t = e[f.RowState.CREATED] = [], o = e[f.RowState.UPDATED] = [], r = e[f.RowState.DELETED] = [], n = e[f.RowState.CREATE_AND_DELETED] = [], s = 0, l = this._rowStates.length; s < l; s++) {
          var h = this._rowStates[s];
          h === f.RowState.CREATED ? t.push(s) : h === f.RowState.UPDATED ? o.push(s) : h === f.RowState.DELETED ? r.push(s) : h === f.RowState.CREATE_AND_DELETED && n.push(s);
        }
        return e;
      }, i.prototype.getRowStateCount = function(e) {
        var t = e ? e.length : 0, o = this._rowStates.length, r = 0;
        if (t && o)
          if (t > 1)
            for (var n = 0; n < o; n++) {
              var s = this._rowStates[n];
              e.indexOf(s) >= 0 && r++;
            }
          else
            for (s = e[0], n = 0; n < o; n++)
              this._rowStates[n] === s && r++;
        return r;
      }, i.prototype.$_restoreState = function(e) {
        if (this._rowStates[e] === f.RowState.UPDATED) {
          var t = this._orgValues[e];
          if (t) {
            for (var o = this._values[e], r = this.strictRestore, n = 0, s = this.fieldCount; n < s; n++) {
              var l = o.length > n ? o[n] : void 0, h = t.length > n ? t[n] : void 0, u = this.getField(n);
              if (r) {
                if (!u.equalValues(l, h))
                  return !1;
              } else if (!u.sameValues(l, h))
                return !1;
            }
            return this._rowStates[e] = f.RowState.NONE, !0;
          }
        }
        return !1;
      }, i.prototype.restoreUpdatedStates = function(e) {
        if (this._orgValues && this._checkClientState()) {
          var t = [];
          if (e != null)
            for (var o = 0, r = e.length; o < r; o++) {
              var n = e[o];
              n >= 0 && n < this._values.length && this.$_restoreState(n) && t.push(n);
            }
          else
            for (o = 0, r = this._values.length; o < r; o++)
              this.$_restoreState(o) && t.push(o);
          t.length > 0 && this.fireRowStatesChanged(t);
        }
      }, i.prototype.$_restoreUpdatedRow = function(e) {
        if (this._rowStates[e] === f.RowState.UPDATED) {
          var t = this._orgValues[e];
          if (t) {
            for (var o = this._values[e], r = 0, n = Math.min(t.length, this.fieldCount); r < n; r++)
              o[r] = t[r];
            return this._rowStates[e] = f.RowState.NONE, !0;
          }
        }
        return !1;
      }, i.prototype.$_restoreRow = function(e, t, o, r) {
        this._values[e] = t.slice(), this._rowStates[e] = o, this._orgValues && (this._orgValues[e] = r && r.slice());
      }, i.prototype.restoreUpdatedRows = function(e) {
        if (this._orgValues && this._checkClientState()) {
          var t = [];
          if (e != null)
            for (var o = 0, r = e.length; o < r; o++) {
              var n = e[o];
              n >= 0 && n < this._values.length && this.$_restoreUpdatedRow(n) && t.push(n);
            }
          else
            for (o = 0, r = this._values.length; o < r; o++)
              this.$_restoreUpdatedRow(o) && t.push(o);
          t.length > 0 && (this.fireRestoreRows(t), this.fireRowStatesChanged(t));
        }
      }, i.prototype._reCalculateFields = function(e) {
        var t = this;
        this._values.forEach(function(o, r) {
          t._internalCalculateValues(o, r, e);
        });
      }, i.prototype.getUpdatedCells = function(e) {
        var t = this.restoreMode;
        if (!this._orgValues || t != f.RestoreMode.AUTO && t != f.RestoreMode.EXPLICIT || (e == null && (e = this.getStateRows(f.RowState.UPDATED)), e == null))
          return null;
        for (var o = [], r = 0, n = e.length; r < n; r++) {
          var s = e[r], l = s >= 0 && this._orgValues && s < this._orgValues.length ? this._orgValues[s] : null;
          if (l) {
            for (var h = this._values[s], u = this.strictRestore, c = [], d = 0, p = this.fieldCount; d < p; d++) {
              var _ = h.length > d ? h[d] : void 0, g = l.length > d ? l[d] : void 0, y = this.getField(d);
              y.calculated || (u ? y.equalValues(_, g) || c.push({ fieldName: this.getOrgFieldName(d), oldValue: l[d], newValue: h[d] }) : y.sameValues(_, g) || c.push({ fieldName: this.getOrgFieldName(d), oldValue: l[d], newValue: h[d] }));
            }
            c.length > 0 && o.push({ __rowId: s, updatedCells: c });
          }
        }
        return o;
      }, i.prototype._doRestoreModeChanged = function() {
        this.$_resetOrgValues();
      }, i.prototype.findRow = function(e, t, o) {
        if (o === void 0 && (o = 0), e.length < 1 || t.length < e.length)
          return -1;
        for (var r = [], n = [], s = this._values, l = 0, h = e.length; l < h; l++) {
          var u = void 0;
          (u = typeof e[l] == "string" ? this.getFieldIndex(e[l]) : Number(e[l])) >= 0 && u < this.fieldCount && r.indexOf(u) < 0 && (r.push(u), n.push(t[l]));
        }
        var c = r.length;
        for (l = 0; l < c; l++)
          r[l] = this.getField(r[l]);
        for (l = o, h = s.length; l < h; l++) {
          var d = s[l], p = !0;
          for (u = 0; u < c; u++)
            if (!r[u].equalValues(n[u], d[u])) {
              p = !1;
              break;
            }
          if (p)
            return l;
        }
        return -1;
      }, i.prototype.savePoint = function(e) {
        if (e === void 0 && (e = !0), this._checkClientState()) {
          var t = this._values, o = this.fieldCount, r = t ? t.length : 0;
          if (o > 0 && r > 0) {
            for (var n = new Array(r), s = 0; s < r; s++) {
              var l = t[s] && t[s].concat();
              n[s] = l;
            }
            var h = e ? this._rowStates.concat() : null, u = this._nextPoint++;
            return this._points.push({ id: u, data: n, states: h }), u;
          }
          return -1;
        }
      }, i.prototype.rollback = function(e) {
        if (this._checkClientState())
          for (var t = this._points.length - 1; t >= 0; t--) {
            var o = this._points[t];
            if (o.id == e) {
              this.$_removeSavePoints(t + 1), this.setRows(o.data);
              var r = o.states;
              r && (this._rowStates = r.concat());
              break;
            }
          }
      }, i.prototype.$_removeSavePoints = function(e) {
        for (var t = this._points, o = t.length - 1; o >= e; o--)
          t[o].data = null, t.pop();
      }, i.prototype.clearSavePoints = function() {
        this.$_removeSavePoints(0);
      }, i.prototype.getSavePoints = function() {
        for (var e = [], t = 0, o = this._points.length; t < o; t++)
          e.push(this._points[t].id);
        return e;
      }, i.prototype.canUpdateRow = function(e) {
        return !(this._rowStates[e] === f.RowState.NONE && !this.updatable);
      }, i.prototype.canAppendRow = function() {
        return !0;
      }, i.prototype.canInsertRow = function(e) {
        return !0;
      }, i.prototype.canDeleteRow = function(e) {
        return !0;
      }, i.prototype.getDistinctValues = function(e, t, o) {
        if (t === void 0 && (t = -1), o === void 0 && (o = f.SortDirection.ASCENDING), t = arguments.length > 1 ? t : -1, this._checkFieldIndex(e), t < 0 && (t = this._values.length), t > 0) {
          for (var r = this.getField(e).dataType, n = [], s = [], l = void 0, h = 0, u = this.rowCount; h < u; h++)
            switch (l = this._values[h] ? this._values[h][e] : void 0, r) {
              case f.ValueType.NUMBER:
                l != null && isNaN(l) || n.indexOf(l) < 0 && n.push(l);
                break;
              case f.ValueType.DATE:
              case f.ValueType.DATETIME:
                l ? s.indexOf(l.getTime()) < 0 && (s.push(l.getTime()), n.push(l)) : s.indexOf(void 0) < 0 && (s.push(void 0), n.push(void 0));
                break;
              case f.ValueType.OBJECT:
              default:
                n.indexOf(l) < 0 && n.push(l);
            }
          return o !== f.SortDirection.NONE && (n = b.included(r, f.ValueType.DATETIME, f.ValueType.DATE, f.ValueType.NUMBER) ? n.sort(function(c, d) {
            return c - d;
          }) : n.sort(), o === f.SortDirection.DESCENDING && (n = n.reverse())), n.slice(0, t);
        }
        return null;
      }, i.prototype.compareValues = function(e, t, o, r) {
        var n = this._values[t], s = this._values[o];
        if (n === s)
          return 0;
        var l = n ? n[e] : null, h = s ? s[e] : null;
        return l == null ? h == null ? 0 : -1 : h == null || (l = r ? String(l).toLowerCase() : l) > (h = r ? String(h).toLowerCase() : h) ? 1 : l < h ? -1 : 0;
      }, i.prototype.compareTexts = function(e, t, o) {
        return this.compareValues(e, t, o, !0);
      }, i.prototype.compareNumbers = function(e, t, o) {
        var r = this._values[t], n = this._values[o];
        if (r === n)
          return 0;
        var s = r ? r[e] : NaN, l = n ? n[e] : NaN;
        return isNaN(s) ? isNaN(l) ? 0 : -1 : isNaN(l) || s > l ? 1 : s < l ? -1 : 0;
      }, i.prototype.compareDates = function(e, t, o) {
        var r = this._values[t], n = this._values[o];
        if (r === n)
          return 0;
        var s = r ? r[e] : null, l = n ? n[e] : null;
        return s instanceof Date ? l instanceof Date ? s > l ? 1 : s < l ? -1 : 0 : 1 : l instanceof Date ? -1 : 0;
      }, i.prototype.compareBools = function(e, t, o) {
        var r = this._values[t], n = this._values[o];
        if (r === n)
          return 0;
        var s = !!r && !!r[e], l = !!n && !!n[e];
        return s && !l ? 1 : !s && l ? -1 : 0;
      }, i.prototype.compareObjects = function(e, t, o) {
        var r = this._values[t], n = this._values[o];
        if (r === n)
          return 0;
        var s = r ? r[e] : null, l = n ? n[e] : null;
        return s ? l ? this.getField(e).$_compareObject(s, l, t, o) : 1 : l ? -1 : 0;
      }, i.prototype.summarize = function(e, t) {
        var o = this.rowCount;
        if (o < 1)
          return !1;
        for (var r = [], n = 0; n < o; n++)
          r.push(n);
        return this.summarizeRange(e, r, t);
      }, i.prototype.summarizeRange = function(e, t, o) {
        if (e == null || t == null)
          return !1;
        e.clear();
        var r = t.length;
        if (r < 1)
          return !1;
        for (var n, s, l, h = this.getField(e.field).dataType === f.ValueType.NUMBER, u = 0, c = e.field, d = 0; d < r; ) {
          var p = t[d++];
          (v = (m = this._values[p]) && m[c]) == null || h && (!h || isNaN(v)) || (h && (n = u ? n + v : v), (h || v != "") && u++, (s == null || v < s) && (s = v), (l == null || v > l) && (l = v));
        }
        if (e.count = r, u > 0)
          if (e.sum = n, e.min = s, e.max = l, h && (e.avg = n / r), e.dataCount = u, h && (e.dataAvg = n / u), o && h) {
            for (var _ = 0, g = e.avg, y = 0; y < r; y++) {
              var m, v;
              p = t[y], (v = (m = this._values[p]) && m[c]) != null && (_ += Math.pow(v - g, 2));
            }
            e.varsp = _ / r, e.vars = _ / (r - 1);
          } else
            e.varsp = NaN, e.vars = NaN;
        return !0;
      }, i.prototype._keepRow = function(e) {
        var t = {};
        return t.rowId = this._rowIds[e], t.values = this._values[e] && this._values[e].slice(), t.state = this._rowStates[e], t.orgValues = this._orgValues && this._orgValues[e] && this._orgValues[e].slice(), t.outer = this._keepCommandStates(e), t;
      }, i.prototype._yieldRow = function(e, t, o) {
        o === void 0 && (o = !0), this._rowIds[e] = t.rowId, this._values[e] = t.values && t.values.slice(), this._rowStates[e] = t.state, this._orgValues && (this._orgValues[e] = t.orgValues && t.orgValues.slice()), o && this._yieldCommandStates(e, t.outer);
      }, i.prototype._keepStates = function(e) {
        var t = {};
        return t.rowId = this._rowIds[e], t.state = this._rowStates[e], t.orgValues = this._orgValues && this._orgValues[e] && this._orgValues[e].slice(), t;
      }, i.prototype._yieldStates = function(e, t) {
        this._rowIds[e] = t.rowId, this._rowStates[e] = t.state, this._orgValues && (this._orgValues[e] = t.orgValues && t.orgValues.slice());
      }, i.prototype._keepState = function(e) {
        return this._rowStates[e];
      }, i.prototype._yieldState = function(e, t) {
        this._rowStates[e] = t;
      }, i.prototype._keepOrgValues = function() {
        var e = this._orgValues;
        if (e) {
          for (var t = [], o = 0; o < e.length; o++)
            t.push(e[o] && e[o].slice());
          return t;
        }
        return null;
      }, i.prototype._yieldOrgValues = function(e) {
        if (this._orgValues)
          if (e) {
            this._orgValues = [];
            for (var t = 0; t < e.length; t++)
              this._orgValues.push(e[t] && e[t].slice());
          } else
            this._orgValues = e;
      }, i.prototype.$_checkRowIndex = function(e) {
        if (isNaN(e) || e < 0 || e >= this._values.length)
          throw b.isDebugging(), new Lt("row is out of bounds: " + e);
      }, i.prototype.$_resetOrgValues = function() {
        var e = this.restoreMode;
        this._orgValues = this.checkStates && e != f.RestoreMode.NONE ? [] : null, this._needRestore = this._orgValues && e == f.RestoreMode.AUTO;
      }, i.prototype.arrayToRow = function(e, t) {
        for (var o = Math.min(e ? e.length : 0, this.fieldCount), r = new Array(o), n = 0; n < o; n++)
          r[n] = this.getField(n).readValue(e[n]);
        return this._internalCalculateValues(r, t), r;
      }, i.prototype.$_internalSetRow = function(e, t, o) {
        var r = this.arrayToRow(t, e);
        this._values[e] = r, this._rowIds[e] = this._nextRowId++, this.checkStates && (this._rowStates[e] = f.RowState.NONE);
      }, i.prototype.$_internalInsertRow = function(e, t, o) {
        var r = this.arrayToRow(t, e), n = e == this._values.length;
        n ? (this._values.push(r), this._rowIds.push(this._nextRowId++)) : (this._values.splice(e, 0, r), this._rowIds.splice(e, 0, this._nextRowId++)), o && this.tags.insertRow(e), n ? this._rowStates.push(this.checkStates ? f.RowState.CREATED : f.RowState.NONE) : (this._rowStates.splice(e, 0, this.checkStates ? f.RowState.CREATED : f.RowState.NONE), this._orgValues && this._orgValues.splice(e, 0, void 0));
      }, i.prototype.$_updateRow = function(e, t, o) {
        if (this._checkClientState())
          return this.$_checkRowIndex(e), this.refreshFieldFormats(), !(!t || !this.fireRowUpdating(e, t)) && (this.$_internalUpdateRow(e, t, o, !0, !0), this.fireRowUpdated(e), !0);
      }, i.prototype.$_updateRows = function(e, t, o, r, n, s, l) {
        if (l === void 0 && (l = null), this._checkClientState() && t) {
          var h = t.length;
          if (!(h < 1) && (r = r < 0 ? h : Math.min(h, r)) != 0) {
            o = Math.max(0, o), this.refreshFieldFormats();
            var u = this.rowCount, c = Math.min(h, o + r);
            if (!(c <= o))
              if (l && (l.rows = [], l.values = [], l.states = [], l.orgValues = []), s)
                for (var d = e, p = o; p < c && d < u; p++, d++) {
                  var _ = t[p];
                  !this._values[d] && (this._values[d] = new Array(this.fieldCount)), this.fireRowUpdating(d, _) && (l && (l.rows.push(d), l.values.push(this._values[d].slice()), l.states.push(this._rowStates[d]), l.orgValues.push(this._orgValues && this._orgValues[d])), this.$_internalUpdateRow(d, _, n, !0, !0), this.fireRowUpdated(d));
                }
              else {
                var g = [];
                for (d = e, p = o; p < c && d < u; p++, d++)
                  this._rowStates[d] == f.RowState.NONE && g.push(d), !this._values[d] && (this._values[d] = new Array(this.fieldCount)), l && (l.rows.push(d), l.values.push(this._values[d].slice()), l.states.push(this._rowStates[d]), l.orgValues.push(this._orgValues && this._orgValues[d])), _ = t[p], this.$_internalUpdateRow(d, _, n, !1, !1);
                g.length > 0 && this.fireRowStatesChanged(g), this.tags.updateRows(e, r = c - o), this.fireRowsUpdated(e, r);
              }
          }
        }
      }, i.prototype.$_updateRows2 = function(e, t, o, r) {
        var n = this;
        if (this._checkClientState() && e)
          if (this.refreshFieldFormats(), r && (r.rows = [], r.values = [], r.states = [], r.orgValues = []), Object.keys(e).forEach(function(d) {
            return n.$_checkRowIndex(parseInt(d));
          }), o)
            for (var s in e) {
              var l = Number(s), h = e[s];
              !this._values[l] && (this._values[l] = new Array(this.fieldCount)), this.fireRowUpdating(l, h) && (r && (r.rows.push(l), r.values.push(this._values[l].slice()), r.states.push(this._rowStates[l]), r.orgValues.push(this._orgValues && this._orgValues[l])), this.$_internalUpdateRow(l, h, t, !0, !0), this.fireRowUpdated(l));
            }
          else {
            var u = [], c = [];
            for (var s in e)
              l = Number(s), this._rowStates[l] == f.RowState.NONE && u.push(l), !this._values[l] && (this._values[l] = new Array(this.fieldCount)), r && (r.rows.push(l), r.values.push(this._values[l].slice()), r.states.push(this._rowStates[l]), r.orgValues.push(this._orgValues && this._orgValues[l])), h = e[s], this.$_internalUpdateRow(l, h, t, !1, !1), c.push(l);
            u.length > 0 && this.fireRowStatesChanged(u), this.tags.updateRowList(c), this.fireRowListUpdated(c);
          }
      }, i.prototype.$_fillValue = function(e, t, o) {
        if (o === void 0 && (o = null), this._checkClientState() && Object.keys(e).length) {
          this.refreshFieldFormats(), o && (o.rows = [], o.values = [], o.states = [], o.orgValues = []);
          var r = [], n = [];
          for (var s in e) {
            n.push(+s), this._rowStates[s] == f.RowState.NONE && r.push(+s), !this._values[s] && (this._values[s] = new Array(this.fieldCount)), o && (o.rows.push(s), o.values.push(this._values[s].slice()), o.states.push(this._rowStates[s]), o.orgValues.push(this._orgValues && this._orgValues[s]));
            for (var l = this._values[s].slice(), h = 0, u = e[s]; h < u.length; h++)
              l[u[h]] = t;
            this.$_internalUpdateRow(+s, l, !1, !1, !1);
          }
          r.length > 0 && this.fireRowStatesChanged(r), this.tags.updateRowList(n), this.fireRowListUpdated(n);
        }
      }, i.prototype.$_internalUpdateRow = function(e, t, o, r, n) {
        var s, l = this.getFields(), h = b.isArray(t), u = Math.min(l.length, h ? t.length : l.length), c = this._values[e], d = this._rowStates[e], p = this.checkStates && (d == f.RowState.NONE || !d);
        c || (this._values[e] = c = new Array(this.fieldCount)), p && this._orgValues && (s = b.deepCopy(c));
        for (var _ = !1, g = 0; g < u; g++) {
          var y = l[g];
          if ((y.updatable || d == f.RowState.CREATED || d == f.RowState.CREATE_AND_DELETED) && (h || t.hasOwnProperty(y.orgFieldName))) {
            var m = h ? t[g] : t[y.orgFieldName];
            o && m === void 0 || (_ = !this._needRestore || _ || (o ? !y.equalValues(c[g], y.readValue(m)) : !y.sameValues(c[g], y.readValue(m))), c[g] = y.readValue(m));
          }
        }
        _ && this._internalCalculateValues(c, e), p && _ ? (s && (this._orgValues[e] = s), this.$_changeRowState(e, f.RowState.UPDATED, r)) : this._needRestore && this.restoreState(e), n && this.tags.updateRow(e);
      }, i.prototype.$_changeRowState = function(e, t, o, r, n) {
        if (r === void 0 && (r = !1), n === void 0 && (n = !1), this.checkStates || r) {
          var s = this._rowStates[e];
          if ((t = t || f.RowState.NONE) != s)
            return this._rowStates[e] = t, n && (!Je(s) && Je(t) ? this._deletedCount++ : Je(s) && !Je(t) && this._deletedCount--), o && this.fireRowStateChanged(e), !0;
        }
        return !1;
      }, i.prototype.restoreState = function(e) {
        if (this._rowStates[e] === f.RowState.UPDATED) {
          var t = this._orgValues[e];
          if (t) {
            for (var o = this._values[e], r = this.strictRestore, n = 0, s = this.fieldCount; n < s; n++) {
              var l = o.length > n ? o[n] : void 0, h = t.length > n ? t[n] : void 0;
              if (r) {
                if (!this.getField(n).equalValues(l, h))
                  return !1;
              } else if (!this.getField(n).sameValues(l, h))
                return !1;
            }
            return this._rowStates[e] = f.RowState.NONE, !0;
          }
        }
        return !1;
      }, i.prototype.prepareOrgValues = function(e, t, o) {
        o == f.RowState.UPDATED ? this._orgValues[e] = this._values[e] ? this._values[e].concat() : [] : t == f.RowState.UPDATED && this._orgValues[e] && (this._orgValues[e] = void 0);
      }, i.prototype.$_changeRowStateEx = function(e, t, o, r, n) {
        var s = this._rowStates[e];
        return !!this.$_changeRowState(e, t, !1, r, n) && (this._orgValues && this.prepareOrgValues(e, s, t), o && this.fireRowStateChanged(e), !0);
      }, i.prototype.$_getRowObject = function(e, t) {
        var o = {}, r = this._values[e];
        if (r) {
          for (var n = 0; n < this.fieldCount; n++)
            o[this.getOrgFieldName(n)] = r[n];
          t && (o.__rowState = this.getRowState(e));
        }
        return o;
      }, i.prototype.$_deleteRow = function(e) {
        if (this.fireRowRemoving(e)) {
          var t = this._rowStates[e];
          return this.$_internalRemoveRow(e), Je(t) && this._deletedCount--, this.tags.removeRow(e), this.fireRowRemoved(e), this._fireRowCountChanged(), !0;
        }
        return !1;
      }, i.prototype.$_internalRemoveRow = function(e) {
        var t = this._rowIds[e];
        this._hiddenIds.indexOf(t) >= 0 && this._hiddenIds.splice(this._hiddenIds.indexOf(t), 1), this._values.splice(e, 1), this._rowIds.splice(e, 1), this._orgValues && this._orgValues.length > e && this._orgValues.splice(e, 1), this._rowStates.splice(e, 1);
      }, i.prototype.$_internalMoveRow = function(e, t) {
        var o = this._values[e], r = this._rowIds[e], n = this._rowStates[e];
        this._values.splice(e, 1), this._rowIds.splice(e, 1), this._rowStates.splice(e, 1), this._values.splice(t, 0, o), this._rowIds.splice(t, 0, r), this._rowStates.splice(t, 0, n), this._orgValues && (this._orgValues.length = Math.max(this._orgValues.length, t + 1), o = this._orgValues[e], this._orgValues.splice(e, 1), this._orgValues.splice(t, 0, o));
      }, i.prototype.$_internalMoveRows = function(e, t, o) {
        for (var r = this._values.splice(e, t), n = this._rowIds.splice(e, t), s = this._rowStates.splice(e, t), l = 0, h = r.length; l < h; l++)
          this._values.splice(o + l, 0, r[l]), this._rowIds.splice(o + l, 0, n[l]), this._rowStates.splice(o + l, 0, s[l]);
        if (this._orgValues)
          for (this._orgValues.length = Math.max(this._orgValues.length, o + t + 1), l = 0, h = (r = this._orgValues.splice(e, t)).length; l < h; l++)
            this._orgValues.splice(o + l, 0, r[l]);
      }, i.prototype.$_internalMoveRowList = function(e, t) {
        for (var o = [], r = [], n = [], s = e.length - 1; s >= 0; s--) {
          var l = e[s];
          o.push(this._values.splice(l, 1)[0]), r.push(this._rowIds.splice(l, 1)[0]), n.push(this._rowStates.splice(l, 1)[0]);
        }
        o = o.reverse(), r = r.reverse(), n = n.reverse(), s = 0;
        for (var h = e.length; s < h; s++)
          this._values.splice(t + s, 0, o[s]), this._rowIds.splice(t + s, 0, r[s]), this._rowStates.splice(t + s, 0, n[s]);
        if (this._orgValues) {
          for (o = [], this._orgValues.length = Math.max(this._orgValues.length, t + e.length + 1), s = e.length - 1; s >= 0; s--)
            o.push(this._orgValues.splice(e[s], 1)[0]);
          for (o = o.reverse(), s = 0, h = e.length; s < h; s++)
            this._orgValues.splice(t + s, 0, o[s]);
        }
      }, i.prototype.$_searchDataRow = function(e, t, o, r, n) {
        var s = this.rowCount;
        if (s < 1)
          return -1;
        var l = Math.min(e.length, t.length);
        if (l < 1)
          return -1;
        for (var h = o.allFields, u = o.caseSensitive, c = o.partialMatch, d = null, p = [], _ = o.reverse, g = o.compareCallback || b.compareTextValue, y = 0; y < l; y++)
          p[y] = this.getField(e[y]).dataType;
        r = Math.max(0, r), n = Math.min(s - 1, n);
        for (var m = r; _ ? m >= n : m <= n; _ ? m-- : m++) {
          var v = !0;
          for (y = 0; y < l; y++) {
            var C = this.getValue(m, e[y]), x = this.getOrgFieldName(e[y]);
            switch (p[y]) {
              case f.ValueType.DATETIME:
              case f.ValueType.DATE:
                if (t[y] instanceof Date)
                  v = g.call(this.$_handler, t[y], C, u, c, m, x);
                else {
                  if (!d) {
                    var S = /[.]/.test(t[y]) ? "yyyy.MM.dd" : /[/]/.test(t[y]) ? "yyyy/MM/dd" : /[-]/.test(t[y]) ? "yyyy-MM-dd" : "yyyyMMdd";
                    d = new Ne(S);
                  }
                  v = g.call(this.$_handler, t[y], C && d.getText(C), u, c, m, x);
                }
                break;
              default:
                v = g.call(this.$_handler, t[y], C, u, c, m, x);
            }
            if (v && !h)
              return m;
            if (!v && h)
              break;
          }
          if (v)
            return m;
        }
        return -1;
      }, i.prototype.searchDataRow = function(e) {
        var t = -1;
        e instanceof Ui || (e.reverse && !e.hasOwnProperty("startIndex") && (e.startIndex = this.rowCount - 1), e = new Ui(e));
        var o = e.fields, r = e.values, n = e.startIndex;
        if (o && o.length > 0 && r && r.length > 0) {
          for (var s = o.length, l = [], h = 0; h < s; h++) {
            var u = parseFloat(o[h]);
            if (isNaN(u)) {
              var c = this.getFieldIndex(o[h]);
              c >= 0 && l.push(c);
            } else
              l.push(u);
          }
          if (l.length > 0) {
            s = this.rowCount;
            var d = e.reverse;
            n = d ? Math.min(s, n) : Math.max(0, n), (t = (d ? n > -1 : n < s) ? this.$_searchDataRow(l, r, e, n, d ? 0 : s - 1) : -1) < 0 && e.wrap && (d ? n < s - 1 : n > 0) && (t = this.$_searchDataRow(l, r, e, d ? s - 1 : 0, d ? n + 1 : n - 1));
          }
        }
        return t;
      }, i.prototype.$_searchData = function(e, t, o, r, n, s) {
        var l = this.rowCount;
        if (l < 1)
          return null;
        for (var h = o.caseSensitive, u = o.partialMatch, c = this.fieldCount, d = e.length, p = o.reverse, _ = null, g = [], y = 0; y < c; y++)
          g[y] = this.getField(y).dataType;
        r = Math.max(0, r), n = Math.max(0, Math.min(l - 1, n)), s = Math.max(p ? -1 : 0, Math.min(s, d)), p ? s < 0 && (r--, s = d - 1) : s >= e.length && (r++, s = 0);
        for (var m = o.compareCallback || b.compareTextValue, v = r; p ? v >= n : v <= n; p ? v-- : v++)
          for (y = p ? v < r ? d - 1 : s : v > r ? 0 : s; p ? y >= 0 : y < d; p ? y-- : y++) {
            var C = e[y];
            if (C >= 0 && C < c) {
              var x = this.getValue(v, C), S = !1, I = this.getOrgFieldName(C);
              switch (g[C]) {
                case f.ValueType.DATETIME:
                case f.ValueType.DATE:
                  if (t instanceof Date)
                    S = m.call(this.$_handler, t, x, h, u, v, I);
                  else {
                    if (!_) {
                      var E = /[.]/.test(t) ? "yyyy.MM.dd" : /[/]/.test(t) ? "yyyy/MM/dd" : /[-]/.test(t) ? "yyyy-MM-dd" : "yyyyMMdd";
                      _ = new Ne(E);
                    }
                    S = m.call(this.$_handler, t, x && _.getText(x), h, u, v, I);
                  }
                  break;
                default:
                  S = m.call(this.$_handler, t, x, h, u, v, I);
              }
              if (S)
                return { dataRow: v, fieldIndex: C, searchFieldIndex: y, fieldName: I };
            }
          }
        return null;
      }, i.prototype.searchData = function(e) {
        var t = this, o = e.value, r = this.rowCount, n = e.fields = b.makeArray(e.fields);
        n && n.length || (n = this.getOrgFieldNames());
        var s = [];
        if (!(n && n.length > 0 && o != null))
          return null;
        n.forEach(function(g) {
          s.push(t.getFieldIndex(g));
        }), e instanceof zi || (e.reverse && (e.hasOwnProperty("startIndex") || (e.startIndex = r - 1), e.hasOwnProperty("startFieldIndex") || (e.startFieldIndex = s.length - 1)), e = new zi(e));
        var l = null, h = e.reverse, u = s.length, c = h ? Math.min(r - 1, e.startIndex) : Math.max(0, e.startIndex), d = h ? 0 : r - 1, p = h ? Math.min(u - 1, e.startFieldIndex) : Math.max(0, e.startFieldIndex), _ = h ? c < r - 1 || p < u - 1 : c > 0 || p > 0;
        return !(l = (h ? c >= 0 && p >= 0 : c < r) ? this.$_searchData(s, o, e, c, d, p) : null) && e.wrap && _ && (l = this.$_searchData(s, o, e, h ? r - 1 : 0, c - 1, h ? p : 0)), l && (l.fieldName = this.getOrgFieldName(l.fieldIndex)), l;
      }, i.prototype.isDataChanged = function(e, t) {
        if (this._rowStates[e] !== f.RowState.UPDATED || !this._orgValues)
          return !1;
        if (this.$_checkRowIndex(e), this._checkFieldIndex(t), this._orgValues[e]) {
          var o = this._orgValues[e][t], r = this.getValue(e, t), n = this.getField(t);
          return n && !n.sameValues(o, r);
        }
        return !1;
      }, i.prototype.$_hideRows = function(e, t) {
        if (e != null) {
          for (var o = b.isArray(e) ? e : [e], r = [], n = this._hiddenIds.length, s = 0, l = o.length; s < l; s++) {
            var h = this.getRowId(o[s]);
            if (h != null)
              if (r.push(h), t)
                this._hiddenIds.indexOf(h) < 0 && this._hiddenIds.push(h);
              else {
                var u = this._hiddenIds.indexOf(h);
                u >= 0 && this._hiddenIds.splice(u, 1);
              }
          }
          this._hiddenIds.length !== n && this.fireRowHided(r, t);
        }
      }, i.prototype.hideRows = function(e) {
        this.$_hideRows(e, !0);
      }, i.prototype.showRows = function(e) {
        this.$_hideRows(e, !1);
      }, i.prototype.clearHiddenRows = function() {
        this._hiddenIds.length > 0 && (this._hiddenIds = [], this.fireRowHided([], !1));
      }, i.prototype.getHiddenRows = function() {
        for (var e = [], t = 0, o = this._hiddenIds.length; t < o; t++) {
          var r = this._rowIds.indexOf(this._hiddenIds[t]);
          r >= 0 && e.push(r);
        }
        return e.sort(function(n, s) {
          return n - s;
        }), e;
      }, i.prototype.isHiddenRow = function(e) {
        var t = this._rowIds[e];
        return this._hiddenIds.indexOf(t) >= 0;
      }, Object.defineProperty(i.prototype, "hiddenCount", { get: function() {
        return this._hiddenIds.length;
      }, enumerable: !1, configurable: !0 }), i.prototype.undo = function() {
        this.canUndo && this._commands.undo();
      }, i.prototype.redo = function() {
        this.canRedo && this._commands.redo(!0);
      }, i.prototype.clearCommandStack = function() {
        this._commands && this._commands.flush();
      }, i;
    }(mn), pc = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._tags = new Array(), t._owner = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.add = function(e) {
        if (e) {
          var t = this._tags || (this._tags = []);
          t.indexOf(e) < 0 && t.push(e), e.connect(this._owner);
        }
      }, i.prototype.remove = function(e) {
        if (e && this._tags) {
          var t = this._tags.indexOf(e);
          t >= 0 && (this._tags.splice(t, 1), e.disconnect());
        }
      }, i.prototype.clearRows = function() {
        if (this._tags)
          for (var e = this._tags.length; e--; )
            this._tags[e].clearRows();
      }, i.prototype.setRows = function() {
        if (this._tags)
          for (var e = this._tags.length; e--; )
            this._tags[e].setRows();
      }, i.prototype.addRow = function(e) {
        if (this._tags)
          for (var t = this._tags.length; t--; )
            this._tags[t].addRow(e);
      }, i.prototype.addRows = function(e) {
        if (this._tags)
          for (var t = this._tags.length; t--; )
            this._tags[t].addRows(e);
      }, i.prototype.removeRow = function(e) {
        if (this._tags)
          for (var t = this._tags.length; t--; )
            this._tags[t].removeRow(e);
      }, i.prototype.removeRows = function(e) {
        if (this._tags)
          for (var t = this._tags.length; t--; )
            this._tags[t].removeRows(e);
      }, i.prototype.updateRow = function(e) {
        if (this._tags)
          for (var t = this._tags.length; t--; )
            this._tags[t].updateRow(e);
      }, i.prototype.updateRows = function(e) {
        if (this._tags)
          for (var t = this._tags.length; t--; )
            this._tags[t].updateRows(e);
      }, i;
    }(J), oe = function() {
      function a() {
      }
      return a.parse = function(i) {
        return new window.DOMParser().parseFromString(i, "text/xml");
      }, a.toString = function(i) {
        return new window.XMLSerializer().serializeToString(i);
      }, a.getNodeValue = function(i) {
        return i.firstChild.nodeValue;
      }, a.getAttr = function(i, e) {
        return i.getAttribute(e);
      }, a.setAttr = function(i, e, t) {
        i.setAttribute(e, t);
      }, a.addChild = function(i, e, t) {
        var o = i.createElement(t);
        return e.appendChild(o), o;
      }, a.addChildWithAttr = function(i, e, t, o, r) {
        var n = i.createElement(t);
        return n.setAttribute(o, r), e.appendChild(n), n;
      }, a.addChildWithValue = function(i, e, t, o) {
        var r = i.createElement(t);
        return r.nodeValue = o, e.appendChild(r), r;
      }, a.parseXml = function(i) {
        var e = null;
        try {
          (e = new ActiveXObject("Microsoft.XMLDOM")).async = !1, e.loadXML(i);
        } catch (t) {
          if (e)
            throw t;
          e = new window.DOMParser().parseFromString(i, "text/xml");
        }
        return e;
      }, a;
    }();
    function da(a, i) {
      var e = [];
      if (a) {
        var t = a.childNodes;
        if (t)
          for (var o = 0, r = t.length; o < r; o++) {
            var n = t[o];
            n.tagName === i && e.push(n);
          }
      }
      return e;
    }
    var hr, Yi = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.extractJson = function(e, t) {
        var o = e;
        if (t = t && t.trim())
          for (var r = t.split("."), n = 0; n < r.length; n++) {
            var s = r[n] && r[n].trim();
            if (s) {
              var l = s.indexOf("["), h = s.lastIndexOf("]");
              if (l > 0 && h > l) {
                var u = s.substring(0, l), c = u != "$" ? o[u] : o;
                if (Array.isArray(c)) {
                  u = s.substring(l + 1, h);
                  var d = parseInt(u);
                  o = d >= 0 && d < c.length ? c[d] : null;
                } else
                  o = null;
              } else
                s != "$" && (o = o[s]);
              if (!o)
                break;
            }
          }
        return Array.isArray(o) ? o : null;
      }, i.extractXml = function(e, t) {
        var o = null;
        if (t = t && t.trim())
          for (var r = t.split("."), n = 0; n < r.length; n++) {
            var s = r[n] && r[n].trim();
            if (s) {
              var l = s.indexOf("["), h = s.lastIndexOf("]");
              if (l > 0 && h > l) {
                var u = s.substring(0, l);
                (o = da(o ? o[0] : e, u)) && (u = s.substring(l + 1, h), o = o[parseInt(u)]);
              } else
                o = da(o ? o[0] : e, s);
              if (!o)
                break;
            }
          }
        return o;
      }, i;
    }(J);
    f.DataFillMode = void 0, (hr = f.DataFillMode || (f.DataFillMode = {})).SET = "set", hr.APPEND = "append", hr.INSERT = "insert", hr.UPDATE = "update";
    var pa, Cn, Ft = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        if (t.fillMode = f.DataFillMode.SET, t.fillPos = 0, t.count = -1, t.rootArray = !0, t.rows = "row", t.start = 0, t.delimiter = ",", t.quoted = !1, t.parentId = 0, t.childrenField = null, t.treeField = null, t.iconField = null, t.needSorting = !1, t.noStates = !1, e) {
          for (var o in e)
            e[o] != null && (t[o] = e[o]);
          t.parentId = e.parentId || e.parent, t.childrenField = e.childrenField || e.children, t.treeField = e.treeField || e.tree, t.iconField = e.iconField || e.icon, t.needSorting = e.needSorting || e.sorting;
        }
        return t;
      }
      return w(i, a), i;
    }(J), fc = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._provider = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._provider = null;
      }, i.prototype.load = function(e, t, o) {
        var r = new Ft(o);
        if (this._checkEmpty(t, r))
          return 0;
        var n = this._provider.checkStates;
        r.noStates && (this._provider.checkStates = !1);
        try {
          switch (e) {
            case "json":
              return this._loadJson(t, r);
            case "xml":
              return this._loadXml(t, r);
            case "csv":
              return this._loadCsv(t, r);
          }
        } finally {
          this._provider.checkStates = n, this._provider.fireDataLoadComplated();
        }
      }, i.prototype._loadJson = function(e, t) {
        typeof e == "string" && (e = JSON.parse(e));
        var o = null;
        if (t.rootArray && (o = b.isArray(e) ? e : null), o || (o = Yi.extractJson(e, t.rows)), o) {
          var r = t.fillPos, n = t.start, s = t.count;
          switch (t.fillMode) {
            case f.DataFillMode.APPEND:
              this._provider.appendRows(o, n, s);
              break;
            case f.DataFillMode.INSERT:
              this._provider.insertRows(r, o, n, s);
              break;
            case f.DataFillMode.UPDATE:
              this._provider.updateRows(r, o, n, s, !1);
              break;
            case f.DataFillMode.SET:
            default:
              this._provider.setRows(o, n, s);
          }
          return o.length;
        }
        return this._fillEmpty(t), 0;
      }, i.prototype._loadXml = function(e, t) {
        if (typeof e == "string" && (e = oe.parse(e)), e && e.documentElement) {
          var o = t.fillPos, r = t.start, n = t.count, s = t.rows, l = Yi.extractXml(e.documentElement, s);
          switch (t.fillMode) {
            case f.DataFillMode.APPEND:
              this._provider.appendXmlRows(l, r, n);
              break;
            case f.DataFillMode.INSERT:
              this._provider.insertXmlRows(o, l, r, n);
              break;
            case f.DataFillMode.UPDATE:
              this._provider.updateXmlRows(o, l, r, n);
              break;
            case f.DataFillMode.SET:
            default:
              this._provider.setXmlRows(l, r, n);
          }
          return l.length;
        }
        return this._fillEmpty(t), 0;
      }, i.prototype._loadCsv = function(e, t) {
        var o = t.fillPos, r = t.start, n = t.count, s = t.quoted, l = t.delimiter, h = Ti.csvToArray(this._provider, e, r, n, s, l);
        if (h && (n = h.length) > 0) {
          switch (t.fillMode) {
            case f.DataFillMode.APPEND:
              this._provider.appendRows(h, 0, n);
              break;
            case f.DataFillMode.INSERT:
              this._provider.insertRows(o, h, 0, n);
              break;
            case f.DataFillMode.UPDATE:
              this._provider.updateRows(o, h, 0, n, !1);
              break;
            case f.DataFillMode.SET:
            default:
              this._provider.setRows(h, 0, n);
          }
          return h.length;
        }
        return this._fillEmpty(t), 0;
      }, i.prototype._fillEmpty = function(e) {
        e.fillMode === f.DataFillMode.SET && this._provider.setRows(null);
      }, i.prototype._checkEmpty = function(e, t) {
        return !e && (this._fillEmpty(t), !0);
      }, i;
    }(J), fa = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._rowCount = 0, o._ds = e, o._rootRow = t, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "provider", { get: function() {
        return this._ds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rootRow", { get: function() {
        return this._rootRow;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "insertedRows", { get: function() {
        return this._rows;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "insertedCount", { get: function() {
        return this._rowCount;
      }, enumerable: !1, configurable: !0 }), i.prototype._prepareLoad = function(e) {
        this._rowCount = 0, this._rows = [];
      }, i.prototype._createRow = function(e, t, o) {
        return this._ds.createRow(o, isNaN(o[t]) ? -1 : o[t], o[e], !1);
      }, i.prototype._createRow2 = function(e, t, o) {
        return this._ds.createRow(o, t, e, !1);
      }, i.prototype._rowAdded = function(e, t) {
        this._rowCount++, this._rows && t.parent === e && this._rows.push(t);
      }, i.prototype._addRow = function(e, t, o, r, n) {
        var s = this._createRow(o, r, n);
        return t._insertChild(t.count, s, !0, !0), this._rowAdded(e, s), s;
      }, i.prototype._addRow2 = function(e, t, o, r, n) {
        var s = this._createRow2(o, r, n);
        return t._insertChild(t.count, s, !0, !0), this._rowAdded(e, s), s;
      }, i;
    }(J), xn = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype._loadData = function(e, t, o, r, n, s) {
        if (this._prepareLoad(t), !e || e.length < 1)
          return this._rowCount;
        for (var l = this.provider, h = e.length, u = [], c = new Array(e.length), d = 0; d < h; d++)
          if (u[d] = d, Array.isArray(e[d])) {
            if (Array.isArray(e[d]))
              for (var p = c[d] = new Array(l.fieldCount), _ = 0, g = l.fieldCount; _ < g; _++)
                p[_] = e[d][_];
          } else
            c[d] = this.provider.objectToRow(e[d]);
        r && this.$_sortRows(u, c, o, 0, h - 1), l.beginUpdate();
        try {
          this.$_buildTree(t || this.rootRow, u, c, o, n, s);
        } finally {
          l.endUpdate(!1);
        }
        return this.insertedCount;
      }, i.prototype.$_sortRows = function(e, t, o, r, n) {
        function s(d, p) {
          var _ = t[d][o], g = t[p][o];
          return _ == g ? 0 : _ < g ? -1 : 1;
        }
        do {
          var l = r, h = n, u = e[Math.floor((r + n) / 2)];
          do {
            for (; !(s(u, e[l]) <= 0); )
              l++;
            for (; !(s(u, e[h]) >= 0); )
              h--;
            if (l <= h) {
              if (l != h) {
                var c = e[l];
                e[l] = e[h], e[h] = c;
              }
              l++, h--;
            }
          } while (l <= h);
          r < h && this.$_sortRows(e, t, o, r, h), r = l;
        } while (r < n);
      }, i.prototype.$_buildTree = function(e, t, o, r, n, s) {
        function l(g, y, m, v) {
          for (var C = v[r]; y != e; ) {
            var x = y.getValue(r);
            if (g.parentCallback) {
              if (g.parentCallback(x, C))
                return y;
            } else if (C.indexOf(x) == 0)
              return y;
            y = y.parent;
          }
          return e;
        }
        var h = t[0], u = this._createRow(n, s, o[h]), c = l(this, e, 0, o[h]);
        if (c._insertChild(c.count, u, !0, !0), this._rowAdded(e, u), t.length > 1)
          for (var d = t.length, p = u, _ = 1; _ < d; _++)
            h = t[_], u = this._createRow(n, s, o[h]), (c = l(this, p, 0, o[h]))._insertChild(c.count, u, !0, !0), this._rowAdded(e, u), p = u;
      }, i;
    }(fa), _a = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype.load = function(e, t, o, r, n, s) {
        return this._loadData(t, e, o, r, n, s);
      }, i;
    }(xn), ga = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype.load = function(e, t, o, r, n, s) {
        var l = Ti.csvToArray(this.provider, t);
        return this._loadData(l, e, o, r, n, s);
      }, i;
    }(xn), In = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype.load = function(e, t, o, r, n) {
        if (this._prepareLoad(e), t) {
          var s = Yi.extractJson(t, o);
          if (s && s.length > 0) {
            this.provider.beginUpdate();
            try {
              this.$_buildJsonTree(this.provider, e || this.rootRow, s, o, r, n);
            } finally {
              this.provider.endUpdate(!1);
            }
          }
        }
        return this._rowCount;
      }, i.prototype.load2 = function(e, t, o, r, n, s) {
        if (this._prepareLoad(e), t) {
          var l = Yi.extractJson(t, o);
          if (l && l.length > 0) {
            this.provider.beginUpdate();
            try {
              this.$_buildJsonTree2(this.provider, e || this.rootRow, l, r, n, s);
            } finally {
              this.provider.endUpdate(!1);
            }
          }
        }
        return this._rowCount;
      }, i.prototype.$_buildJsonTree = function(e, t, o, r, n, s) {
        var l = e.getOrgFieldNames();
        (function h(u, c, d, p) {
          for (var _ = p.length, g = 0, y = d.length; g < y; g++) {
            for (var m = d[g], v = new Array(_), C = 0; C < _; C++) {
              var x = p[C];
              m.hasOwnProperty(x) && (v[C] = m[x]);
            }
            var S = u._addRow(t, c, n, s, v);
            if (m.hasOwnProperty(r)) {
              var I = m[r];
              Array.isArray(I) && I.length > 0 && h(u, S, I, p);
            }
          }
        })(this, t, o, l);
      }, i.prototype.$_buildJsonTree2 = function(e, t, o, r, n, s) {
        var l = e.getOrgFieldNames();
        (function h(u, c, d, p) {
          for (var _ = p.length, g = 0, y = d.length; g < y; g++) {
            for (var m = d[g], v = new Array(_), C = 0; C < _; C++) {
              var x = p[C];
              m.hasOwnProperty(x) && (v[C] = m[x]);
            }
            var S = u._addRow2(t, c, m[n], isNaN(m[s]) ? -1 : m[s], v);
            if (m.hasOwnProperty(r)) {
              var I = m[r];
              Array.isArray(I) && I.length > 0 && h(u, S, I, p);
            }
          }
        })(this, t, o, l);
      }, i;
    }(fa), ya = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype.load = function(e, t, o, r, n) {
        if (this._prepareLoad(e), t) {
          var s = typeof t == "string" ? oe.parseXml(t) : t;
          if (s) {
            var l = Yi.extractXml(s.documentElement, o);
            if (l && l.length > 0) {
              this.provider.beginUpdate();
              try {
                this.$_buildXmlTree(this.provider, e || this.rootRow, l, o, r, n);
              } finally {
                this.provider.endUpdate(!1);
              }
            }
          }
        }
        return this._rowCount;
      }, i.prototype.$_buildXmlTree = function(e, t, o, r, n, s) {
        (function l(h, u, c, d, p) {
          for (var _ = 0, g = c.length; _ < g; _++) {
            var y = c[_], m = Ti.xmlToRow(y, d, p), v = h._addRow(t, u, n, s, m), C = Yi.extractXml(y, r);
            C && C.length > 0 && l(h, v, C, d, p);
          }
        })(this, t, o, e.getFields(), e.getOrgFieldNames());
      }, i;
    }(xn), ur = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i;
    }(ua), _c = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i;
    }(vn), gc = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e) || this;
        return n._row = t, n._values = n._cloneRow(o), n._strict = r, n;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = {};
        return t.row = this._row._keepRow(e), (t.result = this._row.$_update(e, this._values, this._strict, !1)) && (this._newState = this._row.rowState), t;
      }, i.prototype._doRedo = function(e, t) {
        this._row.$_update(e, this._values, this._strict, !1);
      }, i.prototype._doUndo = function(e, t) {
        this._row._yieldRow(e, t.row), t.row.state != this._newState && e._fireRowStateChanged(this._row, !1), e._rowUpdated(this._row);
      }, i;
    }(ur), qi = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._children = null, t._descendantCount = 0, t._rowId = e && e._nextRowId++, t;
      }
      return w(i, a), i.getRowIds = function(e) {
        if (!e)
          return null;
        for (var t = [], o = 0, r = e; o < r.length; o++) {
          var n = r[o];
          t.push(n.rowId);
        }
        return t;
      }, i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "rowId", { get: function() {
        return this._rowId;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "provider", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "parent", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        var e = this.parent;
        return e != null ? e._children.indexOf(this) : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "level", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconIndex", { get: function() {
        return -1;
      }, set: function(e) {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hasChildren", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._children ? this._children.length : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "descendantCount", { get: function() {
        return this._descendantCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "children", { get: function() {
        return this._children ? this._children.concat() : null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "descendants", { get: function() {
        if (this._children) {
          var e = [];
          return function t(o, r) {
            for (var n = 0, s = o.count; n < s; n++) {
              var l = o.getChild(n);
              r.push(l), t(l, r);
            }
          }(this, e), e;
        }
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "ancestors", { get: function() {
        var e = null, t = this.parent;
        if (t)
          for (e = []; t && t.rowId >= 0; )
            e.push(t), t = t.parent;
        return e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowState", { get: function() {
        return f.RowState.NONE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "values", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), i.prototype.getChild = function(e) {
        if (e >= 0) {
          if (!this._children || e >= this._children.length)
            throw new RangeError("Index is invalid: " + e);
          return this._children[e];
        }
        throw new RangeError("Index is invalid: " + e);
      }, i.prototype.getChildObjects = function(e, t, o, r, n, s) {
        s === void 0 && (s = -1);
        var l = this._children;
        if (l) {
          var h = [];
          t = t || "rows", o = o || "iconIndex";
          for (var u = 0, c = l.length; u < c; u++) {
            var d = l[u], p = d.getObject();
            r && (p.__rowId = d._rowId), n && (p.__rowState = d.rowState), e && s !== 0 && (p[t] = d.getChildObjects(e, t, o, r, n, s - 1)), p[o] = d.iconIndex, h.push(p);
          }
          return h;
        }
        return null;
      }, i.prototype.$_createTreeOutputRows = function(e, t, o) {
        var r = [];
        (function O(P, R, T) {
          for (var D = 0, M = P.length; D < M; D++) {
            var V = P[D];
            R.push(P[D]), T && V[T] && V[T].length && O(V[T], R, T);
          }
        })(e, r, o);
        var n, s = this.provider, l = s.fieldCount, h = r.length;
        t instanceof Wi || (t = new Wi(t));
        for (var u = t.nullDateText, c = t.nullText, d = t.nanText, p = this.provider.handler, _ = 0; _ < l; _++) {
          var g = s.getField(_), y = g.orgFieldName, m = void 0, v = void 0;
          if (g.dataType == f.ValueType.DATETIME && ((m = t.datetimeCallback) || (v = t.datetimeWriter) || u != null && u != null))
            if (m)
              for (var C = 0; C < h; C++)
                (n = r[C])[y] = m(p, n._rowId, y, n[y]);
            else
              for (C = 0; C < h; C++) {
                var x = (n = r[C])[y];
                n[y] = x ? v ? v.getText(n[y]) : x : u;
              }
          else if (g.dataType == f.ValueType.BOOLEAN && ((m = t.booleanCallback) || (v = t.booleanFormatter)))
            if (m)
              for (C = 0; C < h; C++)
                (n = r[C])[y] = m(p, n._rowId, y, n[y]);
            else
              for (C = 0; C < h; C++)
                (n = r[C])[y] = v.formatValue(n[y]);
          else if (g.dataType == f.ValueType.NUMBER && ((m = t.numberCallback) || (v = t.numberFormatter) || d != null && d != null))
            if (m)
              for (C = 0; C < h; C++)
                (n = r[C])[y] = m(p, n._rowId, y, n[y]);
            else
              for (C = 0; C < h; C++) {
                var S = (n = r[C])[y];
                n[y] = S == null || isNaN(S) ? d : v ? v.getText(S) : S;
              }
          else if (c != null && c != null)
            for (C = 0; C < h; C++)
              S = (n = r[C])[y], n[y] = S == null || S == null ? c : S;
        }
        for (var I = 0, E = r.length; I < E; I++)
          delete r[I]._rowId;
      }, i.prototype.getOutput = function(e, t) {
        if (e) {
          var o = this.getObject();
          return o && (o[t || "iconIndex"] = this.iconIndex, o._rowId = this._rowId, e.rowState && (o.__rowState = this.rowState), this.$_createTreeOutputRows([o], e)), o;
        }
        return null;
      }, i.prototype.getChildOutputObjects = function(e, t, o, r) {
        var n = this.getChildObjects(t, o, r, !0, e?.rowState);
        return n && e && this.$_createTreeOutputRows(n, e, o), n;
      }, i.prototype.findById = function(e) {
        if (this._children)
          for (var t = 0, o = this._children.length; t < o; t++) {
            var r = this._children[t];
            if (r.rowId == e || (r = r.findById(e)))
              return r;
          }
        return null;
      }, i.prototype.indexOf = function(e) {
        return this._children ? this._children.indexOf(e) : -1;
      }, i.prototype.insertChild = function(e, t, o) {
        return this._insertChild(e, t, !1, o);
      }, i.prototype.addChild = function(e, t) {
        return this._insertChild(this.count, e, !1, t);
      }, i.prototype.insertChildren = function(e, t, o) {
        return this._insertChildren(e, t, !1, o);
      }, i.prototype.removeChild = function(e, t) {
        return this._removeChild(e, !1, t);
      }, i.prototype.clearChildren = function() {
        var e = this.provider;
        e && !e._checkClientState() || this._removeChildren();
      }, i.prototype.findChild = function(e, t) {
        var o = this.provider;
        if (!o || !e || e.length < 1 || !t || t.length < e.length)
          return null;
        for (var r = [], n = [], s = 0, l = e.length; s < l; s++) {
          var h = void 0;
          (h = typeof e[s] == "string" ? o.getFieldIndex(e[s]) : Number(e[s])) >= 0 && h < o.fieldCount && r.indexOf(h) < 0 && (r.push(h), n.push(t[s]));
        }
        s = 0;
        for (var u = r.length; s < u; s++)
          r[s] = o.getField(r[s]);
        return this.$_findChild(r, n);
      }, i.prototype.isAncestorOf = function(e) {
        if (e && e !== this) {
          for (var t = e.parent; t && t !== this; )
            t = t.parent;
          return t === this;
        }
        return !1;
      }, i.prototype.clearRowStates = function(e, t) {
        var o = this.provider;
        if (o) {
          var r = [], n = e ? [] : null;
          this._collectStateRows(r, n);
          var s = r.length, l = n ? n.length : 0;
          if (s != 0 || l != 0) {
            if (t)
              for (var h = 0, u = r.length; h < u; h++)
                r[h]._changeRowState(f.RowState.NONE, !0, !1);
            else
              s && o.changeRowStates(r, f.RowState.NONE);
            l && o.deleteRows(n);
          }
        }
      }, i.prototype.toTreeString = function() {
        for (var e = this.rowId + "", t = new Array(this.level + 1).join("  "), o = 0; o < this.count; o++)
          e += `
` + t + this.getChild(o).toTreeString();
        return e;
      }, i.prototype._checkFieldIndex = function(e) {
        var t = this.provider.fieldCount;
        if (e < 0 || e >= t)
          throw new Lt("Field index is out of bounds: " + e);
      }, i.prototype._descendantCountChanged = function(e) {
        this._descendantCount += e;
        var t = this.parent;
        t && t._descendantCountChanged(e);
      }, i.prototype._moveChild = function(e, t) {
        if (e != t) {
          if (e < 0 || e >= this._children.length)
            throw new RangeError("index is out of range: " + e);
          if (t < 0 || t >= this._children.length)
            throw new RangeError("newIndex is out of range: " + t);
          var o = this._children[e];
          if (e > t)
            for (var r = e; r > t; r--)
              this._children[r] = this._children[r - 1];
          else
            for (r = e; r < t; r++)
              this._children[r] = this._children[r + 1];
          this._children[t] = o;
        }
      }, i.prototype._moveChildren = function(e, t) {
        var o = e[0];
        if (o != t) {
          if (o < 0 || o >= this._children.length)
            throw new RangeError("index is out of range: " + e[0]);
          if (t < 0 || t >= this._children.length)
            throw new RangeError("newIndex is out of range: " + t);
          for (var r = this._children, n = [], s = e.length - 1; s >= 0; s--)
            n.push(r.splice(e[s], 1)[0]);
          for (s = 0; s < n.length; s++)
            r.splice(t, 0, n[s]);
        }
      }, i.prototype._changeParent = function(e, t) {
        if (t < 0 || t > e._children.length)
          throw new RangeError("index is out of range: " + t);
        var o = this.parent, r = this.index;
        o._children.splice(r, 1), o._descendantCountChanged(-1 - this.descendantCount), o._detach(this), e._children.splice(t, 0, this), e._descendantCountChanged(1 + this.descendantCount), e._attach(this);
      }, i.prototype._insertChild = function(e, t, o, r) {
        var n = this.provider;
        if (n && !o) {
          if (!n._checkClientState())
            return !1;
          n.refreshFieldFormats();
        }
        if (!t)
          throw new Error("child is null");
        if (this._children = this._children || [], e < 0 || e > this._children.length)
          throw new RangeError("Insert index is invalid: " + e);
        return !(!o && !this._doChildAdding(e, t)) && (this._children.splice(e, 0, t), this._descendantCountChanged(1 + t.descendantCount), this._attach(t), r || t._changeRowState(f.RowState.CREATED, !0, !1), this._doChildAdded(e, t), !0);
      }, i.prototype._insertChildren = function(e, t, o, r) {
        var n = this.provider;
        if (n && !o) {
          if (!n._checkClientState())
            return !1;
          n.refreshFieldFormats();
        }
        if (this._children = this._children || [], e < 0 || e > this._children.length)
          throw new RangeError("Insert index is invalid: " + e);
        if (o || this._doRowsAdding(e, t)) {
          for (var s = 0, l = 0; l < t.length; l++) {
            var h = t[l];
            this._children.splice(e + l, 0, h), this._attach(h), s += h.descendantCount, r || h._changeRowState(f.RowState.CREATED, !0, !1);
          }
          return this._descendantCountChanged(s), this._doRowsAdded(e, t), !0;
        }
        return !1;
      }, i.prototype._addChild = function(e, t, o) {
        return this._insertChild(this.count, e, t, o);
      }, i.prototype.$_removeChild = function(e, t, o) {
        return !(!o && !this._doChildRemoving(e)) && (this._children.splice(t, 1), this._descendantCountChanged(-1 - e.descendantCount), this._detach(e), this._doChildRemoved(e), !0);
      }, i.prototype._removeChild = function(e, t, o) {
        var r = this.provider;
        if (!r || t || r._checkClientState()) {
          if (e && this._children) {
            var n = this._children.indexOf(e);
            if (!r.softDeleting || !r.checkStates)
              return this.$_removeChild(e, n, t);
            switch (e.rowState) {
              case f.RowState.CREATED:
                if (r.deleteCreated)
                  return this.$_removeChild(e, n, t);
                e._changeRowState(f.RowState.CREATE_AND_DELETED, !0, !1);
                break;
              case f.RowState.DELETED:
              case f.RowState.CREATE_AND_DELETED:
                break;
              default:
                e._changeRowState(f.RowState.DELETED, !0, !1);
            }
            if (o && e.count > 0)
              for (var s = e.children, l = e.count; l--; )
                e._removeChild(s[l], t, o);
          }
          return !1;
        }
      }, i.prototype._removeChildren = function() {
        this._children && this._children.length > 0 && (this._children.splice(0, this._children.length), this._descendantCountChanged(-this._descendantCount), this._doCleared());
      }, i.prototype._setChildren = function(e) {
        this._children && this._children.length > 0 && this._children.splice(0, this._children.length);
        var t, o = -this._descendantCount;
        if (e && (t = e.length) > 0) {
          this._children || (this._children = []);
          for (var r = 0; r < t; r++) {
            var n = e[r];
            this._children.push(n), o += 1 + n.descendantCount, this._attach(n);
          }
        }
        this._descendantCountChanged(o);
      }, i.prototype.$_findChild = function(e, t) {
        for (var o = e.length, r = this.count, n = 0; n < r; n++) {
          for (var s = this._children[n], l = !0, h = 0; h < o; h++)
            if (!e[h].equalValues(t[h], s.getValue(e[h].index))) {
              l = !1;
              break;
            }
          if (l || (s = s.$_findChild(e, t)))
            return s;
        }
        return null;
      }, i.prototype._collectStateRows = function(e, t) {
        for (var o = this.count; o--; ) {
          var r = this.getChild(o), n = r.rowState;
          !t || n != f.RowState.DELETED && n != f.RowState.CREATE_AND_DELETED ? (n != f.RowState.NONE && e.push(r), r._collectStateRows(e, t)) : t.push(r);
        }
      }, i.prototype._clearOrgValues = function() {
        for (var e = this.count; e--; )
          this.getChild(e)._clearOrgValues();
      }, i.prototype._restoreState = function(e, t) {
        if (e)
          for (var o = this.count; o--; )
            this.getChild(o)._restoreState(!0, t);
        return !1;
      }, i.prototype.$_restoreRow = function(e, t) {
        if (e)
          for (var o = this.count; o--; )
            this.getChild(o).$_restoreRow(!0, t);
        return !1;
      }, i.prototype._doChildAdding = function(e, t) {
        var o = this.provider;
        return !o || o._rowAdding(this, e, t);
      }, i.prototype._doChildAdded = function(e, t) {
        var o = this.provider;
        o && o._rowAdded(t);
      }, i.prototype._doRowsAdding = function(e, t) {
        var o = this.provider;
        return !o || o._rowsAdding(this, e, t);
      }, i.prototype._doRowsAdded = function(e, t) {
        var o = this.provider;
        o && o._rowsAdded(this, t);
      }, i.prototype._doChildRemoving = function(e) {
        var t = this.provider;
        return !t || t._rowRemoving(e);
      }, i.prototype._doChildRemoved = function(e) {
        var t = this.provider;
        t && t._rowRemoved(e);
      }, i.prototype._doCleared = function() {
        var e = this.provider;
        e && e._rowCleared(this);
      }, i;
    }(J), Sn = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._provider = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._provider = null, a.prototype._doDispose.call(this);
      }, i.prototype.set = function(e) {
        for (var t = [], o = 0; o < e.count; o++)
          t.push(e.getChild(o).copy());
        this._setChildren(t);
      }, Object.defineProperty(i.prototype, "provider", { get: function() {
        return this._provider;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowId", { get: function() {
        return -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hasChildren", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype.copy = function() {
        for (var e = new i(null), t = 0, o = this.count; t < o; t++) {
          var r = this.getChild(t).copy();
          e._addChild(r, !0, !0);
        }
        return e._provider = this._provider, e;
      }, i.prototype._changeRowState = function(e, t, o) {
        return !1;
      }, i.prototype.getObject = function() {
        return null;
      }, i.prototype.getValue = function(e) {
      }, i.prototype.setValue = function(e, t, o) {
        return !1;
      }, i.prototype._attach = function(e) {
        e._parent = this;
      }, i.prototype._detach = function(e) {
        e._parent === this && (e._parent = null);
      }, i.prototype.update = function(e, t) {
        return !1;
      }, i.prototype.$_setHasChildren = function(e) {
      }, i.prototype.$_setIconIndex = function(e) {
      }, i.prototype._keepRow = function(e) {
      }, i.prototype._yieldRow = function(e, t) {
      }, i.prototype._keepStates = function(e) {
      }, i.prototype._yieldStates = function(e, t) {
      }, i;
    }(qi), yc = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._nextRowId = 0, e._commandListeners = [], e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._fireDispose(), a.prototype._doDispose.call(this);
      }, i.prototype.editCommandStackChanged = function(e, t, o) {
        this._fireCommandStackChanged(t, o);
      }, i.prototype.registerCommandListener = function(e) {
        e && this._commandListeners.indexOf(e) < 0 && this._commandListeners.push(e);
      }, i.prototype.unregisterCommandListener = function(e) {
        var t = this._commandListeners.indexOf(e);
        t >= 0 && this._commandListeners.splice(t, 1);
      }, i.prototype._keepCommandStates = function(e) {
        if (this._commandListeners.length > 0)
          return this._commandListeners[0].getCommandStates(e);
      }, i.prototype._yieldCommandStates = function(e, t) {
        if (this._commandListeners.length > 0)
          return this._commandListeners[0].setCommandStates(e, t);
      }, i.prototype._fireDispose = function() {
        this.fireEvent("onTreeDataProviderDisposed");
      }, i;
    }(aa), mc = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e) || this;
        return r._rowFields = b.deepCopy(t), r._value = o, r;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = e, o = {};
        for (var r in this._rowFields) {
          var n = t.rowById(+r)._keepRow(t);
          o[r] = n;
        }
        return t.$_fillValue(this._rowFields, this._value), o;
      }, i.prototype._doRedo = function(e, t) {
        e.$_fillValue(this._rowFields, this._value);
      }, i.prototype._doUndo = function(e, t) {
        var o = e;
        for (var r in this._rowFields)
          o.rowById(+r)._yieldRow(e, t[r]);
        e._fireRefresh();
      }, i;
    }(ur), bc = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e) || this;
        return n._rows = t.slice(), n._values = n._cloneValues(o.slice()), n;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        for (var t = e, o = [], r = 0, n = this._rows; r < n.length; r++) {
          var s = n[r]._keepRow(t);
          o.push(s);
        }
        return t.$_updateRows(this._rows, this._values, this._strict), o;
      }, i.prototype._doRedo = function(e, t) {
        e.$_updateRows(this._rows, this._values, this._strict);
      }, i.prototype._doUndo = function(e, t) {
        for (var o = 0; o < this._rows.length; o++)
          this._rows[o]._yieldRow(e, t[o]);
        e._fireRefresh();
      }, i;
    }(ur), vc = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e) || this;
        return n._row = t, n._field = o, n._value = r instanceof Date ? new Date(r) : r, n;
      }
      return w(i, a), i.prototype._doRun = function(e) {
        var t = {};
        return t.row = this._row._keepRow(e), (t.result = this._row.$_setValue(this._field, this._value, !1)) && (this._newState = this._row.rowState), t;
      }, i.prototype._doRedo = function(e, t) {
        this._row.$_setValue(this._field, this._value, !1);
      }, i.prototype._doUndo = function(e, t) {
        this._row._yieldRow(e, t.row), t.row.state != this._newState && e._fireRowStateChanged(this._row), e._valueChanged(this._row, this._field);
      }, i;
    }(ur), En = function(a) {
      function i(e, t) {
        var o = a.call(this, e) || this;
        if (o._iconIndex = -1, o._hasChildren = !1, o._parent = null, o._values = null, o._orgValues = null, o._state = f.RowState.NONE, e && t) {
          var r = e.fieldCount;
          o._values = new Array(r);
          for (var n = 0, s = Math.min(t.length, r); n < s; n++)
            o._values[n] = e.getField(n).readValue(t[n]);
        }
        return o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._values = null, this._orgValues = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "provider", { get: function() {
        return this._parent && this._parent.provider;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "parent", { get: function() {
        return this._parent;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        return this._parent ? this._parent.indexOf(this) : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "level", { get: function() {
        return this._parent ? this._parent.level + 1 : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hasChildren", { get: function() {
        return this._hasChildren;
      }, set: function(e) {
        if (e != this._hasChildren) {
          this._hasChildren = e;
          var t = this.provider;
          t && t._hasChildrenChanged(this);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconIndex", { get: function() {
        return this._iconIndex;
      }, set: function(e) {
        if (isNaN(e) && (e = -1), e != this._iconIndex) {
          this._iconIndex = e;
          var t = this.provider;
          t && t._iconIndexChanged(this);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowState", { get: function() {
        return this._state;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "values", { get: function() {
        return this._values && this._values.slice();
      }, enumerable: !1, configurable: !0 }), i.prototype._attach = function(e) {
        e._parent = this;
      }, i.prototype._detach = function(e) {
        e._parent === this && (e._parent = null);
      }, i.prototype._changeRowState = function(e, t, o) {
        var r = this.provider;
        if (r && e != this._state) {
          var n = this._state;
          return this._state = e, e == f.RowState.UPDATED && r._needOrgValues ? this._orgValues = this._values.concat() : n == f.RowState.UPDATED && this._orgValues && (this._orgValues = null), t && r._stateChanged(this, o), !0;
        }
        return !1;
      }, i.prototype.getValue = function(e) {
        if (this.provider) {
          if (this._checkFieldIndex(e), this._values)
            return this._values[e];
          throw new Error("Row data is not loaded");
        }
      }, i.prototype.setValue = function(e, t, o) {
        var r = this.provider;
        return !!r && (r.undoable ? r._commands.execute(new vc(r, this, e, t)) : this.$_setValue(e, t, o));
      }, i.prototype.getObject = function() {
        var e = this.provider;
        if (e) {
          for (var t = e.fieldCount, o = {}, r = 0; r < t; r++)
            o[e.getOrgFieldName(r)] = this._values[r];
          return o;
        }
        return null;
      }, i.prototype.copy = function() {
        var e = new i(null, null);
        e._rowId = this._rowId, e._iconIndex = this._iconIndex, e._hasChildren = this._hasChildren, e._state = this._state, e._values = this._values ? this._values.concat() : null;
        for (var t = 0, o = this.count; t < o; t++) {
          var r = this.getChild(t).copy();
          e._addChild(r, !0, !0);
        }
        return e;
      }, i.prototype.update = function(e, t) {
        var o = this.provider;
        return !!o && (o.undoable ? o._commands.execute(new gc(o, this, e, t)) : this.$_update(o, e, t, !1));
      }, i.prototype._keepRow = function(e) {
        var t = {};
        return t.values = this._values && this._values.slice(), t.state = this._state, t.orgValues = this._orgValues && this._orgValues.slice(), t.outer = e._keepCommandStates(this), t;
      }, i.prototype._yieldRow = function(e, t) {
        this._values = t.values && t.values.slice(), this._state = t.state, this._orgValues = t.orgValues && t.orgValues.slice(), e._yieldCommandStates(this, t.outer);
      }, i.prototype._keepStates = function(e) {
      }, i.prototype._yieldStates = function(e, t) {
      }, i.prototype._keepState = function() {
        return this._state;
      }, i.prototype._yieldState = function(e) {
        this._state = e;
      }, i.prototype.$_setValue = function(e, t, o) {
        var r = this.provider;
        if (r) {
          if (!r._checkClientState())
            return;
          if (r.refreshFieldFormats(), this._checkFieldIndex(e), this._values) {
            if (t != this._values[e]) {
              var n = null, s = r.getField(e), l = r.checkStates && (this._state == f.RowState.NONE || !this._state);
              !o && l && r._needOrgValues && (n = this._values.concat()), this._values[e] = s.readValue(t), r._internalCalculateValues(this._values, this.rowId), !o && l ? (r._needOrgValues && (this._orgValues = n), this._state = f.RowState.UPDATED, r._stateChanged(this, !1)) : r._needRestore && this.$_restoreState(r), r._valueChanged(this, e);
            }
            return !0;
          }
          throw new Error("Row data is not loaded");
        }
      }, i.prototype.$_update = function(e, t, o, r) {
        if (!r) {
          if (!e._checkClientState())
            return;
          e.refreshFieldFormats();
        }
        return !(!t || !r && !e._rowUpdating(this)) && (this.$_internalUpdate(t, o, !0), e._rowUpdated(this), !0);
      }, i.prototype._clearOrgValues = function() {
        this._orgValues && (this._orgValues.length = 0, this._orgValues = null), a.prototype._clearOrgValues.call(this);
      }, i.prototype._restoreState = function(e, t) {
        var o = this.$_restoreState(this.provider);
        return o && t && t.push(this), a.prototype._restoreState.call(this, e, t), o;
      }, i.prototype.$_restoreRow = function(e, t) {
        var o = !1;
        if (this._state === f.RowState.UPDATED) {
          var r = this._orgValues;
          if (r) {
            for (var n = this._values, s = 0, l = Math.min(r.length, this.provider.fieldCount); s < l; s++)
              n[s] = r[s];
            this._state = f.RowState.NONE, t && t.push(this), o = !0;
          }
        }
        return a.prototype.$_restoreRow.call(this, e, t), o;
      }, i.prototype.$_restoreState = function(e) {
        if (this._state == f.RowState.UPDATED && this._orgValues) {
          for (var t = this._orgValues, o = this._values, r = this.provider, n = r.strictRestore, s = 0, l = r.fieldCount; s < l; s++) {
            var h = o.length > s ? o[s] : void 0, u = t.length > s ? t[s] : void 0;
            if (n) {
              if (!r.getField(s).equalValues(h, u))
                return !1;
            } else if (!r.getField(s).sameValues(h, u))
              return !1;
          }
          return this._state = f.RowState.NONE, !0;
        }
        return !1;
      }, i.prototype.$_getUpdatedCells = function() {
        var e = this._orgValues, t = this._values, o = this.provider, r = o.strictRestore, n = [];
        if (!e || e.length <= 0)
          return null;
        for (var s = 0, l = o.fieldCount; s < l; s++) {
          var h = t.length > s ? t[s] : void 0, u = e.length > s ? e[s] : void 0, c = o.getField(s);
          c.calculated || (r ? c.equalValues(h, u) || n.push({ fieldName: o.getOrgFieldName(s), oldValue: e[s], newValue: t[s] }) : c.sameValues(h, u) || n.push({ fieldName: o.getOrgFieldName(s), oldValue: e[s], newValue: t[s] }));
        }
        return n;
      }, i.prototype.$_setHasChildren = function(e) {
        this._hasChildren = e;
      }, i.prototype.$_setIconIndex = function(e) {
        this._iconIndex = isNaN(e) ? -1 : e;
      }, i.prototype.$_internalUpdate = function(e, t, o) {
        var r = !1, n = Array.isArray(e), s = this.provider;
        if (s) {
          var l = Math.min(s.fieldCount, n ? e.length : s.fieldCount), h = s.checkStates && (this._state == f.RowState.NONE || !this._state), u = null;
          h && s._needOrgValues && (u = this._values.concat());
          for (var c = 0; c < l; c++) {
            var d = s.getField(c);
            if (n || e.hasOwnProperty(d.orgFieldName)) {
              var p = n ? e[c] : e[d.orgFieldName];
              t && p === void 0 || (r = !s._needRestore || r || (t ? !d.equalValues(this._values[c], d.readValue(p)) : !d.sameValues(this._values[c], d.readValue(p))), this._values[c] = s.getField(c).readValue(p));
            }
          }
          s._internalCalculateValues(this._values, this.rowId), h && r ? (u && (this._orgValues = u), this._state = f.RowState.UPDATED, o && s._stateChanged(this, !1)) : s._needRestore && this.$_restoreState(s);
        }
      }, i;
    }(qi), cr = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._countDirty = !1, o._tagLock = !1, o._points = [], o._nextPoint = 0, o._rowMap = [], o._needOrgValues = !1, o._needRestore = !1, o._checkParentProc = null, o._hiddenRows = [], o.$_handler = t, e && (o._commands = new _c(o)), o._rootRow = new Sn(o), o._tags = new pc(o), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._commands = this._commands && this._commands.dispose(), this._points = this._rowMap = this._hiddenRows = [], this._rootRow.clearChildren(), this._tags = this._tags && this._tags.dispose(), a.prototype._doDispose.call(this), this._rootRow = null;
      }, Object.defineProperty(i.prototype, "rootRow", { get: function() {
        return this._rootRow;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "parentCallback", { get: function() {
        return this._parentCallback;
      }, set: function(e) {
        this._parentCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "needOrgValues", { get: function() {
        return this._needOrgValues;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "needRestore", { get: function() {
        return this._needRestore;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "undoable", { get: function() {
        return this._undoable && !!this._commands;
      }, set: function(e) {
        e != this.undoable && (this._undoable = e, this._commands && this._commands.flush());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "handler", { get: function() {
        return this.$_handler;
      }, enumerable: !1, configurable: !0 }), i.prototype.addTag = function(e) {
        this._tags && this._tags.add(e);
      }, i.prototype.removeTag = function(e) {
        this._tags && this._tags.remove(e);
      }, i.prototype.setRows = function(e, t, o, r, n) {
        if (!this._checkClientState())
          return -1;
        var s = 0, l = this.getFieldIndex(t);
        if (l >= 0) {
          this.beginUpdate();
          try {
            this._clearRows(), this.refreshFieldFormats();
            var h = new _a(this, this._rootRow);
            h.parentCallback = this._parentCallback, s = h.load(null, e, l, o, this.getFieldIndex(r), this.getFieldIndex(n)), this._checkSum(s), this.$_prepareMap();
          } finally {
            this.endUpdate(!1), this.clearCommandStack();
          }
        }
        return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), s;
      }, i.prototype.setCsvRows = function(e, t, o, r, n) {
        if (!this._checkClientState())
          return -1;
        var s = 0, l = this.getFieldIndex(t);
        if (l >= 0) {
          this.beginUpdate();
          try {
            this._clearRows(), this.refreshFieldFormats();
            var h = new ga(this, this._rootRow);
            h.parentCallback = this._parentCallback, s = h.load(null, e, l, o, this.getFieldIndex(r), this.getFieldIndex(n)), this._checkSum(s), this.$_prepareMap();
          } finally {
            this.endUpdate(!1), this.clearCommandStack();
          }
        }
        return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), s;
      }, i.prototype.setXmlRows = function(e, t, o, r) {
        if (!this._checkClientState())
          return -1;
        var n = 0;
        if (e) {
          this.beginUpdate();
          try {
            this._clearRows(), this.refreshFieldFormats(), n = new ya(this, this._rootRow).load(null, e, t, this.getFieldIndex(o), this.getFieldIndex(r)), this._checkSum(n), this.$_prepareMap();
          } finally {
            this.endUpdate(!1), this.clearCommandStack();
          }
        }
        return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), n;
      }, i.prototype.setJsonRows = function(e, t, o, r) {
        if (!this._checkClientState())
          return -1;
        if (e) {
          this.beginUpdate();
          try {
            this._clearRows(), this.refreshFieldFormats();
            var n = new In(this, this._rootRow);
            this._rowCount = n.load(null, e, t, this.getFieldIndex(o), this.getFieldIndex(r)), this.$_prepareMap();
          } finally {
            this.endUpdate(!1), this.clearCommandStack();
          }
        }
        return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), this.rowCount;
      }, i.prototype.setJsonRows2 = function(e, t, o, r, n) {
        if (!this._checkClientState())
          return -1;
        if (e) {
          this.beginUpdate();
          try {
            this._clearRows(), this.refreshFieldFormats();
            var s = new In(this, this._rootRow);
            this._rowCount = s.load2(null, e, t, o, r, n), this.$_prepareMap();
          } finally {
            this.endUpdate(!1), this.clearCommandStack();
          }
        }
        return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated(), this.rowCount;
      }, i.prototype.appendDataRows = function(e, t, o, r, n, s) {
        if (!this._checkClientState())
          return -1;
        var l = 0, h = this.getFieldIndex(o);
        if (h >= 0) {
          var u = new _a(this, this._rootRow);
          u.parentCallback = this._parentCallback, this.beginUpdate();
          try {
            this.refreshFieldFormats(), l = u.load(e, t, h, r, this.getFieldIndex(n), this.getFieldIndex(s));
          } finally {
            if (this.endUpdate(!1), l > 0) {
              var c = u.insertedRows;
              c && (l = c.length) > 0 && this._rowsAdded(e, c);
            }
          }
        }
        return l;
      }, i.prototype.appendCsvRows = function(e, t, o, r, n, s) {
        if (!this._checkClientState())
          return -1;
        var l = 0, h = this.getFieldIndex(o);
        if (h >= 0) {
          this.beginUpdate();
          try {
            this.refreshFieldFormats();
            var u = new ga(this, this._rootRow);
            u.parentCallback = this._parentCallback, l = u.load(e, t, h, r, this.getFieldIndex(n), this.getFieldIndex(s));
          } finally {
            this.endUpdate(!1);
          }
        }
        return this._tags.setRows(), this._fireRefresh(), this._fireRowCountChanged(), l;
      }, i.prototype.appendXmlRows = function(e, t, o, r, n) {
        if (!this._checkClientState())
          return -1;
        var s = 0;
        if (t) {
          var l = new ya(this, this._rootRow);
          this.beginUpdate();
          try {
            this.refreshFieldFormats(), s = l.load(e, t, o, this.getFieldIndex(r), this.getFieldIndex(n));
          } finally {
            if (this.endUpdate(!1), s > 0) {
              var h = l.insertedRows;
              h && (s = h.length) > 0 && this._rowsAdded(e, h);
            }
          }
        }
        return this._fireRowCountChanged(), s;
      }, i.prototype.appendJsonRows = function(e, t, o, r, n) {
        if (!this._checkClientState())
          return -1;
        var s = 0;
        if (t) {
          var l = new In(this, this._rootRow);
          this.beginUpdate();
          try {
            this.refreshFieldFormats(), s = l.load(e, t, o, this.getFieldIndex(r), this.getFieldIndex(n));
          } finally {
            if (this.endUpdate(!1), s > 0) {
              var h = l.insertedRows;
              h && (s = h.length) > 0 && this._rowsAdded(e, h);
            }
          }
        }
        return this._fireRowCountChanged(), s;
      }, i.prototype.setIconIndex = function(e, t) {
        return e.iconIndex != t && (e.$_setIconIndex(t), !0);
      }, i.prototype.setHasChildren = function(e, t) {
        return t != e.hasChildren && (e.$_setHasChildren(t), !0);
      }, i.prototype.getChildCount = function(e) {
        return (e || this._rootRow).count;
      }, i.prototype.getRows = function(e) {
        return (e || this._rootRow).children;
      }, i.prototype.getDescendantCount = function(e) {
        return (e || this._rootRow).descendantCount;
      }, i.prototype.getDescendants = function(e, t) {
        t = arguments.length > 1 ? t : 0;
        var o = e || this._rootRow;
        if (t <= 0)
          return o.descendants;
        if (t > o.level) {
          var r = [];
          return function n(s, l, h) {
            for (var u = 0, c = s.count; u < c; u++) {
              var d;
              l.push(d = s.getChild(u)), h > d.level && n(d, l, h);
            }
          }(o, r, t), r;
        }
        return null;
      }, i.prototype.getChild = function(e, t) {
        return (e || this._rootRow).getChild(t);
      }, i.prototype.hasData = function(e) {
        return this.rowById(e) != null;
      }, i.prototype.rowById = function(e) {
        var t = this._rowMap[e];
        return t && t.rowId === e || (t = this._findRowById(e)) && (this._rowMap[e] = t), t;
      }, i.prototype.getDataRow = function(e) {
        var t = this._rowMap[e];
        return t == null && (t = this._findRowById(e)), t != null ? e : -1;
      }, i.prototype.rowsByIds = function(e, t) {
        if (e) {
          for (var o = [], r = 0, n = e; r < n.length; r++) {
            var s = n[r], l = this.rowById(s);
            (l || t) && o.push(l);
          }
          return o;
        }
        return null;
      }, i.prototype.createRow = function(e, t, o, r) {
        r === void 0 && (r = !0);
        var n = null;
        if (r && this.refreshFieldFormats(), Array.isArray(e))
          n = new En(this, e);
        else if (e) {
          var s = new Array(this.fieldCount);
          for (var l in e) {
            var h = this.getFieldIndex(l);
            h >= 0 && (s[h] = e[l]);
          }
          n = new En(this, s);
        }
        return n && (this._internalCalculateValues(n._values, n.rowId), n._iconIndex = t, n._hasChildren = o), n;
      }, i.prototype.clearRows = function() {
        this._checkClientState() && (this._clearRows(), this.clearCommandStack(), this._eventLock <= 0 && (this._fireRefresh(), this._fireRowCountChanged(), this.fireDataLoadComplated()));
      }, i.prototype.removeRows = function(e, t) {
        for (var o = [], r = e.length; r--; )
          (h = this.rowById(e[r])) && o.push(h);
        function n(d, p) {
          for (var _ = p; _ >= 0; _--)
            if (o[_].isAncestorOf(d))
              return !1;
          return !0;
        }
        if (this._checkClientState() && o && !(o.length < 1)) {
          o.sort(function(d, p) {
            return d.level - p.level;
          });
          var s = o;
          for (r = o.length; r--; )
            o[r].level > 1 && !n(o[r], r - 1) && o.splice(r, 1);
          if (o.length < 1 || !this._rowsRemoving(o))
            return !1;
          if (this.softDeleting && this.checkStates) {
            var l = [];
            for (r = o.length - 1; r >= 0; r--) {
              var h, u = !1;
              switch ((h = o[r]).rowState) {
                case f.RowState.CREATED:
                  this.deleteCreated || (u = h._changeRowState(f.RowState.CREATE_AND_DELETED, !1, !1), o.splice(r, 1));
                  break;
                case f.RowState.DELETED:
                case f.RowState.CREATE_AND_DELETED:
                  o.splice(r, 1);
                  break;
                default:
                  u = h._changeRowState(f.RowState.DELETED, !0, !1), o.splice(r, 1);
              }
              if (u && l.push(h), t && h.count > 0)
                for (var c = h.count; c--; )
                  h.removeChild(h.children[c], t);
            }
            l.length > 0 && this._fireRowStatesChanged(l);
          }
          return this.deleteRows(s), !0;
        }
      }, i.prototype.changeRowIndex = function(e, t) {
        if (t == 0 || !this._checkClientState())
          return !1;
        var o = e.parent, r = o.children.length, n = e.index, s = Math.min(Math.max(n + t, 0), r - 1);
        return (t = s - n) != 0 && !!this._fireRowSiblingMoving(e, t) && (o._moveChild(n, s), this._fireRowSiblingMoved(e, t), !0);
      }, i.prototype.changeRowsIndex = function(e, t) {
        if (t == 0 || !this._checkClientState())
          return !1;
        var o = e[0].parent, r = o.children.length, n = e[0].index, s = Math.min(Math.max(n + t, 0), r - 1);
        if ((t = s - n) == 0)
          return !1;
        for (var l = [], h = 0, u = e; h < u.length; h++) {
          var c = u[h];
          l.push(c.index);
        }
        return !!this._fireRowsSiblingMoving(e, t) && (o._moveChildren(l, s), this._fireRowsSiblingMoved(e, t), !0);
      }, i.prototype.changeRowParent = function(e, t, o) {
        if (e === t)
          throw new Error("Parent must not be self.");
        if (e.isAncestorOf(t))
          throw new Error("Can`t move to child of a descendant.");
        var r = e.parent;
        if (r === t && o == e.index || !this._checkClientState())
          return !1;
        t._children || (t._children = []);
        var n = t._children.length;
        return o = Math.min(Math.max(o, 0), n), !!this._fireRowParentChanging(e, t, o) && (e._changeParent(t, o), t instanceof Sn || this.setHasChildren(t, !0), r instanceof Sn || r.count != 0 || this.setHasChildren(r, !1), this._fireRowParentChanged(e, t, o), !0);
      }, i.prototype.moveRows = function(e, t) {
        return this.changeRowsIndex(e, t.index - e[0].index);
      }, i.prototype.toTreeString = function() {
        return this._rootRow.toTreeString();
      }, i.prototype.beginUpdate = function() {
        this._checkClientState(), this._eventLock++;
      }, i.prototype.endUpdate = function(e) {
        e === void 0 && (e = !0), this._checkClientState(), this._eventLock = Math.max(0, this._eventLock - 1), this._eventLock == 0 && (e && (this._resetLock > 0 ? this._fireReset() : this._fireRefresh(), this._countDirty && this._fireRowCountChanged()), this._resetLock = 0, this._countDirty = !1);
      }, i.prototype.$_extractTreeRowIds = function(e) {
        if (e) {
          for (var t = e.length, o = new Array(t), r = 0; r < t; r++)
            o[r] = e[r].rowId;
          return o;
        }
        return null;
      }, i.prototype.$_searchDataRow = function(e, t, o, r, n, s) {
        var l = e.length;
        if (l < 1)
          return -1;
        var h = Math.min(t.length, o.length);
        if (h < 1)
          return -1;
        for (var u = r.allFields, c = r.caseSensitive, d = r.partialMatch, p = null, _ = [], g = r.compareCallback || b.compareTextValue, y = r.reverse, m = 0; m < h; m++)
          _[m] = this.getField(t[m]).dataType;
        n = Math.max(0, n), s = Math.min(l - 1, s);
        for (var v = n; y ? v >= s : v <= s; y ? v-- : v++) {
          var C = !0;
          if (C)
            for (m = 0; m < h; m++) {
              var x = this.rowById(e[v]).getValue(t[m]), S = this.getOrgFieldName(t[m]);
              switch (_[m]) {
                case f.ValueType.DATETIME:
                case f.ValueType.DATE:
                  if (o[m] instanceof Date)
                    C = g.call(this.$_handler, o[m], x, c, d, e[v], S);
                  else {
                    if (!p) {
                      var I = /[.]/.test(o[m]) ? "yyyy.MM.dd" : /[/]/.test(o[m]) ? "yyyy/MM/dd" : /[-]/.test(o[m]) ? "yyyy-MM-dd" : "yyyyMMdd";
                      p = new Ne(I);
                    }
                    C = g.call(this.$_handler, o[m], x && p.getText(x), c, d, e[v], S);
                  }
                  break;
                default:
                  C = g.call(this.$_handler, o[m], x, c, d, e[v], S);
              }
              if (C && !u)
                return e[v];
              if (!C && u)
                break;
            }
          if (C)
            return e[v];
        }
        return -1;
      }, i.prototype.searchDataRow = function(e, t) {
        var o;
        if (t === void 0 && (t = null), t != null) {
          var r = this.rowById(t);
          if (!r)
            return -1;
          o = this.$_extractTreeRowIds(r.descendants);
        } else
          o = this.$_extractTreeRowIds(this._rootRow.descendants);
        if (!Array.isArray(o) || o.length <= 0)
          return -1;
        e instanceof Ui || (e.reverse && !e.hasOwnProperty("startIndex") && (e.startIndex = o.length - 1), e = new Ui(e));
        var n = e.reverse, s = o.length, l = Math.max(0, o.indexOf(e.startIndex)), h = e.fields, u = e.values, c = -1;
        if (h && h.length > 0 && u && u.length > 0) {
          for (var d = h.length, p = [], _ = 0; _ < d; _++) {
            var g = h[_];
            if (b.isNumber(g))
              p.push(g);
            else {
              var y = this.getFieldIndex(h[_]);
              y >= 0 && p.push(y);
            }
          }
          p.length > 0 && (c = (n ? l > 0 : l < s) ? this.$_searchDataRow(o, p, u, e, l, n ? 0 : s - 1) : -1) < 0 && e.wrap && (n ? l < s - 1 : l > 0) && (c = this.$_searchDataRow(o, p, u, e, n ? s - 1 : 0, n ? l + 1 : l - 1));
        }
        return c;
      }, i.prototype.$_searchData = function(e, t, o, r, n, s, l) {
        var h = this.rowCount;
        if (h < 1)
          return null;
        for (var u = r && r.caseSensitive, c = r && r.partialMatch, d = this.fieldCount, p = t.length, _ = null, g = [], y = r.reverse, m = r.compareCallback || b.compareTextValue, v = 0; v < d; v++)
          g[v] = this.getField(v).dataType;
        n = Math.max(0, n), s = Math.min(h - 1, s), l = Math.max(0, l), r.reverse ? l < 0 && (n--, l = t.length - 1) : l >= t.length && (n++, l = 0);
        for (var C = n; y ? C >= s : C <= s; y ? C-- : C++)
          for (v = y ? C < n ? p - 1 : l : C > n ? 0 : l; y ? v >= 0 : v < p; y ? v-- : v++) {
            var x = !1, S = t[v], I = this.getOrgFieldName(t[v]);
            if (S >= 0 && S < d) {
              var E = this.rowById(e[C]).getValue(S);
              switch (g[S]) {
                case f.ValueType.DATETIME:
                case f.ValueType.DATE:
                  if (o instanceof Date)
                    x = m.call(this.$_handler, o, E, u, c, e[C], I);
                  else {
                    if (!_) {
                      var O = /[.]/.test(o) ? "yyyy.MM.dd" : /[/]/.test(o) ? "yyyy/MM/dd" : /[-]/.test(o) ? "yyyy-MM-dd" : "yyyyMMdd";
                      _ = new Ne(O);
                    }
                    x = m.call(this.$_handler, o, E && _.getText(E), u, c, e[C], I);
                  }
                  break;
                default:
                  x = m.call(this.$_handler, o, E, u, c, e[C], I);
              }
              if (x)
                return { dataRow: e[C], fieldIndex: S, searchFieldIndex: v, fieldName: I };
            }
          }
        return null;
      }, i.prototype.searchData = function(e, t) {
        var o, r = this;
        if (t === void 0 && (t = -1), t >= 0) {
          var n = this.rowById(t);
          if (!n)
            return null;
          o = this.$_extractTreeRowIds(n.descendants);
        } else
          o = this.$_extractTreeRowIds(this._rootRow.descendants);
        if (!Array.isArray(o) || o.length <= 0)
          return null;
        var s = o.length, l = null, h = b.makeArray(e.fields) || this.getOrgFieldNames();
        h && h.length || (h = this.getOrgFieldNames());
        var u = [];
        h.forEach(function(C) {
          return u.push(r.getFieldIndex(C));
        }), e instanceof zi || (e.reverse && (e.hasOwnProperty("startIndex") || (e.startIndex = s - 1), e.hasOwnProperty("startFieldIndex") || (e.startFieldIndex = u.length - 1)), e = new zi(e));
        var c = e.reverse, d = u.length, p = e.value, _ = o.indexOf(e.startIndex) < 0 ? c ? s - 1 : 0 : o.indexOf(e.startIndex), g = c ? 0 : s - 1, y = Math.max(0, Math.min(d - 1, e.startFieldIndex)), m = c ? _ >= 0 && y > 0 : _ < s && y < d, v = c ? _ < s - 1 || y < d - 1 : _ > 0 || y > 0;
        return p != null && u.length > 0 && !(l = m ? this.$_searchData(o, u, p, e, _, g, y) : null) && e.wrap && v && (l = this.$_searchData(o, u, p, e, c ? s - 1 : 0, _ - 1, c ? y : 0)), l;
      }, i.prototype.$_hideDataRows = function(e, t) {
        if (e != null) {
          for (var o = b.isArray(e) ? e : [e], r = this._hiddenRows.length, n = [], s = 0, l = o.length; s < l; s++) {
            var h = o[s];
            if (this._findRowById(h) != null)
              if (n.push(h), t)
                this._hiddenRows.indexOf(h) < 0 && this._hiddenRows.push(h);
              else {
                var u = this._hiddenRows.indexOf(h);
                u >= 0 && this._hiddenRows.splice(u, 1);
              }
          }
          this._hiddenRows.length !== r && this._fireRowsHiddenChanged(n, t);
        }
      }, i.prototype.hideRows = function(e) {
        this.$_hideDataRows(e, !0);
      }, i.prototype.showRows = function(e) {
        this.$_hideDataRows(e, !1);
      }, i.prototype.clearHiddenRows = function() {
        if (this._hiddenRows.length > 0) {
          var e = this._hiddenRows.concat();
          this._hiddenRows = [], this._fireRowsHiddenChanged(e, !1);
        }
      }, i.prototype.getHiddenRows = function() {
        var e = this._hiddenRows.concat();
        return e.sort(function(t, o) {
          return t - o;
        }), e;
      }, i.prototype.isHiddenRow = function(e) {
        return !!this.rowById(e) && this._hiddenRows.indexOf(e) >= 0;
      }, Object.defineProperty(i.prototype, "hiddenCount", { get: function() {
        return this._hiddenRows.length;
      }, enumerable: !1, configurable: !0 }), i.prototype.summarize = function(e, t) {
        if (e == null)
          return !1;
        e.clear();
        var o = this.rowCount;
        if (o < 1)
          return !1;
        if (e.count = o, e.sum = 0, e.min = null, e.max = null, e.dataCount = 0, this.$_summarizeChildren(this._rootRow, e), e.avg = e.sum / e.count, e.dataAvg = e.dataCount === 0 ? NaN : e.sum / e.dataCount, t) {
          var r = this.$_summarizeVars(this._rootRow, e);
          e.varsp = r / e.count, e.vars = r / (e.count - 1);
        }
        return !0;
      }, i.prototype.summarizeRange = function(e, t, o) {
        if (e == null || t == null)
          return !1;
        e.clear();
        var r = t.length;
        if (r < 1)
          return !1;
        for (var n = 0, s = e.field, l = this.getField(s).dataType === f.ValueType.NUMBER, h = null, u = null, c = null, d = 0; d < r; )
          (y = t[d++].getValue(s)) == null || l && (!l || isNaN(y)) || (l && (h = n ? h + y : y), (l || y != "") && n++, (u == null || y < u) && (u = y), (c == null || y > c) && (c = y));
        if (e.count = r, n > 0 && (h = h ?? (l ? NaN : null), u = u ?? (l ? NaN : null), c = c ?? (l ? NaN : null), e.sum = h, e.min = u, e.max = c, e.avg = h / r, e.dataCount = n, e.dataAvg = e.dataCount === 0 ? NaN : e.sum / e.dataCount, o))
          if (r > 1) {
            for (var p = 0, _ = e.avg, g = 0; g < r; g++) {
              var y = t[g].getValue(s);
              isNaN(y) || (p += Math.pow(y - _, 2));
            }
            e.varsp = p / r, e.vars = p / (r - 1);
          } else
            e.varsp = 0, e.vars = 0;
        return !0;
      }, Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._rootRow.descendantCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canUndo", { get: function() {
        return this._commands && this._commands.canUndo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canRedo", { get: function() {
        return this._commands && this._commands.canRedo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "undoing", { get: function() {
        return this._commands && this._commands.undoing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "redoing", { get: function() {
        return this._commands && this._commands.redoing;
      }, enumerable: !1, configurable: !0 }), i.prototype.getRow = function(e) {
        return this.rowById(e).values;
      }, i.prototype.deleteRows = function(e) {
        if (this._checkClientState() && e && e.length > 0) {
          var t = this._softDeleting;
          this.beginUpdate();
          try {
            this._softDeleting = !1, this._tagLock = !0;
            try {
              for (var o = e.length - 1; o >= 0; o--) {
                var r = e[o], n = r && r.parent;
                n && n._removeChild(r, !0, !1);
              }
            } finally {
              this._tagLock = !1;
            }
          } finally {
            this._softDeleting = t, this.endUpdate(!1);
          }
          this._rowsRemoved(e);
        }
      }, i.prototype.equalValues = function(e, t, o) {
        if (t !== o) {
          var r = this._fields[e], n = t.getValue(e), s = o.getValue(e);
          return r.equalValues(n, s);
        }
        return !0;
      }, i.prototype.sameValues = function(e, t, o, r) {
        if (t !== o) {
          var n = this._fields[e], s = t.getValue(e), l = o.getValue(e);
          return r ? String(s).toLowerCase() == String(l).toLowerCase() : n.sameValues(s, l);
        }
        return !0;
      }, i.prototype.equalTexts = function(e, t, o) {
        return this.sameValues(e, t, o, !0);
      }, i.prototype.compareValues = function(e, t, o, r) {
        if (t !== o) {
          var n = t.getValue(e), s = o.getValue(e);
          return n == null ? s == null ? 0 : -1 : s == null || (n = r ? String(n).toLowerCase() : n) > (s = r ? String(s).toLowerCase() : s) ? 1 : n < s ? -1 : 0;
        }
        return 0;
      }, i.prototype.compareTexts = function(e, t, o) {
        return this.compareValues(e, t, o, !0);
      }, i.prototype.compareNumbers = function(e, t, o) {
        if (t !== o) {
          var r = t.getValue(e), n = o.getValue(e);
          return isNaN(r) ? isNaN(n) ? 0 : -1 : isNaN(n) || r > n ? 1 : r < n ? -1 : 0;
        }
        return 0;
      }, i.prototype.compareBools = function(e, t, o) {
        if (t !== o) {
          var r = t.getValue(e), n = o.getValue(e);
          return r && !n ? 1 : !r && n ? -1 : 0;
        }
        return 0;
      }, i.prototype.compareDates = function(e, t, o) {
        if (t !== o) {
          var r = t.getValue(e), n = o.getValue(e);
          return r instanceof Date ? n instanceof Date ? r > n ? 1 : r < n ? -1 : 0 : 1 : n instanceof Date ? -1 : 0;
        }
        return 0;
      }, i.prototype.compareObjects = function(e, t, o) {
        var r = t.values, n = o.values;
        if (r === n)
          return 0;
        var s = r ? r[e] : null, l = n ? n[e] : null;
        return s ? l ? this.getField(e).$_compareObject(s, l, t.rowId, o.rowId) : 1 : l ? -1 : 0;
      }, i.prototype.getDistinctValues = function(e, t, o) {
        if (t === void 0 && (t = -1), o === void 0 && (o = f.SortDirection.ASCENDING), this._checkFieldIndex(e), t < 0 && (t = this.getDescendantCount(this._rootRow)), t > 0) {
          for (var r = this.getDescendants(this._rootRow, 0), n = this.getField(e).dataType, s = [], l = [], h = void 0, u = 0, c = r.length; u < c; u++)
            switch (h = r[u].values[e], n) {
              case f.ValueType.NUMBER:
                h != null && isNaN(h) || s.indexOf(h) < 0 && s.push(h);
                break;
              case f.ValueType.DATE:
              case f.ValueType.DATETIME:
                h ? l.indexOf(h.getTime()) < 0 && (l.push(h.getTime()), s.push(h)) : (l.push(h), s.push(h));
                break;
              case f.ValueType.OBJECT:
              default:
                s.indexOf(h) < 0 && s.push(h);
            }
          return o !== f.SortDirection.NONE && (s = b.included(n, f.ValueType.DATETIME, f.ValueType.DATE) ? s.sort(function(d, p) {
            return d - p;
          }) : s.sort(), o === f.SortDirection.DESCENDING && (s = s.reverse())), s.slice(0, t);
        }
        return null;
      }, i.prototype._doFieldsReset = function() {
        this._clearRows(), this._fireReset();
      }, i.prototype.refreshClients = function() {
        this._fireRefreshClient();
      }, i.prototype.savePoint = function(e) {
        if (e === void 0 && (e = !0), this._checkClientState()) {
          if (this.fieldCount > 0 && this._rootRow.count > 0) {
            var t = this._rootRow.copy(), o = this._nextPoint++;
            return e || t.clearRowStates(!1, !1), this._points.push({ id: o, nextRowId: this._nextRowId, data: t }), o;
          }
          return -1;
        }
      }, i.prototype.rollback = function(e) {
        if (e === void 0 && (e = 0), this._checkClientState())
          for (var t = this._points.length - 1; t >= 0; t--) {
            var o = this._points[t];
            if (o.id == e) {
              this.$_removeSavePoints(t + 1), this._rowMap = [], this._rootRow.set(o.data), this._nextRowId = o.nextRowId, this.$_prepareMap(), this._fireRefresh();
              break;
            }
          }
      }, i.prototype.$_removeSavePoints = function(e) {
        for (var t = this._points, o = t.length - 1; o >= e; o--)
          t[o].data = null, t.pop();
      }, i.prototype.clearSavePoints = function() {
        this.$_removeSavePoints(0);
      }, i.prototype.getSavePoints = function() {
        for (var e = [], t = 0, o = this._points.length; t < o; t++)
          e.push(this._points[t].id);
        return e;
      }, i.prototype._doCheckStatesChanged = function() {
        this.$_resetOrgValues();
      }, i.prototype._doRestoreModeChanged = function() {
        this.$_resetOrgValues();
      }, i.prototype._hasChildrenChanged = function(e) {
        this._fireHasChildrenChanged(e);
      }, i.prototype._iconIndexChanged = function(e) {
        this._fireIconIndexChanged(e);
      }, i.prototype._stateChanged = function(e, t) {
        this._fireRowStateChanged(e, t);
      }, i.prototype._statesChanged = function(e) {
        this._fireRowStatesChanged(e);
      }, i.prototype._valueChanged = function(e, t) {
        this._fireValueChanged(e, t);
      }, i.prototype._rowAdding = function(e, t, o) {
        return this._fireRowAdding(e, t, o);
      }, i.prototype._rowAdded = function(e) {
        this._tagLock || this._tags.addRow(e), this._eventLock <= 0 && (this._fireRowAdded(e), this._fireRowCountChanged());
      }, i.prototype._rowsAdding = function(e, t, o) {
        return this._fireRowsAdding(e, t, o);
      }, i.prototype._rowsAdded = function(e, t) {
        this._tagLock || this._tags.addRows(t), this._eventLock <= 0 && (this._fireRowsAdded(e, t), this._fireRowCountChanged());
      }, i.prototype._rowRemoving = function(e) {
        return this._fireRowRemoving(e);
      }, i.prototype._rowRemoved = function(e) {
        this._tagLock || this._tags.removeRow(e), this._eventLock <= 0 && (this._fireRowRemoved(e), this._fireRowCountChanged()), this.$_removeMap(e);
      }, i.prototype._rowsRemoving = function(e) {
        return this._fireRowsRemoving(e);
      }, i.prototype._rowsRemoved = function(e) {
        this._tagLock || this._tags.removeRows(e), this._eventLock <= 0 && (this._fireRowsRemoved(e), this._fireRowCountChanged()), this.$_removeMap(e);
      }, i.prototype._rowCleared = function(e) {
        if (e) {
          var t = e.children;
          this._tags.removeRows(t), this._eventLock <= 0 && (this._fireRowsRemoved(t), this._fireRowCountChanged());
        }
      }, i.prototype._rowUpdating = function(e) {
        return this._fireRowUpdating(e);
      }, i.prototype._rowUpdated = function(e) {
        this._tags.updateRow(e), this._eventLock <= 0 && this._fireRowUpdated(e);
      }, i.prototype._rowsUpdating = function(e) {
        return this._fireRowsUpdating(e);
      }, i.prototype._rowsUpdated = function(e) {
        this._tags.updateRows(e), this._eventLock <= 0 && this._fireRowsUpdated(e);
      }, i.prototype.getRowId = function(e) {
        return e;
      }, i.prototype.getValue = function(e, t) {
        var o = this.rowById(e);
        if (o)
          return o.getValue(t);
      }, i.prototype.setValue = function(e, t, o) {
        var r = this.rowById(e);
        if (r)
          return r.setValue(t, o, !1);
      }, i.prototype.getRowObject = function(e) {
        var t = this.rowById(e), o = this.fieldCount, r = {}, n = t._values;
        if (n)
          for (var s = 0; s < o; s++)
            r[this.getOrgFieldName(s)] = n[s];
        return r;
      }, i.prototype.getRowState = function(e) {
        var t = this.rowById(e);
        return t ? t.rowState : f.RowState.NONE;
      }, i.prototype.setRowState = function(e, t, o) {
        var r = this.rowById(e);
        if (r && (this.checkStates || o)) {
          var n = r.rowState;
          t != n && r._changeRowState(t, !0, !!Je(n) || void 0);
        }
      }, i.prototype.changeRowStates = function(e, t) {
        for (var o = e.length, r = [], n = 0; n < o; n++) {
          var s = e[n];
          s._changeRowState(t, !1, !1) && r.push(s);
        }
        r.length > 0 && this._fireRowStatesChanged(r);
      }, i.prototype.clearRowStates = function(e, t) {
        this._checkClientState() && this._rootRow.clearRowStates(e, t);
      }, i.prototype.$_collectStateRows = function(e, t, o) {
        for (var r = 0, n = e.count; r < n; r++) {
          var s = e.getChild(r);
          s.rowState == t && o.push(s.rowId), this.$_collectStateRows(s, t, o);
        }
      }, i.prototype.getStateRows = function(e) {
        var t = [];
        return this.$_collectStateRows(this._rootRow, e, t), t;
      }, i.prototype.$_collectAllStateRows = function(e, t) {
        for (var o = 0, r = e.count; o < r; o++) {
          var n = e.getChild(o);
          switch (n.rowState) {
            case f.RowState.CREATED:
            case f.RowState.UPDATED:
            case f.RowState.DELETED:
            case f.RowState.CREATE_AND_DELETED:
              t[n.rowState].push(n.rowId);
          }
          this.$_collectAllStateRows(n, t);
        }
      }, i.prototype.getAllStateRows = function() {
        var e = {};
        return e[f.RowState.CREATED] = [], e[f.RowState.UPDATED] = [], e[f.RowState.DELETED] = [], e[f.RowState.CREATE_AND_DELETED] = [], this.$_collectAllStateRows(this._rootRow, e), e;
      }, i.prototype.setRowStates = function(e, t, o, r) {
        if (this._checkClientState()) {
          for (var n = r ? null : [], s = 0, l = e.length; s < l; s++) {
            var h = this.rowById(e[s]);
            h && (this.checkStates || o) && h._changeRowState(t, r, !1) && !r && n.push(h);
          }
          !r && n.length > 0 && this._fireRowStatesChanged(n);
        }
      }, i.prototype.$_getRowStateCount = function(e, t) {
        for (var o = 0, r = 0, n = e.count; r < n; r++) {
          var s = e.getChild(r);
          t.indexOf(s.rowState) >= 0 && o++, o += this.$_getRowStateCount(s, t);
        }
        return o;
      }, i.prototype.getRowStateCount = function(e) {
        return this.$_getRowStateCount(this._rootRow, e);
      }, i.prototype.restoreUpdatedStates = function(e) {
        this.restoreUpdatedRows(e);
      }, i.prototype.restoreUpdatedRows = function(e) {
        if (this._checkClientState()) {
          var t = [];
          if (e == null)
            this._rootRow.$_restoreRow(!0, t);
          else
            for (var o = e.length; o--; ) {
              var r = this.rowById(e[o]);
              r && r.$_restoreRow(!1, t);
            }
          t.length == 1 ? this._fireRowStateChanged(t[0], !1) : t.length > 1 && this._fireRowStatesChanged(t);
        }
      }, i.prototype._reCalculateFields = function(e) {
        var t = this;
        this.getDescendants(this._rootRow, -1).forEach(function(o) {
          t._internalCalculateValues(o._values, o.rowId, e);
        });
      }, i.prototype.getUpdatedCells = function(e) {
        var t = this.restoreMode;
        if (t != f.RestoreMode.AUTO && t != f.RestoreMode.EXPLICIT)
          return null;
        if (e == null)
          e = this.getStateRows(f.RowState.UPDATED);
        else if (!Array.isArray(e)) {
          if (typeof e != "number")
            return null;
          e = [e];
        }
        if (!Array.isArray(e))
          return null;
        for (var o = [], r = 0, n = e.length; r < n; r++) {
          var s = this.rowById(e[r]);
          if (s) {
            var l = s.$_getUpdatedCells();
            l && l.length > 0 && o.push({ __rowId: s.rowId, updatedCells: l });
          }
        }
        return o;
      }, i.prototype.canUpdateRow = function(e) {
        return !0;
      }, i.prototype.canInsertRow = function(e) {
        return !0;
      }, i.prototype.canDeleteRow = function(e) {
        return !0;
      }, i.prototype.isDataChanged = function(e, t) {
        if (e < 0)
          return !1;
        var o = this.rowById(e);
        !o && b.isDebugging();
        var r = o._orgValues;
        if (o.rowState !== f.RowState.UPDATED || !r)
          return !1;
        if (r) {
          var n = r[t], s = o._values[t], l = this._fields[t];
          return l && !l.sameValues(n, s);
        }
        return !1;
      }, i.prototype.$_createFrom = function(e, t) {
        var o = e.getObject();
        t && (o = this._convertValues(o, t));
        for (var r = this.objectToRow(o), n = new En(this, r), s = 0; s < e.count; s++) {
          var l = this.$_createFrom(e.getChild(s), t);
          n.addChild(l, !1);
        }
        return n;
      }, i.prototype.$_insertRowsFrom = function(e, t, o, r) {
        for (var n = [], s = 0, l = e.rowsByIds(o, !1); s < l.length; s++) {
          var h = l[s];
          n.push(this.$_createFrom(h, t));
        }
        var u = r >= 0 ? this.rowById(r) : null, c = u ? u.parent : this.rootRow;
        if (r >= 0) {
          var d = c.indexOf(u);
          c.insertChildren(d, n, !1);
        } else
          c.insertChildren(c.count, n, !1);
      }, i.prototype.insertChildNode = function(e, t, o, r, n, s) {
        var l = b.getNumber(o[n], -1), h = o[r], u = this.createRow(o, l, h && h.length > 0);
        if (t >= 0 ? e.insertChild(t, u, s) : e.addChild(u, s), h)
          for (var c = 0; c < h.length; c++)
            this.insertChildNode(u, -1, h[c], r, n, s);
        return u ? u.rowId : -1;
      }, i.prototype.insertRowsFrom = function(e, t, o, r) {
        this.$_insertRowsFrom(e, t, o, r);
      }, i.prototype.appendRowsFrom = function(e, t, o) {
        this.$_insertRowsFrom(e, t, o, -1);
      }, i.prototype.fillValue = function(e, t) {
        Object.keys(e).length && (this.undoable ? this._commands.execute(new mc(this, e, t)) : this.$_fillValue(e, t));
      }, i.prototype.updateRows = function(e, t, o) {
        if (e && e.length != 0) {
          for (var r = [], n = 0; n < e.length; n++) {
            var s = this.rowById(e[n]);
            s ? r.push(s) : t.splice(n, 1);
          }
          this.undoable ? this._commands.execute(new bc(this, r, t, o)) : this.$_updateRows(r, t, o);
        }
      }, i.prototype._findRowById = function(e) {
        return this._rootRow.findById(e);
      }, i.prototype._checkSum = function(e) {
        if (e != this.rowCount)
          throw new Error("Invalid row count: " + e + " <> " + this.rowCount);
      }, i.prototype._clearRows = function() {
        this._rootRow._removeChildren(), this._rowMap = [], this._rootRow && this._rootRow.descendantCount > 0 || (this._nextRowId = 1), this._tags.clearRows(), this._checkSum(0);
      }, i.prototype.$_prepareMap = function() {
        var e = this;
        (function t(o) {
          var r = o.children;
          r && r.forEach(function(n) {
            e._rowMap[n.rowId] = n, t(n);
          });
        })(this._rootRow);
      }, i.prototype.$_removeMap = function(e) {
        var t = this;
        (e = b.makeArray(e, !0)).forEach(function(o) {
          t._rowMap[o.rowId] = void 0, t.$_removeMap(o.children), o.dispose();
        });
      }, i.prototype.$_fillValue = function(e, t) {
        if (this._checkClientState()) {
          var o = Object.keys(e);
          if (o && o.length) {
            this.refreshFieldFormats();
            var r = [], n = [];
            for (var s in e) {
              var l = this.rowById(+s);
              n.push(l), l.rowState == f.RowState.NONE && r.push(l);
              for (var h = l.values, u = e[s], c = 0; c < u.length; c++)
                h[u[c]] = t;
              l.$_internalUpdate(h, !1, !1);
            }
            r.length > 0 && this._fireRowStatesChanged(r), this._tags.updateRows(n), this._fireRowsUpdated(n);
          }
        }
      }, i.prototype.$_updateRows = function(e, t, o) {
        if (this._checkClientState() && e && t) {
          var r = Math.min(e.length, t.length);
          if (!(r < 1)) {
            this.refreshFieldFormats();
            for (var n = [], s = 0; s < r; s++) {
              var l = e[s];
              l.rowState == f.RowState.NONE && n.push(l), l.$_internalUpdate(t[s], o, !1);
            }
            n.length > 0 && this._fireRowStatesChanged(n), this._tags.updateRows(e), this._fireRowsUpdated(e);
          }
        }
      }, i.prototype.findRow = function(e, t) {
        return e && e.length > 0 && t && t.length >= e.length ? this._rootRow.findChild(e, t) : null;
      }, i.prototype.$_resetOrgValues = function() {
        this._needOrgValues = this.checkStates && this.restoreMode != f.RestoreMode.NONE, this._needRestore = this._needOrgValues && this.restoreMode == f.RestoreMode.AUTO, this._rootRow._clearOrgValues();
      }, i.prototype.$_summarizeChildren = function(e, t) {
        for (var o = t.field, r = e.count, n = this.getField(t.field).dataType === f.ValueType.NUMBER, s = 0; s < r; s++) {
          var l = e.getChild(s), h = l.getValue(o);
          h == null || n && (!n || isNaN(h)) || (n && (t.sum = t.dataCount ? t.sum + h : h), (n || h != "") && t.dataCount++, (t.min == null || h < t.min) && (t.min = h), (t.max == null || h > t.max) && (t.max = h)), this.$_summarizeChildren(l, t);
        }
      }, i.prototype.$_summarizeVars = function(e, t) {
        for (var o = t.field, r = t.avg, n = e.count, s = 0, l = 0; l < n; l++) {
          var h = e.getChild(l), u = h.getValue(o);
          isNaN(u) || (s += Math.pow(u - r, 2)), s += this.$_summarizeVars(h, t);
        }
        return s;
      }, i.prototype._fireDisposed = function() {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderDisposed");
      }, i.prototype._fireReset = function() {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderReset");
      }, i.prototype._fireRefresh = function() {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRefresh");
      }, i.prototype._fireRefreshClient = function() {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRefreshClient");
      }, i.prototype._fireCleared = function() {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderCleared");
      }, i.prototype._fireRowCountChanged = function() {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowCountChanged", this.rowCount);
      }, i.prototype._fireRowAdding = function(e, t, o) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowAdding", e, t, o);
      }, i.prototype._fireRowAdded = function(e) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowAdded", e);
      }, i.prototype._fireRowsAdding = function(e, t, o) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsAdding", e, t, o);
      }, i.prototype._fireRowsAdded = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsAdded", e, t);
      }, i.prototype._fireRowRemoving = function(e) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowRemoving", e);
      }, i.prototype._fireRowRemoved = function(e) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowRemoved", e);
      }, i.prototype._fireRowsRemoving = function(e) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsRemoving", e);
      }, i.prototype._fireRowsRemoved = function(e) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsRemoved", e);
      }, i.prototype._fireRowUpdating = function(e) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowUpdating", e);
      }, i.prototype._fireRowUpdated = function(e) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowUpdated", e);
      }, i.prototype._fireRowsUpdating = function(e) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsUpdating", e);
      }, i.prototype._fireRowsUpdated = function(e) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsUpdated", e);
      }, i.prototype._fireValueChanging = function(e, t, o) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderValueChanging", e, t, o);
      }, i.prototype._fireValueChanged = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderValueChanged", e, t);
      }, i.prototype._fireIconIndexChanged = function(e) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderIconIndexChanged", e);
      }, i.prototype._fireHasChildrenChanged = function(e) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderHasChildrenChanged", e);
      }, i.prototype._fireRowStateChanged = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowStateChanged", e, t);
      }, i.prototype._fireRowStatesChanged = function(e) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowStatesChanged", e);
      }, i.prototype._fireRowSiblingMoving = function(e, t) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowSiblingMoving", e, t);
      }, i.prototype._fireRowSiblingMoved = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowSiblingMoved", e, t);
      }, i.prototype._fireRowsSiblingMoving = function(e, t) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsSiblingMoving", e, t);
      }, i.prototype._fireRowsSiblingMoved = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsSiblingMoved", e, t);
      }, i.prototype._fireRowParentChanging = function(e, t, o) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowParentChanging", e, t, o);
      }, i.prototype._fireRowParentChanged = function(e, t, o) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowParentChanged", e, t, o);
      }, i.prototype._fireRowsParentChanging = function(e, t, o) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent("onTreeDataProviderRowsParentChanging", e, t, o);
      }, i.prototype._fireRowsParentChanged = function(e, t, o) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsParentChanged", e, t, o);
      }, i.prototype._fireRowsHiddenChanged = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderRowsHideChanged", e, t);
      }, i.prototype.fireDataLoadComplated = function() {
        this._eventLock <= 0 && this.fireEvent("onTreeDataProviderDataLoadComplated");
      }, i.prototype.undo = function() {
        this.canUndo && this._commands.undo();
      }, i.prototype.redo = function() {
        this.canRedo && this._commands.redo(!0);
      }, i.prototype.clearCommandStack = function() {
        this._commands && this._commands.flush();
      }, i;
    }(yc), wc = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._ds = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.load = function(e, t, o) {
        var r = new Ft(o);
        if (this.$_checkEmpty(t, r))
          return 0;
        switch (this.$_prepareLoad(r), e = e && e.toLowerCase()) {
          case "json":
            return this.$_loadJson(t, r);
          case "xml":
            return this.$_loadXml(t, r);
          case "csv":
            return this.$_loadCsv(t, r);
        }
        return 0;
      }, i.prototype.$_loadJson = function(e, t) {
        if (typeof e == "string" && (e = JSON.parse(e)), e) {
          var o = t.childrenField, r = t.iconField;
          if (t.fillMode == f.DataFillMode.APPEND) {
            var n = this._ds.rowById(t.parentId);
            return this._ds.appendJsonRows(n, e, t.rows, o, r);
          }
          return this._ds.setJsonRows(e, t.rows, o, r);
        }
        return 0;
      }, i.prototype.$_loadXml = function(e, t) {
        if (typeof e == "string" && (e = oe.parseXml(e)), e && e.documentElement) {
          var o = t.childrenField, r = t.iconField;
          if (t.fillMode == f.DataFillMode.APPEND) {
            var n = this._ds.rowById(t.parentId);
            return this._ds.appendXmlRows(n, e, t.rows, o, r);
          }
          return this._ds.setXmlRows(e, t.rows, o, r);
        }
        return 0;
      }, i.prototype.$_loadCsv = function(e, t) {
        var o = t.start, r = t.count, n = t.quoted, s = t.delimiter, l = Ti.csvToArray(this._ds, e, o, r, n, s);
        if (l && (r = l.length) > 0) {
          var h = t.treeField, u = t.childrenField, c = t.iconField, d = t.needSorting;
          if (t.fillMode == f.DataFillMode.APPEND) {
            var p = this._ds.rowById(t.parentId);
            this._ds.appendDataRows(p, l, h, d, u, c);
          } else
            this._ds.setRows(l, h, d, u, c);
          return l.length;
        }
        return 0;
      }, i.prototype.$_fillEmpty = function(e) {
        e.fillMode === f.DataFillMode.SET && this._ds.setRows(null, null, !1, null, null);
      }, i.prototype.$_checkEmpty = function(e, t) {
        return !e && (this.$_fillEmpty(t), !0);
      }, i.prototype.$_prepareLoad = function(e) {
      }, i;
    }(J);
    f.ExportType = void 0, (pa = f.ExportType || (f.ExportType = {})).EXCEL = "excel", pa.CSV = "csv", f.ExportTarget = void 0, (Cn = f.ExportTarget || (f.ExportTarget = {})).LOCAL = "local", Cn.REMOTE = "remote", Cn.STREAM = "stream";
    var Ki, ma = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t.datetimeCallback = null, t.numberCallback = null, t.booleanCallback = null, t.objectCallback = null, t.textCallback = null, t.start = 0, t.count = -1, t.replaceCrText = null, t.replaceLfText = null, t.seperator = null, t.assignFrom(e), t.extend(e), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "datetimeFormat", { get: function() {
        return this._datetimeFormat;
      }, set: function(e) {
        e != this._datetimeFormat && (this._datetimeFormat = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        e != this._booleanFormat && (this._booleanFormat = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberFormat", { get: function() {
        return this._numberFormat;
      }, set: function(e) {
        e != this._numberFormat && (this._numberFormat = e);
      }, enumerable: !1, configurable: !0 }), i;
    }(function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._type = f.ExportType.EXCEL, t._target = f.ExportTarget.LOCAL, t.url = void 0, t.done = null, t.showProgress = !1, t.progressMessage = "Exporting...", t.prepareProgress = 10, t.progressCallback = null, t.params = null, t.assignFrom(e), t.extend(e), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "type", { get: function() {
        return this._type;
      }, set: function(e) {
        e && b.valueIn(e, f.ExportType) && (this._type = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "target", { get: function() {
        return this._target;
      }, set: function(e) {
        e && b.valueIn(e, f.ExportTarget) && (this._target = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "zip", { get: function() {
        return this._zip;
      }, set: function(e) {
        this._zip = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fileName", { get: function() {
        if (this._fileName) {
          if (this._fileName.indexOf(".") < 0) {
            var e = this.type === f.ExportType.CSV ? ".csv" : ".xlsx";
            return this._fileName + e;
          }
          return this._fileName;
        }
        return this.type === f.ExportType.CSV ? "realgrid.csv" : "realgrid.xlsx";
      }, set: function(e) {
        e != this._fileName && (this._fileName = e ? e.trim() : null);
      }, enumerable: !1, configurable: !0 }), i;
    }(J)), ba = function() {
      function a() {
      }
      return a.prototype.dispose = function() {
        return null;
      }, a.prototype.saveLocal = function(i, e, t) {
        var o = Xe(t), r = e instanceof Blob ? e : new Blob([e], { type: "text/csv charset=UTF-8" });
        if (o.navigator.msSaveOrOpenBlob)
          o.navigator.msSaveOrOpenBlob(r, i);
        else if (o.navigator.msSaveOrOpenBlob)
          o.navigator.msSaveOrOpenBlob(r, i);
        else {
          var n = t.createElement("a");
          t.body.appendChild(n);
          var s = window.URL.createObjectURL(r);
          n.href = s, n.download = i, n.click(), setTimeout(function() {
            t.body.removeChild(n);
          }, 100);
        }
      }, a.prototype.saveServer = function(i, e, t, o, r) {
        var n = '<form name="tempForm" action="' + t + '" method="post">';
        if (n += '<input type="hidden" name="fileName" value = "' + i + '"/>', n += '<input type="hidden" name="data" value = "' + e + '"/>', n += '<input id="submitBtn" type="submit"/>', r)
          for (var s in r)
            n += '<input type="hidden" name="' + s + '" value = "' + r[s] + '"/>';
        n += "</form>";
        var l = o.createElement("div");
        l.innerHTML = n, o.body.appendChild(l), o.getElementById("submitBtn").click(), setTimeout(function() {
          o.body.removeChild(l);
        }, 100);
      }, a;
    }(), va = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t.exportFields = null, t.hideFields = null, t.includeFieldNames = !1, t.extend(e), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "type", { get: function() {
        return f.ExportType.CSV;
      }, enumerable: !1, configurable: !0 }), i;
    }(ma), Cc = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype.dispose = function() {
        return a.prototype.dispose.call(this), null;
      }, i.prototype.export = function(e, t) {
        this._dataSource = e, this._exportOptions = t instanceof va ? t : new va(t), this._exportFields = this.$_prepareFields(e, t.exportFields, t.hideFields), this._rows = [], e instanceof cr ? this.$_buildTreeBook(function() {
          this.save();
        }) : e instanceof wn && this.$_buildBook(function() {
          this.save();
        });
      }, i.prototype.$_prepareFields = function(e, t, o) {
        var r = e.getFields();
        return t ? t.map(function(n) {
          return e.fieldByName(n);
        }).filter(function(n) {
          return n;
        }) : o ? r.filter(function(n) {
          return o.indexOf(n.orgFieldName) < 0;
        }) : r;
      }, i.prototype.addQuatation = function(e, t) {
        return b.addQuatation(e, t === f.ValueType.TEXT, this._exportOptions.replaceLfText, this._exportOptions.replaceCrText);
      }, i.prototype.$_buildFieldName = function() {
        return this._exportFields.map(function(e) {
          return e.orgFieldName;
        }).join(this._exportOptions.seperator || ",");
      }, i.prototype.$_buildBook = function(e) {
        var t = this._exportOptions, o = this._dataSource.rowCount, r = Math.max(0, t.start), n = t.count == -1 ? o : Math.min(Math.max(t.count, 0), o), s = Math.min(o, r + n);
        t.includeFieldNames && this._rows.push(this.$_buildFieldName());
        for (var l = r; l < s; l++)
          this._rows.push(this.$_buildItem(l));
        if (t.target === f.ExportTarget.STREAM) {
          var h = this._rows.join(`
`);
          t.done && typeof t.done == "function" && t.done(h);
        } else
          t.done && typeof t.done == "function" && t.done(), e.call(this);
      }, i.prototype.$_buildTreeBook = function(e) {
        for (var t = this._exportOptions, o = this._dataSource.getDescendants(null, 0), r = 0; r < o.length; r++)
          this._rows.push(this.$_buildItem(o[r]));
        if (t.target === f.ExportTarget.STREAM) {
          var n = this._rows.join(`
`);
          t.done && typeof t.done == "function" && t.done(n);
        } else
          t.done && typeof t.done == "function" && t.done(), e.call(this);
      }, i.prototype.$_buildItem = function(e) {
        var t, o, r, n = this._dataSource, s = this._exportFields;
        n instanceof cr ? (o = e ? e.values : [], r = e.rowId) : (o = n.getRow(e), r = e);
        for (var l, h, u = [], c = s.length, d = this._exportOptions, p = d.seperator, _ = 0; _ < c; _++) {
          if (h = void 0, t = s[_])
            switch (l = o[t.index], t.dataType) {
              case f.ValueType.NUMBER:
                h = isNaN(l) || l == null ? "" : d.numberCallback ? (h = d.numberCallback(r, t.orgFieldName, l, n.$_handler)) != null ? String(h) : h : d.numberFormat ? Pt.getFormatter(d.numberFormat).getText(l) : String(l);
                break;
              case f.ValueType.BOOLEAN:
                l != null && (d.booleanCallback ? l = (l = d.booleanCallback(r, t.orgFieldName, l, n.$_handler)) != null ? String(l) : l : d.booleanFormat && (l = Ht.getFormatter(d.booleanFormat).formatValue(l)), h = String(l));
                break;
              case f.ValueType.DATE:
              case f.ValueType.DATETIME:
                l && (h = d.datetimeCallback ? (l = d.datetimeCallback(r, t.orgFieldName, l, n.$_handler)) instanceof Date ? Ne.Default.getText(l) : l : d.datetimeFormat ? Ne.getFormatter(d.datetimeFormat).getText(l) : Ne.Default.getText(l));
                break;
              case f.ValueType.OBJECT:
                l && (h = typeof (l = d.objectCallback ? d.objectCallback(r, t.orgFieldName, l, n.$_handler) : l) == "object" ? JSON.stringify(l) : String(l));
                break;
              default:
                h = (l = d.textCallback ? d.textCallback(r, t.orgFieldName, l, n.$_handler) : l) != null ? String(l) : "";
            }
          u[u.length] = this.addQuatation(h, t && t.dataType);
        }
        return u.join(p || ",");
      }, i.prototype.save = function() {
        var e = this._exportOptions, t = e.fileName, o = "\uFEFF" + this._rows.join(`
`);
        e.target == f.ExportTarget.LOCAL ? this.saveLocal(t, o, document) : this.saveServer(t, Eo.encode(o), e.url, document, e.params);
      }, i;
    }(ba), Ze = function() {
      function a() {
      }
      return a.getFieldIndex = function(i, e) {
        return typeof e == "string" ? i.getFieldIndex(e) : e;
      }, a.fillData = function(i, e, t, o) {
        var r = new fc(i);
        try {
          r.load(e, t, o);
        } finally {
          r.dispose();
        }
      }, a.fillTreeData = function(i, e, t, o) {
        var r = new wc(i);
        try {
          r.load(e, t, o);
        } finally {
          r.dispose();
        }
      }, a.extractTreeRows = function(i) {
        if (i) {
          for (var e = i.length, t = new Array(e), o = 0; o < e; o++)
            t[o] = i[o].rowId;
          return t;
        }
        return null;
      }, a;
    }(), On = function() {
    }, Rn = function() {
      function a(i) {
        this._dp = this._createProvider(i), this._listener = this._createListener(this._dp);
      }
      return a.prototype.dispose = function() {
        return this._dp.dispose(), this._dp = null;
      }, Object.defineProperty(a.prototype, "subTypeEnabled", { get: function() {
        return this._dp.subTypeEnabled;
      }, set: function(i) {
        this._dp.subTypeEnabled = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "undoable", { get: function() {
        return this._dp.undoable;
      }, set: function(i) {
        this._dp.undoable = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "insertable", { get: function() {
        return this._dp.insertable;
      }, set: function(i) {
        this._dp.insertable = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "updatable", { get: function() {
        return this._dp.updatable;
      }, set: function(i) {
        this._dp.updatable = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "deletable", { get: function() {
        return this._dp.deletable;
      }, set: function(i) {
        this._dp.deletable = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "softDeleting", { get: function() {
        return this._dp.softDeleting;
      }, set: function(i) {
        this._dp.softDeleting = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "deleteCreated", { get: function() {
        return this._dp.deleteCreated;
      }, set: function(i) {
        this._dp.deleteCreated = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "checkStates", { get: function() {
        return this._dp.checkStates;
      }, set: function(i) {
        this._dp.checkStates = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "restoreMode", { get: function() {
        return this._dp.restoreMode;
      }, set: function(i) {
        this._dp.restoreMode = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "strictRestore", { get: function() {
        return this._dp.strictRestore;
      }, set: function(i) {
        this._dp.strictRestore = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "booleanFormat", { get: function() {
        return this._dp.booleanFormat;
      }, set: function(i) {
        this._dp.booleanFormat = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "datetimeFormat", { get: function() {
        return this._dp.datetimeFormat;
      }, set: function(i) {
        this._dp.datetimeFormat = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "baseYear", { get: function() {
        return this._dp.baseYear;
      }, set: function(i) {
        this._dp.baseYear = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "amText", { get: function() {
        return this._dp.amText;
      }, set: function(i) {
        this._dp.amText = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "pmText", { get: function() {
        return this._dp.pmText;
      }, set: function(i) {
        this._dp.pmText = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "commitBeforeDataEdit", { get: function() {
        return this._dp.commitBeforeDataEdit;
      }, set: function(i) {
        this._dp.commitBeforeDataEdit = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "valuesCallback", { get: function() {
        return this._dp.valuesCallback;
      }, set: function(i) {
        this._dp.valuesCallback = i;
      }, enumerable: !1, configurable: !0 }), a.prototype.getOptions = function() {
        var i = this._dp;
        return { subTypeEnabled: i.subTypeEnabled, undoable: i.undoable, insertable: i.insertable, updatable: i.updatable, deletable: i.deletable, softDeleting: i.softDeleting, deleteCreated: i.deleteCreated, checkStates: i.checkStates, restoreMode: i.restoreMode.toString(), strictRestore: i.strictRestore, booleanFormat: i.booleanFormat, datetimeFormat: i.datetimeFormat, baseYear: i.baseYear, amText: i.amText, pmText: i.pmText, commitBeforeDataEdit: i.commitBeforeDataEdit };
      }, a.prototype.setOptions = function(i) {
        this._dp.assignFrom(i);
      }, a.prototype.beginUpdate = function() {
        this._dp.beginUpdate();
      }, a.prototype.endUpdate = function(i) {
        i === void 0 && (i = !0), this._dp.endUpdate(i);
      }, a.prototype.getFields = function() {
        return this._dp.getFields();
      }, a.prototype.setFields = function(i) {
        b.isArray(i) && this._dp.setFields(i);
      }, a.prototype.addField = function(i, e, t) {
        return this._dp.addField(i, e, t);
      }, a.prototype.getFieldCount = function() {
        return this._dp.fieldCount;
      }, a.prototype.fieldByName = function(i) {
        return this._dp.fieldByName(i);
      }, a.prototype.getFieldNames = function() {
        return this._dp.getFieldNames();
      }, a.prototype.getOrgFieldNames = function() {
        return this._dp.getOrgFieldNames();
      }, a.prototype.getFieldName = function(i) {
        return this._dp.getFieldName(i);
      }, a.prototype.getOrgFieldName = function(i) {
        return this._dp.getOrgFieldName(i);
      }, a.prototype.getFieldIndex = function(i) {
        return this._dp.getFieldIndex(i);
      }, a.prototype.hasData = function(i) {
        return this._dp.hasData(i);
      }, a.prototype.getValues = function(i) {
        return this._dp.getRow(i);
      }, a.prototype.checkRowStates = function(i) {
        this._dp.checkStates = i;
      }, a.prototype.getRowState = function(i) {
        return this._dp.getRowState(i);
      }, a.prototype.getStateRows = function(i) {
        return i === void 0 && (i = f.RowState.NONE), this._dp.getStateRows(i);
      }, a.prototype.getAllStateRows = function() {
        return this._dp.getAllStateRows();
      }, a.prototype.clearRowStates = function(i, e) {
        e === void 0 && (e = !1), this._dp.clearRowStates(i, e);
      }, a.prototype.setRowState = function(i, e, t) {
        e === void 0 && (e = f.RowState.NONE), t === void 0 && (t = !1), this._dp.setRowState(i, e, t);
      }, a.prototype.setRowStates = function(i, e, t, o) {
        e === void 0 && (e = f.RowState.NONE), t === void 0 && (t = !1), o === void 0 && (o = !1), this._dp.setRowStates(i, e, t, o);
      }, a.prototype.getRowStateCount = function(i) {
        if (!i)
          return 0;
        var e = [];
        if (i == "*" || i == "all")
          e.push(f.RowState.CREATED, f.RowState.UPDATED, f.RowState.DELETED, f.RowState.CREATE_AND_DELETED);
        else
          for (var t = Array.isArray(i) ? i : [i], o = 0, r = t.length; o < r; o++)
            e.push(t[o]);
        return e.length > 0 ? this._dp.getRowStateCount(e) : void 0;
      }, a.prototype.restoreUpdatedStates = function(i) {
        return this._dp.restoreUpdatedStates(i);
      }, a.prototype.restoreUpdatedRows = function(i) {
        return this._dp.restoreUpdatedRows(b.makeArray(i));
      }, a.prototype.getUpdatedCells = function(i) {
        return this._dp.getUpdatedCells(i);
      }, a.prototype.getDistinctValues = function(i, e, t) {
        e === void 0 && (e = -1), t === void 0 && (t = f.SortDirection.ASCENDING);
        var o = t || f.SortDirection.ASCENDING, r = typeof i == "string" ? this._dp.getFieldIndex(i) : i;
        return this._dp.getDistinctValues(r, e, o);
      }, a.prototype.savePoint = function(i) {
        return i === void 0 && (i = !0), this._dp.savePoint(i);
      }, a.prototype.rollback = function(i) {
        i === void 0 && (i = 0), this._dp.rollback(i);
      }, a.prototype.clearSavePoints = function() {
        this._dp.clearSavePoints();
      }, a.prototype.getSavePoints = function() {
        return this._dp.getSavePoints();
      }, a.prototype.setDataComparer = function(i, e) {
        var t = typeof i == "string" ? this._dp.getFieldIndex(i) : i;
        this._dp.setDataComparer(t, e);
      }, a.prototype.exportToCsv = function(i) {
        new Cc().export(this._dp, i);
      }, a.prototype.destroy = function() {
        return this.dispose();
      }, a.prototype.undo = function() {
        this._dp.undo();
      }, a.prototype.redo = function() {
        this._dp.redo();
      }, a.prototype.clearCommandStack = function() {
        this._dp.clearCommandStack();
      }, a.prototype.getProvider = function() {
        return this._dp;
      }, a;
    }(), wa = function(a) {
      function i() {
        var e = a !== null && a.apply(this, arguments) || this;
        return e.onRowCountChanged = null, e.onRowUpdating = null, e.onRowUpdated = null, e.onRowsUpdated = null, e.onRowListUpdated = null, e.onRowInserting = null, e.onRowInserted = null, e.onRowsInserted = null, e.onRowDeleting = null, e.onRowDeleted = null, e.onRowsDeleted = null, e.onRowMoving = null, e.onRowMoved = null, e.onRowsMoving = null, e.onRowsMoved = null, e.onRowListMoving = null, e.onRowListMoved = null, e.onValueChanged = null, e.onDataChanged = null, e.onRowStateChanged = null, e.onRowStatesChanged = null, e.onRowStatesCleared = null, e.onRestoreRows = null, e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._dp.rowCount;
      }, set: function(e) {
        this._dp.setRowCount(e);
      }, enumerable: !1, configurable: !0 }), i.prototype.getRowCount = function() {
        return this._dp.rowCount;
      }, i.prototype.setRowCount = function(e, t, o, r) {
        return t === void 0 && (t = !1), o === void 0 && (o = null), r === void 0 && (r = f.RowState.NONE), this._dp.setRowCount(e, t, o, r);
      }, i.prototype.setFilterMode = function(e) {
        e === void 0 && (e = "and"), this._dp.setFilterMode(e);
      }, i.prototype.setFilters = function(e, t) {
        t === void 0 && (t = "and"), this._dp.setFilters(e, t);
      }, i.prototype.fillJsonData = function(e, t) {
        var o = t instanceof Ft ? t : new Ft(t);
        Ze.fillData(this._dp, "json", e, o);
      }, i.prototype.fillXmlData = function(e, t) {
        var o = t instanceof Ft ? t : new Ft(t);
        Ze.fillData(this._dp, "xml", e, o);
      }, i.prototype.fillCsvData = function(e, t) {
        var o = t instanceof Ft ? t : new Ft(t);
        Ze.fillData(this._dp, "csv", e, o);
      }, i.prototype.setRows = function(e, t, o) {
        t === void 0 && (t = 0), o === void 0 && (o = -1), this._dp.setRows(e, t, o);
      }, i.prototype.addRows = function(e, t, o, r) {
        t === void 0 && (t = 0), o === void 0 && (o = -1), r === void 0 && (r = !1), this._dp.appendRows(e, t, o, r);
      }, i.prototype.insertRows = function(e, t, o, r, n) {
        o === void 0 && (o = 0), r === void 0 && (r = -1), n === void 0 && (n = !1), this._dp.insertRows(e, t, o, r, n);
      }, i.prototype.updateRows = function(e, t, o, r, n, s) {
        o === void 0 && (o = 0), r === void 0 && (r = -1), n === void 0 && (n = !1), s === void 0 && (s = !1), this._dp.updateRows(e, t, o, r, n, s);
      }, i.prototype.updateRowsByDataRow = function(e, t, o) {
        this._dp.updateRows2(e, t, o);
      }, i.prototype.clearRows = function() {
        this._dp.clearRows();
      }, i.prototype.updateRow = function(e, t, o) {
        this._dp.updateRow(e, t, o);
      }, i.prototype.hideRows = function(e) {
        this._dp.hideRows(e);
      }, i.prototype.showHiddenRows = function(e) {
        this._dp.showRows(e);
      }, i.prototype.getHiddenRows = function() {
        return this._dp.getHiddenRows();
      }, i.prototype.isHiddenRow = function(e) {
        return this._dp.isHiddenRow(e);
      }, i.prototype.resetHiddenRows = function() {
        this._dp.clearHiddenRows();
      }, i.prototype.addRow = function(e) {
        return this._dp.appendRow(e);
      }, i.prototype.insertRow = function(e, t) {
        return this._dp.insertRow(e, t);
      }, i.prototype.removeRow = function(e) {
        this._dp.removeRow(e);
      }, i.prototype.removeRows = function(e, t) {
        t === void 0 && (t = !1), this._dp.removeRows(e, t);
      }, i.prototype.moveRow = function(e, t) {
        this._dp.moveRow(e, t);
      }, i.prototype.moveRows = function(e, t, o) {
        this._dp.moveRows(e, t, o);
      }, i.prototype.getValue = function(e, t) {
        var o = Ze.getFieldIndex(this._dp, t);
        return this._dp.getValue(e, o);
      }, i.prototype.setValue = function(e, t, o) {
        var r = Ze.getFieldIndex(this._dp, t);
        this._dp.setValue(e, r, o);
      }, i.prototype.getRows = function(e, t) {
        return e === void 0 && (e = 0), t === void 0 && (t = -1), this._dp.getRows(e, t);
      }, i.prototype.getJsonRow = function(e, t) {
        return this._dp.getRowObject(e, t);
      }, i.prototype.getJsonRows = function(e, t, o) {
        return e === void 0 && (e = 0), t === void 0 && (t = -1), o === void 0 && (o = !1), this._dp.getRowObjects(e, t, o);
      }, i.prototype.getOutputRow = function(e, t) {
        return this._dp.getOutputObject(e, t);
      }, i.prototype.getOutputRows = function(e, t, o) {
        return t === void 0 && (t = 0), o === void 0 && (o = -1), this._dp.getOutputObjects(e, t, o);
      }, i.prototype.getFieldValues = function(e, t, o) {
        t === void 0 && (t = 0), o === void 0 && (o = -1);
        var r = Ze.getFieldIndex(this._dp, e);
        return this._dp.getFieldValues(r, t, o);
      }, i.prototype.searchDataRow = function(e) {
        return e ? this._dp.searchDataRow(e) : -1;
      }, i.prototype.searchData = function(e) {
        return e ? this._dp.searchData(e) : null;
      }, i.prototype._createProvider = function(e) {
        return new wn(e, this);
      }, i.prototype._createListener = function(e) {
        return new xc(this, e);
      }, i;
    }(Rn), Ca = function(a) {
      function i(e) {
        e === void 0 && (e = !1);
        var t = a.call(this, e) || this;
        return t.onRowCountChanged = null, t.onRowAdding = null, t.onRowAdded = null, t.onRowsAdded = null, t.onRowDeleting = null, t.onRowDeleted = null, t.onRowsDeleted = null, t.onRowUpdating = null, t.onRowUpdated = null, t.onRowsUpdating = null, t.onRowsUpdated = null, t.onValueChanged = null, t.onDataChanged = null, t.onRowStateChanged = null, t.onRowStatesChanged = null, t.onRowSiblingMoving = null, t.onRowSiblingMoved = null, t.onRowsSiblingMoving = null, t.onRowsSiblingMoved = null, t.onRowParentChanging = null, t.onRowParentChanged = null, t;
      }
      return w(i, a), i.prototype.getRowCount = function() {
        return this._dp.rowCount;
      }, i.prototype.setRows = function(e, t, o, r, n) {
        o === void 0 && (o = !1), this._dp.setRows(e, t, o, r, n);
      }, i.prototype.setCsvRows = function(e, t, o, r, n) {
        this._dp.setCsvRows(e, t, o, r, n);
      }, i.prototype.setXmlRows = function(e, t, o, r) {
        this._dp.setXmlRows(e, t, o, r);
      }, i.prototype.setObjectRows = function(e, t, o, r) {
        this._dp.setJsonRows(e, t, o, r);
      }, i.prototype.setNestedRows = function(e, t, o, r, n) {
        this._dp.setJsonRows2(e, t, o, r, n);
      }, i.prototype.fillJsonData = function(e, t) {
        var o = new Ft(t);
        try {
          Ze.fillTreeData(this._dp, "json", e, o);
        } finally {
          o.dispose(), o = null;
        }
      }, i.prototype.fillXmlData = function(e, t) {
        var o = new Ft(t);
        try {
          Ze.fillTreeData(this._dp, "xml", e, o);
        } finally {
          o.dispose(), o = null;
        }
      }, i.prototype.fillCsvData = function(e, t) {
        var o = new Ft(t);
        try {
          Ze.fillTreeData(this._dp, "csv", e, o);
        } finally {
          o.dispose(), o = null;
        }
      }, i.prototype.getIconIndex = function(e) {
        return this._dp.rowById(e).iconIndex;
      }, i.prototype.setIconIndex = function(e, t) {
        this._dp.rowById(e).iconIndex = t;
      }, i.prototype.getParent = function(e) {
        var t = this._dp.rowById(e);
        return t && t.parent ? t.parent.rowId : -1;
      }, i.prototype.getLevel = function(e) {
        return this._dp.rowById(e).level;
      }, i.prototype.getChildCount = function(e) {
        var t = this._dp;
        if (e == null || e == -1)
          return t.getChildCount(null);
        var o = t.rowById(e);
        return o && o.children ? o.children.length : 0;
      }, i.prototype.getChildren = function(e) {
        var t, o = this._dp;
        return e == null || e == -1 ? t = o.getRows(null) : t = o.rowById(e).children, Ze.extractTreeRows(t);
      }, i.prototype.getDescendantCount = function(e) {
        var t = this._dp;
        return e == null || e == -1 ? t.getDescendantCount(null) : t.rowById(e).descendantCount;
      }, i.prototype.getDescendants = function(e, t) {
        t === void 0 && (t = -1);
        var o = null, r = this._dp;
        e != null && e != -1 && (o = r.rowById(e));
        var n = r.getDescendants(o, t);
        return Ze.extractTreeRows(n);
      }, i.prototype.getAncestors = function(e) {
        var t = this._dp.rowById(e);
        return t && t.ancestors ? Ze.extractTreeRows(t.ancestors) : null;
      }, i.prototype.getJsonRow = function(e, t, o, r, n, s) {
        r === void 0 && (r = "rows"), n === void 0 && (n = "iconIndex"), s === void 0 && (s = -1);
        var l = this._dp, h = e == null || e < 0 ? l.rootRow : l.rowById(e);
        if (h) {
          var u = h.getObject() || {};
          return t && (u.__rowState = h.rowState), o && s !== 0 && (u[r] = h.getChildObjects(o, r, n, !1, t, s - 1)), u;
        }
        return null;
      }, i.prototype.getJsonRows = function(e, t, o, r, n) {
        t === void 0 && (t = !1), o === void 0 && (o = "rows"), r === void 0 && (r = "iconIndex");
        var s = this._dp, l = e == null || e <= -1 ? s.rootRow : s.rowById(e);
        return l ? l.getChildObjects(t, o, r, !0, n) : null;
      }, i.prototype.getOutputRow = function(e, t, o) {
        o === void 0 && (o = "iconIndex");
        var r, n = new Wi(e);
        try {
          var s = this._dp, l = t == null || t < 0 ? s.rootRow : s.rowById(t);
          r = l ? l.getOutput(n, o) : null;
        } finally {
          n.dispose();
        }
        return r;
      }, i.prototype.getOutputRows = function(e, t, o, r, n) {
        o === void 0 && (o = !1), r === void 0 && (r = "rows"), n === void 0 && (n = "iconIndex");
        var s, l = new Wi(e);
        try {
          var h = this._dp, u = t == null || t <= -1 ? h.rootRow : h.rowById(t);
          s = u ? u.getChildOutputObjects(l, o, r, n) : null;
        } finally {
          l.dispose();
        }
        return s;
      }, i.prototype.addChildRow = function(e, t, o, r) {
        o === void 0 && (o = -1), r === void 0 && (r = !1);
        var n = this._dp, s = n.rowById(e) || n.rootRow, l = n.createRow(t, o, r);
        return s.addChild(l, !1) ? l.rowId : -1;
      }, i.prototype.insertChildRow = function(e, t, o, r, n) {
        r === void 0 && (r = -1), n === void 0 && (n = !1);
        var s = this._dp, l = s.rowById(e) || s.rootRow, h = s.createRow(o, r, n);
        return l.insertChild(t, h, !1) ? h.rowId : -1;
      }, i.prototype.insertChildNode = function(e, t, o, r, n, s) {
        r === void 0 && (r = "rows"), n === void 0 && (n = "iconField"), s === void 0 && (s = !1);
        var l = this._dp, h = e == null || e < 0 ? l.rootRow : l.rowById(e);
        if (h)
          return l.insertChildNode(h, t, o, r, n, s);
      }, i.prototype.updateRow = function(e, t, o) {
        var r = this._dp.rowById(e);
        return !!r && r.update(t, o);
      }, i.prototype.updateRows = function(e, t, o) {
        this._dp.updateRows(e, t, o);
      }, i.prototype.removeRow = function(e, t) {
        var o = this._dp.rowById(e);
        return !(!o || !o.parent) && o.parent.removeChild(o, t);
      }, i.prototype.removeRows = function(e, t) {
        return !!(e && e.length > 0) && this._dp.removeRows(e, t);
      }, i.prototype.clearRows = function() {
        this._dp.clearRows();
      }, i.prototype.hideRows = function(e) {
        this._dp.hideRows(e);
      }, i.prototype.showHiddenRows = function(e) {
        this._dp.showRows(e);
      }, i.prototype.getHiddenRows = function() {
        return this._dp.getHiddenRows();
      }, i.prototype.isHiddenRow = function(e) {
        return this._dp.isHiddenRow(e);
      }, i.prototype.resetHiddenRows = function() {
        this._dp.clearHiddenRows();
      }, i.prototype.getValue = function(e, t) {
        var o = this._dp, r = o.rowById(e), n = Ze.getFieldIndex(o, t);
        return r ? r.getValue(n) : null;
      }, i.prototype.setValue = function(e, t, o) {
        var r = this._dp, n = r.rowById(e), s = Ze.getFieldIndex(r, t);
        n && n.setValue(s, o, !1);
      }, i.prototype.moveRowSibling = function(e, t) {
        var o = this._dp, r = o.rowById(e);
        return !!r && o.changeRowIndex(r, t);
      }, i.prototype.changeRowParent = function(e, t, o) {
        var r = this._dp, n = r.rowById(e), s = t < 0 ? r.rootRow : r.rowById(t);
        return !(!n || !s) && r.changeRowParent(n, s, o);
      }, i.prototype.searchDataRow = function(e) {
        return e ? this._dp.searchDataRow(e, e.parentId) : -1;
      }, i.prototype.searchData = function(e) {
        return e ? this._dp.searchData(e, e.parentId) : null;
      }, i.prototype._createProvider = function(e) {
        return new cr(e, this);
      }, i.prototype._createListener = function(e) {
        return new Ic(this, e);
      }, i;
    }(Rn), xc = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._del = e, o._provider = t, o._provider.addListener(o), o;
      }
      return w(i, a), i.prototype.dispose = function() {
        return this._del = null, this._provider.removeListener(this), this._provider = null;
      }, i.prototype.onDataProviderRowCountChanged = function(e) {
        this._del.onRowCountChanged ? this._del.onRowCountChanged(this._del, e.rowCount) : b.log("onRowCountChanged: " + e.rowCount);
      }, i.prototype.onDataProviderRowUpdating = function(e, t, o) {
        return this._del.onRowUpdating ? this._del.onRowUpdating(this._del, t) : (b.log("onRowUpdating: " + t), !0);
      }, i.prototype.onDataProviderRowUpdated = function(e, t) {
        this._del.onRowUpdated ? this._del.onRowUpdated(this._del, t) : b.log("onRowUpdated: " + t);
      }, i.prototype.onDataProviderRowsUpdated = function(e, t, o) {
        this._del.onRowsUpdated ? this._del.onRowsUpdated(this._del, t, o) : b.log("onRowsUpdated: " + t + ", " + o);
      }, i.prototype.onDataProviderRowListUpdated = function(e, t) {
        this._del.onRowListUpdated ? this._del.onRowListUpdated(this._del, t) : b.log("onRowListUpdated: " + t);
      }, i.prototype.onDataProviderRowInserting = function(e, t, o) {
        return this._del.onRowInserting ? this._del.onRowInserting(this._del, t, o) : (b.log("onRowInserting: " + t), !0);
      }, i.prototype.onDataProviderRowInserted = function(e, t) {
        this._del.onRowInserted ? this._del.onRowInserted(this._del, t) : b.log("onRowInserted: " + t);
      }, i.prototype.onDataProviderRowsInserted = function(e, t, o) {
        this._del.onRowsInserted ? this._del.onRowsInserted(this._del, t, o) : b.log("onRowsInserted: " + t + ", " + o);
      }, i.prototype.onDataProviderRowRemoving = function(e, t) {
        return this._del.onRowDeleting ? this._del.onRowDeleting(this._del, t) : (b.log("onRowDeleting: " + t), !0);
      }, i.prototype.onDataProviderRowRemoved = function(e, t) {
        this._del.onRowDeleted ? this._del.onRowDeleted(this._del, t) : b.log("onRowDeleted: " + t);
      }, i.prototype.onDataProviderRowsRemoving = function(e, t) {
        return !0;
      }, i.prototype.onDataProviderRowsRemoved = function(e, t) {
        this._del.onRowsDeleted ? this._del.onRowsDeleted(this._del, t) : b.log("onRowsDeleted: ", t);
      }, i.prototype.onDataProviderRowMoving = function(e, t, o) {
        return this._del.onRowMoving ? this._del.onRowMoving(this._del, t, o) : (b.log("onRowMoving: " + t + ", " + o), !0);
      }, i.prototype.onDataProviderRowMoved = function(e, t, o) {
        this._del.onRowMoved ? this._del.onRowMoved(this._del, t, o) : b.log("onRowMoved: " + t + ", " + o);
      }, i.prototype.onDataProviderRowsMoving = function(e, t, o, r) {
        return this._del.onRowsMoving ? this._del.onRowsMoving(this._del, t, o, r) : (b.log("onRowsMoving: " + t + ", " + o + ", " + r), !0);
      }, i.prototype.onDataProviderRowsMoved = function(e, t, o, r) {
        this._del.onRowsMoved ? this._del.onRowsMoved(this._del, t, o, r) : b.log("onRowsMoved: " + t + ", " + o + ", " + r);
      }, i.prototype.onDataProviderRowListMoving = function(e, t, o) {
        return this._del.onRowListMoving ? this._del.onRowListMoving(this._del, t, o) : (b.log("onRowListMoving: ", t, ", ", o), !0);
      }, i.prototype.onDataProviderRowListMoved = function(e, t, o) {
        this._del.onRowListMoved ? this._del.onRowListMoved(this._del, t, o) : b.log("onRowListMoved: ", t, o);
      }, i.prototype.onDataProviderValueChanged = function(e, t, o) {
        this._del.onValueChanged ? this._del.onValueChanged(this._del, t, o) : b.log("onValueChanged:" + t + ", " + o);
      }, i.prototype.onDataProviderDataChanged = function(e) {
        this._del.onDataChanged ? this._del.onDataChanged(this._del) : b.log("onDataChanged");
      }, i.prototype.onDataProviderStateChanged = function(e, t) {
        this._del.onRowStateChanged ? this._del.onRowStateChanged(this._del, t) : b.log("onRowStateChanged: " + t);
      }, i.prototype.onDataProviderStatesChanged = function(e, t) {
        this._del.onRowStatesChanged ? this._del.onRowStatesChanged(this._del, t) : b.log("onRowStatesChanged", t);
      }, i.prototype.onDataProviderStatesCleared = function(e) {
        this._del.onRowStatesCleared ? this._del.onRowStatesCleared(this._del) : b.log("onRowStatesCleared");
      }, i.prototype.onDataProviderRestoreRows = function(e, t) {
        this._del.onRestoreRows ? this._del.onRestoreRows(this._del, t) : b.log("onRestoreRows", t);
      }, i;
    }(On), Ic = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._del = e, o._provider = t, o._provider.addListener(o), o;
      }
      return w(i, a), i.prototype.dispose = function() {
        return this._del = null, this._provider.removeListener(this), this._provider = null;
      }, i.prototype.onTreeDataProviderRowCountChanged = function(e) {
        this._del.onRowCountChanged ? this._del.onRowCountChanged(this._del, e.rowCount) : b.log("onRowCountChanged: " + e.rowCount);
      }, i.prototype.onTreeDataProviderRowAdding = function(e, t, o, r) {
        return this._del.onRowAdding ? this._del.onRowAdding(this._del, t.rowId, o, r._values) : (b.log("onRowAdding: " + t.rowId + ", " + o, r._values), !0);
      }, i.prototype.onTreeDataProviderRowAdded = function(e, t) {
        this._del.onRowAdded ? this._del.onRowAdded(this._del, t.rowId) : b.log("onRowAdded: " + t.rowId);
      }, i.prototype.onTreeDataProviderRowsAdded = function(e, t, o) {
        var r = Ze.extractTreeRows(o);
        this._del.onRowsAdded ? this._del.onRowsAdded(this._del, t.rowId, r) : b.log("onRowsAdded: " + t.rowId, r);
      }, i.prototype.onTreeDataProviderRowRemoving = function(e, t) {
        return this._del.onRowDeleting ? this._del.onRowDeleting(this._del, t.rowId) : (b.log("onRowDeleting: " + t.rowId), !0);
      }, i.prototype.onTreeDataProviderRowRemoved = function(e, t) {
        this._del.onRowDeleted ? this._del.onRowDeleted(this._del, t.rowId) : b.log("onRowDeleted: " + t.rowId);
      }, i.prototype.onTreeDataProviderRowsRemoved = function(e, t) {
        var o = Ze.extractTreeRows(t);
        this._del.onRowsDeleted ? this._del.onRowsDeleted(this._del, o) : b.log("onRowsDeleted: ", o);
      }, i.prototype.onTreeDataProviderRowUpdating = function(e, t) {
        return this._del.onRowUpdating ? this._del.onRowUpdating(this._del, t.rowId) : (b.log("onRowUpdating:" + t.rowId), !0);
      }, i.prototype.onTreeDataProviderRowUpdated = function(e, t) {
        this._del.onRowUpdated ? this._del.onRowUpdated(this._del, t.rowId) : b.log("onRowUpdated: " + t.rowId);
      }, i.prototype.onTreeDataProviderRowsUpdating = function(e, t) {
        return this._del.onRowsUpdating ? this._del.onRowsUpdating(this._del, qi.getRowIds(t)) : (b.log("onRowUpdating:" + t.length), !0);
      }, i.prototype.onTreeDataProviderRowsUpdated = function(e, t) {
        this._del.onRowsUpdated ? this._del.onRowsUpdated(this._del, qi.getRowIds(t)) : b.log("onRowsUpdated: " + t.length);
      }, i.prototype.onTreeDataProviderValueChanged = function(e, t, o) {
        this._del.onValueChanged ? this._del.onValueChanged(this._del, t.rowId, o) : b.log("onValueChanged: " + t.rowId + ", " + o);
      }, i.prototype.onTreeDataProviderRowStateChanged = function(e, t) {
        this._del.onRowStateChanged ? this._del.onRowStateChanged(this._del, t.rowId) : b.log("onRowStateChanged: " + t.rowId);
      }, i.prototype.onTreeDataProviderRowStatesChanged = function(e, t) {
        var o = Ze.extractTreeRows(t);
        this._del.onRowStatesChanged ? this._del.onRowStatesChanged(this._del, o) : b.log("onRowStatesChanged: ", o);
      }, i.prototype.onTreeDataProviderRowSiblingMoving = function(e, t, o) {
        return this._del.onRowSiblingMoving ? this._del.onRowSiblingMoving(this._del, t.rowId, o) : (b.log("onRowSiblingMoveing: " + t.rowId + ", " + o), !0);
      }, i.prototype.onTreeDataProviderRowSiblingMoved = function(e, t, o) {
        this._del.onRowSiblingMoved ? this._del.onRowSiblingMoved(this._del, t.rowId, o) : b.log("onSiblingMoved: " + t.rowId + ", " + o);
      }, i.prototype.onTreeDataProviderRowsSiblingMoving = function(e, t, o) {
        return this._del.onRowsSiblingMoving ? this._del.onRowsSiblingMoving(this._del, qi.getRowIds(t), o) : (b.log("onRowSiblingMoveing: ", t, o), !0);
      }, i.prototype.onTreeDataProviderRowsSiblingMoved = function(e, t, o) {
        this._del.onRowsSiblingMoved ? this._del.onRowsSiblingMoved(this._del, qi.getRowIds(t), o) : b.log("onSiblingMoved: ", t, o);
      }, i.prototype.onTreeDataProviderRowParentChanging = function(e, t, o, r) {
        if (this._del.onRowParentChanging)
          return this._del.onRowParentChanging(this._del, t.rowId, o.rowId, r);
        b.log("onRowParentChanging: " + t.rowId + ", " + o.rowId + ", " + r);
      }, i.prototype.onTreeDataProviderRowParentChanged = function(e, t, o, r) {
        this._del.onRowParentChanged ? this._del.onRowParentChanged(this._del, t.rowId, o.rowId, r) : b.log("onRowParentChanged: " + t.rowId + ", " + o.rowId + ", " + r);
      }, i;
    }(On), kt = function() {
      function a(i) {
        this.field = i, this.count = 0, this.sum = NaN, this.max = NaN, this.min = NaN, this.avg = NaN, this.vars = NaN, this.varsp = NaN, this.dataCount = 0, this.dataAvg = NaN;
      }
      return a.prototype.clear = function() {
        this.count = this.dataCount = 0, this.sum = this.dataAvg = this.max = this.min = this.avg = this.vars = this.varsp = NaN;
      }, a;
    }(), Pn = 65536, kn = 131072, xa = 196608, Ia = 4294705152;
    f.ItemState = void 0, (Ki = f.ItemState || (f.ItemState = {})).NORMAL = "normal", Ki.FOCUSED = "focused", Ki.UPDATING = "updating", Ki.INSERTING = "inserting", Ki.APPENDING = "appending", Ki.DUMMY = "dummy";
    var nt = function(a) {
      return a == f.ItemState.UPDATING || a == f.ItemState.INSERTING || a == f.ItemState.APPENDING;
    }, wt = function(a) {
      return a == f.ItemState.INSERTING || a == f.ItemState.APPENDING;
    }, Sc = function() {
      function a() {
      }
      return a.prototype.clear = function() {
        return this.styleName = this.readOnly = this.editable = this.style = void 0, this;
      }, a.prototype.assign = function(i) {
        typeof i == "string" ? this.styleName = i : (i.readOnly != null && (this.readOnly = i.readOnly), i.editable != null && (this.editable = i.editable), i.styleName != null && (this.styleName = i.styleName.trim()), i.style != null && (this.style = i.style), i.exportStyleName != null && (this.exportStyleName = i.exportStyleName));
      }, a;
    }(), Le = function() {
      function a() {
        this._id = a.$$_grid_item_id++, this._index = -1;
      }
      return a.prototype.dispose = function() {
        this._parent = null;
      }, Object.defineProperty(a.prototype, "id", { get: function() {
        return this._id;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "index", { get: function() {
        return this._index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "parent", { get: function() {
        return this._parent;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "parentIndex", { get: function() {
        return this._parent ? this._parent._index : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "root", { get: function() {
        for (var i = this._parent; i && i.level > 1; )
          i = i._parent;
        return i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "childIndex", { get: function() {
        return this._parent ? this._parent.indexOf(this) : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "level", { get: function() {
        return this._parent ? this._parent.level + 1 : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "isData", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "isDataRow", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "visible", { get: function() {
        return this._parent && this._index >= 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "displayLevel", { get: function() {
        return this.level;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "provider", { get: function() {
        return this._parent && this._parent.provider;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "dataSource", { get: function() {
        return this._parent && this._parent.dataSource;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "dataRow", { get: function() {
        return -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "dataId", { get: function() {
        return -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "dataRowId", { get: function() {
        return -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "rowState", { get: function() {
        var i = this.dataRow;
        if (i >= 0) {
          var e = this.dataSource;
          return e ? e.getRowState(i) : f.RowState.NONE;
        }
        return f.RowState.NONE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "itemState", { get: function() {
        return f.ItemState.NORMAL;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "checked", { get: function() {
        var i = (1 & this._getExtents()) != 0;
        return this.provider.getItemChecked(this, i);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "checkable", { get: function() {
        return (4 & this._getExtents()) == 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "editable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "readOnly", { get: function() {
        return (8 & this._getExtents()) != 0;
      }, set: function(i) {
        this._setExtents(i ? 8 | this._getExtents() : -9 & this._getExtents());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "resizable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "merged", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "height", { get: function() {
        var i = this._getExtents();
        return i & xa ? (i & Ia) >>> 18 : NaN;
      }, enumerable: !1, configurable: !0 }), a.prototype.$_setHeight = function(i, e) {
        var t = this._getExtents();
        if (i = Math.round(i), isNaN(i)) {
          if (t & xa)
            return this._setExtents(-196609 & t), !0;
        } else {
          if (i != (t & Ia) >>> 18)
            return i = Math.max(0, Math.min(53247, i)) << 18, t = e ? -196609 & t | kn : -196609 & t | Pn, this._setExtents(262143 & t | i), !0;
          if (e) {
            if (!(t & kn))
              return t = -196609 & t | kn, this._setExtents(t), !0;
          } else if (!(t & Pn))
            return t = -196609 & t | Pn, this._setExtents(t), !0;
        }
      }, a.prototype.$_clearHeight = function(i) {
        i ? this._setExtents(-196609 & this._getExtents()) : this._setExtents(-65537 & this._getExtents()), this.heights = null, this.index == 0 && b.log("HEIGHT", this.height);
      }, Object.defineProperty(a.prototype, "heights", { get: function() {
        return this._heights;
      }, set: function(i) {
        this._heights = i;
      }, enumerable: !1, configurable: !0 }), a.prototype.getShadowRow = function() {
        return this.dataRow;
      }, a.prototype.getHeight = function(i) {
        return this._heights[i];
      }, a.prototype.setChecked = function(i, e) {
        var t = this.provider;
        t && t.checkItem(this, i, void 0, e);
      }, a.prototype.setCheckable = function(i) {
        var e = this.provider;
        e && e.setCheckable(this, i);
      }, a.prototype.getAncestor = function(i) {
        if (i < this.level) {
          for (var e = this._parent; e.level > i; )
            e = e._parent;
          return e;
        }
        return this instanceof Se ? this : null;
      }, a.prototype.getVisibleAncestor = function() {
        var i = this._parent;
        do {
          if (i.visible)
            return i;
          i = i._parent;
        } while (i);
      }, a.prototype.getAncestors = function() {
        var i = null, e = this._parent;
        if (e) {
          i = [];
          do
            i.push(e), e = e._parent;
          while (e);
        }
        return i;
      }, a.prototype.isDescendantOf = function(i) {
        if (i) {
          for (var e = this._parent; e && e != i; )
            e = e._parent;
          return e === i;
        }
        return !1;
      }, a.prototype.getData = function(i) {
        var e = this.dataSource;
        i = e.getFieldIndex(i);
        var t = this.getShadowRow();
        return e && t >= 0 ? e.getValue(t, i) : void 0;
      }, a.prototype.setData = function(i, e) {
        var t = this.dataSource;
        i = t.getFieldIndex(i), t && t.setValue(this.dataRow, i, e);
      }, a.prototype.getRowData = function() {
        var i = this.dataRow;
        if (i >= 0) {
          var e = this.dataSource;
          if (e)
            return e.getRow(i);
        }
        return null;
      }, a.prototype.getRowObject = function() {
        var i = this.dataRow;
        if (i >= 0) {
          var e = this.dataSource;
          if (e)
            return e.getRowObject(i);
        }
        return null;
      }, a.prototype.isChanged = function(i) {
        var e = this.dataSource;
        return e ? e.isDataChanged(this.dataRow, i) : void 0;
      }, a.prototype.canEdit = function() {
        return !1;
      }, a.prototype._setIndex = function(i) {
        this._index = i;
      }, a.prototype._setChecked = function(i) {
        this.provider.setItemChecked(this, i) || this._setExtents(i ? 1 | this._getExtents() : -2 & this._getExtents());
      }, a.prototype._setCheckable = function(i) {
        this._setExtents(i ? -5 & this._getExtents() : 4 | this._getExtents());
      }, a.PARENT = "_parent", a.$$_grid_item_id = 0, a;
    }(), Fe = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._displayLevel = -1, t._extents = 0, t._dataRow = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "dataRowId", { get: function() {
        return this._dataRowId;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editable", { get: function() {
        return this._editable;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "readOnly", { get: function() {
        return this._readOnly;
      }, enumerable: !1, configurable: !0 }), i.prototype.setEditable = function(e, t) {
        this._editable = e, this._readOnly = t;
      }, i.prototype._getExtents = function() {
        return this._extents;
      }, i.prototype._setExtents = function(e) {
        this._extents = e;
      }, Object.defineProperty(i.prototype, "isData", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isDataRow", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataRow", { get: function() {
        return this._dataRow;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataId", { get: function() {
        return this.dataSource.getRowId(this._dataRow);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isLeaf", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "resizable", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayLevel", { get: function() {
        return this._displayLevel >= 0 ? this._displayLevel : this.level;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return f.ItemType.ROW;
      }, enumerable: !1, configurable: !0 }), i.prototype.canEdit = function() {
        return !0;
      }, i.prototype.getShadowRow = function() {
        return this._dataRow;
      }, i.prototype.$_setDisplayLevel = function(e) {
        this._displayLevel = e;
      }, i;
    }(Le), Se = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._children = [], e._expanded = !1, e._descendantCount = 0, e._summaries = null, e._rows = null, e;
      }
      return w(i, a), i.prototype.dispose = function() {
        this._children = null, a.prototype.dispose.call(this);
      }, Object.defineProperty(i.prototype, "expanded", { get: function() {
        return this._expanded;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "collapsed", { get: function() {
        return !this.expanded;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._children.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "children", { get: function() {
        return this._children.slice();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "allFooterCount", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rows", { get: function() {
        return !this._rows && this.$_collectRows(this, this._rows = []), this._rows;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "first", { get: function() {
        return this._children.length > 0 ? this._children[0] : null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "last", { get: function() {
        var e = this._children.length;
        return e > 0 ? this._children[e - 1] : null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstItem", { get: function() {
        if (this._children.length > 0) {
          var e = this._children[0];
          return e instanceof i ? e.firstItem : e;
        }
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstDataItem", { get: function() {
        if (this._children.length > 0)
          for (var e = 0, t = this._children.length; e < t; e++) {
            if (this._children[e] instanceof i)
              return this._children[e].firstDataItem;
            if (this._children[e] instanceof Fe)
              return this._children[e];
          }
        return null;
      }, enumerable: !1, configurable: !0 }), i.prototype.getFirstVisibleItem = function(e) {
        return this;
      }, i.prototype.getLastItem = function(e) {
        var t;
        if (this._children.length > 0) {
          for (var o = this._children.length; o && (t = this._children[o - 1], e && t instanceof Ke); o--)
            ;
          return t instanceof i ? t.getLastItem(e) : t;
        }
        return null;
      }, Object.defineProperty(i.prototype, "lastDataItem", { get: function() {
        var e = this._children.length;
        if (e > 0)
          for (; e > 0; e--) {
            var t = this._children[e - 1];
            if (t instanceof i)
              return t.lastDataItem;
            if (t instanceof Fe)
              return t;
          }
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "descendantCount", { get: function() {
        return this._descendantCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandable", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "collapsable", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype.getItem = function(e) {
        if (e < 0 || e >= this._children.length)
          throw new RangeError("index is invalid: " + e);
        return this._children[e];
      }, i.prototype.getRows = function() {
        var e = [];
        return this.$_collectRows(this, e), e;
      }, i.prototype.getFooterIndex = function(e) {
        return 0;
      }, i.prototype.itemOfRow = function(e) {
        for (var t = this._children.length; t--; )
          if (this._children[t].dataRow == e)
            return this._children[t];
        return null;
      }, i.prototype.indexOf = function(e) {
        for (var t = this._children.length - 1; t >= 0; t--)
          if (this._children[t] == e)
            return t;
        return -1;
      }, i.prototype.isDescendant = function(e) {
        if (e && e !== this) {
          for (var t = e._parent; t && t !== this; )
            t = t._parent;
          return t === this;
        }
        return !1;
      }, i.prototype.getDescendants = function(e) {
        if ((!e || this._expanded) && this._children && this._children.length > 0) {
          var t = [];
          return function o(r, n) {
            for (var s = r.count, l = 0; l < s; l++) {
              var h = r.getItem(l);
              n.push(h), h instanceof i && (!e || h.expanded) && o(h, n);
            }
          }(this, t), t;
        }
        return null;
      }, i.prototype.clear = function() {
        this._summaries = null, this._children.length = 0, this._descendantCount = 0;
      }, i.prototype.insert = function(e, t) {
        this._addChild(t, e);
      }, i.prototype.add = function(e) {
        this._addChild(e, -1);
      }, i.prototype.addAll = function(e) {
        var t, o = this, r = e.map(function(n) {
          return n[Le.PARENT] = o, n;
        });
        (t = this._children).push.apply(t, r);
      }, i.prototype.remove = function(e) {
        var t = this.indexOf(e);
        t >= 0 && (this._children.splice(t, 1), e instanceof Le && (e[Le.PARENT] = null));
      }, i.prototype.setItem = function(e, t) {
        if (e && t && e !== t) {
          var o = this._removeChild(e);
          this._insertChild(o, t), t._index = e.index;
        }
      }, i.prototype.setExpanded = function(e, t, o) {
        (e != this._expanded || o) && (e ? this.provider.expand(this, t, o, 0) : this.provider.collapse(this, t, o));
      }, i.prototype.getNumber = function(e) {
        var t = this.$_getSummary(e);
        return t instanceof kt ? t.count : t ? t.length : this._descendantCount;
      }, i.prototype.getDataCount = function(e) {
        var t = this.$_getSummary(e);
        if (t instanceof kt)
          return t.dataCount;
        if (t) {
          var o = this.dataSource, r = t.length, n = 0;
          if (r > 0) {
            for (var s = 0; s < r; s++) {
              var l = o.getValue(t[s], e);
              l != null && l !== "" && n++;
            }
            return n;
          }
        }
        return 0;
      }, i.prototype.getDataAvg = function(e) {
        var t = this.$_getSummary(e);
        if (t instanceof kt)
          return t.dataAvg;
        if (t) {
          for (var o = this.dataSource, r = t.length, n = 0, s = 0, l = 0; l < r; l++) {
            var h = o.getValue(t[l], e);
            isNaN(h) || (n += h, s++);
          }
          return s > 0 && !isNaN(n) ? n / s : NaN;
        }
        return NaN;
      }, i.prototype.getSum = function(e) {
        var t = this.$_getSummary(e);
        if (t instanceof kt)
          return t.sum;
        if (t) {
          for (var o = this.dataSource, r = t.length, n = void 0, s = 0; s < r; s++) {
            var l = o.getValue(t[s], e);
            isNaN(l) || (n = (isNaN(n) ? 0 : n) + l);
          }
          return n;
        }
        return NaN;
      }, i.prototype.getMax = function(e) {
        var t = this.$_getSummary(e), o = this.dataSource, r = o.getField(e).dataType === f.ValueType.NUMBER;
        if (t instanceof kt)
          return t.max;
        if (t) {
          for (var n = t.length, s = void 0, l = 0, h = null; l < n; )
            (s = o.getValue(t[l++], e)) != null && (!r || !isNaN(s)) && (h = h == null || s > h ? s : h);
          return h;
        }
        return r ? NaN : null;
      }, i.prototype.getMin = function(e) {
        var t = this.$_getSummary(e), o = this.dataSource, r = o.getField(e).dataType === f.ValueType.NUMBER;
        if (t instanceof kt)
          return t.min;
        if (t) {
          for (var n = t.length, s = void 0, l = 0, h = null; l < n; )
            (s = o.getValue(t[l++], e)) != null && (!r || !isNaN(s)) && (h = h == null || s < h ? s : h);
          return h;
        }
        return r ? NaN : null;
      }, i.prototype.getAvg = function(e) {
        var t = this.$_getSummary(e);
        if (t instanceof kt)
          return t.avg;
        if (t) {
          var o = this.getSum(e);
          if (!isNaN(o))
            return o / t.length;
        }
        return NaN;
      }, i.prototype.getVar = function(e, t) {
        t === void 0 && (t = 0);
        var o = this.$_getSummary(e);
        if (o instanceof kt)
          return t === 0 ? o.varsp : o.vars;
        if (o && this.provider.summaryMode == f.SummaryMode.STATISTICAL) {
          var r = this.dataSource, n = o.length;
          if (n > 1) {
            for (var s = 0, l = 0; l < n; l++)
              s += r.getValue(o[l], e);
            var h = s / n;
            for (s = 0, l = 0; l < n; l++)
              s += Math.pow(r.getValue(o[l], e) - h, 2);
            return s /= n - t;
          }
          if (n == 1)
            return 0;
        }
        return NaN;
      }, i.prototype.getStdev = function(e, t) {
        t === void 0 && (t = 0);
        var o = this.$_getSummary(e);
        if (o instanceof kt)
          return t == 0 ? Math.sqrt(o.varsp) : Math.sqrt(o.vars);
        if (o && this.provider.summaryMode == f.SummaryMode.STATISTICAL) {
          var r = this.dataSource, n = o.length;
          if (typeof e == "string" && (e = r.getFieldIndex(e)), n > 1) {
            for (var s = 0, l = 0; l < n; l++)
              s += r.getValue(o[l], e);
            var h = s / n;
            for (s = 0, l = 0; l < n; l++)
              s += Math.pow(r.getValue(o[l], e) - h, 2);
            return s = Math.sqrt(s / (n - t));
          }
          if (n == 1)
            return 0;
        }
        return NaN;
      }, i.prototype.getStdevp = function(e) {
        return this.getStdev(e, 1);
      }, Object.defineProperty(i.prototype, "isLeaf", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), i.prototype._setExpanded = function(e) {
        this._expanded = e;
      }, i.prototype._incDescendants = function(e) {
        e === void 0 && (e = 1), this._descendantCount += e;
      }, i.prototype._insertChild = function(e, t) {
        this._children.splice(e, 0, t), t instanceof Le && (t[Le.PARENT] = this);
      }, i.prototype._addChild = function(e, t) {
        e && this.indexOf(e) < 0 && (t < 0 ? this._children.push(e) : this._children.splice(t, 0, e), e[Le.PARENT] = this);
      }, i.prototype._addChildren = function(e) {
        var t;
        if (e && (t = e.length) > 0)
          for (var o = 0; o < t; o++) {
            var r = e[o];
            r && this.indexOf(r) < 0 && (r[Le.PARENT] = this, this._children.push(r));
          }
      }, i.prototype._removeChild = function(e) {
        var t = this.indexOf(e);
        return t >= 0 && (this._children.splice(t, 1), e instanceof Le && (e[Le.PARENT] = null)), t;
      }, i.prototype._exchangeItems = function(e, t) {
        if (e < 0 || e >= this._children.length)
          throw new RangeError("index1 is out of range: " + e);
        if (t < 0 || t >= this._children.length)
          throw new RangeError("index2 is out of range: " + t);
        if (e !== t) {
          var o = this._children[e];
          this._children[e] = this._children[t], this._children[t] = o;
        }
      }, i.prototype._moveChild = function(e, t) {
        var o = this._children.length;
        if (e < 0 || e >= o)
          throw new RangeError("index is out of range: " + e);
        var r = Math.min(Math.max(e + t, 0), o - 1), n = this._children[e];
        if (t < 0)
          for (var s = e; s > r; s--)
            this._children[s] = this._children[s - 1];
        else
          for (s = e; s < r; s++)
            this._children[s] = this._children[s + 1];
        this._children[r] = n;
      }, i.prototype.$_collectRows = function(e, t) {
        for (var o = e.count, r = 0; r < o; r++) {
          var n = e.getItem(r);
          n instanceof i ? this.$_collectRows(n, t) : n.isDataRow && t.push(n.dataRow);
        }
      }, i.prototype.$_getSummary = function(e) {
        var t = this.dataSource;
        if (!(t instanceof mn))
          return null;
        this._summaries == null && (this._summaries = {}), typeof e == "string" && (e = t.getFieldIndex(e));
        var o = this._summaries ? this._summaries[e] : null;
        return o || t.canSummarize(e) && (o = this.$_summarize(e, t)) && (this._summaries[e] = o), o;
      }, i.prototype.$_summarize = function(e, t) {
        var o = this.provider.summaryMode;
        if (o != f.SummaryMode.NONE) {
          if (this._rows == null && (this._rows = [], this.$_collectRows(this, this._rows)), this._rows.length > 3 && t.canSummarize(e)) {
            var r = new kt(e);
            return t.summarizeRange(r, this._rows, o == f.SummaryMode.STATISTICAL), r;
          }
          return this._rows;
        }
        return null;
      }, i.prototype._saveExpanded = function() {
        this._setExtents(this.expanded ? 16 | this._getExtents() : -17 & this._getExtents());
      }, i.prototype._restoreExpanded = function(e) {
        if (e === void 0 && (e = !1), this._setExpanded((16 & this._getExtents()) != 0), e)
          for (var t = this.count - 1; t >= 0; t--) {
            var o = this.getItem(t);
            o instanceof i && o._restoreExpanded(!0);
          }
      }, i;
    }(Le), He = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._footers = 0, t._extents = 0, t._allFooters = [], t._groupField = e, t;
      }
      return w(i, a), i.prototype.dispose = function() {
        this._allFooters = null, a.prototype.dispose.call(this);
      }, Object.defineProperty(i.prototype, "groupField", { get: function() {
        return this._groupField;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupValue", { get: function() {
        return this._groupValue;
      }, set: function(e) {
        this._groupValue = e;
      }, enumerable: !1, configurable: !0 }), i.prototype._getExtents = function() {
        return this._extents;
      }, i.prototype._setExtents = function(e) {
        this._extents = e;
      }, Object.defineProperty(i.prototype, "footer", { get: function() {
        return this._footer;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return f.ItemType.GROUP;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerCount", { get: function() {
        return this._footers;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "allFooterCount", { get: function() {
        return this._allFooters.length;
      }, enumerable: !1, configurable: !0 }), i.prototype.getHiddenFooterCount = function() {
        for (var e = 0, t = 0; t < this.children.length; t++)
          this.children[t].hiddenFooter && e++;
        return e;
      }, i.prototype.getFooter = function(e) {
        return e = this.indexOf(this._footer) + e, this._children[e];
      }, i.prototype.getFooterIndex = function(e) {
        return e.$_footerIndex;
      }, i.prototype.isFooter = function(e) {
        if (e === this._footer)
          return !0;
        if (this._footers > 1)
          for (var t = this._children, o = t.length - 1; o >= 0; o--) {
            if (t[o] === e)
              return !0;
            if (t[o] === this._footer)
              break;
          }
        return !1;
      }, i.prototype._addChild = function(e, t) {
        e instanceof Ke ? (this._allFooters.push(e), e[Le.PARENT] = this, e.hiddenFooter || (a.prototype._addChild.call(this, e, t), this._footer = this._footer || e, this._footers++)) : a.prototype._addChild.call(this, e, t);
      }, i.prototype.getFirstVisibleItem = function(e) {
        if (this.visible)
          return this;
        for (var t = 0, o = this.children.length; t < o; t++) {
          var r = this.children[t];
          if (e && this.footer && this.footer.visible)
            return this.footer;
          if (r instanceof Se) {
            var n = r.getFirstVisibleItem(e);
            if (n)
              return n;
          } else if (r.visible)
            return r;
        }
        return null;
      }, i;
    }(Se), Ke = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e.$_footerIndex = 0, e._hiddenFooter = !1, e._extents = 0, e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "footerIndex", { get: function() {
        return this.$_footerIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "vindex", { get: function() {
        return this.$_vindex > -1 ? this.$_vindex : this.$_footerIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hiddenFooter", { get: function() {
        return this._hiddenFooter;
      }, set: function(e) {
        this._hiddenFooter = e;
      }, enumerable: !1, configurable: !0 }), i.prototype._getExtents = function() {
        return this._extents;
      }, i.prototype._setExtents = function(e) {
        this._extents = e;
      }, Object.defineProperty(i.prototype, "isLeaf", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isData", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayLevel", { get: function() {
        return this.level;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return f.ItemType.FOOTER;
      }, enumerable: !1, configurable: !0 }), i;
    }(Le), fi = function(a) {
      function i(e) {
        var t = a.call(this, -1) || this;
        return t._provider = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "provider", { get: function() {
        return this._provider;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "level", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expanded", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isLeaf", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataSource", { get: function() {
        return this._provider.dataSource;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "collapsable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), i;
    }(He), Tn = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._hideDeleted = !1, t._eventLock = 0, t._rowHeighted = !1, t._explicitHeighted = !1, t._indexing = e, t._rootItem = t._createRootItem(), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        return this._rootItem.dispose(), null;
      }, Object.defineProperty(i.prototype, "hideDeleted", { get: function() {
        return this._hideDeleted;
      }, set: function(e) {
        e != this._hideDeleted && (this._hideDeleted = e, this._hideDeletedChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summaryMode", { get: function() {
        return f.SummaryMode.AGGREGATE;
      }, set: function(e) {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortMode", { get: function() {
        return f.SortMode.AUTO;
      }, set: function(e) {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedCount", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxItemCount", { get: function() {
        return 0;
      }, set: function(e) {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "movable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), i.prototype.setFixed = function(e, t, o, r) {
      }, i.prototype.attachItem = function(e) {
        e._parent = this._rootItem;
      }, i.prototype.getItemsByIndices = function(e) {
        var t = [];
        if (e)
          for (var o = 0, r = e.length; o < r; o++) {
            var n = this.getItem(e[o]);
            n && t.push(n);
          }
        return t;
      }, i.prototype.getIndexOfRow = function(e, t) {
        var o = this.getItemOfRow(e, t);
        return o ? o.index : -1;
      }, i.prototype.getIndicesOfRows = function(e, t) {
        var o = [], r = e ? e.length : 0;
        if (r)
          for (var n = 0; n < r; n++) {
            var s = this.getItemOfRow(e[n], t);
            o.push(s ? s.index : -1);
          }
        return o;
      }, i.prototype.getItemsByRows = function(e, t) {
        t === void 0 && (t = !1);
        for (var o = [], r = e ? e.length : 0, n = 0; n < r; n++) {
          var s = this.getItemOfRow(e[n], t);
          s && o.push(s);
        }
        return o;
      }, i.prototype.exchange = function(e, t) {
      }, i.prototype.setCheckable = function(e, t) {
        e && t != e.checkable && (e._setCheckable(t), this._fireCheckableChanged(e));
      }, i.prototype.setGroupCheckable = function(e) {
      }, i.prototype.checkItem = function(e, t, o, r) {
        if (e) {
          var n = e.checked;
          o ? (this._clearChecked(), t && this._setChecked(e, !0), t != n && r && this._fireItemChecked(e), this._fireRefreshClient()) : t != n && (this._setChecked(e, t), r ? this._fireItemChecked(e) : this._fireRefreshClient()), this._fireItemCheckChanged([e], t);
        }
      }, i.prototype.checkItems = function(e, t, o) {
        if (e && e.length > 0) {
          for (var r = 0, n = e.length; r < n; r++) {
            var s = e[r];
            s instanceof Le && this._setChecked(s, t);
          }
          o ? e.length === 1 ? this._fireItemChecked(e[0]) : this._fireItemsChecked(e, t) : this._fireRefreshClient();
        }
        this._fireItemCheckChanged(e, t);
      }, i.prototype.checkAll = function(e, t, o, r, n) {
        var s = this.itemCount;
        if (o)
          for (var l = 0; l < s; l++) {
            var h = this.getItem(l);
            h.checkable && this._setChecked(h, e);
          }
        else
          for (l = 0; l < s; l++)
            this._setChecked(this.getItem(l), e);
        r ? this._fireItemAllChecked(e) : this._fireRefreshClient(), this._fireItemCheckChanged(null, e);
      }, i.prototype._setCheckItem = function(e, t) {
        e._setChecked(t);
      }, i.prototype._clearDisplayLevels = function() {
      }, i.prototype.canUpdate = function(e, t) {
        if (e) {
          var o = this.dataSource;
          if (!o)
            return !1;
          var r = e.dataRow;
          if (!o.canUpdateField(r, t))
            return !1;
          var n = e.itemState, s = wt(n) || n === f.ItemState.DUMMY;
          return (r >= 0 || s) && (s || o.canUpdateRow(r));
        }
        return !1;
      }, i.prototype.canAppend = function() {
        var e = this.dataSource;
        return e && e.canAppendRow();
      }, i.prototype.canInsert = function(e) {
        if (e) {
          var t = e.dataRow, o = this.dataSource;
          return o && o.canInsertRow(t);
        }
        return !1;
      }, i.prototype.canDelete = function(e) {
        if (e) {
          var t = e.dataRow, o = this.dataSource;
          return t >= 0 && o && o.canDeleteRow(t);
        }
        return !1;
      }, i.prototype.appendDummy = function() {
      }, i.prototype.cancelDummy = function() {
      }, i.prototype.findItem = function(e, t, o, r, n) {
        return -1;
      }, i.prototype.findCell = function(e, t, o, r, n, s) {
        return null;
      }, i.prototype.getNumber = function(e) {
        return NaN;
      }, i.prototype.getSum = function(e) {
        return NaN;
      }, i.prototype.getMax = function(e) {
        return NaN;
      }, i.prototype.getMin = function(e) {
        return NaN;
      }, i.prototype.getAvg = function(e) {
        return NaN;
      }, i.prototype.getVar = function(e) {
        return NaN;
      }, i.prototype.getVarp = function(e) {
        return NaN;
      }, i.prototype.getStdev = function(e) {
        return NaN;
      }, i.prototype.getStdevp = function(e) {
        return NaN;
      }, i.prototype.getDataCount = function(e) {
        return NaN;
      }, i.prototype.getDataAvg = function(e) {
        return NaN;
      }, Object.defineProperty(i.prototype, "isIndexing", { get: function() {
        return this._indexing;
      }, enumerable: !1, configurable: !0 }), i.prototype.setRowHeight = function(e, t, o) {
        e.$_setHeight(t, o) && (isNaN(t) || (o ? this._explicitHeighted = !0 : this._rowHeighted = !0));
      }, i.prototype.clearRowHeights = function(e) {
        if (e || this._rowHeighted) {
          for (var t = !1, o = this.itemCount - 1; o >= 0; o--) {
            var r = this.getItem(o);
            isNaN(r.height) && !r.heights || (r.$_clearHeight(e), r.heights = null, t = !0);
          }
          return this._rowHeighted = !1, e && (this._explicitHeighted = !1), t;
        }
      }, i.prototype.isRowHeighted = function(e) {
        return e === void 0 && (e = !0), this._rowHeighted || e && this._explicitHeighted;
      }, i.prototype.setCheckFieldIndex = function(e) {
        this._checkFieldIndex = e;
      }, i.prototype.getItemChecked = function(e, t) {
        return this._checkFieldIndex > -1 ? this.dataSource.getField(this._checkFieldIndex).readBooleanValue(e.getData(this._checkFieldIndex)) : t;
      }, i.prototype.setItemChecked = function(e, t) {
        if (this._checkFieldIndex > -1) {
          var o = this.dataSource.getField(this._checkFieldIndex), r = o.readBooleanValue(e.getData(this._checkFieldIndex));
          return !!r != t && (r = (o._boolParser || o._ownerBoolParser).toText(t), e.setData(this._checkFieldIndex, r)), !0;
        }
        return !1;
      }, Object.defineProperty(i.prototype, "rootItem", { get: function() {
        return this._rootItem;
      }, enumerable: !1, configurable: !0 }), i.prototype._createRootItem = function() {
        return new fi(this);
      }, i.prototype._hideDeletedChanged = function() {
      }, i.prototype.$_canFire = function() {
        return this._eventLock <= 0;
      }, i.prototype._setChecked = function(e, t) {
        e._setChecked(t);
      }, i.prototype._clearChecked = function() {
        for (var e = 0, t = this.itemCount; e < t; e++)
          this._setChecked(this.getItem(e), !1);
      }, i.prototype._resetItemIndicies = function(e) {
        if (this._indexing)
          for (var t = e, o = this.itemCount; t < o; t++)
            this.getItem(t)._index = t;
      }, i.prototype._setExpanded = function(e, t) {
        e._setExpanded(t);
      }, i.prototype._resetItemIndex = function(e) {
        var t = this.getItem(e);
        t && (t._index = e);
      }, i.prototype._incDescendents = function(e, t) {
        e._descendantCount += t, e.parent && this._incDescendents(e.parent, t);
      }, i.prototype._copyExtents = function(e, t) {
        e instanceof Le && t instanceof Le && t._setExtents(e._getExtents());
      }, i.prototype._fireReset = function() {
        this._eventLock <= 0 && this.fireEvent("onItemProviderReset");
      }, i.prototype._fireRefresh = function() {
        this._eventLock <= 0 && this.fireEvent("onItemProviderRefresh");
      }, i.prototype._fireRefreshClient = function() {
        this._eventLock <= 0 && this.fireEvent("onItemProviderRefreshClient");
      }, i.prototype._fireItemInserted = function(e) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderItemInserted", e);
      }, i.prototype._fireItemDeleted = function(e) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderItemDeleted", e);
      }, i.prototype._fireItemUpdated = function(e) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderItemUpdated", e);
      }, i.prototype._fireCheckableChanged = function(e) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderCheckableChanged", e);
      }, i.prototype._fireItemChecked = function(e) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderItemChecked", e);
      }, i.prototype._fireItemsChecked = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderItemsChecked", e, t);
      }, i.prototype._fireItemAllChecked = function(e) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderItemAllChecked", e);
      }, i.prototype._fireItemCheckChanged = function(e, t) {
        this.fireEvent("onItemProviderItemCheckChanged", e, t);
      }, i.prototype._fireRowStateChanged = function(e) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderRowStateChanged", e);
      }, i.prototype._fireRowStatesChanged = function(e) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderRowStatesChanged", e);
      }, i.prototype._fireRowStatesCleared = function() {
        this._eventLock <= 0 && this.fireEvent("onItemProviderRowStatesCleared");
      }, i.prototype._fireSort = function(e, t, o) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderSort", e, t, o);
      }, i.prototype._fireSorted = function() {
        this._eventLock <= 0 && this.fireEvent("onItemProviderSorted");
      }, i.prototype._fireFiltered = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderFiltered", e, t);
      }, i.prototype._fireCommandStackChanged = function(e, t) {
        this._eventLock <= 0 && this.fireEvent("onItemProviderCommandStackChanged", e, t);
      }, i.prototype._fireDataLoadComplated = function() {
        this._eventLock <= 0 && this.fireEvent("onItemProviderDataLoadComplated");
      }, i.prototype.canGrouping = function(e) {
        return !1;
      }, i;
    }(Be), Sa = function(a) {
      function i(e, t) {
        var o = a.call(this, t) || this;
        return o._initialize(), o.source = e, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "source", { get: function() {
        return this._source;
      }, set: function(e) {
        e != this._source && (this._source && this._source.removeListener(this), this._clearItems(), this._source = e, this._source && (this._populateItems(), this._source.addListener(this)));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataSource", { get: function() {
        return this._source && this._source.dataSource;
      }, set: function(e) {
        this._source && (this._source.dataSource = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._source ? this._source.rowCount : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedCount", { get: function() {
        return this._source ? this._source.fixedCount : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxItemCount", { get: function() {
        return this._source ? this._source.maxItemCount : 0;
      }, set: function(e) {
        this._source && (this._source.maxItemCount = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sorted", { get: function() {
        return this._source && this._source.sorted;
      }, enumerable: !1, configurable: !0 }), i.prototype.setFixed = function(e, t, o, r) {
        this._source && this._source.setFixed(e, t, o, r);
      }, i.prototype.getIndexOfRow = function(e) {
        return this._source ? this._source.getIndexOfRow(e, !1) : -1;
      }, i.prototype.getItemOfRow = function(e, t) {
        return this._source ? this._source.getItemOfRow(e, t) : null;
      }, i.prototype._refreshItems = function() {
        this._source && this._source._refreshItems();
      }, i.prototype._clearDisplayLevels = function() {
        this._source && this._source._clearDisplayLevels();
      }, i.prototype._initialize = function() {
      }, i.prototype._clearItems = function() {
      }, i.prototype._populateItems = function() {
        this._resetItemIndicies(0);
      }, i.prototype.onItemProviderReset = function(e) {
        this._populateItems(), this._fireReset();
      }, i.prototype.onItemProviderRefresh = function(e) {
        this._populateItems(), this._fireRefresh();
      }, i.prototype.onItemProviderRefreshClient = function(e) {
        this._fireRefreshClient();
      }, i.prototype.onItemProviderItemInserted = function(e, t) {
        this._resetItemIndicies(0), this._fireItemInserted(t);
      }, i.prototype.onItemProviderItemDeleted = function(e, t) {
        this._resetItemIndicies(0), this._fireItemDeleted(t);
      }, i.prototype.onItemProviderItemUpdated = function(e, t) {
        this._resetItemIndicies(0), this._fireItemUpdated(t);
      }, i.prototype.onItemProviderCheckableChanged = function(e, t) {
        this._fireCheckableChanged(t);
      }, i.prototype.onItemProviderItemChecked = function(e, t) {
        this._fireItemChecked(t);
      }, i.prototype.onItemProviderItemsChecked = function(e, t, o) {
        this._fireItemsChecked(t, o);
      }, i.prototype.onItemProviderItemAllChecked = function(e, t) {
        this._fireItemAllChecked(t);
      }, i.prototype.onItemProviderItemCheckChanged = function(e, t, o) {
        this._fireItemCheckChanged(t, o);
      }, i.prototype.onItemProviderRowStateChanged = function(e, t) {
        this._fireRowStateChanged(t);
      }, i.prototype.onItemProviderRowStatesChanged = function(e, t) {
        this._fireRowStatesChanged(t);
      }, i.prototype.onItemProviderRowStatesCleared = function(e) {
        this._fireRowStatesCleared();
      }, i.prototype.onItemProviderFiltered = function(e, t, o) {
      }, i.prototype.onItemProviderSort = function(e, t, o) {
      }, i.prototype.onItemProviderSorted = function(e) {
      }, i.prototype.onItemProviderCommandStackChanged = function(e, t, o) {
        this._fireCommandStackChanged(t, o);
      }, i.prototype.onItemProviderDataLoadComplated = function(e) {
        this._fireDataLoadComplated();
      }, i;
    }(Tn), Xi = function(a) {
      function i(e, t, o, r, n) {
        var s = a.call(this, r) || this;
        return s._started = !1, s._checkDiff = !1, s._strictDiff = !1, s._target = t, e.attachItem(s), s._setIndex(o), s._state = n, s.$_setDisplayLevel(t ? t.displayLevel : 0), s;
      }
      return w(i, a), Object.defineProperty(i.prototype, "values", { get: function() {
      }, set: function(e) {
      }, enumerable: !1, configurable: !0 }), i.prototype.beginEdit = function(e, t) {
        this.$_clearHeight(!0);
      }, i.prototype.setValue = function(e, t) {
      }, Object.defineProperty(i.prototype, "resizable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemState", { get: function() {
        return this._state;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editable", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype.getData = function(e) {
        return null;
      }, i.prototype.setData = function(e, t) {
      }, i.prototype.getRowData = function() {
        return null;
      }, i.prototype.getRowObject = function() {
        return null;
      }, i.prototype._clearDisplayLevels = function() {
      }, i;
    }(Fe), Ji = function(a) {
      function i(e, t, o, r, n) {
        var s = a.call(this, r) || this;
        return s._values = [], s._changeValues = [], s._started = !1, s._checkDiff = !1, s._strictDiff = !1, s._invalidFields = [], s._target = t, e.attachItem(s), s._setIndex(o), s._state = n, s.$_setDisplayLevel(t ? t.displayLevel : 0), s._invalidFields = [], s;
      }
      return w(i, a), Object.defineProperty(i.prototype, "values", { get: function() {
        return this._values.concat();
      }, set: function(e) {
        var t = this.provider, o = this.dataSource, r = o.fieldCount;
        if (e instanceof Array) {
          r = Math.min(r, e.length);
          for (var n = 0; n < r; n++) {
            var s = o.getField(n), l = this._values[n], h = s.readValue(e[n]);
            this._values[n] = h, this._started && !s.equalValues(l, h) && t._editItemCellUpdated(this, n, l, h);
          }
        } else if (e)
          for (n = 0; n < r; n++) {
            var u = o.getOrgFieldName(n);
            e.hasOwnProperty(u) && (s = o.getField(n), l = this._values[n], h = s.readValue(e[u]), this._values[n] = h, this._started && !s.equalValues(l, h) && t._editItemCellUpdated(this, n, l, h));
          }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "invalidFields", { get: function() {
        return this._invalidFields;
      }, enumerable: !1, configurable: !0 }), i.prototype.beginEdit = function(e, t) {
        wt(this._state) && this.$_clearHeight(!0), this._started = !0, this._checkDiff = e, this._strictDiff = t;
      }, i.prototype.setValue = function(e, t) {
        var o = this.dataSource;
        if (e < 0 && e >= o.fieldCount)
          throw new Lt("field index is out of bounds: " + e);
        var r = o.getField(e), n = this._values[e];
        t = r.readValue(t), this._values[e] = t, this._started && !r.equalValues(n, t) && this.provider._editItemCellUpdated(this, e, n, t), this.$_clearHeight(!1);
      }, Object.defineProperty(i.prototype, "resizable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemState", { get: function() {
        return this._state;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "level", { get: function() {
        return this._target ? this._target.level : 1;
      }, enumerable: !1, configurable: !0 }), i.prototype.getData = function(e) {
        if ((e = this.dataSource.getFieldIndex(e)) < 0 && e >= this.dataSource.fieldCount)
          throw new RangeError("field index is out of bounds: " + e);
        return this._values[e];
      }, i.prototype.setData = function(e, t) {
        var o = this.dataSource;
        if (e < 0 && e >= o.fieldCount)
          throw new RangeError("field index is out of bounds: " + e);
        var r = o.getField(e), n = this._values[e], s = !this._checkDiff;
        t = r.readValue(t), s || (s = this._strictDiff ? !r.equalValues(n, t) : !r.sameValues(n, t)), s && (this._values[e] = t, this._changeValues[e] = !0, this.provider._editItemCellUpdated(this, e, n, t), this.provider._editItemCellEdited(this, e)), this.$_clearHeight(!1);
      }, i.prototype.getRowData = function() {
        return this._values.concat();
      }, i.prototype.getRowObject = function() {
        var e = this.dataSource;
        if (e) {
          for (var t = {}, o = 0, r = e.fieldCount; o < r; o++)
            t[e.getOrgFieldName(o)] = this._values[o];
          return t;
        }
        return null;
      }, i.prototype.isEdited = function(e) {
        return this._changeValues[e];
      }, i.prototype._setChecked = function(e) {
        this.provider.setItemChecked(this, e) || this._setExtents(e ? 1 | this._getExtents() : -2 & this._getExtents());
      }, i.prototype._clearDisplayLevels = function() {
      }, i;
    }(Fe), ft = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._checkDiff = !1, o._checkCellDiff = !1, o._strictDiff = !1, o._undoable = !1, o._cancelWhenLastUndo = !1, o._orgItem = null, o._editingItem = null, o._dummyEditItem = null, o._editingState = f.ItemState.NORMAL, o._insertMode = 0, o._modified = !1, o._commiting = !1, o._saveDs = null, o._commands = new vn(o), e && (o._saveDs = e.dataSource) && o._saveDs.registerClient(o), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._saveDs = null, a.prototype._doDispose.call(this);
      }, i.prototype.isDataEditing = function() {
        return this.isEditing();
      }, i.prototype.cancelDataEditing = function() {
        this.isEditing() && this.fireCancelRequest();
      }, i.prototype.commitDataEditing = function() {
        this.isEditing() && this.fireCommitRequest();
      }, i.prototype.editCommandStackChanged = function(e, t, o) {
        var r = this._saveDs;
        r ? this._fireCommandStackChanged(t || r.canUndo, o || r.canRedo) : this._fireCommandStackChanged(t, o);
      }, Object.defineProperty(i.prototype, "isCheckDiff", { get: function() {
        return this._checkDiff;
      }, set: function(e) {
        this._checkDiff = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isCheckCellDiff", { get: function() {
        return this._checkCellDiff;
      }, set: function(e) {
        this._checkCellDiff = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isStrictDiff", { get: function() {
        return this._strictDiff;
      }, set: function(e) {
        this._strictDiff = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editingItem", { get: function() {
        return this._commiting || this.isEditing() ? this._editingItem : null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isUpdating", { get: function() {
        return this._editingState == f.ItemState.UPDATING;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isInserting", { get: function() {
        return this._editingState == f.ItemState.INSERTING;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isAppending", { get: function() {
        return this._editingState == f.ItemState.APPENDING;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "undoable", { get: function() {
        return this._undoable && this._saveDs && this._saveDs.undoable;
      }, set: function(e) {
        e != this._undoable && (this._undoable = e, this._commands.flush(), this._saveDs.undoable = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cancelWhenLastUndo", { get: function() {
        return this._cancelWhenLastUndo;
      }, set: function(e) {
        this._cancelWhenLastUndo = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canUndo", { get: function() {
        return this._commands.canUndo || this._saveDs && this._saveDs.canUndo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canRedo", { get: function() {
        return this._commands.canRedo || this._saveDs && this._saveDs.canRedo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "undoing", { get: function() {
        return this._commands.undoing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "redoing", { get: function() {
        return this._commands.redoing;
      }, enumerable: !1, configurable: !0 }), i.prototype.isEditing = function(e) {
        return nt(this._editingState) && (!e || e === this._editingItem);
      }, i.prototype.isEdited = function(e) {
        return nt(this._editingState) && (!e || e === this._editingItem) && this._modified;
      }, i.prototype.setDiffs = function(e, t, o) {
        this._checkDiff = e, this._checkCellDiff = t, this._strictDiff = o;
      }, i.prototype.edit = function(e) {
        if (this.isEditing())
          return !0;
        if (e)
          try {
            return this._beginUpdate(e), !0;
          } catch (t) {
            throw this.cancel(), t;
          }
        return !1;
      }, i.prototype.editData = function(e, t, o) {
        var r;
        if (e && (r = this.dataSource) && t >= 0 && t < r.fieldCount) {
          if (!this.isEditing())
            try {
              return this._beginUpdate(e), !0;
            } catch (n) {
              throw this.cancel(), n;
            }
          this._editingItem.setData(t, o);
        }
        return !1;
      }, i.prototype.appendDummy = function() {
        if (!this.isEditing())
          try {
            this._beginAppendDummy();
          } catch {
            this.cancelDummy();
          }
      }, i.prototype.append = function(e) {
        if (!this.isEditing())
          try {
            return this._beginAppend(e), !0;
          } catch (t) {
            throw this.cancel(), t;
          }
        return !1;
      }, i.prototype.insert = function(e, t, o, r) {
        if (!this.isEditing())
          try {
            return this._beginInsert(e, t, o, r), !0;
          } catch (n) {
            throw this.cancel(), n;
          }
        return !1;
      }, i.prototype.cancelDummy = function() {
        this._dummyEditItem && this._cancelDummyEdit();
      }, i.prototype.cancel = function() {
        this.isEditing() && this._cancelEdit();
      }, i.prototype.commit = function(e) {
        if (this.isEditing()) {
          this._commiting = !0;
          try {
            var t = this.dataSource;
            if (t) {
              if (this._editingState == f.ItemState.UPDATING && this.isCheckDiff) {
                for (var o = this._editingItem.values, r = o.length, n = this.isStrictDiff, s = !1, l = 0; l < r; l++)
                  if (n) {
                    if (!t.getField(l).equalValues(this._orgItem.getData(l), o[l])) {
                      s = !0;
                      break;
                    }
                  } else if (!t.getField(l).sameValues(this._orgItem.getData(l), o[l])) {
                    s = !0;
                    break;
                  }
                if (!s)
                  return this._cancelEdit(), !0;
              }
              return this._commitEdit(e);
            }
          } finally {
            this._commiting = !1;
          }
        }
        return !0;
      }, i.prototype.execute = function(e) {
        e && (this.undoable ? this._commands.execute(e) : e.execute());
      }, i.prototype.undo = function() {
        this.isEditing() ? (this._commands.undo(), !this._commands.canUndo && this._cancelWhenLastUndo && this.cancel()) : this._saveDs && this._saveDs.undo();
      }, i.prototype.redo = function() {
        this.isEditing() ? this._commands.redo() : this._saveDs && this._saveDs.redo();
      }, i.prototype.clearCommandStack = function(e) {
        e === void 0 && (e = !0), this._commands.flush(), e && this._saveDs && this._saveDs.clearCommandStack();
      }, i.prototype.revert = function(e) {
      }, i.prototype.revertAll = function(e) {
      }, i.prototype._checkEditing = function() {
        if (!this.isEditing())
          throw new Error("itemProvider is not editing");
      }, i.prototype._checkNotEditing = function() {
        if (this.isEditing())
          throw new Error("itemProvider is already editing");
      }, i.prototype._beginUpdate = function(e) {
        if (!e)
          throw new Error("item is null");
        this._checkNotEditing(), this._modified = !1, this._editingItem = this._doBeginUpdate(e), this._editingItem.beginEdit(this.isCheckCellDiff, this.isStrictDiff), this._editingItem && (this._orgItem = e, this._editingState = f.ItemState.UPDATING, this._commands.flush(), this.fireUpdateStarted(this._editingItem));
      }, i.prototype._doBeginUpdate = function(e) {
        return null;
      }, i.prototype._beginAppendDummy = function() {
        this._dummyEditItem = this._doBeginAppendDummy();
      }, i.prototype._doBeginAppendDummy = function() {
        return null;
      }, i.prototype._beginAppend = function(e) {
        this._checkNotEditing(), this._modified = !1, this._editingItem = this._doBeginAppend(e), this._editingItem.beginEdit(this.isCheckCellDiff, this.isStrictDiff), this._editingItem && (this._editingState = f.ItemState.APPENDING, this._commands.flush(), this.fireAppendStarted(this._editingItem));
      }, i.prototype._doBeginAppend = function(e) {
        return null;
      }, i.prototype._beginInsert = function(e, t, o, r) {
        o === void 0 && (o = !1), r === void 0 && (r = !1), this._checkNotEditing(), this._modified = !1, this._editingItem = this._doBeginInsert(e, t, o, r), this._editingItem.beginEdit(this.isCheckCellDiff, this.isStrictDiff), this._editingItem && (this._editingState = f.ItemState.INSERTING, this._resetItemIndicies(0), this._commands.flush(), this.fireInsertStarted(this._editingItem));
      }, i.prototype._doBeginInsert = function(e, t, o, r) {
        return null;
      }, i.prototype._updateEditingRow = function(e) {
        return !1;
      }, i.prototype._insertEditingRow = function(e) {
        return !1;
      }, i.prototype._cancelDummyEdit = function() {
        this._dummyEditItem = null, this._doCancelDummyEdit();
      }, i.prototype._cancelEdit = function() {
        this._checkEditing();
        var e = this._editingState;
        try {
          this._editingState = f.ItemState.NORMAL, this._doCancelEdit(e, this._orgItem);
        } catch (t) {
          throw this._editingState = e, t;
        }
        this._modified = !1, this._commands.flush(), this.fireCanceled();
      }, i.prototype._doCancelDummyEdit = function() {
      }, i.prototype._doCancelEdit = function(e, t) {
        e == f.ItemState.INSERTING && this._resetItemIndicies(0);
      }, i.prototype._commitEdit = function(e) {
        if (this._checkEditing(), !this.dataSource)
          throw new Error("data provier is null");
        try {
          this.fireItemCommitting(this._editingItem);
        } catch (r) {
          alert(r.message);
        }
        var t = this._editingState, o = !1;
        if (this.isUpdating)
          try {
            this._editingState = f.ItemState.NORMAL, o = this._doCompleteUpdate(this._orgItem, e);
          } catch (r) {
            throw this._editingState = t, r;
          }
        else
          try {
            this._editingState = f.ItemState.NORMAL, o = this._doCompleteInsert(t == f.ItemState.APPENDING);
          } catch (r) {
            throw this._editingState = t, r;
          }
        return o ? (this._modified = !1, this._doCommitEdit(t, this._orgItem), this._commands.flush(), this.fireCommitted(this._editingItem)) : this._editingState = t, o;
      }, i.prototype._doCommitEdit = function(e, t) {
        return !1;
      }, i.prototype._editItemCellEdited = function(e, t) {
        e && this.isEditing(e) && (this._modified = !0, this.fireItemCellEdited(e, t));
      }, i.prototype._editItemCellUpdated = function(e, t, o, r) {
        this.isEditing(e) && (this._modified = !0, this.fireItemCellUpdated(e, t, o, r));
      }, i.prototype.$_editingItem = function() {
        return this._editingItem;
      }, i.prototype.$_dummyItem = function() {
        return this._dummyEditItem;
      }, i.prototype.fireUpdateStarted = function(e) {
        this.$_canFire() && this.fireEvent(i.UPDATE_STARTED, e);
      }, i.prototype.fireAppendStarted = function(e) {
        this.$_canFire() && this.fireEvent(i.APPEND_STARTED, e);
      }, i.prototype.fireInsertStarted = function(e) {
        this.$_canFire() && this.fireEvent(i.INSERT_STARTED, e);
      }, i.prototype.fireItemCellEdited = function(e, t) {
        this.$_canFire() && this.fireEvent(i.CELL_EDITED, e, t);
      }, i.prototype.fireItemCellUpdated = function(e, t, o, r) {
        this.$_canFire() && this.fireEvent(i.CELL_UPDATED, e, t, o, r);
      }, i.prototype.fireItemCommitting = function(e) {
        this.$_canFire() && this.fireEvent(i.COMMITTING, e);
      }, i.prototype.fireCommitted = function(e) {
        this.$_canFire() && this.fireEvent(i.COMMITTED, e);
      }, i.prototype.fireCanceled = function() {
        this.$_canFire() && this.fireEvent(i.CANCELED);
      }, i.prototype.fireCommitRequest = function() {
        this.$_canFire() && this.fireEvent(i.COMMIT_REQUEST);
      }, i.prototype.fireCancelRequest = function() {
        this.$_canFire() && this.fireEvent(i.CANCEL_REQUEST);
      }, i.prototype.onItemProviderReset = function(e) {
        a.prototype.onItemProviderReset.call(this, e);
        var t = this.dataSource;
        t != this._saveDs && (this._saveDs && this._saveDs.unregisterClient(this), this._saveDs = t, this._saveDs && this._saveDs.registerClient(this));
      }, i.prototype.onItemProviderRefresh = function(e) {
        a.prototype.onItemProviderRefresh.call(this, e);
      }, i.prototype.onItemProviderRefreshClient = function(e) {
        a.prototype.onItemProviderRefreshClient.call(this, e);
      }, i.prototype.onItemProviderItemInserted = function(e, t) {
        a.prototype.onItemProviderItemInserted.call(this, e, t);
      }, i.prototype.onItemProviderItemDeleted = function(e, t) {
        a.prototype.onItemProviderItemDeleted.call(this, e, t);
      }, i.prototype.onItemProviderItemUpdated = function(e, t) {
        a.prototype.onItemProviderItemUpdated.call(this, e, t);
      }, i.prototype.onItemProviderCommandStackChanged = function(e, t, o) {
        var r = this._commands;
        this._fireCommandStackChanged(t || r.canUndo, o || r.canRedo);
      }, i.UPDATE_STARTED = "onItemEditUpdateStarted", i.APPEND_STARTED = "onItemEditAppendStarted", i.INSERT_STARTED = "onItemEditInsertStarted", i.CELL_EDITED = "onItemEditCellEdited", i.CELL_UPDATED = "onItemEditCellUpdated", i.COMMITTING = "onItemEditCommitting", i.COMMITTED = "onItemEditCommitted", i.CANCELED = "onItemEditCanceled", i.COMMIT_REQUEST = "onItemEditCommitRequest", i.CANCEL_REQUEST = "onItemEditCancelRequest", i;
    }(Sa), Ec = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._insertRow = -1, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "itemCount", { get: function() {
        var e = this.source.itemCount;
        return e += this.isInserting || this.isAppending ? 1 : 0, e += this.$_dummyItem() ? 1 : 0;
      }, enumerable: !1, configurable: !0 }), i.prototype.getItem = function(e, t) {
        var o = this.source;
        if (t)
          return o.getItem(e, t);
        var r, n = this.$_editingItem(), s = this.$_dummyItem();
        return this.isEditing() && n.index == e ? n : (this.isInserting ? r = e > n.index ? o.getItem(e - 1) : o.getItem(e) : e < o.itemCount && (r = o.getItem(e)), r || (s && e == this.itemCount - 1 ? s : null));
      }, i.prototype.getItems = function(e, t) {
        return this.source.getItems(e, t);
      }, i.prototype._doBeginUpdate = function(e) {
        return this._createEditItem(e, f.ItemState.UPDATING, null, !1, !1);
      }, i.prototype._doBeginAppendDummy = function() {
        return this.$_dummyItem() || this._createDummyEditItem();
      }, i.prototype._doBeginAppend = function(e) {
        return this._createEditItem(null, f.ItemState.APPENDING, e, !1, !1);
      }, i.prototype._doBeginInsert = function(e, t, o, r) {
        return this._createEditItem(e, f.ItemState.INSERTING, t, o, r);
      }, i.prototype._doCompleteUpdate = function(e, t) {
        var o = this.dataSource;
        if (o instanceof mn) {
          var r = this.$_editingItem();
          return this._copyExtents(r, e), t || o.updateRow(r.dataRow, r.values, !1);
        }
        return !1;
      }, i.prototype._doCompleteInsert = function(e) {
        var t = this.dataSource, o = !1;
        if (t) {
          var r = this.$_editingItem(), n = e ? t.rowCount : Math.max(0, this._insertRow), s = r.values;
          if (o = t.insertRow(n, s, r._index2)) {
            var l = this.getItemOfRow(n, !0);
            l && (r._setCheckable(l.checkable), this._copyExtents(r, l), r.heights && (l.heights = r.heights.slice()));
          }
        }
        return o;
      }, i.prototype.remove = function(e, t) {
        var o = this.dataSource;
        if (e && !this.isEditing(e) && o) {
          var r = e.dataRow;
          r >= 0 && o.removeRow(r, t);
        }
      }, i.prototype.revert = function(e) {
        if (e instanceof Le || (e = this.getItem(e)), e) {
          var t = this.dataSource;
          if (t) {
            var o = e.dataRow, r = t.getRowState(o);
            r == f.RowState.DELETED ? t.setRowState(o, f.RowState.NONE, !1) : r == f.RowState.CREATE_AND_DELETED && t.setRowState(o, f.RowState.CREATED, !1);
          }
        }
      }, i.prototype.revertAll = function(e) {
        if (e && e.length != 0) {
          var t = this.dataSource;
          if (t)
            for (var o = e.length; o--; ) {
              var r = this.getItem(e[o]);
              if (r) {
                var n = r.dataRow, s = t.getRowState(n);
                s == f.RowState.DELETED ? t.setRowState(n, f.RowState.NONE, !1) : s == f.RowState.CREATE_AND_DELETED && t.setRowState(n, f.RowState.CREATED, !1);
              }
            }
        }
      }, i.prototype.getRemovableRows = function(e) {
        if (!e || e.length == 0)
          return null;
        for (var t = [], o = 0, r = e.length; o < r; o++) {
          var n = this.getItem(e[o]).dataRow;
          n >= 0 && t.push(n);
        }
        return t;
      }, i.prototype.removeRows = function(e, t) {
        e && (e.length > 1 ? this.dataSource.removeRows(e, !1, t) : this.dataSource.removeRow(e[0], t));
      }, i.prototype.updateRows2 = function(e) {
        this.dataSource.updateRows2(e, !1, !1);
      }, i.prototype._createDummyEditItem = function() {
        return new Xi(this, null, this.itemCount, -1, f.ItemState.DUMMY);
      }, i.prototype._createEditItem = function(e, t, o, r, n) {
        var s = this.dataSource;
        if (!s)
          return null;
        var l = null, h = s.fieldCount;
        switch (t) {
          case f.ItemState.UPDATING:
            l = new Ji(this, e, e.index, e.dataRow, t);
            for (var u = 0; u < h; u++)
              l.setValue(u, e.getData(u));
            this._copyExtents(e, l), e.heights && (l._heights = e.heights.slice());
            break;
          case f.ItemState.INSERTING:
          case f.ItemState.APPENDING:
            var c = this._rs, d = t == f.ItemState.INSERTING && e ? r ? e.index + 1 : e.index : this.itemCount;
            if (l = new Ji(this, e, d, -1, t), t == f.ItemState.INSERTING) {
              var p = e.dataRow, _ = e;
              if (p <= -1) {
                for (var g = this.source._visibleItems; (_ = g.getNext(_)) && !(_ instanceof Fe); )
                  ;
                this._insertRow = _ ? _.dataRow : s.rowCount;
              } else
                this._insertRow = r ? Math.min(s.rowCount, p + 1) : p;
              if (e instanceof Fe && r && c) {
                var y = c._pubItems.indexOf(_);
                y++ >= 0 && y <= c._pubItems.length && (l._index2 = y);
              }
            }
            if (o)
              for (u = 0; u < h; u++)
                o.length > u && l.setValue(u, o[u]);
        }
        return l;
      }, i;
    }(ft);
    (function(a) {
      function i(e, t) {
        var o = a.call(this, e) || this;
        return o.message = e, o.tokenPos = t, o;
      }
      w(i, a);
    })(Error);
    var Ge, Ea = function() {
      function a(i) {
        this.literal = i;
      }
      return a.prototype.evaluate = function(i) {
        return this.literal;
      }, a;
    }(), Oc = function() {
      function a(i, e) {
        e === void 0 && (e = -1), this.ident = i, this.idKey = e;
      }
      return a.prototype.evaluate = function(i) {
        return this.idKey < 0 && (this.idKey = i.isIdentifier(this.ident)), i.evaluateIdentifier(this.idKey);
      }, a;
    }(), Rc = function() {
      function a(i, e, t) {
        e === void 0 && (e = -1), t === void 0 && (t = !1), this.ident = i, this.idKey = e, this.capital = t;
      }
      return a.prototype.evaluate = function(i) {
        var e = this.ident, t = e.indexOf("["), o = e.indexOf("]");
        if (t < o) {
          var r = e.substr(0, t).trim(), n = e.substring(t + 1, o).replace(/['|"]/g, "").trim();
          return this.idKey < 0 && (this.idKey = i.isIdentifier(r)), i.evaluateIndexerS(this.idKey, n, this.capital);
        }
      }, a;
    }(), dr = function() {
      function a(i, e) {
        e === void 0 && (e = !1), this._silentError = !1, this._tokens = [], this._source = i, this._silentError = e, i && this._parse(i);
      }
      return Object.defineProperty(a.prototype, "source", { get: function() {
        return this._source;
      }, set: function(i) {
        i != this._source && (this._source = i, this._parse(i));
      }, enumerable: !1, configurable: !0 }), a.prototype.evaluate = function(i) {
        try {
          for (var e = this._tokens, t = "", o = 0, r = e.length; o < r; o++)
            t += e[o].evaluate(i) || "";
          return t;
        } catch (n) {
          if (!this._silentError)
            throw new n();
        }
        return null;
      }, a.prototype._parse = function(i) {
        if (this._tokens = [], i)
          for (var e, t = i.length, o = 0; o < t; ) {
            var r = i.indexOf("${", o);
            if (r >= 0) {
              var n = i.indexOf("}", r + 2);
              if (n >= 0) {
                if (r > o) {
                  var s = i.substring(o, r);
                  e = new Ea(s), this._tokens.push(e);
                }
                if (u = i.substring(r + 2, n).trim()) {
                  var l, h = void 0;
                  e = (l = u.indexOf("[")) && (h = u.indexOf("]")) && l < h ? new Rc(u) : new Oc(u), this._tokens.push(e);
                }
                o = n + 1;
              } else
                r = -1;
            }
            if (r < 0) {
              var u = i.substr(o, t);
              e = new Ea(u), this._tokens.push(e);
              break;
            }
          }
      }, a;
    }();
    (function(a) {
      a.ACTIVE = "active", a.UNACTIVE = "unactive", a.INDETERMINATE = "indeterminate";
    })(Ge || (Ge = {}));
    var Ro, Gt = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._active = !1, t._visible = !0, t._level = 0, t._category = null, t.criteria = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._criteria = null, this._category = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "name", { get: function() {
        return this._name;
      }, set: function(e) {
        this._name = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "criteria", { get: function() {
        return this._criteria;
      }, set: function(e) {
        e != this._criteria && (this._criteria = e, this.criteriaChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "callback", { get: function() {
        return this._callback;
      }, set: function(e) {
        this._callback = e, this.callbackChanged();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, set: function(e) {
        this._text = e, this.changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "description", { get: function() {
        return this._description;
      }, set: function(e) {
        this._description = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "active", { get: function() {
        return this._active;
      }, set: function(e) {
        e != this._active && (this._active = e, this.changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._visible;
      }, set: function(e) {
        this._visible = e, this.changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tag", { get: function() {
        return this._tag;
      }, set: function(e) {
        this._tag = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "category", { get: function() {
        return this._category;
      }, set: function(e) {
        this._category = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "level", { get: function() {
        return this._level;
      }, set: function(e) {
        this._level = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.toString = function() {
        return this._text || this._name;
      }, i.prototype.changed = function() {
        this.fireEvent(i.CHANGED);
      }, i.prototype.criteriaChanged = function() {
      }, i.prototype.callbackChanged = function() {
      }, i.CHANGED = "onColumnFilterChanged", i;
    }(Be), Zi = function(a) {
      function i() {
        var e = a.call(this, null) || this;
        return e._childs = [], e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "active", { get: function() {
        for (var e = this._childs.length; e--; )
          if (!this._childs[e].active)
            return !1;
        return !0;
      }, set: function(e) {
        for (var t = this._childs.length; t--; )
          this._childs[t].active = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._childs.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "activeState", { get: function() {
        for (var e = void 0, t = 0, o = this._childs.length; t < o; t++) {
          if (e != null && this._childs[t].active != e)
            return Ge.INDETERMINATE;
          e = this._childs[t].active;
        }
        return e ? Ge.ACTIVE : Ge.UNACTIVE;
      }, enumerable: !1, configurable: !0 }), i.prototype._doDispose = function() {
        this.clear(), a.prototype._doDispose.call(this);
      }, i.prototype.clear = function() {
        this._childs = [];
      }, i.prototype.add = function(e, t, o, r, n) {
        var s = new Gt(r);
        return s.name = t, s.text = o, s.active = n, this.addChild(s), e.add(s), s;
      }, i.prototype.addChild = function(e) {
        e.level = this.level + 1, e.category = this, this._childs.push(e);
      }, i.prototype.getChild = function(e) {
        return this._childs[e];
      }, i;
    }(Gt), Oa = function() {
      function a(i) {
        this._model = i, this.parse();
      }
      return a.prototype._doDispose = function() {
        this._exprNode = null, this._model = null;
      }, Object.defineProperty(a.prototype, "model", { get: function() {
        return this._model;
      }, enumerable: !1, configurable: !0 }), a.prototype.prepare = function(i, e) {
        i.setDataSource(e);
      }, a.prototype.select = function(i, e, t, o) {
        var r = this._model.callback;
        return r ? r.call(this, i._ds.handler, t.dataRow, e.level + 1, o, this._model, t.getData(o)) : !this._exprNode || (i.setData(t, o, this._model), this._exprNode.evaluate(i));
      }, a.prototype.criteriaChanged = function() {
        this.parse();
      }, a.prototype.parse = function() {
        this._model.callback || (this._model.criteria ? this._exprNode = Mt.Default.parse(this._model.criteria, null) : this._exprNode = null);
      }, a;
    }(), Po = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._items = [], t._names = {}, t._updating = !1, t._nextId = 1, t._owner = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "activeCount", { get: function() {
        for (var e = 0, t = 0, o = this._items; t < o.length; t++)
          o[t].active && e++;
        return e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "items", { get: function() {
        return this._items.slice();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isVisible", { get: function() {
        for (var e = 0, t = this._items; e < t.length; e++)
          if (t[e].visible)
            return !0;
        return !1;
      }, enumerable: !1, configurable: !0 }), i.prototype.getOwner = function() {
        return this._owner;
      }, i.prototype.getItem = function(e) {
        return this._items[e];
      }, i.prototype.indexOf = function(e) {
        for (var t = this._items.length - 1; t >= 0; t--)
          if (this._items[t].name == e)
            return t;
        return -1;
      }, i.prototype.getActiveItems = function(e) {
        for (var t = [], o = this._items.length - 1; o >= 0; o--)
          this._items[o].active == e && t.push(this._items[o]);
        return t;
      }, i.prototype.assignFrom = function(e) {
        if (e !== this) {
          var t = this.clear(!1);
          if (e) {
            for (var o = e instanceof Array ? e : [e], r = o.length, n = 0; n < r; n++)
              if ((e = o[n]) && e.name) {
                this.$_checkName(e.name);
                var s = new Gt(null);
                s.assignFrom(e), this._items.push(s), this._names[e.name] = s, s.addListener(this);
              }
          }
          (t || this.count > 0) && this.changed(null);
        }
      }, i.prototype.clear = function(e) {
        e === void 0 && (e = !0);
        var t = this._items.length;
        if (t > 0) {
          for (var o = 0; o < t; o++)
            this._items[o].removeListener(this);
          return this._items.length = 0, this._names = {}, e && this.changed(null), !0;
        }
        return !1;
      }, i.prototype.add = function(e, t) {
        t === void 0 && (t = !0);
        var o = b.cast(e, Gt);
        o ? this._items.indexOf(o) < 0 && o.name && this.$_checkName(o.name) : e && e.name && (this.$_checkName(e.name), (o = new Gt(null)).assignFrom(e)), o && (this._items.push(o), o._owner = this, this._names[o.name] = o, o.addListener(this), t && this.changed(null));
      }, i.prototype.addAll = function(e, t) {
        if (e instanceof Array || !e || (e = [e]), e && e.length > 0) {
          for (var o = 0, r = e.length, n = 0; n < r; n++) {
            var s = b.cast(e[n], Gt);
            if (s ? this._items.indexOf(s) < 0 && s.name && (t || this.$_checkName(s.name)) : e[n] && e[n].name && (t || this.$_checkName(e[n].name), (s = new Gt(null)).assignFrom(e[n])), s) {
              var l = this.indexOf(s.name);
              l >= 0 ? (this._items[l] && this._items[l].removeListener(this), this._items[l] = s) : this._items.push(s), s.addListener(this), this._names[s.name] = s, o++;
            }
          }
          o > 0 && this.changed(null);
        }
      }, i.prototype.removeItems = function(e) {
        if (e) {
          for (var t = 0, o = e.length - 1; o >= 0; o--) {
            var r = this.indexOf(e[o]);
            if (r >= 0) {
              var n = this._items[r];
              this._items.splice(r, 1), delete this._names[n.name], n.removeListener(this), t++;
            }
          }
          t > 0 && this.changed(null);
        }
      }, i.prototype.$_activateItems = function(e, t, o) {
        var r = !1;
        this._updating = !0;
        try {
          e.forEach(function(n) {
            n.active != t && (n._active = t, r = !0);
          });
        } finally {
          this._updating = !1;
        }
        o && r && this.changed(null);
      }, i.prototype.activateItems = function(e, t, o) {
        var r = this;
        if (o === void 0 && (o = !0), e) {
          var n = e.filter(function(s) {
            return s && r._names[s];
          }).map(function(s) {
            return r._names[s];
          });
          this.$_activateItems(n, t, o);
        }
      }, i.prototype.activateAll = function(e, t) {
        this.$_activateItems(this._items, e, t);
      }, i.prototype.$_hideFilters = function(e, t) {
        e.forEach(function(o) {
          o && (o.visible = !t);
        });
      }, i.prototype.hideFilters = function(e, t) {
        var o = this;
        e && this.$_hideFilters(e.filter(function(r) {
          return o._names[r];
        }).map(function(r) {
          return o._names[r];
        }), t);
      }, i.prototype.hideAllFilters = function(e) {
        this.$_hideFilters(this._items, e);
      }, i.prototype.$_toggleItems = function(e) {
        var t = !1;
        this._updating = !0;
        try {
          e.forEach(function(o) {
            o._active = !o.active, t = !0;
          });
        } finally {
          this._updating = !1;
        }
        t && this.changed(null);
      }, i.prototype.toggleItems = function(e) {
        var t = this;
        e && this.$_toggleItems(e.filter(function(o) {
          return t._names[o];
        }).map(function(o) {
          return t._names[o];
        }));
      }, i.prototype.toggleAll = function() {
        this.$_toggleItems(this._items);
      }, i.prototype.changed = function(e) {
        this._updating || this.fireEvent(Gt.CHANGED, e);
      }, i.prototype.$_checkName = function(e) {
        if (this._names.hasOwnProperty(e))
          throw new Error("Column filter already existes: " + e);
      }, i.prototype.onColumnFilterChanged = function(e) {
        this.changed(e);
      }, i.prototype.onColumnFilterSelectorChanged = function() {
        this.changed(null);
      }, i.prototype.onColumnFilterUserAdd = function(e, t, o) {
      }, i;
    }(Be), Ra = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._field = -1, e._fieldCount = 0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._item = this._ds = null, a.prototype._doDispose.call(this);
      }, i.prototype.setDataSource = function(e) {
        this._ds = e, this._fieldCount = this._ds ? this._ds.fieldCount : 0;
      }, i.prototype.setData = function(e, t, o) {
        this._item = e, this._field = t, this._model = o;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.$_getLookupText = function(e) {
        var t = e._owner._owner;
        if (t.lookupDisplay) {
          var o = t.lookupSource;
          if (o) {
            for (var r = t.lookupKeyFieldIds, n = r.length, s = [], l = 0; l < n; l++)
              s.push(this._item.getData(r[l]));
            return o.lookup(s, t.valueSeparator);
          }
          var h = t.labelFieldIndex;
          return h >= 0 ? this._item.getData(h) : t.getLookupLabel(this._item.getData(t.fieldName));
        }
        return "";
      }, i.prototype.evaluateIdentifier = function(e) {
        switch (e) {
          case i.ID_VALUE:
            return this._item.getData(this._field);
          case i.ID_TEXT:
            return this.$_getLookupText(this._model);
          case i.ID_STATE:
            switch (this._item.rowState) {
              case f.RowState.CREATED:
                return "c";
              case f.RowState.UPDATED:
                return "u";
              case f.RowState.DELETED:
                return "d";
              case f.RowState.CREATE_AND_DELETED:
                return "x";
            }
            return;
          case i.ID_CHANGED_CELL:
            var t = this._item.dataRow, o = this._field;
            return o >= 0 && this._item.rowState == f.RowState.UPDATED && this._ds.isDataChanged(t, o);
          case i.ID_FIELD:
            return this._field;
        }
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (this._item) {
          if (e == i.ID_VALUE || e == i.ID_VALUES) {
            if (t < 0 || t >= this._fieldCount)
              throw new ie("Data field index out of bounds:" + t);
            return this._item.getData(t);
          }
          throw new ie("Invalid identifier indexer: " + e);
        }
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        if (e != i.ID_VALUE && e != i.ID_VALUES)
          throw new ie("Invalid identifier indexer: " + e);
        if (this._ds) {
          var r = o ? this._ds.getFieldIndexC(t) : this._ds.getFieldIndex(t);
          if (r < 0 || r >= this._fieldCount)
            throw new ie("Data field is not exists:" + t);
          return this._item.getData(r);
        }
      }, i.ID_VALUE = 0, i.ID_FIELD = 1, i.ID_VALUES = 2, i.ID_STATE = 3, i.ID_CHANGED_CELL = 4, i.ID_TEXT = 5, i.IDENTS = { value: i.ID_VALUE, field: i.ID_FIELD, values: i.ID_VALUES, state: i.ID_STATE, changedcell: i.ID_CHANGED_CELL, text: i.ID_TEXT }, i;
    }(bt), Pa = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._dirty = !1, t._grid = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "owner", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dirty", { get: function() {
        return this._dirty;
      }, set: function(e) {
        e !== this._dirty && (this._dirty = e, this.invalidate());
      }, enumerable: !1, configurable: !0 }), i.prototype.clean = function() {
        this._dirty && (this._dirty = !1);
      }, i.prototype.invalidate = function() {
        this._grid && this._grid.invalidate();
      }, i.prototype.refreshOwner = function() {
        this._grid && this._grid.refreshView();
      }, i.prototype._changed = function() {
        this._doChanged(), this._dirty || (this._dirty = !0, this.refreshOwner());
      }, i.prototype._doChanged = function() {
      }, i;
    }(Be), _i = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._visible = !0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._visible;
      }, set: function(e) {
        e != this._visible && (this._visible = e, this._visibleChanged());
      }, enumerable: !1, configurable: !0 }), i.prototype._doChanged = function() {
        this._grid && this._grid._visualObjectChanged(this);
      }, i.prototype._visibleChanged = function() {
        this._changed();
      }, i;
    }(Pa), Pc = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._item = null, e._group = null, e._dataSource = null, e._fieldCount = 0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._item = null, this._group = null, this._dataSource = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "index", { get: function() {
        return this._item.index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "item", { get: function() {
        return this._item;
      }, enumerable: !1, configurable: !0 }), i.prototype.setDataSource = function(e) {
        this._dataSource = e, this._fieldCount = e ? e.fieldCount : 0;
      }, i.prototype.setItem = function(e) {
        this._item = e, this._group = b.cast(e, Se);
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        switch (e) {
          case i.ID_ROW:
            return this._item.index;
          case i.ID_DATAROW:
            return this._item.dataRow;
          case i.ID_CHECKED:
            return this._item.checked;
          case i.ID_STATE:
            switch (this._item.rowState) {
              case f.RowState.CREATED:
                return "c";
              case f.RowState.UPDATED:
                return "u";
              case f.RowState.DELETED:
                return "d";
              case f.RowState.CREATE_AND_DELETED:
                return "x";
            }
            return;
          case i.ID_COUNT:
            return this._group ? this._group.count : 0;
          case i.ID_DCOUNT:
            return this._group ? this._group.descendantCount : 0;
        }
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (this._item) {
          if (e == i.ID_VALUE || e == i.ID_VALUES) {
            if (t < 0 || t >= this._fieldCount)
              throw new ie("Data field index out of bounds:" + t);
            return this._item.getData(t);
          }
          throw new ie("Invalid identifier indexer: " + e);
        }
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        if (e != i.ID_VALUE && e != i.ID_VALUES)
          throw new ie("Invalid identifier indexer: " + e);
        if (this._dataSource) {
          var r = o ? this._dataSource.getFieldIndexC(t) : this._dataSource.getFieldIndex(t);
          if (r < 0 || r >= this._fieldCount)
            throw new ie("Data field is not exists:" + t);
          return this._item.getData(r);
        }
      }, i.ID_ROW = 0, i.ID_DATAROW = 1, i.ID_CHECKED = 2, i.ID_VALUE = 3, i.ID_VALUES = 4, i.ID_STATE = 5, i.ID_COUNT = 6, i.ID_DCOUNT = 7, i.IDENTS = { row: i.ID_ROW, datarow: i.ID_DATAROW, checked: i.ID_CHECKED, value: i.ID_VALUE, values: i.ID_VALUES, state: i.ID_STATE, count: i.ID_COUNT, dcount: i.ID_DCOUNT }, i;
    }(bt), kc = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._fieldCount = 0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cell = null, this._item = null, this._ds = null, this._grid = null, a.prototype._doDispose.call(this);
      }, i.prototype.setDataArguments = function(e, t, o) {
        this._ds = e, this._fieldCount = e ? e.fieldCount : 0, this._cell = t, this._item = o, this._grid = t && t.index.column.grid;
      }, i.prototype.setItem = function(e) {
        this._item = e;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        var t;
        switch (e) {
          case i.ID_VALUE:
            return this._item.getData(this._cell.index.dataField);
          case i.ID_BASE:
            return (t = this._cell.index.dataColumn.baseIndex) >= 0 ? this._item.getData(t) : void 0;
          case i.ID_PREV_VALUES:
            var o = this._cell.index.column, r = this._grid.getDataColumns();
            t = r.indexOf(o);
            var n = [];
            if (r.length || t < 0)
              return;
            for (var s = 0, l = Math.min(t, r.length); s < l; s++)
              n.push(this._item.getData(r[s].dataIndex));
            return n.join("`");
        }
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (this._item) {
          if (e == i.ID_VALUE || e == i.ID_VALUES) {
            if (t < 0 || t >= this._fieldCount)
              throw new ie("Data field index out of bounds:" + t);
            return this._item.getData(t);
          }
          throw new ie("Invalid identifier indexer: " + e);
        }
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        if (e != i.ID_VALUE && e != i.ID_VALUES)
          throw new ie("Invalid identifier indexer: " + e);
        if (this._ds) {
          var r = o ? this._ds.getFieldIndexC(t) : this._ds.getFieldIndex(t);
          if (r < 0 || r >= this._fieldCount)
            throw new ie("Data field is not exists:" + t);
          return this._item.getData(r);
        }
      }, i.ID_VALUE = 0, i.ID_VALUES = 1, i.ID_BASE = 2, i.ID_PREV_VALUES = 3, i.IDENTS = { value: i.ID_VALUE, values: i.ID_VALUES, base: i.ID_BASE, prevvalues: i.ID_PREV_VALUES }, i;
    }(bt), Tc = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype.setGrid = function(e) {
        this._grid = e;
      }, i.prototype.setGroup = function(e) {
        this._group = e;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        var t, o, r = this._group;
        switch (e) {
          case i.ID_GROUP_FIELD:
            return (t = r.dataSource.getField(r.groupField)) ? t.fieldName : "";
          case i.ID_FIELD_HEADER:
            return (t = r.dataSource.getField(r.groupField)) ? t.header : "";
          case i.ID_GROUP_COLUMN:
            return (o = this._grid ? this._grid.columnByField(r.groupField) : null) ? o.displayText : r.dataSource.getFieldName(r.groupField);
          case i.ID_COLUMN_HEADER:
            return (o = this._grid ? this._grid.columnByField(r.groupField) : null) ? o.header.text || o.displayText : r.dataSource.getFieldName(r.groupField);
          case i.ID_COLUMN_FOOTER:
            return (o = this._grid ? this._grid.columnByField(r.groupField) : null) ? o.footer.text || o.displayText : r.dataSource.getFieldName(r.groupField);
          case i.ID_GROUP_VALUE:
            return r ? r.groupValue : void 0;
          case i.ID_ROW_COUNT:
            return r.descendantCount;
        }
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        switch (e) {
          case i.ID_SUM:
          case i.ID_MAX:
          case i.ID_MIN:
          case i.ID_AVG:
          case i.ID_DATA_COUNT:
          case i.ID_DATA_AVG:
            if (isNaN(t) || t < 0)
              return;
            var o = void 0;
            switch (e) {
              case i.ID_SUM:
                o = this._group.getSum(t);
                break;
              case i.ID_MAX:
                o = this._group.getMax(t);
                break;
              case i.ID_MIN:
                o = this._group.getMin(t);
                break;
              case i.ID_AVG:
                o = this._group.getAvg(t);
                break;
              case i.ID_DATA_COUNT:
                o = this._group.getDataCount(t);
                break;
              case i.ID_DATA_AVG:
                o = this._group.getDataAvg(t);
            }
            return isNaN(o) ? "" : String(o);
        }
        throw new ie("Invalid identifier indexer: " + e);
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        var r = this._group.dataSource, n = t ? r ? r.getFieldIndex(t) : -1 : this._group.groupField;
        return this.evaluateIndexerI(e, n);
      }, i.ID_GROUP_FIELD = 0, i.ID_FIELD_HEADER = 1, i.ID_GROUP_COLUMN = 2, i.ID_COLUMN_HEADER = 3, i.ID_COLUMN_FOOTER = 4, i.ID_GROUP_VALUE = 5, i.ID_ROW_COUNT = 6, i.ID_SUM = 7, i.ID_MAX = 8, i.ID_MIN = 9, i.ID_AVG = 10, i.ID_DATA_COUNT = 11, i.ID_DATA_AVG = 12, i.IDENTS = { groupfield: i.ID_GROUP_FIELD, fieldheader: i.ID_FIELD_HEADER, groupcolumn: i.ID_GROUP_COLUMN, columnheader: i.ID_COLUMN_HEADER, columnfooter: i.ID_COLUMN_FOOTER, groupvalue: i.ID_GROUP_VALUE, rowcount: i.ID_ROW_COUNT, sum: i.ID_SUM, max: i.ID_MAX, min: i.ID_MIN, avg: i.ID_AVG, datacount: i.ID_DATA_COUNT, dataavg: i.ID_DATA_AVG }, i;
    }(bt), st = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._index = new W(), t._name = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._index && this._index.dispose(), this._index = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "name", { get: function() {
        return this._name;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        return this._index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "item", { get: function() {
        return this._index.item;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueColumn", { get: function() {
        return this._index.valueColumn;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataColumn", { get: function() {
        return this._index.dataColumn;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "level", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), i.prototype.setIndex = function(e) {
        this._index.assignFrom(e);
      }, i.prototype.setIndex2 = function(e, t, o) {
        this._index._grid = e, this._index.set(t, o);
      }, i.prototype.setLayout = function(e) {
        this._index.layout = e;
      }, i.ERROR = "<<ERROR>>", i;
    }(J), pr = function(a) {
      function i(e, t) {
        t === void 0 && (t = null);
        var o = a.call(this, t) || this;
        return o._model = e, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "model", { get: function() {
        return this._model;
      }, set: function(e) {
        this._model = e;
      }, enumerable: !1, configurable: !0 }), i;
    }(st), fr = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.getBlankState = function() {
        return tt.NONE;
      }, i.prototype.isValueChanged = function() {
        return !1;
      }, i;
    }(st), Wt = function(a) {
      function i(e) {
        return e === void 0 && (e = null), a.call(this, e || "dataCell") || this;
      }
      return w(i, a), i.getText = function(e, t) {
        var o = t.dataIndex >= 0 ? e.getData(t.dataIndex) : void 0;
        return i._getText(e, t, o);
      }, i._getText = function(e, t, o) {
        var r, n = t;
        if (n.lookupDisplay) {
          var s = n.lookupSource;
          if (s) {
            for (var l = n.lookupKeyFieldIds, h = l.length, u = [], c = 0; c < h; c++)
              u.push(e.getData(l[c]));
            r = (r = s.lookup(u, n.valueSeparator)) !== void 0 ? r : n.textOfInvalid != null ? n.textOfInvalid : o;
          } else {
            var d = n.labelFieldIndex;
            r = d >= 0 ? e.getData(d) : n.getLookupLabel(o);
          }
        } else {
          var p, _ = void 0;
          r = o, n.valueType == f.ValueType.NUMBER && (p = n.nanText) != null && isNaN(r) ? r = p : (_ = n.displayCallback) ? r = _(n.grid.handler, gt.tempItem(n.grid, e, t).proxy(), r) : r != null && typeof r == "object" && (r = JSON.stringify(r));
        }
        return r == null ? "" : String(r);
      }, i._getDisplayText = function(e, t, o, r, n) {
        var s, l = e.formatOptions, h = n.textFormatter || o.textFormat === void 0 && l.textFormatter, u = n.numberFormatter || o.numberFormat === void 0 && l.numberFormatter, c = n.booleanFormatter || o.booleanFormat === void 0 && l.boolFormatter, d = n.datetimeWriter || o.datetimeFormat === void 0 && l.datetimeWriter;
        if (o) {
          switch (o.valueType) {
            case f.ValueType.TEXT:
              s = r && h ? h.getText(r) : i._getText(t, o, r);
              break;
            case f.ValueType.NUMBER:
              var p = Number(r);
              s = isNaN(p) || p == null ? o.nanText : p == 0 && o.zeroText != null ? o.zeroText : u ? u.getText(p, o.displayMinusZero) : i._getText(t, o, r);
              break;
            case f.ValueType.DATETIME:
              s = r instanceof Date && d ? d.getText(r) : i._getText(t, o, r);
              break;
            case f.ValueType.BOOLEAN:
              s = c ? c.formatValue(r) : i._getText(t, o, r);
              break;
            case f.ValueType.OBJECT:
              var _ = o.getField(), g = t.dataRow, y = o.objectKey || _.objectKey, m = o.objectCallback || _.objectCallback;
              if (r) {
                var v = m && typeof m == "function" ? m(_.orgFieldName, g, r) : y ? r[y] : i._getText(t, o, r);
                switch (typeof v) {
                  case "string":
                    s = i._getText(t, o, v);
                    break;
                  case "number":
                    s = u ? u.getText(v, o.displayMinusZero) : String(v);
                    break;
                  case "boolean":
                    s = c ? c.formatValue(v) : String(v);
                    break;
                  default:
                    s = v instanceof Date && d ? d.getText(v) : v ? String(v) : "";
                }
              }
              break;
            default:
              s = i._getText(t, o, r);
          }
          if (s) {
            var C = n.prefix;
            C && (s = C + s), (C = n.suffix) && (s += C);
          }
        }
        return s;
      }, i.equalBlankRuntime = function() {
        return this._equalBlankRuntime || (this._equalBlankRuntime = new kc()), this._equalBlankRuntime;
      }, i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.getValue = function() {
        var e = this.dataColumn.dataIndex;
        if (e >= 0)
          return this.item.getData(e);
      }, i.prototype.getDisplayText = function(e, t) {
        return i._getDisplayText(e, this.index.item, this.index.dataColumn, this.getValue(), t);
      }, Object.defineProperty(i.prototype, "value", { get: function() {
        return this.getValue();
      }, enumerable: !1, configurable: !0 }), i.prototype.getBlankState = function() {
        var e = function(m, v) {
          return m instanceof Date && v instanceof Date ? +m == +v : m == v;
        }, t = function(m) {
          return u ? (c.setItem(m), u.evaluate(c)) : m.getData(l.dataIndex);
        }, o = function(m, v, C) {
          if (m >= v && m < C) {
            var x = t(h), S = m === v ? null : d.getItem(m - 1), I = m === C - 1 ? null : d.getItem(m + 1);
            if (r = S instanceof Fe && e(x, t(S)) ? tt.BODY : tt.HEAD, !(I instanceof Fe && e(x, t(I))))
              switch (r) {
                case tt.BODY:
                  r = tt.TAIL;
                  break;
                case tt.HEAD:
                  r = tt.NONE;
              }
          }
          return r;
        }, r = tt.NONE, n = this.index, s = n.layout, l = this.dataColumn, h = this.item, u = s.equalBlankNode, c = u && i.equalBlankRuntime(), d = s.grid, p = d.fixedOptions.rowCount, _ = d.layoutManager.topIndex, g = d.fixedOptions.blankRows;
        if (s && s.blanked && s.dataRoot && h.dataRow >= 0) {
          var y = n.itemIndex;
          return u && c && c.setDataArguments(h.dataSource, this, h), r = y < p && g ? o(y, 0, p) : o(y, p + _, d.itemCount);
        }
        return r;
      }, i.prototype.isValueChanged = function() {
        var e = this.dataColumn.dataIndex;
        return e >= 0 && this.item.isChanged(e);
      }, i;
    }(fr), Dc = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.setItem = function(e) {
        this.$_item = e;
      }, Object.defineProperty(i.prototype, "item", { get: function() {
        return this.$_item;
      }, enumerable: !1, configurable: !0 }), i;
    }(Wt), Dn = function(a) {
      function i(e) {
        return e === void 0 && (e = null), a.call(this, e || "literalCell") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "text", { get: function() {
        return "";
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), i.prototype.getDisplayText = function(e) {
        return this.text;
      }, i;
    }(fr), _r = function(a) {
      function i(e) {
        return e === void 0 && (e = null), a.call(this, e || "seriesCell") || this;
      }
      return w(i, a), i.getText = function(e, t) {
        return t === void 0 && (t = ","), e ? e.join(t) : "";
      }, i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.getDisplayText = function(e, t) {
        var o = this.value;
        return o ? o.join(t || ",") : "";
      }, Object.defineProperty(i.prototype, "getText", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        var e = this.index.column;
        if (e instanceof Bt) {
          var t = e.fields, o = t ? t.length : 0;
          if (o > 0) {
            for (var r = this.item, n = new Array(o), s = 0; s < o; s++)
              t[s] >= 0 && (n[s] = r.getData(t[s]));
            return n;
          }
        }
        return [];
      }, enumerable: !1, configurable: !0 }), i;
    }(fr), Mc = function(a) {
      function i(e) {
        return e === void 0 && (e = null), a.call(this, e || "mergedDataCell") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.getValue = function() {
        var e = this.index, t = e.item;
        return t instanceof Fe ? a.prototype.getValue.call(this) : (t = (t instanceof Se ? t : t.parent).firstItem).getData(e.dataField);
      }, Object.defineProperty(i.prototype, "text", { get: function() {
        return this.getValue();
      }, enumerable: !1, configurable: !0 }), i;
    }(Wt), ka = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e.minBarWidth = 1, e.maxBarWidth = 0, e.barWidth = 0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._doRender = function(e, t, o) {
        var r = this._getBarLength();
        if (!(r < 1)) {
          var n = this.barWidth;
          n <= 0 && (n = Math.floor(t.width / r), n = Math.max(this.minBarWidth, n), this.maxBarWidth > 0 && (n = Math.min(this.maxBarWidth, n))), r *= n, t.x += (t.width - r) / 2, t.x = Math.floor(t.x), this._drawBars(e, this.barStyle, o, t.x, t.y, n, t.height);
        }
      }, i;
    }(function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "value", { get: function() {
        return this._value;
      }, set: function(e) {
        if (e != this._value) {
          this._value = e;
          try {
            this._error = null, this._parse(e);
          } catch (t) {
            this._error = t;
          }
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "error", { get: function() {
        return this._error;
      }, enumerable: !1, configurable: !0 }), i.prototype.render = function(e, t) {
        this._doRender(e, t, !1);
      }, i.prototype.renders = function(e, t) {
        this._doRender(e, t, !0);
      }, i;
    }(J)), ko = [2171426, 2236706, 2236961, 1184291, 1184546, 1249826, 1188371, 1188626, 1253906, 2232851, 2233106, 2298386, 1122866, 1188146, 1188401, 1126946, 1192226, 1192481, 2241041, 2232626, 2232881, 2175506, 2240786, 3219761, 3215906, 3281186, 3281441, 3219986, 3285266, 3285521, 2171171, 2171681, 2302241, 1119011, 1249571, 1250081, 1123091, 1253651, 1254161, 2167571, 2298131, 2298641, 1122611, 1123121, 1253681, 1126691, 1127201, 1257761, 3223841, 2167601, 2298161, 2175251, 2175761, 2175281, 3215651, 3216161, 3346721, 3219731, 3220241, 3350801, 3227921, 2233361, 4395281, 1118756, 1119266, 1184036, 1184801, 1315106, 1315361, 1122836, 1123346, 1188116, 1188881, 1319186, 1319441, 2363921, 2232596, 4272401, 2363666, 1261841, 1118786, 1184066, 1184321, 1131026, 1196306, 1196561, 4264466, 4329746, 4330001, 2171201, 2179361, 4268321, 1118531, 1119041, 1249601, 1130771, 1131281, 4264211, 4264721, 1126721, 1130801, 3215681, 4264241, 2167826, 2167316, 2167346, 36901138], Lc = [103, 104, 105], Ta = [251658240, 15728640, 983040, 61440, 3840, 240, 15], Fc = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e.quietZoneWidth = 10, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._parse = function(e) {
        this._weights = [];
        var t = e ? e.length : 0;
        if (!(t < 1)) {
          var o = this.$_detectType(e), r = Lc[o], n = ko[r], s = r;
          if (this._weights.push(n), o == 2)
            for (var l = 0; l < t; l += 2) {
              var h = e.substr(l, 2);
              r = parseInt(h), r = this.$_convert(o, r), n = ko[r], this._weights.push(n), s += r * (Math.floor(l / 2) + 1);
            }
          else
            for (l = 0; l < t; l++)
              r = e.charCodeAt(l), r = this.$_convert(o, r), n = ko[r], this._weights.push(n), s += r * (l + 1);
          s %= 103, this._weights.push(ko[s]), this._weights.push(ko[106]);
        }
      }, i.prototype._getBarLength = function() {
        return this.quietZoneWidth + 11 * (this._weights.length - 1) + 13 + this.quietZoneWidth;
      }, i.prototype._drawBars = function(e, t, o, r, n, s, l) {
        r += 10 * s;
        for (var h, u = this._weights.length - 1, c = 0; c < u; c++) {
          h = this._weights[c];
          for (var d = 0; d < 6; d++) {
            var p = (h & Ta[d + 1]) >> 4 * (5 - d);
            p *= s, d % 2 == 0 && (o ? e.sbounds(t, r + "", n + "%", p + "", l + "%") : e.bounds(t, r, n, p, l)), r += p;
          }
        }
        for (h = this._weights[u], d = 0; d < 7; d++)
          p = (h & Ta[d]) >> 4 * (6 - d), p *= s, d % 2 == 0 && (o ? e.sbounds(t, r + "", n + "%", p + "", l + "%") : e.bounds(t, r, n, p, l)), r += p;
      }, i.prototype.$_convert = function(e, t) {
        switch (e) {
          case 0:
            if (t >= 0 && t < 32)
              return t + 64;
            if (t >= 32 && t < 96)
              return t - 32;
            break;
          case 1:
            if (t >= 32 && t < 128)
              return t - 32;
            break;
          case 2:
            if (t >= 0 && t <= 99)
              return t;
        }
        throw new Error("Invalid code128 charactor: " + t);
      }, i.prototype.$_detectType = function(e) {
        return e.length % 2 == 0 && /^\d+$/.test(e) ? 2 : /[a-z]/.test(e) ? 1 : 0;
      }, i;
    }(ka), Mn = { 0: "nnnwwnwnn", 1: "wnnwnnnnw", 2: "nnwwnnnnw", 3: "wnwwnnnnn", 4: "nnnwwnnnw", 5: "wnnwwnnnn", 6: "nnwwwnnnn", 7: "nnnwnnwnw", 8: "wnnwnnwnn", 9: "nnwwnnwnn", A: "wnnnnwnnw", B: "nnwnnwnnw", C: "wnwnnwnnn", D: "nnnnwwnnw", E: "wnnnwwnnn", F: "nnwnwwnnn", G: "nnnnnwwnw", H: "wnnnnwwnn", I: "nnwnnwwnn", J: "nnnnwwwnn", K: "wnnnnnnww", L: "nnwnnnnww", M: "wnwnnnnwn", N: "nnnnwnnww", O: "wnnnwnnwn", P: "nnwnwnnwn", Q: "nnnnnnwww", R: "wnnnnnwwn", S: "nnwnnnwwn", T: "nnnnwnwwn", U: "wwnnnnnnw", V: "nwwnnnnnw", W: "wwwnnnnnn", X: "nwnnwnnnw", Y: "wwnnwnnnn", Z: "nwwnwnnnn", "-": "nwnnnnwnw", ".": "wwnnnnwnn", " ": "nwwnnnwnn", $: "nwnwnwnnn", "/": "nwnwnnnwn", "+": "nwnnnwnwn", "%": "nnnwnwnwn", "*": "nwnnwnwnn" }, Bc = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._wideWidth = 3, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._parse = function(e) {
        if (this._codes = [], e) {
          var t = e.length;
          this._codes.push(Mn["*"]);
          for (var o = 0; o < t; o++) {
            var r = e.charAt(o), n = Mn[r];
            if (!n)
              throw new Error("Invalid Code39 character: " + r);
            this._codes.push(n);
          }
          this._codes.push(Mn["*"]);
        }
      }, i.prototype._getBarLength = function() {
        var e = this._codes.length;
        return e * (3 * this._wideWidth + 6) + (e - 1);
      }, i.prototype._drawBars = function(e, t, o, r, n, s, l) {
        var h = this._codes.length;
        if (h > 2)
          for (var u = 0; u < h; u++) {
            for (var c = this._codes[u], d = 0; d < 9; d++) {
              var p = c.charAt(d) == "n" ? 1 : this._wideWidth;
              p *= s, d % 2 == 0 && (o ? e.sbounds(t, r + "", n + "%", p + "", l + "%") : e.bounds(t, r, n, p, l)), r += p;
            }
            u < h - 1 && (r += s);
          }
      }, i;
    }(ka), at = "http://www.w3.org/2000/svg", Nc = 0, Da = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._transforms = [], o._defs = e, o._element = t, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this.clear(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "doc", { get: function() {
        return te(this._element) || document;
      }, enumerable: !1, configurable: !0 }), i.prototype.init = function(e, t) {
        return this._defs = e, this._element = t, this;
      }, i.prototype.clear = function() {
        this._defs = null, this._element = null, this._transforms = null;
      }, i.prototype.save = function() {
        this._transforms.push(this._trans), this._trans = "";
      }, i.prototype.restore = function() {
        this._trans = this._transforms.pop();
      }, i.prototype.translate = function(e, t) {
        this._trans += "translate(" + e + "," + t + ")";
      }, i.prototype.rotate = function(e) {
        this._trans += "rotate(" + 180 * e / Math.PI + ")";
      }, i.prototype.rotateAt = function(e, t, o) {
        this._trans += "rotate(" + 180 * e / Math.PI + "," + t + ",)";
      }, i.prototype.scale = function(e, t) {
        this._trans += "scale(" + e + "," + t + ")";
      }, i.prototype.clipRect = function(e) {
        this.clip(e.x, e.y, e.width, e.height);
      }, i.prototype.clip = function(e, t, o, r) {
        var n = this.doc, s = Nc++, l = n.createElementNS(at, "clipPath");
        l.setAttributeNS(null, "id", "clip" + s);
        var h = n.createElementNS(at, "rect");
        h.x.baseVal.value = e, h.y.baseVal.value = t, h.width.baseVal.value = o, h.height.baseVal.value = r, l.appendChild(h), this._defs.appendChild(l);
      }, i.prototype.sline = function(e, t, o, r, n) {
        var s = this.doc.createElementNS(at, "line");
        this._element.appendChild(s), s.x1.baseVal.valueAsString = t, s.y1.baseVal.valueAsString = o, s.x2.baseVal.valueAsString = r, s.y2.baseVal.valueAsString = n, e && s.setAttribute("class", e);
      }, i.prototype.polygon = function(e, t) {
        if (!(t == null || t.length < 4)) {
          var o = this.doc.createElementNS(at, "polygon");
          this._element.appendChild(o);
          var r = [];
          r.push(t[0] + "," + t[1]);
          for (var n = 2; n < t.length; n += 2)
            r.push(t[n] + "," + t[n + 1]);
          this._trans && o.setAttributeNS(null, "transform", this._trans), o.setAttributeNS(null, "points", r.join(" ")), e && o.setAttribute("class", e);
        }
      }, i.prototype.bounds = function(e, t, o, r, n) {
        var s = this.doc.createElementNS(at, "rect");
        this._element.appendChild(s), s.x.baseVal.value = t, s.y.baseVal.value = n < 0 ? o + n : o, s.width.baseVal.value = r, s.height.baseVal.value = Math.abs(n), e && s.setAttribute("class", e);
      }, i.prototype.pbounds = function(e, t, o, r, n) {
        var s = this.doc.createElementNS(at, "rect");
        this._element.appendChild(s), s.x.baseVal.valueAsString = t + "%", s.y.baseVal.valueAsString = (n < 0 ? o + n : o) + "%", s.width.baseVal.valueAsString = r + "%", s.height.baseVal.valueAsString = Math.abs(n) + "%", e && s.setAttribute("class", e);
      }, i.prototype.sbounds = function(e, t, o, r, n) {
        var s = this.doc.createElementNS(at, "rect");
        this._element.appendChild(s), s.x.baseVal.valueAsString = t, s.y.baseVal.valueAsString = o, s.width.baseVal.valueAsString = r, s.height.baseVal.valueAsString = n, e && s.setAttribute("class", e);
      }, i.prototype.scircle = function(e, t, o, r) {
        var n = this.doc.createElementNS(at, "circle");
        this._element.appendChild(n), n.cx.baseVal.valueAsString = t, n.cy.baseVal.valueAsString = o, n.r.baseVal.valueAsString = r, e && n.setAttribute("class", e);
      }, i.prototype.ellipse = function(e, t, o, r, n) {
        var s = this.doc.createElementNS(at, "ellipse"), l = r / 2, h = n / 2;
        this._element.appendChild(s), s.cx.baseVal.value = t + l, s.cy.baseVal.value = o + h, s.rx.baseVal.value = l, s.ry.baseVal.value = h, e && s.setAttribute("class", e);
      }, i;
    }(J), Ut = function(a) {
      function i(e) {
        var t = a.call(this) || this, o = te(e), r = t._element = o.createElementNS(at, "svg"), n = r.style, s = t._defs = o.createElementNS(at, "defs");
        return r.appendChild(s), n.background = "", n.border = "none", n.pointerEvents = "none", e.appendChild(r), t._renderer = new Da(t._defs), t;
      }
      return w(i, a), i.createSVG = function(e) {
        var t = te(e), o = t.createElementNS(at, "svg"), r = o.style, n = t.createElementNS(at, "defs");
        o.appendChild(n), r.background = "", r.border = "none", r.pointerEvents = "none";
        var s = t.createElementNS(at, "g");
        return o.appendChild(s), e.appendChild(o), o;
      }, i.renderSVG = function(e, t, o) {
        var r = t.lastElementChild, n = this._renderer.init(t.firstChild, r);
        r.textContent = "", o.call(e, t, n, t.clientWidth, t.clientHeight), n.clear();
      }, i.renderSVG2 = function(e, t, o) {
        var r = te(t);
        t.childElementCount > 1 && t.removeChild(t.lastElementChild);
        var n = r.createElementNS(at, "g"), s = this._renderer.init(t.firstChild, n);
        t.appendChild(n), o.call(e, t, s), s.clear();
      }, i.prototype._doDispose = function() {
        this._renderer = this._renderer.dispose(), this._element.parentElement && this._element.parentElement.removeChild(this._element), this._element = this._defs = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "element", { get: function() {
        return this._element;
      }, enumerable: !1, configurable: !0 }), i.prototype.render = function(e) {
        this._clear(), e ? e.call(this, this._renderer, this._element.clientWidth, this._element.clientHeight) : this._doRender(this._renderer, this._element.clientWidth, this._element.clientHeight);
      }, i.prototype._clear = function() {
        this._element.childElementCount > 1 && this._element.removeChild(this._element.lastElementChild);
        var e = te(this._element).createElementNS(at, "g");
        this._element.appendChild(e), this._renderer._element = e;
      }, i.prototype._doRender = function(e, t, o) {
      }, i._renderer = new Da(), i;
    }(J), Ma = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.draw = function(e, t, o) {
        this._doDraw(e, t, o);
      }, i;
    }(J), La = { rectangle: [0, 0, 1, 0, 1, 1, 0, 1], triangle: [0.5, 0, 0, 1, 1, 1], itriangle: [0, 0, 0.5, 1, 1, 0], diamond: [0.5, 0, 0, 0.5, 0.5, 1, 1, 0.5], uparrow: [0.5, 0, 0, 0.5, 0.3, 0.5, 0.3, 1, 0.7, 1, 0.7, 0.5, 1, 0.5], downarrow: [0.3, 0, 0.3, 0.5, 0, 0.5, 0.5, 1, 1, 0.5, 0.7, 0.5, 0.7, 0], leftarrow: [0, 0.5, 0.5, 1, 0.5, 0.7, 1, 0.7, 1, 0.3, 0.5, 0.3, 0.5, 0], rightarrow: [0, 0.3, 0, 0.7, 0.5, 0.7, 0.5, 1, 1, 0.5, 0.5, 0, 0.5, 0.3], plus: [0.3, 0, 0.3, 0.3, 0, 0.3, 0, 0.7, 0.3, 0.7, 0.3, 1, 0.7, 1, 0.7, 0.7, 1, 0.7, 1, 0.3, 0.7, 0.3, 0.7, 0], minus: [0, 0.3, 0, 0.7, 1, 0.7, 1, 0.3], star: [0.5, 0, 0.6122, 0.3454, 0.9755, 0.3454, 0.6816, 0.559, 0.7938, 0.9045, 0.5, 0.691, 0.2061, 0.9045, 0.3183, 0.559, 0.02447, 0.3454, 0.3877, 0.3454] }, Fa = { equal: [[0, 0.2, 0, 0.4, 1, 0.4, 1, 0.2], [0, 0.6, 0, 0.8, 1, 0.8, 1, 0.6]] }, Ba = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._shape = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "shape", { get: function() {
        return this._shape;
      }, set: function(e) {
        this._shape = e ? e === "inverted_triangle" ? i.INVERTED_TRIANLGE : e.toLowerCase() : null;
      }, enumerable: !1, configurable: !0 }), i.prototype._doDraw = function(e, t, o) {
        var r = this._shape;
        if (La.hasOwnProperty(r)) {
          if (c = La[r]) {
            for (var n = 0, s = 0, l = 0, h = (c = c.slice()).length / 2; l < h; l++)
              c[2 * l] = n + c[2 * l] * t, c[2 * l + 1] = s + c[2 * l + 1] * o;
            c.push(c[0], c[1]), e.polygon(null, c);
          }
        } else if (Fa.hasOwnProperty(r)) {
          var u = Fa[r];
          if (u) {
            var c;
            for (n = 0, s = 0, l = 0, h = (c = u[0].slice()).length / 2; l < h; l++)
              c[2 * l] = n + c[2 * l] * t, c[2 * l + 1] = s + c[2 * l + 1] * o;
            for (c.push(c[0], c[1]), e.polygon(null, c), l = 0, h = (c = (c = u[1]).slice()).length / 2; l < h; l++)
              c[2 * l] = n + c[2 * l] * t, c[2 * l + 1] = s + c[2 * l + 1] * o;
            c.push(c[0], c[1]), e.polygon(null, c);
          }
        }
      }, i.RECTANGLE = "rectangle", i.TRIANLGE = "triangle", i.INVERTED_TRIANLGE = "itriangle", i.DIAMOND = "diamond", i.UP_ARROW = "uparrow", i.DOWN_ARROW = "downarrow", i.LEFT_ARROW = "leftarrow", i.RIGHT_ARROW = "rightarrow", i.PLUS = "plus", i.MINUS = "minus", i.EQUAL = "equal", i.STAR = "star", i;
    }(Ma), Vc = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._doDraw = function(e, t, o) {
        e.ellipse(null, 0, 0, t, o);
      }, i;
    }(Ma), ke = function() {
      function a() {
      }
      return a.layoutFlex = function(i, e, t, o, r, n) {
        var s = n === f.IconLocation.CENTER, l = b.included(n, f.IconLocation.LEFT, f.IconLocation.LEFT_EDGE), h = b.included(n, f.IconLocation.RIGHT, f.IconLocation.RIGHT_EDGE), u = b.included(n, f.IconLocation.TOP, f.IconLocation.TOP_EDGE), c = b.included(n, f.IconLocation.BOTTOM, f.IconLocation.BOTTOM_EDGE), d = b.included(n, f.IconLocation.LEFT_EDGE, f.IconLocation.RIGHT_EDGE, f.IconLocation.TOP_EDGE, f.IconLocation.BOTTOM_EDGE), p = i.style, _ = s || l || h ? "row" : "column";
        _ += h || c ? "-reverse" : "", p.flexDirection = _, p.justifyContent = d ? "start" : "center", p.alignItems = "center", (p = e.style).paddingTop = u && d ? r + "px" : "", p.paddingBottom = c && d ? r + "px" : "", (p = t.style).display = s ? "none" : "", p.paddingLeft = l ? o + "px" : "", p.paddingRight = h ? o + "px" : "", p.paddingTop = u ? o + "px" : "", p.paddingBottom = c ? o + "px" : "", p.flexGrow = d ? "1" : "";
      }, a.clearFlex = function(i) {
        var e = i.style;
        e.removeProperty("display"), e.removeProperty("flex-direction"), e.removeProperty("justify-content"), e.removeProperty("align-items"), e.removeProperty("flex-grow");
      }, a;
    }(), Na = function() {
      this.commit = !0, this.value = void 0;
    }, Ct = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._refreshFocusChanged = !1, e._clickOnlyFocusedCell = !0, e._textProp = b.TextProp, e._inited = !1, e._dirty = !1, e._className = "", e._itemClickable = !1, e;
      }
      return w(i, a), i.getRendererStyle = function(e) {
        var t = e.firstElementChild;
        if (t) {
          if (t.classList) {
            if (t.classList.length > 1)
              return t.classList[1];
          } else {
            var o = t.className && t.className.split(" ");
            if (o && o.length > 1)
              return o[1];
          }
          return t.className;
        }
      }, i.prototype._doDispose = function() {
        this._dom = null, this._index = null, a.prototype._doDispose.call(this);
      }, i.prototype.clearAndDispose = function() {
        return this.clearContent(), this.dispose();
      }, i.prototype.initContent = function(e, t, o) {
        this._inited ? this._index.assign(e) : (this._dom = t, this._index = e.clone(), t.className = this._className = o, t && (t[b.TextProp] = ""), this._doInitContent(t), this._inited = !0);
      }, i.prototype.initFormContent = function(e, t) {
        this._inited || (this._dom = e, e.className = this._className = t, this._doInitContent(e), this._inited = !0);
      }, i.prototype.clearContent = function() {
        this._inited ? (this._dom.className = this._className = "", this._inited = !1) : this._dom[this._textProp] = "", this._doClearContent(this._dom);
      }, i.prototype.checkClassName = function(e) {
        return e != this._className;
      }, i.prototype.initOptions = function() {
        this._doInitOptions();
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._index && this._index.grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        return this._index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return "rg-renderer";
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showTooltip", { get: function() {
        return this._showTooltip;
      }, set: function(e) {
        this._showTooltip = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "ariaLabelCallback", { get: function() {
        return this._ariaLabelCallback;
      }, set: function(e) {
        this._ariaLabelCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "refreshFocusChanged", { get: function() {
        return this._refreshFocusChanged;
      }, set: function(e) {
        this._refreshFocusChanged = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "clickOnlyFocusedCell", { get: function() {
        return this._clickOnlyFocusedCell;
      }, set: function(e) {
        this._clickOnlyFocusedCell = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemClickable", { get: function() {
        return this._itemClickable;
      }, enumerable: !1, configurable: !0 }), i.prototype.renderCell = function(e, t, o) {
        if (e.accessibility) {
          var r = this._ariaLabelCallback || e.body.ariaLabelCallback, n = r && r.call(this, e.handler, t);
          n ? o.cell.setAttribute("aria-label", n) : o.cell.removeAttribute("aria-label");
        }
        this._doRenderCell(e, t, o, o.width - o.errorWidth - o.buttonWidth - o.editWidth - 1, o.height - 1);
      }, i.prototype.getTooltip = function(e, t) {
        var o = t.grid, r = o.body, n = t.column, s = r.getCellAt(e.item, n, !1), l = s && this._makeText(o, s, e);
        return l || void 0;
      }, i.prototype.canShowInnerFocus = function() {
        return !1;
      }, i.prototype.canEdit = function() {
        return !1;
      }, i.prototype.canEditClickAt = function(e) {
        return !1;
      }, i.prototype.preventDefaultEditClick = function(e) {
        e.preventDefault();
      }, i.prototype.editClick = function(e, t) {
        var o = new Na();
        if (this._doEditClick(e, t, o))
          return o;
      }, i.prototype._doEditClick = function(e, t, o) {
        return !1;
      }, i.prototype.preventDefaultClick = function(e) {
        e.preventDefault();
      }, i.prototype.canClick = function(e) {
        return !1;
      }, i.prototype.canClickSpaceKey = function(e) {
        return !1;
      }, i.prototype.click = function(e, t, o) {
        return this._doClick(e, t, o);
      }, i.prototype.itemClick = function() {
        this._doItemClick();
      }, i.prototype._doItemClick = function() {
      }, i.prototype._doClick = function(e, t, o) {
      }, i.prototype.canEditKey = function(e) {
        return !1;
      }, i.prototype.editKey = function(e, t) {
        var o = new Na();
        if (this._doEditKey(e, t, o))
          return o;
      }, i.prototype._doEditKey = function(e, t, o) {
        return !1;
      }, i.prototype.moveClickElement = function(e, t) {
      }, i.prototype._doInitContent = function(e) {
      }, i.prototype._doClearContent = function(e) {
        e && (e[this._textProp] = "");
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
      }, i.prototype._changed = function() {
        this._dirty = !0;
      }, i.prototype._getValue = function(e, t, o) {
        var r = t.item.dataRow;
        if (r >= 0) {
          var n = e.dataSource.getFieldIndex(o);
          if (n >= 0)
            return e.dataSource.getValue(r, n);
        }
      }, i.prototype._makeText = function(e, t, o) {
        return t.getDisplayText(e, o) || t.dataColumn.placeHolder || "";
      }, i.prototype._clearHeight = function() {
        this._dom.style.height = "";
      }, i.prototype._setHeight = function(e) {
        this._dom.style.height = e >= 0 ? e + "px" : "";
      }, i.prototype._isEmpty = function(e) {
        return e == null || e == "" || typeof e == "number" && isNaN(e);
      }, i.prototype._doInitOptions = function() {
      }, i;
    }(J), Qi = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), i.prototype._doRenderCell = function(e, t, o, r, n) {
        if (t instanceof fr)
          if (t.index.itemIndex !== e.layoutManager.topIndex)
            switch (t.getBlankState()) {
              case tt.BODY:
              case tt.TAIL:
                this.$_setText(t.dataColumn.equalBlankText);
                break;
              default:
                this.$_setText(this._makeText(e, t, o));
            }
          else
            this.$_setText(this._makeText(e, t, o));
      }, i.prototype.$_setText = function(e) {
        this._dom[this._textProp] = e || "";
      }, i.TYPE = "text", i.Default = new i(), i;
    }(Ct);
    f.BarOrigin = void 0, (Ro = f.BarOrigin || (f.BarOrigin = {})).DEFAULT = "default", Ro.LEFT = "left", Ro.RIGHT = "right", Ro.TOP = "top", Ro.BOTTOM = "bottom";
    var Ln, Va = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._barStyle = i.BAR_STYLE, e._rightBarStyle = i.BAR_RIGHT_STYLE, e._topBarStyle = i.BAR_TOP_STYLE, e._bottomBarStyle = i.BAR_BOTTOM_STYLE, e._minimum = 0, e._maximum = 100, e._barWidth = "80%", e._showLabel = !0, e._origin = f.BarOrigin.LEFT, e._absoluteValue = !1, e._percentShapeWidth = 80, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "barStyle", { get: function() {
        return this._barStyle;
      }, set: function(e) {
        e != this._barStyle && (this._barStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightBarStyle", { get: function() {
        return this._rightBarStyle;
      }, set: function(e) {
        e != this._rightBarStyle && (this._rightBarStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topBarStyle", { get: function() {
        return this._topBarStyle;
      }, set: function(e) {
        e != this._topBarStyle && (this._topBarStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bottomBarStyle", { get: function() {
        return this._bottomBarStyle;
      }, set: function(e) {
        e != this._bottomBarStyle && (this._bottomBarStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minimum", { get: function() {
        return this._minimum;
      }, set: function(e) {
        e != this._minimum && (this._minimum = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maximum", { get: function() {
        return this._maximum;
      }, set: function(e) {
        e != this._maximum && (this._maximum = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showLabel", { get: function() {
        return this._showLabel;
      }, set: function(e) {
        e != this._showLabel && (this._showLabel = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "barWidth", { get: function() {
        return this._barWidth;
      }, set: function(e) {
        e != this._barWidth && (this._barWidth = e, typeof e == "string" && e.charAt(e.length - 1) == "%" ? this._percentShapeWidth = parseFloat(e.substring(0, e.length - 1)) : this._percentShapeWidth = NaN, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "origin", { get: function() {
        return this._origin;
      }, set: function(e) {
        e != this._origin && (this._origin = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "absoluteValue", { get: function() {
        return this._absoluteValue;
      }, set: function(e) {
        e != this._absoluteValue && (this._absoluteValue = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t, o, r = te(e);
        e[this._textProp] = "", (t = this._div = r.createElement("div")).style.position = "relative", e.appendChild(t);
        var n = (o = this._span = r.createElement("span")).style;
        n.display = "inline-block", n.position = "absolute", n.top = "50%", n.right = "50%", n.msTransform = o.style.transform = "translate(50%, -50%)", e.appendChild(o);
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._div, l = s.style, h = this._absoluteValue ? Math.abs(t.value) : t.value, u = Math.max(0, Math.min(1, (h - this._minimum) / (this._maximum - this._minimum)));
        switch (isNaN(u) && (u = 0), this._origin) {
          case f.BarOrigin.RIGHT:
            this.$_renderBar(f.BarOrigin.RIGHT, l, u), s.className = this.rightBarStyle || i.BAR_RIGHT_STYLE;
            break;
          case f.BarOrigin.TOP:
            this.$_renderBar(f.BarOrigin.TOP, l, u), s.className = this.topBarStyle || i.BAR_TOP_STYLE;
            break;
          case f.BarOrigin.BOTTOM:
            this.$_renderBar(f.BarOrigin.BOTTOM, l, u), s.className = this.bottomBarStyle || i.BAR_BOTTOM_STYLE;
            break;
          case f.BarOrigin.LEFT:
          default:
            this.$_renderBar(f.BarOrigin.LEFT, l, u), s.className = this.barStyle || i.BAR_STYLE;
        }
        this.$_setText(this._showLabel ? this._makeText(e, t, o) : "");
      }, i.prototype.$_renderBar = function(e, t, o) {
        if (t.removeProperty("transform"), t.removeProperty("ms-transform"), e === f.BarOrigin.LEFT || e === f.BarOrigin.RIGHT)
          if (t.left = e === f.BarOrigin.LEFT ? "0px" : 100 * (1 - o) + "%", t.width = 100 * o + "%", isNaN(this._percentShapeWidth)) {
            var r = this._barWidth;
            t.top = "50%", t.msTransform = t.transform = "translate(0%,-50%)", t.height = r + "px";
          } else
            t.top = (100 - this._percentShapeWidth) / 2 + "%", t.height = this._percentShapeWidth + "%";
        else if (t.top = e === f.BarOrigin.TOP ? "0px" : 100 * (1 - o) + "%", t.height = 100 * o + "%", isNaN(this._percentShapeWidth)) {
          var n = this._barWidth;
          t.left = "50%", t.msTransform = t.transform = "translate(-50%,0%)", t.width = n + "px";
        } else
          t.left = (100 - this._percentShapeWidth) / 2 + "%", t.width = this._percentShapeWidth + "%";
      }, i.prototype.$_setText = function(e) {
        this._span[this._textProp] = e || "";
      }, i.TYPE = "bar", i.STYLE = "rg-bar-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i.BAR_STYLE = "rg-bar-renderer-bar", i.BAR_RIGHT_STYLE = "rg-bar-renderer-bar-right", i.BAR_TOP_STYLE = "rg-bar-renderer-bar-top", i.BAR_BOTTOM_STYLE = "rg-bar-renderer-bar-bottom", i;
    }(Ct), To = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._spaceKey = !1, e._enterKey = !1, e._itemClickable = !0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "imageMap", { get: function() {
        return this._imageMap;
      }, set: function(e) {
        e !== this._imageMap && (this._imageMap = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "imageCallback", { get: function() {
        return this._imageCallback;
      }, set: function(e) {
        e !== this._imageCallback && (this._imageCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "imageField", { get: function() {
        return this._imageField;
      }, set: function(e) {
        e != this._imageField && (this._imageField = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "titleField", { get: function() {
        return this._titleField;
      }, set: function(e) {
        e != this._titleField && (this._titleField = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "titleCallback", { get: function() {
        return this._titleCallback;
      }, set: function(e) {
        e !== this._titleCallback && (this._titleCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "imageHeight", { get: function() {
        return this._imageHeight;
      }, set: function(e) {
        e != this._imageHeight && (this._imageHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "spaceKey", { get: function() {
        return this._spaceKey;
      }, set: function(e) {
        this._spaceKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enterKey", { get: function() {
        return this._enterKey;
      }, set: function(e) {
        this._enterKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = this._img = te(e).createElement("img");
        t.style.verticalAlign = "middle", e.appendChild(t);
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._img, l = this.$_getImageUrl(e, t);
        if (l) {
          s.src = l;
          var h = this.$_getTitle(e, t);
          s.alt = h || "", isNaN(this._imageHeight) ? s.style.height = "" : s.style.height = this._imageHeight + "px";
        } else
          s.removeAttribute("src"), s.alt = "";
      }, i.prototype.canClick = function(e) {
        return e.target === this._img;
      }, i.prototype._doClick = function(e, t, o) {
        if (t.target === this._img || t.type === "keydown")
          return { type: this.type, value: e.value };
      }, i.prototype._doItemClick = function() {
        this._img.click();
      }, i.prototype.canClickSpaceKey = function(e) {
        return (this.spaceKey && e.keyCode == 32 || this.enterKey && e.keyCode === 13) && !e.ctrlKey && !e.shiftKey && !e.altKey;
      }, i.prototype._doInitOptions = function() {
        this._imageMap = this._imageCallback = this._imageField = this._titleField = this._titleCallback = this._imageHeight = void 0;
      }, i.prototype.$_getImageUrl = function(e, t) {
        var o = "", r = this._imageCallback;
        return r && (o = r.call(this, e.handler, t)), !o && this._imageMap && (o = this._imageMap[t.value]), !o && this._imageField && (o = this._getValue(e, t, this._imageField)), o || "";
      }, i.prototype.$_getTitle = function(e, t) {
        var o = "", r = this._titleCallback;
        return r && (o = r.call(this, e.handler, t)), !o && this._titleField && (o = this._getValue(e, t, this._titleField)), o || "";
      }, i.TYPE = "image", i.STYLE = "rg-image-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i;
    }(Ct), Fn = function(a) {
      function i(e, t) {
        e === void 0 && (e = 0), t === void 0 && (t = 0);
        var o = a.call(this) || this;
        return o._itemGap = 4, o._verticalEdgePad = 2, o._textVisible = !0, o._reversed = !1, o._splitted = !1, o._imgFixed = !1, o._imgMiddle = !1, o._imgCenter = !1, o._imgHeight = 16, o._imgWidth = 16, o._imgLeft = 0, o._imgRight = 0, o._imgTop = 0, o._imgBottom = 0, o._spanVis = void 0, o._spanPadRight = 0, o._spanPadLeft = 0, o._spanCenter = !1, o._spanText = "", o._imgWidth = e, o._imgHeight = t, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "itemGap", { get: function() {
        return this._itemGap;
      }, set: function(e) {
        e != this._itemGap && (this._itemGap = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "verticalEdgePad", { get: function() {
        return this._verticalEdgePad;
      }, set: function(e) {
        e != this._verticalEdgePad && (this._verticalEdgePad = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textVisible", { get: function() {
        return this._textVisible;
      }, set: function(e) {
        e != this._textVisible && (this._textVisible = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype._doClearContent = function(e) {
        a.prototype._doClearContent.call(this, e), this._reset();
      }, i.prototype._reset = function() {
        this._oldLocation = void 0, this._imgHeight = this._imgWidth = this._imgLeft = this._imgRight = this._imgTop = this._imgBottom = this._spanPadRight = this._spanPadLeft = NaN, this._imgFixed = this._imgMiddle = this._imgCenter = this._spanVis = this._spanCenter = this._spanText = void 0, this._dom && (this._dom[b.TextProp] = "");
      }, i.prototype.$_setImgFixed = function(e, t, o) {
        (t != this._imgFixed || o) && (this._imgFixed = t, e.style.position = t ? "absolute" : "");
      }, i.prototype.$_setImgMiddle = function(e, t, o) {
        (t != this._imgMiddle || o) && (this._imgMiddle = t, e.style.verticalAlign = t ? "middle" : "");
      }, i.prototype.$_setImgCenter = function(e, t, o) {
        (t != this._imgCenter || o) && (this._imgCenter = t, e.style.textAlign = t ? "center" : "");
      }, i.prototype.$_setImgWidth = function(e, t, o) {
        ((t = isNaN(t) ? 0 : t) != this._imgWidth || o) && (this._imgWidth = t, e.style.width = t > 0 ? t + "px" : "");
      }, i.prototype.$_setImgHeight = function(e, t, o) {
        ((t = isNaN(t) ? 0 : t) != this._imgHeight || o) && (this._imgHeight = t, e.style.height = t > 0 ? t + "px" : "");
      }, i.prototype.$_setImgBounds = function(e, t, o, r, n, s) {
        (t != this._imgTop || s) && (this._imgTop = t, e.style.top = t > 0 ? t + "px" : ""), (o != this._imgLeft || s) && (this._imgLeft = o, e.style.left = o > 0 ? o + "px" : ""), (r != this._imgBottom || s) && (this._imgBottom = r, e.style.bottom = r > 0 ? r + "px" : ""), (n != this._imgRight || s) && (this._imgRight = n, e.style.right = n > 0 ? n + "px" : "");
      }, i.prototype.$_clearImgBounds = function(e, t) {
        (this._imgTop > 0 || t) && (this._imgTop = 0, e.style.top = ""), (this._imgLeft > 0 || t) && (this._imgLeft = 0, e.style.left = ""), (this._imgBottom > 0 || t) && (this._imgBottom = 0, e.style.bottom = ""), (this._imgRight > 0 || t) && (this._imgRight = 0, e.style.right = "");
      }, i.prototype.$_setSpanVis = function(e) {
        e != this._spanVis && (this._spanVis = e, this._span.style.display = e ? "" : "none", this.grid.accessibility && (e ? this._span.removeAttribute("aria-hidden") : this._span.setAttribute("aria-hidden", "true")));
      }, i.prototype.$_setSpanPadLeft = function(e) {
        e != this._spanPadLeft && (this._spanPadLeft = e, this._span.style.paddingLeft = e > 0 ? e + "px" : "");
      }, i.prototype.$_setSpanPadRight = function(e) {
        e != this._spanPadRight && (this._spanPadRight = e, this._span.style.paddingRight = e > 0 ? e + "px" : "");
      }, i.prototype.$_setSpanCenter = function(e, t) {
        if (t === void 0 && (t = 0), e != this._spanCenter) {
          var o = this._span.style;
          this._spanCenter = e, e ? (o.left = "50%", o.top = 50 + t + "%", o.transform = "translate(-50%, -50%)", o.position = "absolute") : (o.left = "", o.top = "", o.transform = "", o.position = "");
        }
      }, i.prototype.$_setSpanText = function(e) {
        if (e != this._spanText) {
          this._spanText = e;
          var t = this._textVisible ? this._spanText : void 0;
          this._span[this._textProp] = t;
        }
      }, i.prototype.$_layoutLeft = function(e, t, o, r) {
        this._reversed && (e.insertBefore(t, o), this._reversed = !1), this._splitted && (e.removeChild(this._br), this._splitted = !1), this.$_setImgFixed(t, !1, r), this.$_setImgMiddle(t, !0, r), this.$_setImgCenter(t, !1, r), this.$_clearImgBounds(t, r), this.$_setSpanVis(!0), this.$_setSpanCenter(!1), this.$_setSpanPadLeft(this._itemGap), this.$_setSpanPadRight(0);
      }, i.prototype.$_layoutRight = function(e, t, o, r) {
        this._reversed || (e.insertBefore(o, t), this._reversed = !0), this._splitted && (e.removeChild(this._br), this._splitted = !1), this.$_setImgFixed(t, !1, r), this.$_setImgMiddle(t, !0, r), this.$_setImgCenter(t, !1, r), this.$_clearImgBounds(t, r), this.$_setSpanVis(!0), this.$_setSpanCenter(!1), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(4);
      }, i.prototype.$_layoutTop = function(e, t, o, r) {
        this._reversed && (e.insertBefore(t, o), this._reversed = !1), this._splitted || (e.insertBefore(this._br, o), this._splitted = !0), this.$_setImgFixed(t, !1, r), this.$_setImgMiddle(t, !1, r), this.$_setImgCenter(t, !1, r), this.$_clearImgBounds(t, r), this.$_setSpanVis(!0), this.$_setSpanCenter(!1), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
      }, i.prototype.$_layoutBottom = function(e, t, o, r) {
        this._reversed || (e.insertBefore(o, t), this._reversed = !0), this._splitted || (e.insertBefore(this._br, t), this._splitted = !0), this.$_setImgFixed(t, !1, r), this.$_setImgMiddle(t, !1, r), this.$_setImgCenter(t, !1, r), this.$_clearImgBounds(t, r), this.$_setSpanVis(!0), this.$_setSpanCenter(!1), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
      }, i.prototype.$_layoutLeftEdge = function(e, t, o, r, n) {
        this._reversed && (e.insertBefore(t, o), this._reversed = !1), this._splitted && (e.removeChild(this._br), this._splitted = !1), this.$_setImgFixed(t, !0, n), this.$_setImgMiddle(t, !0, n), this.$_setImgCenter(t, !1, n), this.$_setImgBounds(t, 0, 2, 0, 0, n), this.$_setSpanVis(!0), this.$_setSpanCenter(!1), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0), o.style.marginLeft = isNaN(r) ? "" : r + "px";
      }, i.prototype.$_layoutRightEdge = function(e, t, o, r, n) {
        this._reversed || (e.insertBefore(o, t), this._reversed = !0), this._splitted && (e.removeChild(this._br), this._splitted = !1), this.$_setImgFixed(t, !0, n), this.$_setImgMiddle(t, !0, n), this.$_setImgCenter(t, !1, n), this.$_setImgBounds(t, 0, 0, 0, 2, n), this.$_setSpanVis(!0), this.$_setSpanCenter(!1), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(r);
      }, i.prototype.$_layoutTopEdge = function(e, t, o, r, n, s, l, h) {
        this._reversed && (e.insertBefore(t, o), this._reversed = !1), this._splitted || (e.insertBefore(this._br, o), this._splitted = !0), this.$_setImgFixed(t, !0, h), this.$_setImgMiddle(t, !1, h), this.$_setImgCenter(t, !1, h), this.$_setImgBounds(t, 2, (r - s) / 2, 0, 0, h), this.$_setSpanVis(!0), this.$_setSpanCenter(!0, l * ((n - l) / n)), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
      }, i.prototype.$_layoutBottomEdge = function(e, t, o, r, n, s, l, h) {
        this._reversed || (e.insertBefore(o, t), this._reversed = !0), this._splitted || (e.insertBefore(this._br, t), this._splitted = !0), this.$_setImgFixed(t, !0, h), this.$_setImgMiddle(t, !1, h), this.$_setImgCenter(t, !0, h), this.$_setImgBounds(t, 0, (r - s) / 2, 2, 0, h), this.$_setSpanVis(!0), this.$_setSpanCenter(!0, (n - l) / n * -l), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
      }, i.prototype.$_layoutCenter = function(e, t, o, r) {
        this._reversed && (e.insertBefore(t, o), this._reversed = !1), this._splitted && (e.removeChild(this._br), this._splitted = !1), this.$_setImgFixed(t, !1, r), this.$_setImgMiddle(t, !0, r), this.$_setImgCenter(t, !0, r), this.$_clearImgBounds(t, r), this.$_setSpanVis(!1), this.$_setSpanCenter(!0), this.$_setSpanPadLeft(0), this.$_setSpanPadRight(0);
      }, i;
    }(Ct), eo = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._iconWidth = NaN, e._iconHeight = NaN, e._iconLocation = f.IconLocation.LEFT, e._spaceKey = !1, e._enterKey = !1, e._imgSrc = "", e._itemClickable = !0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "iconMap", { get: function() {
        return this._iconMap;
      }, set: function(e) {
        e !== this._iconMap && (this._iconMap = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconCallback", { get: function() {
        return this._iconCallback;
      }, set: function(e) {
        e !== this._iconCallback && (this._iconCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "titleCallback", { get: function() {
        return this._titleCallback;
      }, set: function(e) {
        this._titleCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconUrl", { get: function() {
        return this._iconUrl;
      }, set: function(e) {
        this._iconUrl = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconField", { get: function() {
        return this._iconField;
      }, set: function(e) {
        e != this._iconField && (this._iconField = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconLocation", { get: function() {
        return this._iconLocation;
      }, set: function(e) {
        e != this._iconLocation && (this._oldLocation = this._iconLocation, this._iconLocation = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconWidth", { get: function() {
        return this._iconWidth;
      }, set: function(e) {
        e != this._iconWidth && (this._iconWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconHeight", { get: function() {
        return this._iconHeight;
      }, set: function(e) {
        e != this._iconHeight && (this._iconHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "spaceKey", { get: function() {
        return this._spaceKey;
      }, set: function(e) {
        this._spaceKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enterKey", { get: function() {
        return this._enterKey;
      }, set: function(e) {
        this._enterKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME + " rg-icon-" + this.$_getStyleName().toLowerCase();
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = te(e), o = this._img = t.createElement("img");
        o.alt = "", e.appendChild(o);
        var r = this._span = t.createElement("span");
        e.appendChild(r), this._br = t.createElement("br");
      }, i.prototype._reset = function() {
        a.prototype._reset.call(this), this._imgSrc = this._splitted = this._reversed = void 0;
      }, i.prototype._doInitOptions = function() {
        this._iconMap = this._iconCallback = this._titleCallback = this._iconUrl = this._iconField = void 0, this._iconWidth = this._iconHeight = NaN, this._iconLocation = f.IconLocation.LEFT;
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._img, l = this._span;
        if (this.$_setImgWidth(s, this._iconWidth, !1), this.$_setImgHeight(s, this._iconHeight, !1), this.$_setImgSrc(this.$_getIconUrl(e, t), this.$_getTitle(e, t)), this.$_setSpanText(this._makeText(e, t, o)), this._oldLocation != this._iconLocation) {
          switch (this._iconLocation) {
            case f.IconLocation.LEFT:
              this.$_layoutLeft(this._dom, s, l, !1);
              break;
            case f.IconLocation.RIGHT:
              this.$_layoutRight(this._dom, s, l, !1);
              break;
            case f.IconLocation.TOP:
              this.$_layoutTop(this._dom, s, l, !1);
              break;
            case f.IconLocation.BOTTOM:
              this.$_layoutBottom(this._dom, s, l, !1);
              break;
            case f.IconLocation.LEFT_EDGE:
              this.$_layoutLeftEdge(this._dom, s, l, this._iconWidth, !1);
              break;
            case f.IconLocation.RIGHT_EDGE:
              this.$_layoutRightEdge(this._dom, s, l, this._iconWidth, !1);
              break;
            case f.IconLocation.TOP_EDGE:
              this.$_layoutTopEdge(this._dom, s, l, r, n, this._iconWidth, this._iconHeight, !1);
              break;
            case f.IconLocation.BOTTOM_EDGE:
              this.$_layoutBottomEdge(this._dom, s, l, r, n, this._iconWidth, this._iconHeight, !1);
              break;
            case f.IconLocation.CENTER:
              this.$_layoutCenter(this._dom, s, l, !1);
              break;
            default:
              this.$_layoutLeft(this._dom, s, l, !1);
          }
          this._oldLocation = this._iconLocation;
        }
        this._iconLocation == f.IconLocation.TOP_EDGE || this._iconLocation == f.IconLocation.BOTTOM_EDGE ? this._setHeight(n) : this._clearHeight();
      }, i.prototype.canClick = function(e) {
        return e.target === this._img;
      }, i.prototype.canClickSpaceKey = function(e) {
        return (this.spaceKey && e.keyCode == 32 || this.enterKey && e.keyCode === 13) && !e.ctrlKey && !e.shiftKey && !e.altKey;
      }, i.prototype._doClick = function(e, t, o) {
        var r = {};
        if (t.target === this._img || t.type === "keydown")
          return r.type = this.type, r.value = e.value, r;
      }, i.prototype._doItemClick = function() {
        this._img.click();
      }, i.prototype.$_getIconUrl = function(e, t) {
        var o = void 0, r = this._iconCallback;
        return r && (o = r.call(this, e.handler, t)), o === void 0 && this._iconMap && (o = this._iconMap[t.value]), o === void 0 && this._iconField && (o = this._getValue(e, t, this._iconField)), o === void 0 && (o = this._iconUrl), o || "";
      }, i.prototype.$_getTitle = function(e, t) {
        var o, r = this._titleCallback;
        return r && (o = r.call(this, e.handler, t)), o || "";
      }, i.prototype.$_setImgSrc = function(e, t) {
        e == this._imgSrc && t === this._img.alt || (this._imgSrc = e, e ? (this._img.src = e, this._img.alt = t) : (this._img.removeAttribute("src"), this._img.alt = ""));
      }, i.prototype.$_getStyleName = function() {
        return String(this._iconLocation) || String(f.IconLocation.LEFT);
      }, i.prototype.preventDefaultClick = function(e) {
        e.target === this._img && (e.preventDefault(), e.stopImmediatePropagation());
      }, i.TYPE = "icon", i.STYLE = "rg-icon-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i;
    }(Fn), $c = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._doInitContent = function(e) {
        a.prototype._doInitContent.call(this, e), e.style.setProperty("display", "flex", "important");
      }, i.prototype._doClearContent = function(e) {
        a.prototype._doClearContent.call(this, e), ke.clearFlex(e);
      }, i.prototype.$_layoutLeft = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.LEFT);
      }, i.prototype.$_layoutRight = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.RIGHT);
      }, i.prototype.$_layoutTop = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.TOP);
      }, i.prototype.$_layoutBottom = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.BOTTOM);
      }, i.prototype.$_layoutLeftEdge = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.LEFT_EDGE);
      }, i.prototype.$_layoutRightEdge = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.RIGHT_EDGE);
      }, i.prototype.$_layoutTopEdge = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.TOP_EDGE);
      }, i.prototype.$_layoutBottomEdge = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.BOTTOM_EDGE);
      }, i.prototype.$_layoutCenter = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.CENTER);
      }, i;
    }(eo), Bn = function(a) {
      function i() {
        var e = a.call(this, 16, 16) || this;
        return e._strictValue = !1, e._threeStates = !1, e._checkLocation = f.IconLocation.CENTER, e._useImages = !1, e._checkedStyle = i.CHECKED_STYLE, e._uncheckedStyle = i.UNCHECKED_STYLE, e._intermediateStyle = i.INTERMEDIATE_STYLE, e._editable = !0, e._spaceKey = !0, e._showInnerFocus = !1, e._oldUsed = !1, e._useChanged = !1, e._values = {}, e.refreshFocusChanged = !0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "getCheckedCallback", { get: function() {
        return this._getCheckedCallback;
      }, set: function(e) {
        e !== this._getCheckedCallback && (this._getCheckedCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "setCheckedCallback", { get: function() {
        return this._setCheckedCallback;
      }, set: function(e) {
        e !== this._setCheckedCallback && (this._setCheckedCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "trueValues", { get: function() {
        return this._trueValues;
      }, set: function(e) {
        e !== this._trueValues && (this._trueValues = e, this.$_resetValues(), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "falseValues", { get: function() {
        return this._falseValues;
      }, set: function(e) {
        e !== this._falseValues && (this._falseValues = e, this.$_resetValues(), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "strictValue", { get: function() {
        return this._strictValue;
      }, set: function(e) {
        e != this._strictValue && (this._strictValue = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "threeStates", { get: function() {
        return this._threeStates;
      }, set: function(e) {
        e != this._threeStates && (this._threeStates = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "spaceKey", { get: function() {
        return this._spaceKey;
      }, set: function(e) {
        this._spaceKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkLocation", { get: function() {
        return this._checkLocation;
      }, set: function(e) {
        e != this._checkLocation && (this._checkLocation = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "useImages", { get: function() {
        return this._useImages;
      }, set: function(e) {
        e != this._useImages && (this._useImages = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editable", { get: function() {
        return this._editable;
      }, set: function(e) {
        this._editable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showInnerFocus", { get: function() {
        return this._showInnerFocus;
      }, set: function(e) {
        this._showInnerFocus = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "clickOnlyFocusedCell", { get: function() {
        return !this.grid.editOptions.commitByCell || this._clickOnlyFocusedCell;
      }, set: function(e) {
        this._clickOnlyFocusedCell = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "readOnlySetDisabled", { get: function() {
        return this._readOnlySetDisabled;
      }, set: function(e) {
        e != this._readOnlySetDisabled && (this._readOnlySetDisabled = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype.canEdit = function() {
        var e = this.grid.editOptions;
        if (e.columnEditableFirst) {
          if (!(this.editable != null ? this.editable : e.editable))
            return !1;
        } else if (!e.editable || !this.editable)
          return !1;
        return this._editable;
      }, i.prototype.canShowInnerFocus = function() {
        return this._showInnerFocus && this._editable;
      }, i.prototype._doInitContent = function(e) {
        var t = te(e), o = this._check = t.createElement("input");
        o.type = "checkbox", o.tabIndex = -1, o.style.display = "inline-block";
        var r = this._span = t.createElement("span");
        e.appendChild(o), e.appendChild(r);
        var n = this._image = t.createElement("span");
        n.className = this._checkedStyle, n.style.display = "inline-block", this._br = t.createElement("br");
      }, i.prototype._reset = function() {
        a.prototype._reset.call(this), this._splitted = this._reversed = void 0, this._oldUsed = !1;
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._check, l = this._image, h = this._span, u = this._dom, c = s;
        this._imgWidth = e.container.measureCheckWidth(), this._imgHeight = e.container.measureCheckHeight();
        var d = this.$_getChecked(e, t.value, t.index, this._getCheckedCallback), p = s.id = "".concat(i.FOR_ID, "-").concat(t.dataColumn.$_hash, "-").concat(t.item.index);
        if (h.setAttribute("for", p), s.checked = d, s.indeterminate = this._threeStates && d === void 0, s.disabled = this._readOnlySetDisabled && !this.canEdit(), this._useChanged = this._useImages !== this._oldUsed, this._useChanged && (this._oldUsed ? (u.removeChild(l), this._check.style.display = "inline-block") : (u.insertBefore(l, this._check), this._check.style.display = "none")), this._oldUsed = this._useImages, this._useImages && (l.className = d ? this._checkedStyle : d === void 0 && this.threeStates ? this._intermediateStyle : this._uncheckedStyle, this._readOnlySetDisabled && !this.canEdit() && (l.className += " disabled"), c = l), o.merged && this.canEdit() && !b.included(this.checkLocation, f.IconLocation.TOP_EDGE, f.IconLocation.BOTTOM_EDGE) && o.focused || u.style.removeProperty("top"), this.$_setSpanText(this._makeText(e, t, o)), this._oldLocation != this._checkLocation) {
          switch (this._checkLocation) {
            case f.IconLocation.LEFT:
              this.$_layoutLeft(u, c, h);
              break;
            case f.IconLocation.RIGHT:
              this.$_layoutRight(u, c, h);
              break;
            case f.IconLocation.TOP:
              this.$_layoutTop(u, c, h);
              break;
            case f.IconLocation.BOTTOM:
              this.$_layoutBottom(u, c, h);
              break;
            case f.IconLocation.LEFT_EDGE:
              this.$_layoutLeftEdge(u, c, h);
              break;
            case f.IconLocation.RIGHT_EDGE:
              this.$_layoutRightEdge(u, c, h);
              break;
            case f.IconLocation.TOP_EDGE:
              this.$_layoutTopEdge(u, c, h, r, n);
              break;
            case f.IconLocation.BOTTOM_EDGE:
              this.$_layoutBottomEdge(u, c, h, r, n);
              break;
            case f.IconLocation.CENTER:
              this.$_layoutCenter(u, c, h);
              break;
            default:
              this.$_layoutLeft(u, c, h);
          }
          this._oldLocation = this._checkLocation;
        }
        this._checkLocation == f.IconLocation.TOP_EDGE || this._checkLocation == f.IconLocation.BOTTOM_EDGE ? this._setHeight(n) : this._clearHeight();
      }, i.prototype.canEditClickAt = function(e) {
        return this.preventDefaultEditClick(e), e.target === this._check || e.target === this._image;
      }, i.prototype.preventDefaultEditClick = function(e) {
        e.target === this._check && e.preventDefault();
      }, i.prototype._doEditClick = function(e, t, o) {
        if (t.target === this._check || t.target === this._image)
          return this.$_edit(e, o), !0;
      }, i.prototype.canEditKey = function(e) {
        return this.spaceKey && e.keyCode == 32 && !e.ctrlKey && !e.shiftKey && !e.altKey;
      }, i.prototype._doEditKey = function(e, t, o) {
        return this.$_edit(e, o), !0;
      }, i.prototype._doItemClick = function() {
        this._check.click();
      }, i.prototype.moveClickElement = function(e, t) {
        var o = this._dom;
        t || !this.canEdit() || b.included(f.IconLocation.TOP_EDGE, f.IconLocation.BOTTOM_EDGE) || (o.style.top = e + "px");
      }, i.prototype.$_resetValues = function() {
        var e;
        if (this._values = {}, this._falseValues)
          if (e = this._falseValues.split(",")) {
            var t = void 0;
            this._falseValue = (t = e.length) > 0 ? e[0] : void 0;
            for (var o = 0; o < t; o++)
              this._values[e[o]] = !1;
          } else
            this._falseValue = void 0;
        if (this._trueValues)
          if (e = this._trueValues.split(","))
            for (t = void 0, this._trueValue = (t = e.length) > 0 ? e[0] : void 0, o = 0; o < t; o++)
              this._values[e[o]] = !0;
          else
            this._trueValue = void 0;
      }, i.prototype.$_getChecked = function(e, t, o, r) {
        if (r)
          return r(e.handler, o.itemIndex, o.dataColumn, t);
        var n = o.dataColumn;
        if (n && n.valueType === f.ValueType.OBJECT) {
          var s = n.getField(), l = n.objectKey || s.objectKey;
          t = t?.[l];
        }
        if (typeof t == "boolean")
          return t;
        var h = String(t);
        return this._values.hasOwnProperty(h) ? this._values[h] : this._threeStates && (this._strictValue || t == "" || t == null) ? void 0 : !!t;
      }, i.prototype.$_edit = function(e, t) {
        var o, r = e.grid, n = e.dataColumn, s = e.value, l = this.$_getChecked(r, e.value, e, this._getCheckedCallback);
        o = !l && (l === void 0 || !this._threeStates || void 0);
        var h = this._setCheckedCallback;
        if (h ? o = h(r.handler, e.itemIndex, e.dataColumn, s, o) : this._trueValue !== void 0 && o ? o = this._trueValue : this._falseValue !== void 0 && o === !1 && (o = this._falseValue), n && n.valueType === f.ValueType.OBJECT) {
          var u = n.getField(), c = s || {};
          c[n.objectKey || u.objectKey] = o, t.value = c;
        } else
          t.value = o;
      }, i.prototype.$_layoutLeft = function(e, t, o) {
        var r = this._useImages, n = r ? this._image : t;
        a.prototype.$_layoutLeft.call(this, e, n, o, r);
      }, i.prototype.$_layoutRight = function(e, t, o) {
        var r = this._useImages, n = r ? this._image : t;
        a.prototype.$_layoutRight.call(this, e, n, o, r);
      }, i.prototype.$_layoutTop = function(e, t, o) {
        var r = this._useImages, n = r ? this._image : t;
        a.prototype.$_layoutTop.call(this, e, n, o, r);
      }, i.prototype.$_layoutBottom = function(e, t, o) {
        var r = this._useImages, n = r ? this._image : t;
        a.prototype.$_layoutBottom.call(this, e, n, o, r);
      }, i.prototype.$_layoutLeftEdge = function(e, t, o) {
        var r = this._useImages, n = r ? this._image : t;
        a.prototype.$_layoutLeftEdge.call(this, e, n, o, this._imgWidth, r);
      }, i.prototype.$_layoutRightEdge = function(e, t, o) {
        var r = this._useImages, n = r ? this._image : t;
        a.prototype.$_layoutRightEdge.call(this, e, n, o, this._imgWidth, r);
      }, i.prototype.$_layoutTopEdge = function(e, t, o, r, n) {
        var s = this._useImages, l = s ? this._image : t;
        a.prototype.$_layoutTopEdge.call(this, e, l, o, r, n, this._imgWidth, this._imgHeight, s);
      }, i.prototype.$_layoutBottomEdge = function(e, t, o, r, n) {
        var s = this._useImages, l = s ? this._image : t;
        a.prototype.$_layoutBottomEdge.call(this, e, l, o, r, n, this._imgWidth, this._imgHeight, s);
      }, i.prototype.$_layoutCenter = function(e, t, o) {
        var r = this._useImages, n = r ? this._image : t;
        a.prototype.$_layoutCenter.call(this, e, n, o, r);
      }, i.prototype.$_setImageMiddle = function(e, t, o) {
        (t != this._imgMiddle || o) && (this._imgMiddle = t);
      }, i.prototype.$_getStyleName = function() {
        return String(this._checkLocation) || String(f.IconLocation.LEFT);
      }, i.TYPE = "check", i.STYLE = "rg-check-renderer", i.FOR_ID = "$$-check-cell-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i.CHECKED_STYLE = "rg-check-renderer-checked", i.UNCHECKED_STYLE = "rg-check-renderer-unchecked", i.INTERMEDIATE_STYLE = "rg-check-renderer-intermediate", i;
    }(Fn), Ac = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._doInitContent = function(e) {
        a.prototype._doInitContent.call(this, e), e.style.setProperty("display", "flex", "important");
      }, i.prototype._doClearContent = function(e) {
        a.prototype._doClearContent.call(this, e), ke.clearFlex(e);
      }, i.prototype.$_layoutLeft = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.LEFT);
      }, i.prototype.$_layoutRight = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.RIGHT);
      }, i.prototype.$_layoutTop = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.TOP);
      }, i.prototype.$_layoutBottom = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.BOTTOM);
      }, i.prototype.$_layoutLeftEdge = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.LEFT_EDGE);
      }, i.prototype.$_layoutRightEdge = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.RIGHT_EDGE);
      }, i.prototype.$_layoutTopEdge = function(e, t, o, r, n) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.TOP_EDGE);
      }, i.prototype.$_layoutBottomEdge = function(e, t, o, r, n) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.BOTTOM_EDGE);
      }, i.prototype.$_layoutCenter = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.CENTER);
      }, i;
    }(Bn), $a = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._buttonStyle = i.BUTTON_STYLE, e._hideWhenEmpty = !0, e._spaceKey = !0, e._enterKey = !1, e._itemClickable = !0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "buttonStyle", { get: function() {
        return this._buttonStyle;
      }, set: function(e) {
        e != this._buttonStyle && (this._buttonStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hideWhenEmpty", { get: function() {
        return this._hideWhenEmpty;
      }, set: function(e) {
        e != this._hideWhenEmpty && (this._hideWhenEmpty = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "spaceKey", { get: function() {
        return this._spaceKey;
      }, set: function(e) {
        this._spaceKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enterKey", { get: function() {
        return this._enterKey;
      }, set: function(e) {
        this._enterKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = this._button = te(e).createElement("button");
        t.type = "button", t.tabIndex = -1, t.style.display = "inline-block", e.appendChild(t);
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._button;
        s[this._textProp] = this._makeText(e, t, o), s.setAttribute("class", this._buttonStyle), s.style.visibility = this._hideWhenEmpty && this._isEmpty(t.value) ? "hidden" : "";
      }, i.prototype.canClick = function(e) {
        return e.target === this._button;
      }, i.prototype.canClickSpaceKey = function(e) {
        return (this.spaceKey && e.keyCode == 32 || this.enterKey && e.keyCode === 13) && !e.ctrlKey && !e.shiftKey && !e.altKey;
      }, i.prototype._doClick = function(e, t, o) {
        if (t.target === this._button || t.type === "keydown")
          return { type: this.type, value: e.value };
      }, i.prototype._doItemClick = function() {
        this._button.click();
      }, i.TYPE = "button", i.STYLE = "rg-button-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i.BUTTON_STYLE = "rg-button-renderer-button", i;
    }(Ct), Do = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._spaceKey = !0, e._enterKey = !1, e._itemClickable = !0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "baseUrl", { get: function() {
        return this._baseUrl;
      }, set: function(e) {
        e != this._baseUrl && (this._baseUrl = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "linkField", { get: function() {
        return this._linkField;
      }, set: function(e) {
        e != this._linkField && (this._linkField = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "urlCallback", { get: function() {
        return this._urlCallback;
      }, set: function(e) {
        e !== this._urlCallback && (this._urlCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "titleField", { get: function() {
        return this._titleField;
      }, set: function(e) {
        e != this._titleField && (this._titleField = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "titleCallback", { get: function() {
        return this._titleCallback;
      }, set: function(e) {
        e !== this._titleCallback && (this._titleCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "spaceKey", { get: function() {
        return this._spaceKey;
      }, set: function(e) {
        this._spaceKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enterKey", { get: function() {
        return this._enterKey;
      }, set: function(e) {
        this._enterKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "classCallback", { get: function() {
        return this._classCallback;
      }, set: function(e) {
        this._classCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "target", { get: function() {
        return this._target;
      }, set: function(e) {
        this._target = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = this._anchor = te(e).createElement("a");
        t.tabIndex = -1, e.appendChild(t);
      }, i.prototype._doInitOptions = function() {
        this._baseUrl = this._linkField = this._urlCallback = this._titleField = this._titleCallback = this._url = this._classCallback = void 0;
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._anchor;
        s[this._textProp] = this._makeText(e, t, o), this._url = "", this._baseUrl === "#" ? (s.removeAttribute("target"), s.href = "#") : (this._url = this.$_getUrl(e, t), this._url && (s.target = this.target == null ? "_blank" : this.target, s.href = this._url));
        var l = this.$_getTitle(e, t);
        l ? s.title = l : delete s.title;
        var h = this.$_getStyle(e, t);
        h ? s.className = h : s.removeAttribute("class");
      }, i.prototype.preventDefaultClick = function(e) {
        e.target === this._anchor && (e.preventDefault(), e.stopImmediatePropagation());
      }, i.prototype.canClick = function(e) {
        return e.target === this._anchor;
      }, i.prototype._doClick = function(e, t, o) {
        if (t.target === this._anchor || t.type === "keydown")
          return { type: this.type, url: this._url, value: e.value };
      }, i.prototype.canClickSpaceKey = function(e) {
        return (this.spaceKey && e.keyCode == 32 || this.enterKey && e.keyCode === 13) && !e.ctrlKey && !e.shiftKey && !e.altKey;
      }, i.prototype._doItemClick = function() {
        this._anchor.click();
      }, i.prototype.$_getUrl = function(e, t) {
        var o = "", r = this._urlCallback;
        return r && (o = r.call(this, e.handler, t)), o || (o = this._linkField ? this._getValue(e, t, this._linkField) : t.value, this._baseUrl && (o = this._baseUrl + o)), o || "";
      }, i.prototype.$_getTitle = function(e, t) {
        var o = "", r = this._titleCallback;
        return r && (o = r.call(this, e.handler, t)), !o && this._titleField && (o = this._getValue(e, t, this._titleField)), o || "";
      }, i.prototype.$_getStyle = function(e, t) {
        var o = "", r = this._classCallback;
        return r && (o = r.call(this, e.handler, t)), o || "";
      }, i.TYPE = "link", i.STYLE = "rg-link-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i;
    }(Ct), Nn = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._shapeStyle = i.SHAPE_STYLE, e._shape = Ba.STAR, e._shapeWidth = 16, e._shapeHeight = 16, e._shapeLocation = f.IconLocation.LEFT, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "shapeStyle", { get: function() {
        return this._shapeStyle;
      }, set: function(e) {
        e != this._shapeStyle && (this._shapeStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "shape", { get: function() {
        return this._shape;
      }, set: function(e) {
        e != this._shape && (this._shape = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "shapeMap", { get: function() {
        return this._shapeMap;
      }, set: function(e) {
        e !== this._shapeMap && (this._shapeMap = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "shapeCallback", { get: function() {
        return this._shapeCallback;
      }, set: function(e) {
        e != this._shapeCallback && (this._shapeCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "shapeWidth", { get: function() {
        return this._shapeWidth;
      }, set: function(e) {
        this._shapeWidth !== e && (this._shapeWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "shapeHeight", { get: function() {
        return this._shapeHeight;
      }, set: function(e) {
        this._shapeHeight !== e && (this._shapeHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "shapeLocation", { get: function() {
        return this._shapeLocation;
      }, set: function(e) {
        e != this._shapeLocation && (this._oldLocation = this._shapeLocation, this._shapeLocation = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = te(e), o = (this._svg = Ut.createSVG(e)).style, r = isNaN(this._shapeWidth) || this._shapeWidth <= 0 ? 16 : this._shapeWidth, n = isNaN(this._shapeHeight) || this._shapeHeight <= 0 ? 16 : this._shapeHeight;
        o.display = "inline-block", o.width = r + "px", o.height = n + "px";
        var s = this._span = t.createElement("span");
        e.appendChild(s), this._br = t.createElement("br");
      }, i.prototype._reset = function() {
        a.prototype._reset.call(this), this._splitted = this._reversed = void 0;
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._svg, l = this._span;
        if (this._runShape = this.$_getShape(e, t), s.setAttribute("class", this._shapeStyle), Ut.renderSVG(e, s, this.$_render.bind(this)), this.$_setSpanText(this._makeText(e, t, o)), this._oldLocation != this._shapeLocation) {
          switch (this._shapeLocation) {
            case f.IconLocation.LEFT:
              this.$_layoutLeft(this._dom, s, l, !1);
              break;
            case f.IconLocation.RIGHT:
              this.$_layoutRight(this._dom, s, l, !1);
              break;
            case f.IconLocation.TOP:
              this.$_layoutTop(this._dom, s, l, !1);
              break;
            case f.IconLocation.BOTTOM:
              this.$_layoutBottom(this._dom, s, l, !1);
              break;
            case f.IconLocation.LEFT_EDGE:
              this.$_layoutLeftEdge(this._dom, s, l, this._shapeWidth, !1);
              break;
            case f.IconLocation.RIGHT_EDGE:
              this.$_layoutRightEdge(this._dom, s, l, this._shapeWidth, !1);
              break;
            case f.IconLocation.TOP_EDGE:
              this.$_layoutTopEdge(this._dom, s, l, r, n, this._shapeWidth, this._shapeHeight, !1);
              break;
            case f.IconLocation.BOTTOM_EDGE:
              this.$_layoutBottomEdge(this._dom, s, l, r, n, this._shapeWidth, this._shapeHeight, !1);
              break;
            case f.IconLocation.CENTER:
              this.$_layoutCenter(this._dom, s, l, !1);
              break;
            default:
              this.$_layoutLeft(this._dom, s, l, !1);
          }
          this._oldLocation = this._shapeLocation;
        }
        this._shapeLocation == f.IconLocation.TOP_EDGE || this._shapeLocation == f.IconLocation.BOTTOM_EDGE ? this._setHeight(n) : this._clearHeight();
      }, i.prototype.$_getShape = function(e, t) {
        var o = void 0, r = this._shapeCallback;
        return r && (o = r.call(this, e.handler, t)), o == null && this._shapeMap && (o = this._shapeMap[t.value]), o == null && (o = this._shape), o;
      }, i.prototype.$_getDrawing = function(e) {
        var t;
        return e && ((e = e.toLowerCase()) == "ellipse" ? t = this._ellipse ? this._ellipse : this._ellipse = new Vc() : (t = this._polygon ? this._polygon : this._polygon = new Ba(e), this._polygon.shape = e)), t;
      }, i.prototype.$_render = function(e, t, o, r) {
        if (this._runShape) {
          var n = this.$_getDrawing(this._runShape);
          n && n.draw(t, o, r);
        }
      }, i.TYPE = "shape", i.STYLE = "rg-shape-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i.SHAPE_STYLE = "rg-shape-renderer-shape", i;
    }(Fn), jc = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._doInitContent = function(e) {
        e.style.setProperty("display", "flex", "important"), a.prototype._doInitContent.call(this, e);
      }, i.prototype._doClearContent = function(e) {
        a.prototype._doClearContent.call(this, e), ke.clearFlex(e);
      }, i.prototype.$_layoutLeft = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.LEFT);
      }, i.prototype.$_layoutRight = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.RIGHT);
      }, i.prototype.$_layoutTop = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.TOP);
      }, i.prototype.$_layoutBottom = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.BOTTOM);
      }, i.prototype.$_layoutLeftEdge = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.LEFT_EDGE);
      }, i.prototype.$_layoutRightEdge = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.RIGHT_EDGE);
      }, i.prototype.$_layoutTopEdge = function(e, t, o, r, n) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.TOP_EDGE);
      }, i.prototype.$_layoutBottomEdge = function(e, t, o, r, n) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.BOTTOM_EDGE);
      }, i.prototype.$_layoutCenter = function(e, t, o) {
        ke.layoutFlex(e, t, o, this._itemGap, this._verticalEdgePad, f.IconLocation.CENTER);
      }, i;
    }(Nn), Aa = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._barStyle = i.BAR_STYLE, e._inactiveStyle = i.INACTIVE_STYLE, e._barCount = 10, e._minimum = NaN, e._maximum = NaN, e._startRate = 50, e._endRate = 100, e._absoluteValue = !1, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "barStyle", { get: function() {
        return this._barStyle;
      }, set: function(e) {
        e != this._barStyle && (this._barStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "inactiveStyle", { get: function() {
        return this._inactiveStyle;
      }, set: function(e) {
        e != this._inactiveStyle && (this._inactiveStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "barCount", { get: function() {
        return this._barCount;
      }, set: function(e) {
        (e = Math.max(2, e)) != this._barCount && (this._barCount = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minimum", { get: function() {
        return this._minimum;
      }, set: function(e) {
        e != this._minimum && (this._minimum = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maximum", { get: function() {
        return this._maximum;
      }, set: function(e) {
        e != this._maximum && (this._maximum = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startRate", { get: function() {
        return this._startRate;
      }, set: function(e) {
        !isNaN(e) && e >= 0 && e <= 100 && e !== this._startRate && (this._startRate = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "endRate", { get: function() {
        return this._endRate;
      }, set: function(e) {
        !isNaN(e) && e >= 0 && e <= 100 && e !== this._endRate && (this._endRate = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "absoluteValue", { get: function() {
        return this._absoluteValue;
      }, set: function(e) {
        e != this._absoluteValue && (this._absoluteValue = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = this._div = te(e).createElement("div");
        t.style.position = "relative", t.style.height = "100%", e.appendChild(t);
        var o = (this._svg = Ut.createSVG(t)).style;
        o.position = "absolute", o.left = "0px", o.width = "100%", o.top = (100 - Math.max(this._startRate, this._endRate)) / 2 + "%", o.height = Math.max(this._startRate, this._endRate) + "%";
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._svg;
        this._value = parseFloat(t.value), s.setAttribute("class", this._barStyle), Ut.renderSVG2(e, s, this.$_render.bind(this));
      }, i.prototype.$_render = function(e, t) {
        var o = this.absoluteValue ? Math.abs(this._value) : this._value;
        isNaN(this._minimum) || isNaN(this._maximum) || (o = this._barCount * (o - this._minimum) / (this._maximum - this._minimum));
        for (var r = 100 / Math.max(this._startRate, this._endRate), n = (100 - 2 * (this._barCount + 1)) / this._barCount, s = 0, l = this._startRate * r, h = (this._endRate - this._startRate) / (this._barCount - 1), u = 0; u < this._barCount; u++) {
          var c = u < o ? null : this._inactiveStyle;
          t.sbounds(c, s + "%", 100 - l + "%", n + "%", l + "%"), s += n + 2, l += h;
        }
      }, i.TYPE = "signalbar", i.STYLE = "rg-signalbar-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i.BAR_STYLE = "rg-signalbar-renderer-bar", i.INACTIVE_STYLE = "rg-signalbar-renderer-inactive", i;
    }(Ct), ja = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._barStyle = i.BAR_STYLE, e._barcode = new Bc(), e.$_render = function(t, o, r, n) {
          this._value && (this._barcode.value = this._value, this._barcode.renders(o, new ue(0, 0, r, 100)));
        }.bind(e), e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "barStyle", { get: function() {
        return this._barStyle;
      }, set: function(e) {
        e != this._barStyle && (this._barStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = this._div = te(e).createElement("div");
        t.style.position = "relative", t.style.height = "100%", e.appendChild(t);
        var o = (this._svg = Ut.createSVG(t)).style;
        o.position = "absolute", o.left = "0px", o.top = "0px", o.width = "100%", o.height = "100%";
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._svg;
        this._value = t.value == null ? "" : String(t.value), this._value && (this._value = this._value.toUpperCase()), s.setAttribute("class", this._barStyle), Ut.renderSVG(e, s, this.$_render);
      }, i.TYPE = "code39", i.STYLE = "rg-code39-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i.BAR_STYLE = "rg-code39-renderer-bar", i;
    }(Ct), Ha = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._barStyle = i.BAR_STYLE, e._barcode = new Fc(), e.$_render = function(t, o, r, n) {
          this._value && (this._barcode.value = this._value, this._barcode.renders(o, new ue(0, 0, r, 100)));
        }.bind(e), e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "barStyle", { get: function() {
        return this._barStyle;
      }, set: function(e) {
        e != this._barStyle && (this._barStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = this._div = te(e).createElement("div");
        t.style.position = "relative", t.style.height = "100%", e.appendChild(t);
        var o = (this._svg = Ut.createSVG(t)).style;
        o.position = "absolute", o.left = "0px", o.top = "0px", o.width = "100%", o.height = "100%";
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._svg;
        this._value = t.value == null ? "" : String(t.value), s.setAttribute("class", this._barStyle), Ut.renderSVG(e, s, this.$_render);
      }, i.TYPE = "code128", i.STYLE = "rg-code128-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i.BAR_STYLE = "rg-code128-renderer-bar", i;
    }(Ct), Hc = /\$\{[^{}]*\}/g, Vn = function() {
      function a() {
        this._template = "", this._tokens = [];
      }
      return Object.defineProperty(a.prototype, "template", { get: function() {
        return this._template;
      }, set: function(i) {
        this._template = i, this.$_parse(i);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "pattern", { set: function(i) {
        this._pattern = i;
      }, enumerable: !1, configurable: !0 }), a.prototype.realize = function(i, e, t, o) {
        for (var r = "", n = 0, s = this._tokens; n < s.length; n++) {
          var l = s[n];
          typeof l == "string" ? r += l || "" : l.type == 1 ? r += e.value || "" : l.type == 2 ? r += e.item.getData(i.dataSource.getFieldIndex(l.field)) || "" : l.type === 4 ? r += (e instanceof Wt ? e.getDisplayText(i, t) : e.value) || "" : o ? r += o.call(this, i.handler, e, l.field) || "" : r += l.field;
        }
        return r;
      }, a.prototype.realizeHeader = function(i, e, t) {
        for (var o, r = "", n = 0, s = this._tokens; n < s.length; n++) {
          var l = s[n];
          typeof l == "string" ? r += l : l.type == 1 ? r += i.displayText : (o = i.getValue(l.field)) != null ? r += String(o) : e ? r += e.call(this, t.handler, i, l.field) + "" || "" : r += l.field;
        }
        return r;
      }, a.prototype.realizeSummary = function(i, e, t, o) {
        for (var r, n = this._tokens, s = "", l = i.column, h = l.grid, u = 0, c = n; u < c.length; u++) {
          var d = c[u];
          typeof d == "string" ? s += d : d.type == 1 ? s += e.getDisplayText(t) || "" : (r = i.getValue(d.field)) != null ? s += String(r) : s += o ? (r = o.call(this, h.handler, l, i.summaryIndex, i, d.field)) || "" : d.field;
        }
        return s;
      }, a.prototype.realizeGroupSummary = function(i, e, t, o) {
        for (var r, n = this._tokens, s = "", l = i.column, h = l.grid, u = 0, c = n; u < c.length; u++) {
          var d = c[u];
          typeof d == "string" ? s += d : d.type == 1 ? s += e.getDisplayText(t) || "" : (r = i.getValue(d.field)) != null ? s += String(r) : s += o ? (r = o.call(this, h.handler, l, i.summaryIndex, e.index.item.parent, d.field)) || "" : d.field;
        }
        return s;
      }, a.prototype.$_parse = function(i) {
        var e = this._tokens = [];
        if (i) {
          for (var t, o = i.length, r = this._pattern || Hc, n = 0; t = r.exec(i); ) {
            var s = t[0], l = t.index;
            l > n && (e.push(i.substring(n, l)), n = l);
            var h = s.substring(2, s.length - 1), u = { type: h === "value" ? 1 : h === "text" ? 4 : h.indexOf("value:") == 0 ? 2 : 3, field: h };
            u.type == 2 && (u.field = u.field.substring(6)), e.push(u), n += s.length;
          }
          n < o && e.push(i.substring(n, o));
        }
      }, a;
    }(), Mo = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._output = void 0, e._inputFocusable = !1, e._html = "", e._parser = new Vn(), e.template = "<span>${value}</span>", e._itemClickable = !0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "template", { get: function() {
        return this._parser.template;
      }, set: function(e) {
        e != this._parser.template && (this._parser.template = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pattern", { set: function(e) {
        e != this._pattern && (e instanceof RegExp ? this._pattern = e : this._pattern = e ? new RegExp(e) : void 0, this._parser.pattern = this._pattern, this._parser.template = this.template);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "output", { get: function() {
        return this._output;
      }, set: function(e) {
        this._output = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "callback", { get: function() {
        return this._callback;
      }, set: function(e) {
        e !== this._callback && (this._callback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueCallback", { get: function() {
        return this._valueCallback;
      }, set: function(e) {
        e !== this._valueCallback && (this._valueCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "inputFocusable", { get: function() {
        return this._inputFocusable;
      }, set: function(e) {
        this._inputFocusable !== e && (this._inputFocusable = e);
      }, enumerable: !1, configurable: !0 }), i.prototype.clearAndAssignFrom = function(e) {
        this.valueCallback = void 0, this.callback = void 0, this.pattern = void 0, this.template = "", a.prototype.assignFrom.call(this, e);
      }, Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), i.prototype._doClearContent = function(e) {
        a.prototype._doClearContent.call(this, e), this._html = null;
      }, i.prototype.canClick = function(e) {
        var t = be(this._dom), o = e.target;
        return !(o instanceof t.HTMLTableCellElement && o.className.indexOf("rg-") >= 0 || this._dom === o);
      }, i.prototype.click = function(e, t, o) {
        return this._doClick(e, t, o || t.target);
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._callback;
        s ? this.$_setHtml(s.call(this, e.handler, t, r, n)) : this.$_setHtml(this._parser.realize(e, t, o, this._valueCallback));
      }, i.prototype._doClick = function(e, t, o) {
        return { type: this.type, target: t.target, value: e.value };
      }, i.prototype.$_setHtml = function(e) {
        e != this._html && (this._html = e, this._dom.innerHTML = e);
      }, i.TYPE = "html", i;
    }(Ct), Gc = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e.$_userComparer = function(t, o, r) {
          if (this._labelComparer)
            return this._labelComparer(t, o._rowId, r.rowId);
        }, e;
      }
      return w(i, a), i.prototype.run = function(e, t, o, r, n, s, l) {
        this._rs = e.provider;
        var h = this._ds = this._rs.dataSource;
        this._parent = e, this._field = t;
        var u = this._ds.getField(t);
        if (this._labelComparer = this._ds._comparers[t] || this._rs._labelComparer[t], this._labelComparer)
          this._comparer = this.$_userComparer;
        else
          switch (u.dataType) {
            case f.ValueType.NUMBER:
            case f.ValueType.DATETIME:
              this._comparer = h.compareNumbers;
              break;
            case f.ValueType.BOOLEAN:
              this._comparer = h.compareBools;
              break;
            case f.ValueType.OBJECT:
              this._comparer = h.compareObjects.bind(h);
              break;
            default:
              this._comparer = r ? h.compareTexts.bind(h) : h.compareValues.bind(h);
          }
        this.$_sort(n, s, o, l);
      }, i.prototype.$_sort = function(e, t, o, r) {
        do {
          var n = this._parent, s = this._field, l = e, h = t, u = Math.floor((e + t) / 2), c = n.getItem(u).dataRow, d = n.getItem(u).row;
          do {
            if (o == f.SortDirection.ASCENDING) {
              for (; l <= h && ((p = this._comparer(this._field, d, n.getItem(l).row)) == 0 && r && (p = c - n.getItem(l).dataRow), !(p <= 0)); )
                l++;
              for (; l <= h && ((p = this._comparer(s, d, n.getItem(h).row)) == 0 && r && (p = c - n.getItem(h).dataRow), !(p >= 0)); )
                h--;
            } else {
              for (; l <= h && ((p = this._comparer(s, d, n.getItem(l).row)) == 0 && r && (p = c - n.getItem(l).dataRow), !(p >= 0)); )
                l++;
              for (; l <= h; ) {
                var p;
                if ((p = this._comparer(s, d, n.getItem(h).row)) == 0 && r && (p = c - n.getItem(h).dataRow), p <= 0)
                  break;
                h--;
              }
            }
            l <= h && (l != h && n._exchangeItems(l, h), l++, h--);
          } while (l <= h);
          e < h && this.$_sort(e, h, o, r), e = l;
        } while (e < t);
      }, i;
    }(J), Qe = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype.getShadowRow = function() {
        var e = this.parent.firstDataItem;
        return e ? e.dataRow : -1;
      }, i;
    }(Ke), _t = function(a) {
      function i(e, t) {
        var o = a.call(this, t) || this;
        return o._level = 0, o._level = e, o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "groupLevel", { get: function() {
        return this._level;
      }, enumerable: !1, configurable: !0 }), i.prototype.getShadowRow = function() {
        var e = this.firstDataItem;
        return e ? e.dataRow : -1;
      }, Object.defineProperty(i.prototype, "merged", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i;
    }(He), Ga = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._fixedCount = 0, t._items = [], t._list = [], t._rowCount = NaN, t._rs = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "provider", { get: function() {
        return this._rs;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedCount", { get: function() {
        return this._fixedCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "items", { get: function() {
        return this._items.slice();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowCount", { get: function() {
        if (isNaN(this._rowCount)) {
          for (var e = this._items, t = 0, o = e.length - 1; o >= 0; o--)
            e[o] instanceof Fe && t++;
          this._rowCount = t;
        }
        return this._rowCount;
      }, enumerable: !1, configurable: !0 }), i.prototype.getItem = function(e) {
        return this._items[e];
      }, i.prototype.clear = function(e) {
        e === void 0 && (e = null);
        for (var t = this._rs, o = 0, r = (e = e || this._items).length; o < r; o++) {
          var n = e[o];
          n._parent = t._rootItem, n._index = -1, n instanceof He && n._children && this.clear(n._children);
        }
        e.length = 0, this.$_changed();
      }, i.prototype.expand = function(e, t, o, r) {
        return this.$_expandItem(e, t, o, r), this.$_changed(), !0;
      }, i.prototype.collapse = function(e, t) {
        var o, r, n = this._rs, s = this._items;
        if (e._expanded = !1, n.mergeMode) {
          if ((h = e.index) >= 0 ? (s.splice(h, 1), e._index = -1) : (h = this.$_firstIndex(e, n.expandedAdornments == f.RowGroupAdornments.SUMMARY, !0)) < 0 && (h = e.firstItem.index), h >= 0)
            for (; h < s.length && (u = s[h]).isDescendantOf(e); )
              s.splice(h, 1), u._index = -1, t && (u instanceof Se || u instanceof Qe) && (c = u instanceof Se ? u : u instanceof Qe && u.parent._expanded ? u.parent : null) && (c._expanded = !1);
          switch (o = e.footerCount, n.collapsedAdornments) {
            case f.RowGroupAdornments.BOTH:
              e._index = h, s.splice(h++, 0, e);
              for (var l = 0; l < o; l++)
                s.splice(h + l, 0, r = e.getFooter(l)), r._index = h + l;
              break;
            case f.RowGroupAdornments.FOOTER:
            case f.RowGroupAdornments.SUMMARY:
              if (o = e.footerCount)
                for (l = 0; l < o; l++)
                  s.splice(h + l, 0, r = e.getFooter(l)), r._index = h + l;
              else if (o = e.allFooterCount)
                for (l = 0; l < o; l++)
                  s.splice(h + l, 0, r = e._allFooters[l]), r._index = h + l;
              break;
            case f.RowGroupAdornments.HEADER:
            default:
              e._index = h, s.splice(h, 0, e);
          }
        } else {
          var h;
          for ((h = e.index) >= 0 ? (s.splice(h, 1), e._index = -1) : (h = this.$_firstIndex(e, n.expandedAdornments == f.RowGroupAdornments.SUMMARY, !1)) < 0 && (h = e.firstItem.index); h < s.length; ) {
            var u, c;
            if (!(u = s[h]).isDescendantOf(e))
              break;
            s.splice(h, 1), u._index = -1, t && (u instanceof Se || u instanceof Ke) && (c = u instanceof Se ? u : u instanceof Ke && u.parent._expanded ? u.parent : null) && (c._expanded = !1);
          }
          switch (n.collapsedAdornments) {
            case f.RowGroupAdornments.BOTH:
              for (e._index = h, s.splice(h++, 0, e), o = e.footerCount, l = 0; l < o; l++)
                (r = e.getFooter(l))._index = h + l, s.splice(h + l, 0, r);
              break;
            case f.RowGroupAdornments.FOOTER:
            case f.RowGroupAdornments.SUMMARY:
              if (o = e.footerCount)
                for (l = 0; l < o; l++)
                  (r = e.getFooter(l))._index = h + l, s.splice(h + l, 0, r);
              else
                for (l = 0; l < e.allFooterCount; l++)
                  (r = e._allFooters[l])._index = h + l, s.splice(h + l, 0, r);
              break;
            case f.RowGroupAdornments.HEADER:
            default:
              e._index = h, s.splice(h, 0, e);
          }
        }
        return this.$_changed(), !0;
      }, i.prototype.getNext = function(e) {
        return e != null && e.visible && e.index < this.count - 1 ? this._items[e.index + 1] : null;
      }, i.prototype.getPrior = function(e) {
        return e != null && e.visible && e.index > 0 ? this._items[e.index - 1] : null;
      }, i.prototype.$_changed = function() {
        this._rowCount = NaN;
      }, i.prototype.$_collectChildren = function(e, t, o, r, n) {
        var s, l = this._rs, h = l.expandedAdornments, u = l.collapsedAdornments;
        if (r && e && e._setExpanded(!0), l.mergeMode) {
          var c = void 0;
          if (!(e instanceof fi)) {
            if (h == f.RowGroupAdornments.HEADER || h == f.RowGroupAdornments.BOTH)
              t.push(e);
            else if (h == f.RowGroupAdornments.SUMMARY)
              for (var d = 0, p = e.footerCount; d < p; d++)
                c = e.getFooter(d), t.push(c);
          }
          for (var _ = 0, g = e.count; _ < g; _++)
            if ((v = e.getItem(_)) instanceof Se) {
              var y = v;
              if (o && (!n || y.level <= n) || y.expanded)
                this.$_collectChildren(y, t, o, r, n);
              else {
                var m = y.footerCount;
                switch (u) {
                  case f.RowGroupAdornments.BOTH:
                    for (t.push(y), d = 0; d < m; d++)
                      c = y.getFooter(d), t.push(c);
                    break;
                  case f.RowGroupAdornments.SUMMARY:
                  case f.RowGroupAdornments.FOOTER:
                    if (m)
                      for (d = 0; d < m; d++)
                        c = y.getFooter(d), t.push(c);
                    else
                      for (d = 0; d < y.allFooterCount; d++)
                        c = y._allFooters[d], t.push(c);
                    break;
                  case f.RowGroupAdornments.HEADER:
                  default:
                    t.push(y);
                }
              }
            } else
              e.isFooter(v) || t.push(v);
          if (!(e instanceof fi) && e.footer && (h == f.RowGroupAdornments.FOOTER || h == f.RowGroupAdornments.BOTH))
            for (_ = 0, g = e.footerCount; _ < g; _++)
              t.push(e.getFooter(_));
        } else {
          if (!(e instanceof fi))
            if (h == f.RowGroupAdornments.SUMMARY)
              if (c = e.footer, m = e.footerCount, c)
                for (d = e.indexOf(c), t.push(c), _ = 1; _ < m; _++)
                  c = e.getItem(d + _), t.push(c);
              else
                for (m = e.allFooterCount, _ = 0; _ < m; _++)
                  c = e._allFooters[_], t.push(c);
            else
              ((s = h) == f.RowGroupAdornments.BOTH || s == f.RowGroupAdornments.HEADER) && t.push(e);
          for (_ = 0, g = e.count; _ < g; _++) {
            var v;
            if ((v = e.getItem(_)) instanceof Se)
              if (y = v, c = void 0, m = void 0, o && (!n || y.level <= n) || y.expanded)
                this.$_collectChildren(y, t, o, r, n);
              else
                switch (u) {
                  case f.RowGroupAdornments.HEADER:
                    t.push(y);
                    break;
                  case f.RowGroupAdornments.FOOTER:
                  case f.RowGroupAdornments.SUMMARY:
                    if (c = y.footer) {
                      if (m = y.footerCount, t.push(c), m > 1) {
                        d = y.indexOf(c);
                        for (var C = 1; C < m; C++)
                          c = y.getItem(d + C), t.push(c);
                      }
                    } else
                      for (m = y.allFooterCount, C = 0; C < m; C++)
                        c = y._allFooters[C], t.push(c);
                    break;
                  case f.RowGroupAdornments.NONE:
                    break;
                  case f.RowGroupAdornments.BOTH:
                  default:
                    if (t.push(y), (c = y.footer) && (m = y.footerCount, t.push(c), m > 1))
                      for (d = y.indexOf(c), C = 1; C < m; C++)
                        c = y.getItem(d + C), t.push(c);
                }
            else
              v instanceof Ke || t.push(v);
          }
          if (!(e instanceof fi) && function(x) {
            return x == f.RowGroupAdornments.BOTH || x == f.RowGroupAdornments.FOOTER;
          }(h) && (c = e.footer) && (m = e.footerCount, t.push(c), m > 1))
            for (d = e.indexOf(c), _ = 1; _ < m; _++)
              c = e.getItem(d + _), t.push(c);
        }
      }, i.prototype.$_expandItem = function(e, t, o, r) {
        var n;
        if (e instanceof fi)
          n = this._fixedCount;
        else if (this._rs.mergeMode) {
          switch (this._rs.collapsedAdornments) {
            case f.RowGroupAdornments.BOTH:
              n = e.index, this._items.splice(n, 1 + e.footerCount);
              break;
            case f.RowGroupAdornments.FOOTER:
            case f.RowGroupAdornments.SUMMARY:
              var s = e.footer;
              s ? (n = s.index, this._items.splice(n, e.footerCount)) : e.allFooterCount > 0 && (n = e._allFooters[0].index, this._items.splice(n, e.allFooterCount));
              break;
            case f.RowGroupAdornments.HEADER:
            default:
              n = e.index, this._items.splice(n, 1);
          }
          o && (e._index = -1);
        } else {
          switch (this._rs.collapsedAdornments) {
            case f.RowGroupAdornments.BOTH:
              n = e.index, this._items.splice(n, 1 + e.footerCount);
              break;
            case f.RowGroupAdornments.FOOTER:
            case f.RowGroupAdornments.SUMMARY:
              e.footerCount > 0 ? (n = e.footer.index, this._items.splice(n, e.footerCount)) : e.allFooterCount > 0 && (n = e._allFooters[0].index, this._items.splice(n, e.allFooterCount));
              break;
            case f.RowGroupAdornments.HEADER:
            default:
              n = e.index, this._items.splice(n, 1);
          }
          o && (e._index = -1);
        }
        this._list.splice(0, this._list.length), this.$_collectChildren(e, this._list, t, o, r);
        for (var l = this._list.length, h = 0; h < l; h++)
          this._items.splice(n + h, 0, this._list[h]);
      }, i.prototype.$_firstIndex = function(e, t, o) {
        var r = e.index;
        if (r >= 0)
          return r;
        for (var n = this._items, s = 0, l = n.length; s < l; s++) {
          var h = n[s];
          if (e.isDescendant(h))
            return h.index;
        }
        return -1;
      }, i.prototype.$_clearAndInit = function(e, t) {
        if (this.clear(), e) {
          this._fixedCount = Math.min(t, e.itemCount);
          for (var o = 0; o < this._fixedCount; o++)
            this._items.push(e.getItem(o));
        } else
          this._fixedCount = 0;
      }, i.prototype.$_resetIndices = function(e) {
        e === void 0 && (e = 0);
        for (var t = e, o = this._items.length; t < o; t++)
          this._items[t]._index = t;
      }, i;
    }(J), $n = function(a, i) {
      this.startIndex = a, this.endIndex = i, this.level = 0, this.children = [];
    }, gi = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._expandedAdornments = f.RowGroupAdornments.BOTH, o._collapsedAdornments = f.RowGroupAdornments.HEADER, o._indentVisible = !0, o._expandWhenGrouping = !1, o._mergeMode = !1, o._summaryMode = f.SummaryMode.AGGREGATE, o._groupSorting = !0, o._grouped = !1, o._checkable = !0, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._callbackOnwer = null, this._visibleItems = this._visibleItems.dispose(), a.prototype._doDispose.call(this);
      }, i.prototype.groupfFooterCounterChanged = function(e) {
        this.$_footerCounterChanged();
      }, i.prototype.$_footerCounterChanged = function() {
        this._populateItems(), this._fireRefresh();
      }, Object.defineProperty(i.prototype, "footerCounter", { get: function() {
        return this._footerCounter;
      }, set: function(e) {
        e != this._footerCounter && (e && e.setCounterAware(null), this._footerCounter = e, e && e.setCounterAware(this), this.$_footerCounterChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandedAdornments", { get: function() {
        return this._expandedAdornments;
      }, set: function(e) {
        e != this._expandedAdornments && (this._expandedAdornments = e, this.grouped && (this._populateItems(), this._fireRefresh()));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "collapsedAdornments", { get: function() {
        return this._collapsedAdornments;
      }, set: function(e) {
        e != this._collapsedAdornments && (this._collapsedAdornments = e, this.grouped && (this._populateItems(), this._fireRefresh()));
      }, enumerable: !1, configurable: !0 }), i.prototype.resetAdornments = function(e, t, o) {
        (o || t.expandedAdornments != this._expandedAdornments || t.collapsedAdornments != this._collapsedAdornments || t.indentVisible != this._indentVisible) && (this._expandedAdornments = t.expandedAdornments, this._collapsedAdornments = t.collapsedAdornments, this._callbackOnwer = e, this._footerCallback = t.createFooterCallback, this._valueForGroupCallback = t.valueForGroupCallback, this._indentVisible = t.indentVisible, this.grouped && (this._populateItems(), this._fireRefresh()));
      }, Object.defineProperty(i.prototype, "expandWhenGrouping", { get: function() {
        return this._expandWhenGrouping;
      }, set: function(e) {
        this._expandWhenGrouping = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeMode", { get: function() {
        return this._mergeMode;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summaryMode", { get: function() {
        return this._summaryMode;
      }, set: function(e) {
        e != this._summaryMode && (this._summaryMode = e, this._populateItems(), this._fireRefresh());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "grouped", { get: function() {
        return this._grouped;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupCount", { get: function() {
        return this._groupFields ? this._groupFields.length : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupSorting", { get: function() {
        return this._groupSorting;
      }, set: function(e) {
        this._groupSorting != e && (this._groupSorting = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visibleRowCount", { get: function() {
        return this._visibleItems.rowCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "indentVisible", { get: function() {
        return this._indentVisible;
      }, enumerable: !1, configurable: !0 }), i.prototype.canGrouping = function(e) {
        return this.fireGrouping(e);
      }, i.prototype.groupBy = function(e) {
        this.groupByMode(e, this._mergeMode);
      }, i.prototype.groupByMode = function(e, t) {
        this._mergeMode = t ?? this._mergeMode, this._groupFields = e ? e.concat() : null, t || this._clearDisplayLevels(), this._populateItems();
        try {
          this._fireRefresh();
        } finally {
          this.fireGrouped(e);
        }
      }, i.prototype.isGroupedField = function(e) {
        if (this._groupFields) {
          for (var t = this._groupFields.length; t--; )
            if (this._groupFields[t] == e)
              return !0;
        }
        return !1;
      }, i.prototype.getGroupLevel = function(e) {
        if (this._groupFields && e >= 0) {
          for (var t = this._groupFields.length; t--; )
            if (this._groupFields[t] == e)
              return t + 1;
        }
        return 0;
      }, Object.defineProperty(i.prototype, "groupedFields", { get: function() {
        return this._groupFields ? this._groupFields.concat() : null;
      }, enumerable: !1, configurable: !0 }), i.prototype.expand = function(e, t, o, r) {
        if (e && (!e.expanded || o) && this.fireExpand(e) && (e.expanded && this._visibleItems.collapse(e, !1), this._visibleItems.expand(e, t, !0, r))) {
          this._resetItemIndicies(e.index);
          try {
            this._fireRefresh();
          } finally {
            this.fireExpanded(e);
          }
        }
      }, i.prototype.$_collapseChild = function(e, t, o) {
        for (var r = 0, n = e.count; r < n; r++) {
          var s = e.getItem(r);
          s instanceof He && (s._expanded = !1, this.$_collapseChild(s, t, o));
        }
      }, i.prototype.collapse = function(e, t, o, r) {
        if (e && e.expanded) {
          if (this.fireCollapse(e) && this._visibleItems.collapse(e, t)) {
            e.index >= 0 && this._resetItemIndicies(e.index);
            try {
              this._fireRefresh();
            } finally {
              this.fireCollapsed(e, r);
            }
          }
        } else
          e && t && o && this.$_collapseChild(e, t, o);
      }, i.prototype.collapseAll = function(e) {
        for (var t = 0; t < this._rootItem.count; t++) {
          var o = this._rootItem.getItem(t);
          o instanceof Se && this.collapse(o, e, !0, null);
        }
      }, i.prototype.expandAll = function(e, t) {
        for (var o = 0; o < this._rootItem.count; o++) {
          var r = this._rootItem.getItem(o);
          r instanceof Se && this.expand(r, e, !0, t);
        }
      }, i.prototype.findItem = function(e, t, o, r, n) {
        var s = this.dataSource;
        if (!s)
          return -1;
        var l = this.itemCount;
        if (l < 1)
          return -1;
        var h = Math.min(e.length, t.length);
        if (h < 1)
          return -1;
        var u = !o || o.allFields, c = o && o.caseSensitive, d = o && o.partialMatch, p = null, _ = [], g = o.reverse;
        r = Math.max(0, r), n = Math.min(l - 1, n);
        for (var y = 0; y < h; y++)
          _[y] = s.getField(e[y]).dataType;
        var m = o.compareCallback;
        m = typeof m == "function" ? m : b.compareTextValue;
        for (var v = r; g ? v >= n : v <= n; g ? v-- : v++) {
          var C = this.$_getItem(v), x = C.dataRow, S = x >= 0;
          if (S)
            for (y = 0; y < h; y++) {
              var I = C.getData(e[y]), E = s.getOrgFieldName(e[y]);
              switch (_[y]) {
                case f.ValueType.DATETIME:
                case f.ValueType.DATE:
                  if (t[y] instanceof Date)
                    S = m.call(s.handler, t[y], I, c, d, x, E);
                  else {
                    if (!p) {
                      var O = /[.]/.test(t[y]) ? "yyyy.MM.dd" : /[/]/.test(t[y]) ? "yyyy/MM/dd" : /[-]/.test(t[y]) ? "yyyy-MM-dd" : "yyyyMMdd";
                      p = new Ne(O);
                    }
                    S = m.call(s.handler, t[y], I && p.getText(I), c, d, x, E);
                  }
                  break;
                default:
                  S = m.call(s.handler, t[y], I, c, d, x, E);
              }
              if (S && !u)
                return v;
              if (!S && u)
                break;
            }
          if (S)
            return v;
        }
        return -1;
      }, i.prototype.findCell = function(e, t, o, r, n, s) {
        var l = this.dataSource;
        if (!l)
          return null;
        var h = this.itemCount;
        if (h < 1)
          return null;
        var u = o.caseSensitive, c = o.partialMatch, d = this.dataSource.fieldCount, p = e.length, _ = o.reverse, g = null, y = [], m = o.compareCallback;
        m = typeof m == "function" ? m : b.compareTextValue;
        for (var v = 0; v < d; v++)
          y[v] = l.getField(v).dataType;
        r = Math.max(0, r), n = Math.min(h - 1, n), s = Math.max(_ ? -1 : 0, Math.min(s, p - 1)), _ ? s < 0 && (s = e.length - 1, r--) : s >= e.length && (r++, s = 0);
        for (var C = r; _ ? C >= n : C <= n; _ ? C-- : C++) {
          var x = this.$_getItem(C), S = x.dataRow;
          if (S >= 0)
            for (v = _ ? C < r ? p - 1 : s : C > r ? 0 : s; _ ? v >= 0 : v < p; _ ? v-- : v++) {
              var I = e[v];
              if (I >= 0 && I < d) {
                var E = x.getData(I), O = l.getOrgFieldName(I), P = !1;
                switch (y[I]) {
                  case f.ValueType.DATETIME:
                  case f.ValueType.DATE:
                    if (t instanceof Date)
                      P = m.call(l.handler, t, E, u, c, S, O);
                    else {
                      if (!g) {
                        var R = /[.]/.test(t) ? "yyyy.MM.dd" : /[/]/.test(t) ? "yyyy/MM/dd" : /[-]/.test(t) ? "yyyy-MM-dd" : "yyyyMMdd";
                        g = new Ne(R);
                      }
                      P = m.call(l.handler, t, E && g.getText(E), u, c, S, O);
                    }
                    break;
                  default:
                    P = m.call(l.handler, t, E, u, c, S, O);
                }
                if (P)
                  return { itemIndex: C, fieldIndex: I, searchFieldIndex: v };
              }
            }
        }
        return null;
      }, i.prototype.getGroupItem = function(e) {
        return function t(o) {
          for (var r = 0, n = o.children.length; r < n; r++) {
            var s = o.children[r];
            if (s.id === e)
              return s;
            if (s instanceof He) {
              var l = t(s);
              if (l)
                return l;
            }
          }
        }(this._rootItem);
      }, Object.defineProperty(i.prototype, "itemCount", { get: function() {
        return this._grouped ? this._visibleItems.count : this.source.itemCount;
      }, enumerable: !1, configurable: !0 }), i.prototype.getItem = function(e, t) {
        return this.grouped && !t ? e >= 0 && e < this._visibleItems.count ? this._visibleItems.getItem(e) : null : this.source.getItem(e, t);
      }, i.prototype.getItems = function(e, t) {
        if (this.grouped) {
          for (var o = this._visibleItems, r = [], n = Math.min(o.count, e + t - 1), s = e; s < n; s++) {
            var l = o.getItem(s);
            r.push(l);
          }
          return r;
        }
        return this.source.getItems(e, t);
      }, i.prototype.getAllItems = function() {
        if (this.grouped) {
          var e = new Ga(this);
          return e.expand(this.rootItem, !0, !1, 0), e.items;
        }
        return this.source ? this.source.getAllItems() : null;
      }, i.prototype.getIndexOfRow = function(e) {
        if (this.grouped) {
          for (var t = this._visibleItems, o = 0, r = t.count; o < r; o++)
            if (t.getItem(o).dataRow == e)
              return o;
          return -1;
        }
        return this.source.getIndexOfRow(e, !1);
      }, i.prototype.getItemOfRow = function(e, t) {
        if (this.grouped) {
          for (var o = this._visibleItems, r = 0, n = o.count; r < n; r++) {
            var s = o.getItem(r);
            if (s.dataRow == e)
              return s;
          }
          return null;
        }
        return this.source.getItemOfRow(e, t);
      }, i.prototype._initialize = function() {
        a.prototype._initialize.call(this), this._visibleItems = new Ga(this);
      }, i.prototype._clearItems = function() {
        this._visibleItems.clear(), this.rootItem.clear();
      }, i.prototype._populateItems = function() {
        this.$_populateItems(!1);
      }, i.prototype._resetItemIndicies = function(e) {
        this.isIndexing && this.grouped ? this._visibleItems.$_resetIndices(e) : a.prototype._resetItemIndicies.call(this, e);
      }, i.prototype._clearChecked = function() {
        this.grouped ? this.$_checkChildren(this.rootItem, !1, !1, !1) : a.prototype._clearChecked.call(this), this._editItem && this._editItem._setChecked(!1);
      }, i.prototype.$_groupCheckable = function(e, t) {
        for (var o = 0, r = e.count; o < r; o++) {
          var n = e.getItem(o);
          (n instanceof Se || n instanceof Ke) && n.setCheckable(t), n instanceof Se && this.$_groupCheckable(n, t);
        }
      }, i.prototype.setGroupCheckable = function(e) {
        e != this._checkable && (this._checkable = e, this.$_groupCheckable(this.rootItem, e));
      }, i.prototype.checkAll = function(e, t, o, r, n) {
        if (this._editItem && (o ? this._editItem.checkable && this._editItem._setChecked(e) : this._editItem._setChecked(e)), t || !this.grouped)
          a.prototype.checkAll.call(this, e, t, o, r, n);
        else {
          var s = this._visibleItems.fixedCount;
          if (s > 0)
            if (o)
              for (var l = s; l--; ) {
                var h = this.getItem(l);
                h.checkable && h._setChecked(e);
              }
            else
              for (l = s; l--; )
                this.getItem(l)._setChecked(e);
          var u = this.source._checkFieldIndex > -1;
          u && this.dataSource.beginUpdate();
          try {
            this.$_checkChildren(this.rootItem, e, o, n);
          } finally {
            u && this.dataSource.endUpdate(!1);
          }
          this._fireItemCheckChanged(null, e), r ? this._fireItemAllChecked(e) : this._fireRefreshClient();
        }
      }, i.prototype.getItemChecked = function(e, t) {
        return this.source.getItemChecked(e, t);
      }, i.prototype.setItemChecked = function(e, t) {
        return this.source.setItemChecked(e, t);
      }, i.prototype.getFirstRow = function() {
        for (var e = 0, t = this._visibleItems.count; e < t; e++) {
          var o = this._visibleItems.getItem(e);
          if (o instanceof Fe)
            return o;
        }
      }, i.prototype.getLastRow = function() {
        for (var e = this._visibleItems.count - 1; e >= 0; e--) {
          var t = this._visibleItems.getItem(e);
          if (t instanceof Fe)
            return t;
        }
      }, i.prototype.getPrevRow = function(e) {
        if (e) {
          e.visible || (e = e.getVisibleAncestor());
          for (var t = e.index - 1; t >= 0; t--)
            if ((e = this._visibleItems.getItem(t)) instanceof Fe)
              return e;
        }
        return this.getFirstRow();
      }, i.prototype.getNextRow = function(e) {
        if (e) {
          e.visible || (e = e.getVisibleAncestor());
          for (var t = e.index + 1, o = this._visibleItems.count; t < o; t++)
            if ((e = this._visibleItems.getItem(t)) instanceof Fe)
              return e;
        }
        return this.getLastRow();
      }, i.prototype.$_saveExpand = function(e, t) {
        for (var o = 0, r = e.count; o < r; o++) {
          var n = e.getItem(o);
          if (n instanceof He || n instanceof _t) {
            var s = n.firstItem._dataRowId, l = this.dataSource.getDataRow(s), h = n._groupField;
            l >= 0 && h >= 0 && (t[s] = { expanded: n._expanded, children: [] }, this.$_saveExpand(n, t[s].children));
          }
        }
      }, i.prototype.$_restoreExpand = function(e, t) {
        for (var o = 0, r = e.count; o < r; o++) {
          var n = e.getItem(o);
          if (n instanceof He || n instanceof _t) {
            var s = n.firstItem._dataRowId, l = this.dataSource.getDataRow(s), h = n._groupField;
            l >= 0 && h >= 0 && t[s] && (n._setExpanded(t[s].expanded), this.$_restoreExpand(n, t[s].children));
          }
        }
      }, i.prototype.$_populateItems = function(e) {
        var t = {}, o = this.source.itemCount, r = this._rootItem;
        if (e && o > 0 && r && this.$_saveExpand(r, t), this._clearItems(), this.source) {
          if (this._groupFields) {
            for (var n = this.dataSource.fieldCount, s = this._groupFields.length - 1; s >= 0; s--)
              this._groupFields[s] >= n && this._groupFields.splice(s, 1);
            this._grouped = this._groupFields.length > 0;
          } else
            this._grouped = !1;
          this._grouped && o > 0 && (this.$_buildGroupItems(o), e && this.$_restoreExpand(r, t), this.$_resetVisibleItems());
        }
      }, i.prototype.$_checkChildren = function(e, t, o, r) {
        for (var n = 0, s = e.count; n < s; n++) {
          var l = e.getItem(n);
          l && (o ? (r || l.isDataRow) && l.checkable && l._setChecked(t) : l._setChecked(t)), l instanceof Se && this.$_checkChildren(l, t, o, r);
        }
      }, i.prototype.$_getItem = function(e) {
        return this._grouped ? this._visibleItems.getItem(e) : this.source.getItem(e);
      }, i.prototype.$_resetVisibleItems = function() {
        this._visibleItems.$_clearAndInit(this.source, this.fixedCount), this.source && this.source.itemCount > this._visibleItems.fixedCount && this._visibleItems.expand(this.rootItem, !1, !1, 0), this._resetItemIndicies(0);
      }, i.prototype.$_buildGroupItems = function(e) {
        if (e > this.fixedCount) {
          var t = new $n(this.fixedCount, e - 1);
          this.$_buildGroups(t, this.source, this._groupFields), this.$_buildItems(this.rootItem, t, this._groupFields), this.mergeMode && (this._clearDisplayLevels(), this.$_resetDisplayLevels(this.rootItem));
        }
      }, i.prototype.$_resetDisplayLevels = function(e) {
        for (var t = 0, o = e.count; t < o; t++) {
          var r = b.cast(e.getItem(t), Se);
          if (r) {
            var n = b.cast(r.firstItem, Fe);
            n && n._displayLevel < 0 && (n._displayLevel = r.level), this.$_resetDisplayLevels(r);
          }
        }
      }, i.prototype.$_buildGroups = function(e, t, o) {
        if (!(o.length <= e.level)) {
          var r = e.startIndex, n = e.endIndex;
          if (!(n < r)) {
            var s = e.level + 1, l = o[e.level], h = this.dataSource.getField(l), u = new $n(r, r);
            u.level = s, e.children.push(u);
            var c = !this.mergeMode && this._valueForGroupCallback, d = t.getItem(r), p = d.getData(l);
            p = c ? c.call(this._callbackOnwer, this._callbackOnwer, d.dataRow, h.orgFieldName, p) : p;
            for (var _ = r + 1; _ <= n; _++) {
              var g = (d = t.getItem(_)).getData(l);
              g = c ? c.call(this._callbackOnwer, this._callbackOnwer, d.dataRow, h.orgFieldName, g) : g, h.equalValues(g, p) || (u && (u.endIndex = _ - 1, u.groupValue = p), (u = new $n(_, _)).level = s, e.children.push(u)), p = g;
            }
            u && (u.endIndex = n, u.groupValue = p), _ = 0;
            for (var y = e.children.length; _ < y; _++)
              this.$_buildGroups(e.children[_], t, o);
          }
        }
      }, i.prototype.$_buildItems = function(e, t, o) {
        var r, n = this.mergeMode, s = t.children.length;
        if (s > 0) {
          r = t.level;
          for (var l = o[t.level], h = 0; h < s; h++) {
            var u = n ? new _t(r, l) : new He(l);
            u._setExpanded(this.expandWhenGrouping), e.add(u), u._setCheckable(this._checkable), u.groupValue = t.children[h].groupValue, this.$_buildItems(u, t.children[h], o);
          }
        } else {
          var c = t.endIndex - t.startIndex + 1, d = this.source.getItems(t.startIndex, c);
          e.addAll(d), this._incDescendents(e, c);
        }
        if ((r = e.level) > 0) {
          var p = this._callbackOnwer, _ = this._footerCallback;
          if (this._footerCounter)
            for (var g = 0, y = (h = 0, this._footerCounter.getGroupFooterCount(e)); h < y; h++) {
              var m = !(!_ || _(p, e, h));
              (v = n ? new Qe() : new Ke()).$_footerIndex = h, v.$_vindex = m ? -1 : g++, v.hiddenFooter = m, e.add(v), v.setCheckable(this._checkable);
            }
          else if (_ || _(p, e, 0)) {
            var v = n ? new Qe() : new Ke();
            e.add(v);
          }
        }
      }, i.prototype.$_setEditItem = function(e) {
        this._editItem = e;
      }, i.prototype.$_setDummyEditItem = function(e) {
        this._dummyEditItem = e;
      }, i.prototype.fireGrouping = function(e) {
        return this.fireConfirmEvent(i.GROUPING, e);
      }, i.prototype.fireGrouped = function(e) {
        this.fireEvent(i.GROUPED);
      }, i.prototype.fireExpand = function(e) {
        return this.fireConfirmEvent(i.EXPAND, e);
      }, i.prototype.fireExpanded = function(e) {
        this.fireEvent(i.EXPANDED, e);
      }, i.prototype.fireCollapse = function(e) {
        return this.fireConfirmEvent(i.COLLAPSE, e);
      }, i.prototype.fireCollapsed = function(e, t) {
        this.fireEvent(i.COLLAPSED, e, t);
      }, i.prototype.onItemProviderRefresh = function(e) {
        this._grouped && (this.$_populateItems(!0), this._fireRefresh());
      }, i.GROUPING = "onGroupedItemProviderGrouping", i.GROUPED = "onGroupedItemProviderGrouped", i.EXPAND = "onGroupedItemProviderExpand", i.EXPANDED = "onGroupedItemProviderExpanded", i.COLLAPSE = "onGroupedItemProviderCollapse", i.COLLAPSED = "onGroupedItemProviderCollapsed", i;
    }(Sa), Wc = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._styleMap = {}, t._owner = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._styleMap = null, a.prototype._doDispose.call(this);
      }, i.prototype.addCellStyle = function(e, t, o) {
        return (this._styleMap[e] || (this._styleMap[e] = {}))[t] = o, !0;
      }, i.prototype.getCellStyle = function(e, t) {
        var o = this._styleMap[e];
        return o && o[t];
      }, i.prototype.removeCellStyle = function(e, t) {
        if (e == null)
          this._styleMap = {};
        else {
          var o = this._styleMap[e];
          o && (t ? delete o[t] : delete this._styleMap[e]);
        }
        return !0;
      }, i.prototype.connect = function(e) {
        this._styleMap = {};
      }, i.prototype.disconnect = function() {
        this._styleMap = {};
      }, i.prototype.clearRows = function() {
        this._styleMap = {};
      }, i.prototype.setRows = function() {
        this._styleMap = {};
      }, i.prototype.removeRow = function(e) {
        var t = this._owner.getItemOfRow(e, !0);
        t && delete this._styleMap[t.dataRowId];
      }, i.prototype.removeRows = function(e) {
        var t = this;
        e.forEach(function(o) {
          var r = t._owner.getItemOfRow(o, !0);
          r && delete t._styleMap[r.dataRowId];
        });
      }, i;
    }(la), An = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i;
    }(Pc), jn = function(a) {
      function i(e, t, o) {
        var r = a.call(this) || this;
        return r._runtime = new An(), r._owner = e, r._exprNode = Mt.Default.parse(t, ["value", "values"]), r._runtime = new An(), r._callback = o, r;
      }
      return w(i, a), i.clearCheckables = function(e) {
        for (var t = e.itemCount; t--; )
          e.getItem(t)._setCheckable(!0);
      }, i.prototype.connect = function(e) {
        this._runtime.setDataSource(e);
      }, i.prototype.disconnect = function() {
      }, i.prototype.clearRows = function() {
        i.clearCheckables(this._owner);
      }, i.prototype.setRows = function() {
        for (var e = this._owner._rows, t = e.length; t--; ) {
          var o = e[t];
          this.$_setCheckable(o);
        }
      }, i.prototype.insertRow = function(e) {
        var t = this._owner.getItemOfRow(e, !0);
        this.$_setCheckable(t);
      }, i.prototype.insertRows = function(e, t) {
        for (var o = 0; o < t; o++) {
          var r = this._owner.getItemOfRow(e + o, !0);
          r instanceof Le && this.$_setCheckable(r);
        }
      }, i.prototype.updateRow = function(e) {
        var t = this._owner.getItemOfRow(e, !0);
        this.$_setCheckable(t);
      }, i.prototype.updateRows = function(e, t) {
        for (var o = 0; o < t; o++) {
          var r = this._owner.getItemOfRow(e + o, !0);
          r instanceof Le && this.$_setCheckable(r);
        }
      }, i.prototype.updateRowList = function(e) {
        for (var t = 0, o = e; t < o.length; t++) {
          var r = o[t], n = this._owner.getItemOfRow(r, !0);
          n instanceof Le && this.$_setCheckable(n);
        }
      }, i.prototype.changeStates = function(e) {
        if (e)
          for (var t = e.length; t--; ) {
            var o = this._owner.getItemOfRow(e[t], !0);
            o instanceof Le && this.$_setCheckable(o);
          }
      }, i.prototype.$_setCheckable = function(e) {
        var t, o = this._callback;
        o ? t = o.call(this, e.dataSource.handler, e) : (this._runtime.setItem(e), t = this._exprNode.evaluate(this._runtime)), e._setCheckable(t);
      }, i;
    }(la), Uc = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._sortMode = f.SortMode.AUTO, t._filterMode = f.FilterMode.AUTO, t._filterOr = !1, t._checkableExpression = null, t._rows = [], t._filteredItems = [], t._pageItems = [], t._sortedItems = [], t._pubItems = t._rows, t._items = t._rows, t._distinctRows = [], t._rowCount = 0, t._fixedCount = 0, t._fixedSorting = !1, t._maxItemCount = 0, t._itemCount = 0, t._pubCount = 0, t._filtered = !1, t._filtering = !1, t._filters = [], t._filterRuntime = new Ra(), t._filterLock = 0, t._fixedFiltering = !1, t._sorted = !1, t._sortFields = [], t._sortDirections = [], t._sortCases = [], t._labelComparer = {}, t._paging = !1, t._pagingSource = Ai.ROWS, t._pageSize = 10, t._pageCount = -1, t._pageStartIndex = -1, t._currPage = 0, t._pageStart = 0, t._summaryMode = f.SummaryMode.AGGREGATE, t._summaryMap = null, t._checkableTag = null, t._cellStyleMapTag = new Wc(t), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        function e(t) {
          for (var o = 0, r = t.length; o < r; o++)
            t[o] && t[o].dispose();
          t.length = 0;
        }
        this.dataSource = null, e(this._rows), e(this._filteredItems), e(this._pageItems), e(this._sortedItems), e(this._pubItems), e(this._items), e(this._distinctRows), this._filterRuntime && this._filterRuntime.dispose(), this._filterRuntime = null, this._sortFields.length = 0, this._labelComparer = null, this._summaryMap = null, this._checkableTag = null, a.prototype._doDispose.call(this);
      }, i.prototype.getCommandStates = function(e) {
        var t = this._rows[e];
        return t && t._getExtents();
      }, i.prototype.setCommandStates = function(e, t) {
        var o = this._rows[e];
        t != null && o && o._setExtents(t);
      }, Object.defineProperty(i.prototype, "isFilterOr", { get: function() {
        return this._filterOr;
      }, set: function(e) {
        e != this._filterOr && (this._filterOr = e, this.$_buildItems(), this._fireRefresh());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isSorted", { get: function() {
        return this._sorted;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isPaging", { get: function() {
        return this._paging;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pageStartIndex", { get: function() {
        return this._pageStart;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summaryMode", { get: function() {
        return this._summaryMode;
      }, set: function(e) {
        e != this._summaryMode && (this._summaryMode = e, this.$_resetSummary(), this.$_buildItems(), this._fireRefresh());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortMode", { get: function() {
        return this._sortMode;
      }, set: function(e) {
        this._sortMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterMode", { get: function() {
        return this._filterMode;
      }, set: function(e) {
        this._filterMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkableExpression", { get: function() {
        return this._checkableExpression;
      }, set: function(e) {
        e != this._checkableExpression && (this._checkableExpression = e, this._checkableTag && (this._checkableTag.disconnect(), this._checkableTag = null), e && (this._checkableTag = new jn(this, e), this._dataSource && this._checkableTag.connect(this._dataSource)));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkableCallback", { set: function(e) {
        this._checkableTag && (this._checkableTag.disconnect(), this._checkableTag = null), e && (this._checkableTag = new jn(this, null, e), this._dataSource && this._checkableTag.connect(this._dataSource));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "labelComparer", { get: function() {
        return this._labelComparer;
      }, set: function(e) {
        this._labelComparer = e || {};
      }, enumerable: !1, configurable: !0 }), i.prototype.getFieldDomain = function(e) {
        for (var t = this._rows.length, o = [], r = void 0, n = 0; n < t; n++) {
          var s = this._dataSource.getValue(n, e);
          s != r && o.indexOf(s) < 0 && o.push(s), r = s;
        }
        return o;
      }, i.prototype.beginFilter = function() {
        this._filterLock++;
      }, i.prototype.endFilter = function(e, t, o) {
        e === void 0 && (e = !0), t === void 0 && (t = null), o === void 0 && (o = null), this._filterLock > 0 && (this._filterLock = Math.max(0, this._filterLock - 1), this._filterLock == 0 && e && this.applyFilters(!0, t, o));
      }, i.prototype.hasFilter = function(e) {
        var t = this._filters[e];
        return t && t.length > 0;
      }, i.prototype.addFilter = function(e, t) {
        if (t && t.criteria, e >= 0) {
          var o = this._filters[e];
          if (o || (o = [], this._filters[e] = o), t.criteria || t.callback) {
            var r = new Oa(t);
            return o.push(r), this.applyFilters(), r;
          }
        }
      }, i.prototype.clearAllFilters = function() {
        this._filtered && (this._filters = [], this.applyFilters());
      }, i.prototype.hasFilters = function() {
        for (var e = this._filters.length, t = 0; t < e; t++) {
          var o = this._filters[t];
          if (o && o.length > 0)
            return !0;
        }
        return !1;
      }, i.prototype.applyFilters = function(e, t, o) {
        if (e === void 0 && (e = !0), t === void 0 && (t = null), o === void 0 && (o = null), !(this._filterLock > 0)) {
          this.$_buildItems();
          try {
            e && this._fireRefresh();
          } finally {
            this._fireFiltered(t, o);
          }
        }
      }, i.prototype.orderBy = function(e, t, o, r) {
        e === void 0 && (e = null), t === void 0 && (t = null), o === void 0 && (o = null), r === void 0 && (r = !0), this._fireSort(e, t, o), this._sortFields = [], this._sortDirections = [], this._sortCases = [];
        for (var n = e ? e.length : 0, s = t ? t.length : 0, l = o ? o.length : 0, h = 0; h < s; h++)
          t[h] = t[h] == f.SortDirection.ASCENDING || t[h] == f.SortDirection.DESCENDING ? t[h] : f.SortDirection.ASCENDING;
        for (h = 0; h < n; h++)
          this._sortFields.push(e[h]), s > h ? this._sortDirections.push(t[h]) : s > 0 ? this._sortDirections.push(t[s - 1]) : this._sortDirections.push(f.SortDirection.ASCENDING), l > h ? this._sortCases.push(o[h]) : l > 0 ? this._sortCases.push(o[l - 1]) : this._sortCases.push(f.SortCase.SENSITIVE);
        this._sorted = this.$_checkSorted(), this.$_buildItems();
        try {
          r && this._fireRefresh();
        } finally {
          this._fireSorted();
        }
      }, i.prototype.getSortFields = function() {
        return this._sortFields.slice();
      }, i.prototype.getSortDirections = function() {
        return this._sortDirections.slice();
      }, i.prototype.getSortCases = function() {
        return this._sortCases.concat();
      }, i.prototype.setPaging = function(e, t, o, r) {
        t === void 0 && (t = 10), o === void 0 && (o = -1), r === void 0 && (r = null), t = Math.max(t, 1), o = Math.max(o, -1), e == this._paging && t == this._pageSize && o == this._pageCount && r == this._pagingSource || (this._currPage = 0, this._paging = e, this._pagingSource = r, this._pageSize = t, this._pageCount = o, this.$_buildItems(), this._fireRefresh());
      }, Object.defineProperty(i.prototype, "page", { get: function() {
        return this._paging ? this._currPage : -1;
      }, enumerable: !1, configurable: !0 }), i.prototype.setPage = function(e, t) {
        e === void 0 && (e = 0), t === void 0 && (t = -1), this._paging && (e = Math.max(0, Math.min(this.pageCount - 1, e)), t = Math.max(-1, t), e == this._currPage && t == this._pageStartIndex || (this._currPage = e, this._pageStartIndex = t, this.$_buildPage(), this._fireRefresh()));
      }, Object.defineProperty(i.prototype, "pageCount", { get: function() {
        if (this._paging) {
          if (this._pageCount >= 0)
            return this._pageCount;
          var e = this.$_getPageItems();
          return Math.floor((e.length + this._pageSize - 1) / this._pageSize);
        }
        return 0;
      }, set: function(e) {
        this._paging && (e = Math.max(-1, e)) != this._pageCount && (this._pageCount = e, this.$_buildPage(), this._fireRefresh());
      }, enumerable: !1, configurable: !0 }), i.prototype.getPageOfDataRow = function(e) {
        if (this._paging) {
          if (e < 0 || e >= this._dataSource.rowCount)
            return -1;
          var t = this.$_getPageItems();
          if (!t || !t.length)
            return -1;
          for (var o = 0; o < t.length; o++)
            if (t[o].dataRow === e)
              return Math.floor(o / this._pageSize);
          return -1;
        }
        return 0;
      }, i.prototype.getCheckedRows = function(e) {
        for (var t = e ? this._dataSource.rowCount : this.itemCount, o = [], r = 0; r < t; r++) {
          var n = e ? this._rows[r] : this._pubItems[r];
          n.checked && o.push(n.dataRow);
        }
        return o;
      }, i.prototype.resetCheckables = function() {
        for (var e = this._rows.length; e--; )
          this._rows[e]._setCheckable(!0);
        this._fireRefresh();
      }, i.prototype.applyCheckables = function() {
        this._checkableTag ? this._checkableTag.setRows() : jn.clearCheckables(this), this._fireRefresh();
      }, i.prototype.setCheckFieldIndex = function(e) {
        a.prototype.setCheckFieldIndex.call(this, e);
      }, i.prototype.getJsonRows = function() {
        return this._pubItems.map(function(e) {
          return e.getRowObject();
        });
      }, i.prototype.addCellStyle = function(e, t, o) {
        return this._cellStyleMapTag.addCellStyle(e, t, o);
      }, i.prototype.removeCellStyle = function(e, t) {
        return this._cellStyleMapTag.removeCellStyle(e, t);
      }, i.prototype.getUserCellStyle = function(e, t) {
        return this._cellStyleMapTag.getCellStyle(e, t);
      }, Object.defineProperty(i.prototype, "dataSource", { get: function() {
        return this._dataSource;
      }, set: function(e) {
        if (e !== this._dataSource) {
          this.$_clearRows(!0);
          var t = this._dataSource;
          t && (this._checkableTag && this._checkableTag.disconnect(), this._cellStyleMapTag.disconnect(), t.disposing || (t.removeTag(this._cellStyleMapTag), t.removeListener(this), t.unregisterCommandListener(this))), (t = this._dataSource = e) && (this._checkableTag && this._checkableTag.connect(t), this._cellStyleMapTag.connect(t), t.addTag(this._cellStyleMapTag), this.$_buildRows(), t.addListener(this), t.registerCommandListener(this)), this.disposing || (this.$_resetSummary(), this._fireReset());
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemCount", { get: function() {
        return this._pubCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._pubCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemLength", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedCount", { get: function() {
        return this._fixedCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxItemCount", { get: function() {
        return this._maxItemCount;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._maxItemCount && (this._maxItemCount = e, this._refreshItems());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sorted", { get: function() {
        return this._sorted;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "movable", { get: function() {
        return !this.sorted;
      }, enumerable: !1, configurable: !0 }), i.prototype._hideDeletedChanged = function() {
        this.$_buildItems(), this._fireRefresh();
      }, i.prototype.getItem = function(e) {
        return e < 0 || e >= this._pubCount ? null : this._pubItems[e];
      }, i.prototype.getItems = function(e, t) {
        return this._pubItems.slice(e, e + t);
      }, i.prototype.getIndexOfRow = function(e) {
        if (e >= 0 && e < this._rows.length) {
          var t = this._rows[e];
          return t && this._pubItems.indexOf(t) >= 0 ? t.index : -1;
        }
        return -1;
      }, i.prototype.getItemOfRow = function(e, t) {
        if (e >= 0 && e < this._rows.length) {
          var o = this._rows[e];
          return o.index >= 0 || t ? o : null;
        }
        return null;
      }, i.prototype._refreshItems = function() {
        var e = {};
        this.$_saveExtents(e), this.$_clearRows(!1), this.$_buildRows(e), this._fireRefresh();
      }, i.prototype.setFixed = function(e, t, o, r) {
        e = Math.max(0, e), (r || e != this._fixedCount || t != this._fixedSorting || o != this._filtering) && (this._fixedCount = e, this._fixedSorting = t, this._fixedFiltering = o, this.$_buildItems(), this._fireRefresh());
      }, i.prototype.exchange = function(e, t) {
        if (e != t && !this._sorted && !this._filtered) {
          if (e < 0 || e >= this._rows.length)
            throw new Error("index1 is out of bounds: " + e);
          if (t < 0 || t >= this._rows.length)
            throw new Error("index2 is out of bounds: " + e);
          var o = this._rows[e];
          this._rows[e] = this._rows[t], this._rows[t] = o;
        }
      }, i.prototype.clearDisplayLevels = function() {
        for (var e = this._rows, t = e.length, o = 0; o < t; o++)
          e[o]._displayLevel = -1;
      }, i.prototype.getAllItems = function() {
        return this._pubItems.slice();
      }, i.prototype.getNumber = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.count : this.itemCount;
      }, i.prototype.getSum = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.sum : NaN;
      }, i.prototype.getMax = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.max : NaN;
      }, i.prototype.getMin = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.min : NaN;
      }, i.prototype.getAvg = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.avg : NaN;
      }, i.prototype.getVar = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.vars : NaN;
      }, i.prototype.getVarp = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.varsp : NaN;
      }, i.prototype.getStdev = function(e) {
        var t = this.$_getSummary(e);
        return t ? Math.sqrt(t.vars) : NaN;
      }, i.prototype.getStdevp = function(e) {
        var t = this.$_getSummary(e);
        return t ? Math.sqrt(t.varsp) : NaN;
      }, i.prototype.getDataCount = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.dataCount : 0;
      }, i.prototype.getDataAvg = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.dataAvg : NaN;
      }, i.prototype.canGrouping = function(e) {
        return this.fireGrouping(e);
      }, i.prototype.$_saveExtents = function(e) {
        for (var t = 0, o = this._rows.length; t < o; t++) {
          var r = this._rows[t];
          r.dataRowId >= 0 && (e[r.dataRowId] = { exts: r._extents, heights: r.heights && r.heights.slice() });
        }
      }, i.prototype.$_clearRows = function(e) {
        e && this.clearRowHeights(!0), this._rows.length = 0, this._filteredItems.length = 0, this._filtered = !1, this._sorted = !1, this._sortedItems.length = 0, this._pubItems = this._rows, this.$_clearDistincts();
      }, i.prototype.$_clearIndicies = function() {
        for (var e = this._rows.length; e--; )
          this._rows[e]._index = -1;
      }, i.prototype.$_clearDistincts = function() {
        for (var e = this._distinctRows.length; e--; )
          this._distinctRows[e] = null;
        this._distinctRows.length = 0;
      }, i.prototype.$_buildRows = function(e) {
        e === void 0 && (e = null);
        var t = this._dataSource;
        if (t) {
          this._filtered = this.$_checkFiltered(), this._sorted = this.$_checkSorted(), this._rowCount = t.rowCount, !this._filtered && !this._paging && this.maxItemCount > 0 && (this._rowCount = Math.min(this._rowCount, this.maxItemCount)), this._rows = new Array(this._rowCount);
          for (var o = 0, r = this._rowCount; o < r; o++) {
            var n = this._rows[o] = this.$_createRow(o);
            if (e && e.hasOwnProperty(n.dataId)) {
              var s = e[n.dataId];
              n._extents = s.exts, n.heights = s.heights && s.heights.slice();
            }
          }
          this.$_buildItems(), this._checkableTag && this._checkableTag.setRows(), this._rowCount == 0 && this.clearRowHeights(!0);
        }
      }, i.prototype.$_resetCounts = function() {
        this._filtered ? this._pubCount = this._itemCount = this._items.length : this._pubCount = this._itemCount = this._rowCount = this._rows.length;
      }, i.prototype.$_buildItems = function(e, t) {
        e === void 0 && (e = !1), t === void 0 && (t = !1);
        var o = this.maxItemCount > 0 ? this.maxItemCount : this._rows.length;
        if (this._rowCount = this._rows.length, this._pubItems = this._items = this._rows, this._pubCount = this._itemCount = this._rows.length, this._filtered = this.$_checkFiltered(), this._sorted = this.$_checkSorted(), (this._filtered || this._paging) && this.$_clearIndicies(), this._filtered) {
          if (this._filteredItems.length = 0, this.hideDeleted || this._dataSource.hiddenCount > 0)
            for (var r = 0; r < this._rowCount; r++) {
              var n = this._rows[r], s = this._dataSource.getRowState(this._rows[r].dataRow), l = this._dataSource.isHiddenRow(this._rows[r].dataRow);
              this.hideDeleted && Je(s) || l ? n._index = -1 : n._index = 0;
            }
          else
            for (r = 0; r < this._rowCount; r++)
              this._rows[r]._index = 0;
          var h = this.fixedCount, u = h > 0 && !this._fixedFiltering, c = this._rows.length;
          if (!e) {
            r = 0;
            for (var d = this._filters.length; r < d; r++)
              if (v = this._filters[r])
                for (var p = 0; p < v.length; p++)
                  v[p].prepare(this._filterRuntime, this._dataSource);
          }
          this._paging || (c = Math.min(c, o));
          var _ = 0;
          for (r = 0; r < this._rowCount && _ < c; r++)
            if ((n = this._rows[r]).index >= 0)
              if (e || u && _ < h)
                this._filteredItems.push(n), _++;
              else {
                var g = !this._filterOr, y = 0, m = 0;
                for (d = this._filters.length; m < d; m++) {
                  var v;
                  if ((v = this._filters[m]) && y++, this._filterOr) {
                    if (v && this.$_select(v, n, m)) {
                      g = !0;
                      break;
                    }
                  } else if (v && !this.$_select(v, n, m)) {
                    g = !1;
                    break;
                  }
                }
                g || y === 0 ? (this._filteredItems.push(n), _++) : n._index = -1;
              }
          this._pubItems = this._items = this._filteredItems, this._pubCount = this._itemCount = this._items.length;
        } else
          this._filteredItems.length = 0;
        if (this._sorted) {
          if (t) {
            var C = this._sortedItems;
            for (r = C.length; r--; )
              C[r].index < 0 && C.splice(r, 1);
          } else
            this.$_sortRows();
          this._pubItems = this._sortedItems;
        } else
          this._sortedItems.length = 0;
        this._paging && this.$_buildPageItems(), this.$_clearSummary(), this._resetItemIndicies(0);
      }, i.prototype.$_buildPageItems = function() {
        var e = this.$_getPageItems();
        this._pageItems.length = 0;
        for (var t = this._pageStart = this._pageStartIndex >= 0 ? this._pageStartIndex : this._currPage * this._pageSize, o = e.length, r = this.maxItemCount > 0 ? this.maxItemCount : o, n = Math.min(this._pageSize, r); t < o && n > 0; t++, n--)
          this._pageItems.push(e[t]);
        this._pubItems = this._pageItems, this._pubCount = this._pubItems.length;
      }, i.prototype.$_buildPage = function() {
        this.$_clearIndicies(), this.$_buildPageItems(), this._resetItemIndicies(0);
      }, i.prototype.$_compareFuncs = function(e, t) {
        for (var o = {}, r = this._dataSource, n = 0, s = e.length; n < s; n++) {
          var l = r.getField(e[n]);
          if (l) {
            var h = r.getDataComparer(l.index) || this._labelComparer[l.index], u = t[n] == f.SortCase.INSENSITIVE;
            if (!h)
              switch (l.dataType) {
                case f.ValueType.DATETIME:
                case f.ValueType.NUMBER:
                  h = r.compareNumbers.bind(r);
                  break;
                case f.ValueType.BOOLEAN:
                  h = r.compareBools.bind(r);
                  break;
                case f.ValueType.OBJECT:
                  h = r.compareObjects.bind(r);
                  break;
                default:
                  h = u ? r.compareTexts.bind(r) : r.compareValues.bind(r);
              }
            h && (o[e[n]] = h);
          }
        }
        return o;
      }, i.prototype.$_sortRows = function(e) {
        var t = this;
        e === void 0 && (e = null);
        var o = e || this._items.slice(), r = [];
        this._fixedCount > 0 && !this._fixedSorting && (r = o.splice(0, this._fixedCount));
        var n = this.$_compareFuncs(this._sortFields, this._sortCases);
        o.sort(function(s, l) {
          for (var h, u, c, d = 0, p = 0, _ = t._sortFields.length; p < _ && (u = t._sortDirections[p], c = t._sortFields.length == p + 1, !(h = n[t._sortFields[p]]) || (d = h(t._sortFields[p], s.dataRow, l.dataRow)) === 0); p++)
            ;
          return d = (d *= u === f.SortDirection.DESCENDING ? -1 : 1) === 0 && c ? u === f.SortDirection.DESCENDING ? l.dataRow - s.dataRow : s.dataRow - l.dataRow : d;
        }), this._sortedItems = r.concat(o);
      }, i.prototype.$_createRow = function(e) {
        var t = new Fe(e);
        return this.attachItem(t), t._dataRowId = t.dataId, t;
      }, i.prototype.$_createAllRow = function() {
        for (var e = 0; e < this._rowCount; e++)
          this._rows[e] || (this._rows[e] = this.$_createRow(e));
      }, i.prototype.$_resetSummary = function() {
        this._summaryMap = [];
      }, i.prototype.$_clearSummary = function() {
        if (this._summaryMap)
          for (var e = this._summaryMap.length - 1; e >= 0; e--)
            this._summaryMap[e] && this._summaryMap[e].clear();
      }, i.prototype.$_getSummary = function(e) {
        var t = this._summaryMap[e];
        if (!t) {
          var o = this._dataSource;
          o && o.canSummarize(e) && (t = new kt(e), this._summaryMap[e] = t);
        }
        return t && t.count == 0 && this.itemCount > 0 && this.$_summarize(t), t;
      }, i.prototype.$_summarize = function(e) {
        var t = this._dataSource;
        if (t)
          if (this._filtered) {
            for (var o = this._items.length, r = new Array(o), n = 0; n < o; n++)
              r[n] = this._items[n].dataRow;
            t.summarizeRange(e, r, this._summaryMode == f.SummaryMode.STATISTICAL);
          } else
            t.summarize(e, this._summaryMode == f.SummaryMode.STATISTICAL);
      }, i.prototype.$_needSort = function() {
        return this._sorted && this._sortMode == f.SortMode.AUTO;
      }, i.prototype.$_needFilter = function() {
        return this._filtered && this._filterMode == f.FilterMode.AUTO;
      }, i.prototype.$_checkFiltered = function() {
        if (this._dataSource)
          return this._filters.length = this._dataSource.fieldCount, this.hasFilters() || this.hideDeleted && this._dataSource.deletedCount > 0 || this._dataSource.hiddenCount > 0;
      }, i.prototype.$_select = function(e, t, o) {
        for (var r = 0, n = e.length; r < n; r++)
          if (e[r].select(this._filterRuntime, t.parent, t, o))
            return !0;
      }, i.prototype.$_checkSorted = function() {
        for (var e = this._sortFields.length - 1; e >= 0; e--)
          this._sortFields[e] > this._dataSource.fieldCount && (this._sortFields.splice(e, 1), this._sortDirections.splice(e, 1), this._sortCases.splice(e, 1));
        return this._sortFields && this._sortFields.length > 0;
      }, i.prototype.$_getPageItems = function() {
        return this._sorted ? this._sortedItems : this._filtered ? this._filteredItems : this._items;
      }, i.prototype.fireGrouping = function(e) {
        return this.fireConfirmEvent(gi.GROUPING, e);
      }, i.prototype.onDataSourceCommandStackChanged = function(e, t, o) {
        this._fireCommandStackChanged(t, o);
      }, i.prototype.onDataProviderDisposed = function(e) {
        this._checkableTag && this._checkableTag.disconnect(), this.$_clearRows(!0), this.$_buildRows(), this.$_resetSummary(), this._fireReset(), this.dataSource = null;
      }, i.prototype.onDataProviderReset = function(e) {
        this.$_clearRows(!0), this.$_buildRows(), this.$_resetSummary(), this._fireReset();
      }, i.prototype.onDataProviderRefresh = function(e) {
        this._refreshItems();
      }, i.prototype.onDataProviderRefreshClient = function(e) {
        this._fireRefreshClient();
      }, i.prototype.onDataProviderRowCountChanged = function(e, t) {
        this._fireRefreshClient();
      }, i.prototype.onDataProviderDataLoadComplated = function() {
        this._fireDataLoadComplated();
      }, i.prototype.onDataProviderRowInserted = function(e, t, o) {
        var r = this._rows, n = t < r.length ? r[t] : null, s = this.$_createRow(t);
        r.splice(t, 0, s);
        for (var l = t, h = r.length; l < h; l++)
          r[l]._dataRow = l;
        if (this.$_needFilter() || this.$_needSort() || this._paging)
          this.$_buildItems();
        else {
          if (this._filtered) {
            var u = this._filteredItems;
            t = o ?? Math.max(0, n ? u.indexOf(n) : u.length), u.splice(t, 0, s);
          }
          this._sorted && (u = this._sortedItems, t = o ?? Math.max(0, n ? u.indexOf(n) : u.length), u.splice(t, 0, s)), this.$_clearSummary(), this.$_resetCounts(), this._resetItemIndicies(this._sorted ? 0 : t);
        }
        this._checkableTag && this._checkableTag.insertRow(t), this._fireItemInserted(s), this._fireRefresh();
      }, i.prototype.onDataProviderRowsInserted = function(e, t, o, r) {
        if (!(o < 0)) {
          for (var n, s = this._rows, l = t < s.length ? s[t] : null, h = [], u = 0; u < o; u++)
            h.push(n = this.$_createRow(t + u)), s.splice(t + u, 0, n);
          var c = s.length;
          for (u = t; u < c; u++)
            s[u]._dataRow = u;
          if (this.$_needFilter() || this.$_needSort() || this._paging)
            this.$_buildItems();
          else {
            if (this._filtered) {
              var d = this._filteredItems;
              for (t = r ?? Math.max(0, l ? d.indexOf(l) : d.length), u = 0; u < h.length; u++)
                d.splice(t + u, 0, h[u]);
            }
            if (this._sorted)
              for (d = this._sortedItems, t = r ?? Math.max(0, l ? d.indexOf(l) : d.length), u = 0; u < h.length; u++)
                d.splice(t + u, 0, h[u]);
            this.$_clearSummary(), this.$_resetCounts(), this._resetItemIndicies(t);
          }
          this._checkableTag && this._checkableTag.insertRows(t, o), this._fireRefresh();
        }
      }, i.prototype.$_silentRemoveRow = function(e) {
        var t, o;
        this._filtered && (o = (t = this._filteredItems).indexOf(e)) >= 0 && t.splice(o, 1), this._sorted && (o = (t = this._sortedItems).indexOf(e)) >= 0 && t.splice(o, 1), this.$_clearSummary(), this.$_resetCounts(), this._resetItemIndicies(0);
      }, i.prototype.onDataProviderRowRemoved = function(e, t) {
        var o = this._rows, r = o[t];
        o.splice(t, 1);
        for (var n = o.length - 1; n >= t; n--)
          o[n]._dataRow = n;
        this.$_needFilter() || this.$_needSort() || this._paging ? this.$_buildItems() : this.$_silentRemoveRow(r), o.length == 0 && this.clearRowHeights(!0), this._fireItemDeleted(r), this._fireRefresh();
      }, i.prototype.onDataProviderRowsRemoving = function(e, t) {
        return !0;
      }, i.prototype.$_silentRemoveRows = function(e) {
        if (this._filtered)
          for (var t = this._filteredItems, o = 0; o < e.length; o++) {
            var r = e[o];
            (n = t.indexOf(r)) >= 0 && t.splice(n, 1);
          }
        if (this._sorted)
          for (t = this._sortedItems, o = 0; o < e.length; o++) {
            var n;
            r = e[o], (n = t.indexOf(r)) >= 0 && t.splice(n, 1);
          }
        this.$_clearSummary(), this.$_resetCounts(), this._resetItemIndicies(0);
      }, i.prototype.onDataProviderRowsRemoved = function(e, t) {
        if (t && !(t.length < 1)) {
          t.length > 1 && t.sort(function(l, h) {
            return l - h;
          });
          for (var o = this._rows, r = t[0], n = [], s = t.length - 1; s >= 0; s--)
            n.push(o[t[s]]), o.splice(t[s], 1);
          for (s = this._rows.length - 1; s >= r; s--)
            o[s]._dataRow = s;
          this.$_needFilter() || this.$_needSort() || this._paging ? this.$_buildItems() : this.$_silentRemoveRows(n), t.length == 0 && this.clearRowHeights(!0), this._fireRefresh();
        }
      }, i.prototype.onDataProviderRowUpdating = function(e, t, o) {
        return !0;
      }, i.prototype.onDataProviderRowUpdated = function(e, t) {
        this.$_needFilter() || this.$_needSort() || this._paging ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.updateRow(t), this._rows[t] && this._fireItemUpdated(this._rows[t]), this._fireRefresh();
      }, i.prototype.onDataProviderRowsUpdated = function(e, t, o) {
        this.$_needFilter() || this.$_needSort() || this._paging ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.updateRows(t, o), this._fireRefresh();
      }, i.prototype.onDataProviderRowListUpdated = function(e, t) {
        this.$_needFilter() || this.$_needSort() || this._paging ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.updateRowList(t), this._fireRefresh();
      }, i.prototype.onDataProviderValueChanging = function(e, t, o, r) {
        return !0;
      }, i.prototype.onDataProviderValueChanged = function(e, t, o) {
        this.$_needFilter() || this.$_needSort() || this._paging ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.updateRow(t), this._rows[t] && this._fireItemUpdated(this._rows[t]), this._fireRefresh();
      }, i.prototype.onDataProviderRowMoving = function(e, t, o) {
        return !0;
      }, i.prototype.onDataProviderRowMoved = function(e, t, o) {
        var r = this._rows, n = r.splice(t, 1);
        r.splice(o, 0, n[0]);
        for (var s = r.length, l = t = Math.min(t, o); l < s; l++)
          r[l]._dataRow = l;
        (this._sorted || this._paging || this.hideDeleted) && (this.$_buildItems(), this._resetItemIndicies(0)), this._fireRefresh();
      }, i.prototype.onDataProviderRowsMoving = function(e, t, o, r) {
        return !0;
      }, i.prototype.onDataProviderRowsMoved = function(e, t, o, r) {
        this._refreshItems();
      }, i.prototype.onDataProviderRowListMoving = function(e, t, o) {
        return !0;
      }, i.prototype.onDataProviderRowListMoved = function(e, t, o) {
        this._refreshItems();
      }, i.prototype.onDataProviderStateChanged = function(e, t) {
        if (this.hideDeleted) {
          var o = this._rows[t];
          Je(o.rowState) && (this.$_needFilter() || this.$_needSort() || this._paging ? this.$_buildItems() : this.$_checkFiltered() && (!this._filteredItems || this._filteredItems.length <= 0) || this.isSorted && (!this._sortedItems || this._sortedItems.length <= 0) ? this.$_buildItems(!0, !0) : this.$_silentRemoveRow(o), this._fireRefresh());
        }
        this._checkableTag && this._checkableTag.updateRow(t), this._fireRowStateChanged(this._rows[t]);
      }, i.prototype.onDataProviderRowHided = function(e, t, o) {
        if (this._filtered = this.$_checkFiltered(), o) {
          if (this.$_needFilter() || this.$_needSort() || this._paging)
            this.$_buildItems();
          else if (this.$_checkFiltered() && (!this._filteredItems || this._filteredItems.length <= 0) || this.isSorted && (!this._sortedItems || this._sortedItems.length <= 0))
            this.$_buildItems(!0, !0);
          else {
            var r = this.getItemsByRows(t);
            this.$_silentRemoveRows(r);
          }
          this._fireRefresh();
        } else
          this._refreshItems();
      }, i.prototype.onDataProviderStatesChanged = function(e, t) {
        if (this.hideDeleted) {
          for (var o = !1, r = 0, n = t.length; r < n; r++) {
            var s = t[r], l = this._rows[s];
            if (Je(l.rowState)) {
              o = !0;
              break;
            }
          }
          if (o) {
            if (this.$_needFilter() || this.$_needSort() || this._paging)
              this.$_buildItems();
            else if (this.$_checkFiltered() && (!this._filteredItems || this._filteredItems.length <= 0) || this.isSorted && (!this._sortedItems || this._sortedItems.length <= 0))
              this.$_buildItems(!0, !0);
            else {
              var h = this.getItemsByRows(t);
              this.$_silentRemoveRows(h);
            }
            this._fireRefresh();
          }
        }
        this._checkableTag && this._checkableTag.changeStates(t), this._fireRowStatesChanged(this.getItemsByRows(t));
      }, i.prototype.onDataProviderRestoreRows = function(e, t) {
        this.$_needFilter() || this.$_needSort() || this._paging ? this.$_buildItems() : this.$_clearSummary(), this._checkableTag && this._checkableTag.changeStates(t), this._fireRowStatesChanged(this.getItemsByRows(t)), this._fireRefresh();
      }, i.prototype.onDataProviderStatesCleared = function(e) {
        this._pubCount != e.rowCount && this._refreshItems(), this._fireRowStatesCleared();
      }, i;
    }(Tn), Hn = function(a) {
      function i(e, t, o) {
        var r = a.call(this) || this;
        return r._owner = e, r._exprNode = Mt.Default.parse(t, ["value", "values"]), r._runtime = new An(), r._callback = o, r;
      }
      return w(i, a), i.clearCheckables = function(e) {
        for (var t = function(n) {
          if (n) {
            n.setCheckable(!0);
            for (var s = n.count; s--; ) {
              var l = n.getItem(s);
              l instanceof xe && t(l);
            }
          }
        }, o = e.itemCount; o--; ) {
          var r = e.getItem(o);
          r instanceof xe && t(r);
        }
      }, i.prototype.connect = function(e) {
        this._runtime.setDataSource(e);
      }, i.prototype.disconnect = function() {
      }, i.prototype.clearRows = function() {
        i.clearCheckables(this._owner);
      }, i.prototype.setRows = function() {
        for (var e = this._owner.itemCount; e--; ) {
          var t = this._owner.getItem(e);
          t instanceof xe && this.$_setCheckable(t, !0);
        }
      }, i.prototype.addRow = function(e, t) {
        t === void 0 && (t = !0);
        var o = this._owner.getItemOfRow(e.rowId);
        o instanceof xe && this.$_setCheckable(o, t);
      }, i.prototype.addRows = function(e) {
        for (var t = e.length; t--; ) {
          var o = this._owner.getItemOfRow(e[t].rowId);
          o instanceof xe && this.$_setCheckable(o, !0);
        }
      }, i.prototype.updateRow = function(e) {
        var t = this._owner.getItemOfRow(e.rowId);
        t instanceof xe && this.$_setCheckable(t, !1);
      }, i.prototype.updateRows = function(e) {
        for (var t = 0, o = e; t < o.length; t++) {
          var r = o[t], n = this._owner.getItemOfRow(r.rowId);
          n instanceof xe && this.$_setCheckable(n, !1);
        }
      }, i.prototype.changeStates = function(e) {
        for (var t = e.length; t--; ) {
          var o = this._owner.getItemOfRow(e[t].rowId);
          o instanceof xe && this.$_setCheckable(o, !1);
        }
      }, i.prototype.$_setCheckable = function(e, t) {
        if (e) {
          var o = this._callback, r = void 0;
          if (o ? r = o.call(this, e.dataSource.handler, e) : (this._runtime.setItem(e), r = this._exprNode.evaluate(this._runtime)), e.setCheckable(r), t)
            for (var n = e.count; n--; ) {
              var s = e.getItem(n);
              s instanceof xe && this.$_setCheckable(s, !0);
            }
        }
      }, i;
    }(J), zc = function(a) {
      function i() {
        var e = a !== null && a.apply(this, arguments) || this;
        return e._extents = {}, e;
      }
      return w(i, a), i.prototype.connect = function(e) {
        this._extents = {};
      }, i.prototype.disconnect = function() {
        this._extents = {};
      }, i.prototype.clearRows = function() {
        this._extents = {};
      }, i.prototype.setRows = function() {
      }, i.prototype.addRow = function(e) {
        this._extents[e.rowId] = 0;
        for (var t = e.count - 1; t >= 0; t--)
          this.addRow(e.getChild(t));
      }, i.prototype.addRows = function(e) {
        for (var t = 0, o = e; t < o.length; t++) {
          var r = o[t];
          this.addRow(r);
        }
      }, i.prototype.removeRow = function(e) {
        delete this._extents[e.rowId];
        for (var t = e.count - 1; t >= 0; t--)
          this.removeRow(e.getChild(t));
      }, i.prototype.removeRows = function(e) {
        for (var t = 0, o = e; t < o.length; t++) {
          var r = o[t];
          this.removeRow(r);
        }
      }, i.prototype.updateRow = function(e) {
      }, i.prototype.updateRows = function(e) {
      }, i.prototype.getExtents = function(e) {
        var t = this._extents[e.rowId];
        return t === void 0 ? this._extents[e.rowId] = 0 : t;
      }, i.prototype.setExtents = function(e, t) {
        this._extents[e.rowId] = t;
      }, i;
    }(J), Yc = function(a) {
      function i() {
        var e = a !== null && a.apply(this, arguments) || this;
        return e._styleMap = {}, e;
      }
      return w(i, a), i.prototype.connect = function(e) {
        this._styleMap = {};
      }, i.prototype.disconnect = function() {
        this._styleMap = {};
      }, i.prototype.clearRows = function() {
        this._styleMap = {};
      }, i.prototype.setRows = function() {
        this._styleMap = {};
      }, i.prototype.addRow = function(e) {
      }, i.prototype.addRows = function(e) {
      }, i.prototype.removeRow = function(e) {
        delete this._styleMap[e.rowId];
      }, i.prototype.removeRows = function(e) {
        var t = this;
        e.forEach(function(o) {
          return delete t._styleMap[o.rowId];
        });
      }, i.prototype.updateRow = function(e) {
      }, i.prototype.updateRows = function(e) {
      }, i.prototype.addCellStyle = function(e, t, o) {
        return (this._styleMap[e] || (this._styleMap[e] = {}))[t] = o, !0;
      }, i.prototype.getCellStyle = function(e, t) {
        var o = this._styleMap[e];
        return o && o[t];
      }, i.prototype.removeCellStyle = function(e, t) {
        if (e == null)
          this._styleMap = {};
        else {
          var o = this._styleMap[e];
          o && (o[t] && delete o[t], Object.keys(o).length || this._styleMap[e]);
        }
        return !0;
      }, i;
    }(J), qc = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._extents = 0, e;
      }
      return w(i, a), i.prototype._getExtents = function() {
        return this._extents;
      }, i.prototype._setExtents = function(e) {
        this._extents = e;
      }, Object.defineProperty(i.prototype, "isLeaf", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
      }, enumerable: !1, configurable: !0 }), i;
    }(Le), xe = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._iconHeight = 0, t._dataRow = e, t;
      }
      return w(i, a), i.getTemp = function(e, t) {
        return i.$_tempItem._dataRow = e, i.$_tempItem[Le.PARENT] = t, i.$_tempItem;
      }, i.prototype.dispose = function() {
        this._dataRow = null, a.prototype.dispose.call(this);
      }, Object.defineProperty(i.prototype, "iconHeight", { get: function() {
        return this._iconHeight;
      }, set: function(e) {
        this._iconHeight = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "row", { get: function() {
        return this._dataRow;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowId", { get: function() {
        return this._dataRow ? this._dataRow.rowId : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconIndex", { get: function() {
        return this._dataRow ? this._dataRow.iconIndex : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hasChildren", { get: function() {
        return this.count > 0 || this._dataRow && this._dataRow.hasChildren;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rootItem", { get: function() {
        for (var e = this; e.level > 1; )
          e = e.parent;
        return e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summaryMode", { get: function() {
        return f.SummaryMode.AGGREGATE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editable", { get: function() {
        return this._editable;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "readOnly", { get: function() {
        return this._readOnly;
      }, enumerable: !1, configurable: !0 }), i.prototype.setEditable = function(e, t) {
        this._editable = e, this._readOnly = t;
      }, i.prototype._getExtents = function() {
        var e = this.provider;
        return e ? e._extents.getExtents(this) : 0;
      }, i.prototype._setExtents = function(e) {
        var t;
        (t = this.provider) === null || t === void 0 || t._extents.setExtents(this, e);
      }, Object.defineProperty(i.prototype, "isData", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isDataRow", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footer", { get: function() {
        return this._footer;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerCount", { get: function() {
        return this._footer ? 1 : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataRow", { get: function() {
        return this._dataRow ? this._dataRow.rowId : -1;
      }, enumerable: !1, configurable: !0 }), i.prototype.getShadowRow = function() {
        return this._dataRow ? this._dataRow.rowId : -1;
      }, Object.defineProperty(i.prototype, "dataId", { get: function() {
        return this._dataRow ? this._dataRow.rowId : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "descendantCount", { get: function() {
        return this._dataRow.descendantCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowState", { get: function() {
        return this._dataRow.rowState;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isLeaf", { get: function() {
        return !this.hasChildren;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "resizable", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return f.ItemType.TREE;
      }, enumerable: !1, configurable: !0 }), i.prototype.getFooter = function(e) {
        return this._footer;
      }, i.prototype.isFooter = function(e) {
        return e === this._footer;
      }, i.prototype.canEdit = function() {
        return !0;
      }, i.prototype.createFooter = function() {
        this._footer || (this._footer = new qc());
      }, i.prototype.setExpanded = function(e, t, o) {
        (e != this.expanded || o) && (e ? this.provider.expand(this, t, o, 0) : this.provider.collapse(this, t, o));
      }, i.prototype.getData = function(e) {
        return e = this.dataSource ? this.dataSource.getFieldIndex(e) : e, this._dataRow.getValue(e);
      }, i.prototype.setData = function(e, t) {
        e = this.dataSource ? this.dataSource.getFieldIndex(e) : e, this._dataRow.setValue(e, t, !1);
      }, i.prototype.setItem = function(e, t) {
        a.prototype.setItem.call(this, e, t), t._addChildren(e.children), e.clear();
      }, i.prototype.exchange = function(e, t) {
        this._exchangeItems(e, t);
      }, i.prototype.moveChild = function(e, t) {
        var o = e + t, r = this._children, n = r[e];
        if (t < 0)
          for (var s = e; s > o; s--)
            r[s] = r[s - 1];
        else
          for (s = e; s < o; s++)
            r[s] = r[s + 1];
        r[o] = n;
      }, i.prototype.moveChildren = function(e, t, o) {
        for (var r = this._children, n = r.splice(e, t), s = e + o, l = 0; l < t; l++)
          r.splice(s + l, 0, n[l]);
      }, i.prototype.changeParent = function(e, t) {
        this.parent.remove(this), e && e.insert(t, this);
      }, i.prototype.getRowData = function() {
        return this._dataRow && this._dataRow._values.concat();
      }, i.$_tempItem = new i(null), i;
    }(Se), gr = function(a) {
      function i(e) {
        var t = a.call(this, null) || this;
        return t._rs = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "id", { get: function() {
        return -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "provider", { get: function() {
        return this._rs;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "level", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expanded", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype.setExpanded = function(e, t, o) {
      }, Object.defineProperty(i.prototype, "isLeaf", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visible", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataSource", { get: function() {
        return this._rs.dataSource;
      }, enumerable: !1, configurable: !0 }), i;
    }(xe), Kc = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._fixedCount = 0, t._items = new Array(), t._list = new Array(), t._rs = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "provider", { get: function() {
        return this._rs;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedCount", { get: function() {
        return this._fixedCount;
      }, enumerable: !1, configurable: !0 }), i.prototype.getItem = function(e) {
        return this._items[e];
      }, i.prototype.setItem = function(e, t) {
        this._items[e] = t;
      }, i.prototype.indexOf = function(e) {
        return this._items.indexOf(e);
      }, i.prototype.clear = function() {
        this._items.length = 0;
      }, i.prototype.expand = function(e, t, o) {
        o === void 0 && (o = 0), e && this.$_expandItem(e, t, o);
      }, i.prototype.collapse = function(e) {
        if (e)
          for (var t = this._rs, o = this._items, r = e.index + 1; r < o.length && o[r].level > e.level; ) {
            if (o[r] == e.footer) {
              t.footerWhenCollapsed || (o[r]._index = -1, o.splice(r, 1));
              break;
            }
            o[r]._index = -1, o.splice(r, 1);
          }
      }, i.prototype.getNext = function(e) {
        return e && e.visible && e.index < this.count - 1 ? this._items[e.index + 1] : null;
      }, i.prototype.getPrior = function(e) {
        return e && e.visible && e.index > 0 ? this._items[e.index - 1] : null;
      }, i.prototype.insert = function(e, t) {
        this._items.splice(t, 0, e);
      }, i.prototype.remove = function(e) {
        var t = this._items, o = t.indexOf(e);
        if (o >= 0 && (t.splice(o, 1), e.expanded))
          for (; o < t.length && e.isDescendant(t[o]); )
            t.splice(o, 1);
      }, i.prototype.$_collectChildren = function(e, t, o, r) {
        for (var n = 0, s = e.count; n < s; n++) {
          var l = e.getItem(n);
          l && (t.push(l), (o && l.level < r || l.expanded) && this.$_collectChildren(l, t, o, r));
        }
        e.footer && t.push(e.footer);
      }, i.prototype.$_expandItem = function(e, t, o) {
        var r, n = this._items, s = this._list;
        if (r = e instanceof gr ? this._fixedCount : e.index + 1, o = Math.max(0, o), s.length = 0, this.$_collectChildren(e, s, t, o > 0 ? e.level + o : 1e6), t) {
          for (var l = r, h = n.length; l < h && !(n[l].level <= e.level); l++)
            ;
          n.splice(r, l - r);
        }
        for (l = 0, h = s.length; l < h; l++)
          n.splice(r + l, 0, s[l]);
      }, i.prototype._clearAndInit = function(e) {
        this.clear(), this._fixedCount = Math.min(e, this._rs.itemCount);
        for (var t = 0; t < this._fixedCount; t++)
          this._items.push(this._rs.getItem(t));
      }, i;
    }(J), to = function(a) {
      function i() {
        var e = a.call(this, null) || this;
        return e._sortMode = f.SortMode.AUTO, e._expandWhenGrouping = !0, e._footerWhenExpanded = !0, e._footerWhenCollapsed = !0, e._labelComparer = {}, e._summaryMode = f.SummaryMode.AGGREGATE, e._groupSummaryMode = f.SummaryMode.AGGREGATE, e._checkableExpression = null, e._checkableCallback = null, e._extents = new zc(), e._filters = {}, e._filterRuntime = new Ra(), e._filtered = !1, e._sorter = new Gc(), e._sortFields = [], e._sortDirections = [], e._sortCases = [], e._visibleItems = new Kc(e), e._itemMap = [], e._itemCount = 0, e._summaryMap = null, e._filterLock = 0, e._includeParentItem = !0, e._cellStyleMap = new Yc(), e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._filters = null, this._filterRuntime = null, this._sorter = null, this._sortFields = null, this._sortDirections = null, this._sortCases = null, this._visibleItems = null, this._itemMap = null, this._summaryMap = null, this._checkableExpression = null, this._checkableCallback = null, this._checkableTag = null, this._labelComparer = null;
        var e = this.dataSource;
        e && !e.disposing && (e.removeTag(this._extents), e.removeTag(this._cellStyleMap), e.removeListener(this), e.unregisterCommandListener(this)), a.prototype._doDispose.call(this);
      }, i.prototype.getCommandStates = function(e) {
        var t = this._itemMap[e.rowId];
        return t && t._getExtents();
      }, i.prototype.setCommandStates = function(e, t) {
        var o = e && this._itemMap[e.rowId];
        t != null && o && o._setExtents(t);
      }, Object.defineProperty(i.prototype, "expandWhenGrouping", { get: function() {
        return this._expandWhenGrouping;
      }, set: function(e) {
        e != this._expandWhenGrouping && (this._expandWhenGrouping = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerWhenExpanded", { get: function() {
        return this._footerWhenExpanded;
      }, set: function(e) {
        e != this._footerWhenExpanded && (this._footerWhenExpanded = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerWhenCollapsed", { get: function() {
        return this._footerWhenCollapsed;
      }, set: function(e) {
        e != this._footerWhenCollapsed && (this._footerWhenCollapsed = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "labelComparer", { get: function() {
        return this._labelComparer;
      }, set: function(e) {
        this._labelComparer = e || {};
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summaryMode", { get: function() {
        return this._summaryMode;
      }, set: function(e) {
        e != this._summaryMode && (this._summaryMode = e, this.$_resetSummary(), this._fireRefresh());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupSummaryMode", { get: function() {
        return this._groupSummaryMode;
      }, set: function(e) {
        e != this._groupSummaryMode && (this._groupSummaryMode = e, this.$_resetGroupSummary(), this._fireRefresh());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hideDeleted", { get: function() {
        return this._hideDeleted;
      }, set: function(e) {
        e != this._hideDeleted && (this._hideDeleted = e, this._saveAndRefresh());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkableExpression", { get: function() {
        return this._checkableExpression;
      }, set: function(e) {
        e != this._checkableExpression && (this._checkableExpression = e, this._checkableTag && (this._checkableTag.disconnect(), this._checkableTag = null), e && (this._checkableTag = new Hn(this, e), this.dataSource && this._checkableTag.connect(this.dataSource)));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkableCallback", { get: function() {
        return this._checkableCallback;
      }, set: function(e) {
        e != this._checkableCallback && (this._checkableCallback = e, this._checkableTag && (this._checkableTag.disconnect(), this._checkableTag = null), e && (this._checkableTag = new Hn(this, null, e), this.dataSource && this._checkableTag.connect(this.dataSource)));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortMode", { get: function() {
        return this._sortMode;
      }, set: function(e) {
        e != this._sortMode && (this._sortMode = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "includeParentItem", { get: function() {
        return this._includeParentItem;
      }, set: function(e) {
        this._includeParentItem = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.$_needSort = function() {
        return this._sortFields && this._sortFields.length > 0 && this._sortMode == f.SortMode.AUTO;
      }, i.prototype.insertItem = function(e, t, o, r) {
        var n = this._visibleItems;
        e.collapsed && n.expand(e, !1);
        var s = n.indexOf(e.getItem(o));
        if (r) {
          e.insert(o + 1, t);
          for (var l = n.count, h = e.level + 1; ++s < l && !(n.getItem(s).level <= h); )
            ;
          n.insert(t, s);
        } else
          e.insert(o, t), n.insert(t, s);
      }, i.prototype.appendItem = function(e, t) {
        var o, r = this._visibleItems;
        e.collapsed && r.expand(e, !1), o = e.count > 0 ? r.indexOf(e.getItem(e.count - 1)) : r.indexOf(e);
        for (var n = r.count, s = e.level; ++o < n && !(r.getItem(o).level <= s); )
          ;
        e.add(t), r.insert(t, o);
      }, i.prototype.removeItem = function(e) {
        this._visibleItems.remove(e), e.parent.remove(e);
      }, i.prototype.$_calcLevel = function(e, t, o) {
        var r, n, s = e.count, l = t;
        for (r = 0; r < s; r++)
          (n = e.getItem(r)) && (l = Math.max(l, t + 1), o && !n.expanded || (l = Math.max(l, this.$_calcLevel(n, t + 1, o))));
        return l;
      }, i.prototype.getLevels = function(e) {
        return this.$_calcLevel(this._rootItem, 0, e);
      }, i.prototype.$_setExpanded = function(e, t, o) {
        if (this._setExpanded(e, !0), this.dataSource.setHasChildren(e.row, !1), t)
          for (var r = 0, n = e.count; r < n; r++) {
            var s = e.getItem(r);
            s instanceof xe && (s.expanded || s.level < o) && this.$_setExpanded(s, !0, o);
          }
      }, i.prototype._expandItem = function(e, t, o, r, n) {
        if (e && (t || !e.expanded)) {
          if (n && !this._fireExpanding(e))
            return;
          this._visibleItems.collapse(e), this._visibleItems.expand(e, o, r), this._resetItemIndicies(e === this._rootItem ? 0 : e.index), this.$_setExpanded(e, o, r > 0 ? e.level + r : 1e6);
          try {
            this._fireRefresh();
          } finally {
            n && this._fireExpanded(e);
          }
        }
      }, i.prototype.expand = function(e, t, o, r) {
        r === void 0 && (r = 0), this._expandItem(e, o, t, r, !0);
      }, i.prototype.expandAll = function(e) {
        this._expandItem(this._rootItem, !0, !0, e > 0 ? e + 1 : 0, !0);
      }, i.prototype.$_setCollapsed = function(e, t) {
        if (this._setExpanded(e, !1), t)
          for (var o = 0, r = e.count; o < r; o++) {
            var n = e.getItem(o);
            n instanceof xe && this.$_setCollapsed(n, !0);
          }
      }, i.prototype._collapseItem = function(e, t, o, r) {
        if (e && (t || e.expanded)) {
          if (r && !this._fireCollapsing(e))
            return;
          this._visibleItems.collapse(e), this.$_setCollapsed(e, o), e == this._rootItem && this._visibleItems.expand(this._rootItem, !1), this._resetItemIndicies(e === this._rootItem ? 0 : e.index);
          try {
            this._fireRefresh();
          } finally {
            r && this._fireCollapsed(e);
          }
        }
      }, i.prototype.collapse = function(e, t, o) {
        this._collapseItem(e, o, t, !0);
      }, i.prototype.collapseAll = function() {
        this._collapseItem(this._rootItem, !0, !0, !0);
      }, i.prototype.$_saveExpanded = function(e) {
        e._saveExpanded();
        for (var t = 0, o = e.count; t < o; t++)
          this.$_saveExpanded(e.getItem(t));
      }, i.prototype.orderBy = function(e, t, o, r) {
        r === void 0 && (r = !0), this._fireSort(e, t, o), this._sortFields = [], this._sortDirections = [], this._sortCases = [];
        for (var n = e ? e.length : 0, s = t ? t.length : 0, l = o ? o.length : 0, h = 0; h < n; h++)
          this._sortFields.push(e[h]), s > h ? this._sortDirections.push(t[h]) : s > 0 ? this._sortDirections.push(t[s - 1]) : this._sortDirections.push(f.SortDirection.ASCENDING), l > h ? this._sortCases.push(o[h]) : l > 0 ? this._sortCases.push(o[l - 1]) : this._sortCases.push(f.SortCase.SENSITIVE);
        try {
          this._saveAndRefresh(!0, r), r && this._fireRefresh();
        } finally {
          this._fireSorted();
        }
      }, i.prototype.getSortFields = function() {
        return this._sortFields.concat();
      }, i.prototype.getSortDirections = function() {
        return this._sortDirections.concat();
      }, i.prototype.getSortCases = function() {
        return this._sortCases.concat();
      }, i.prototype.beginFiltering = function() {
        this._filterLock++;
      }, i.prototype.$_prepareFiltering = function(e, t) {
        for (var o = t._dataRow.count, r = t.rowId, n = r <= -1 || this.$_selectItem(t.parent, t), s = 0; s < o; s++) {
          var l = new xe(t._dataRow._children[s]);
          l[Le.PARENT] = t, l && !this.dataSource.isHiddenRow(l.rowId) && (n = this.$_prepareFiltering(e, l) || n);
        }
        return e[r] = n;
      }, i.prototype.endFiltering = function(e, t, o) {
        var r = {};
        e && this._includeParentItem && (r = {}, this.$_prepareFilters(), this.$_prepareFiltering(r, this._rootItem)), this._filterLock > 0 && (this._filterLock = Math.max(0, this._filterLock - 1), e && this._filterLock == 0 && this.applyFilters(t, o, r));
      }, i.prototype.hasFilter = function(e) {
        var t = this._filters[e];
        return !!t && t.length > 0;
      }, i.prototype.addFilter = function(e, t) {
        var o = this._filters[e];
        o || (o = [], this._filters[e] = o);
        var r = new Oa(t);
        return o.push(r), r;
      }, i.prototype.clearAllFilters = function() {
        this._filtered && (this._filters = {}, this.applyFilters(null, null));
      }, i.prototype.hasFilters = function() {
        for (var e in this._filters) {
          var t = this._filters[e];
          if (t && t.length > 0)
            return !0;
        }
        return !1;
      }, i.prototype.$_prepareFilters = function() {
        var e = this.dataSource, t = e.fieldCount;
        for (var o in this._filters)
          Number(o) >= t && (this._filters[o] = null);
        if (this._filtered = this.hasFilters())
          for (var r in this._filters) {
            var n = this._filters[r];
            if (n)
              for (var s = n.length; s--; )
                n[s].prepare(this._filterRuntime, e);
          }
      }, i.prototype.applyFilters = function(e, t, o) {
        if (o || this.$_prepareFilters(), this._filterLock == 0) {
          this.$_saveExpanded(this._rootItem), this.$_clearItems(), this.$_buildTree(!0, o);
          try {
            this._fireRefresh();
          } finally {
            this._fireFiltered(e, t);
          }
        }
      }, i.prototype.getItemByRow = function(e) {
        return e ? this._itemMap[e.rowId] : null;
      }, i.prototype.getCheckedRows = function() {
        var e = [];
        return function t(o, r) {
          if (o instanceof xe)
            for (var n = 0, s = o.count; n < s; n++) {
              var l = o.getItem(n), h = void 0;
              l.checked && (h = l.row) && r.push(h), t(l, r);
            }
        }(this._rootItem, e), e;
      }, i.prototype.getCheckedRowIds = function() {
        var e = [];
        return function t(o, r) {
          if (o instanceof xe)
            for (var n = 0, s = o.count; n < s; n++) {
              var l = o.getItem(n), h = void 0;
              l.checked && (h = l.dataRow) >= 0 && r.push(h), t(l, r);
            }
        }(this._rootItem, e), e;
      }, i.prototype.resetCheckables = function() {
        this._checkableTag && (this._checkableTag.clearRows(), this._fireRefresh());
      }, i.prototype.applyCheckables = function() {
        this._checkableTag ? this._checkableTag.setRows() : Hn.clearCheckables(this), this._fireRefresh();
      }, i.prototype.$_checkChildren = function(e, t, o) {
        for (var r = 0, n = e.count; r < n; r++) {
          var s = e.getItem(r);
          s && (o ? s.checkable && this._setCheckItem(s, t) : this._setCheckItem(s, t)), s instanceof xe && this.$_checkChildren(s, t, o);
        }
      }, i.prototype._clearChecked = function() {
        this.$_checkChildren(this._rootItem, !1, !1);
      }, i.prototype.checkAll = function(e, t, o, r) {
        t ? a.prototype.checkAll.call(this, e, t, o, r, !1) : (this.$_checkChildren(this._rootItem, e, o), r ? this._fireItemAllChecked(e) : this._fireRefreshClient());
      }, i.prototype.addCellStyle = function(e, t, o) {
        return this._cellStyleMap.addCellStyle(e, t, o);
      }, i.prototype.removeCellStyle = function(e, t) {
        return this._cellStyleMap.removeCellStyle(e, t);
      }, i.prototype.getUserCellStyle = function(e, t) {
        return this._cellStyleMap.getCellStyle(e, t);
      }, Object.defineProperty(i.prototype, "dataSource", { get: function() {
        return this._ds;
      }, set: function(e) {
        if (e !== this._ds) {
          this.$_clearItems(), this.$_resetSummary();
          var t = this._ds;
          t && !t.disposing && (t.removeTag(this._extents), t.removeTag(this._cellStyleMap), t.removeListener(this), t.unregisterCommandListener(this)), (t = this._ds = e) && (this.$_buildTree(), t.addTag(this._extents), t.addTag(this._cellStyleMap), t.addListener(this, 0), t.registerCommandListener(this)), this._fireReset();
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemCount", { get: function() {
        return this._visibleItems.count;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._itemCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sorted", { get: function() {
        return this._sortFields && this._sortFields.length > 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "movable", { get: function() {
        return !this.sorted;
      }, enumerable: !1, configurable: !0 }), i.prototype._createRootItem = function() {
        var e = new gr(this);
        return this._setExpanded(e, !0), e;
      }, i.prototype.getItem = function(e) {
        return e >= 0 && e < this._visibleItems.count ? this._visibleItems.getItem(e) : null;
      }, i.prototype.getItems = function(e, t) {
        throw new Error("Method not implemented.");
      }, i.prototype.getItemOfRow = function(e, t) {
        return this._itemMap[e];
      }, i.prototype.$_collectItems = function(e, t) {
        for (var o = 0, r = e.count; o < r; o++) {
          var n = e.getItem(o);
          n instanceof xe && (t.push(n), this.$_collectItems(n, t));
        }
      }, i.prototype.getAllItems = function() {
        var e = [];
        return this.$_collectItems(this._rootItem, e), e;
      }, i.prototype.getJsonRows = function() {
        return this.getAllItems().map(function(e) {
          var t = e.getRowObject();
          return t.__level = e.level, t;
        });
      }, i.prototype.getNumber = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.count : this.itemCount;
      }, i.prototype.getSum = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.sum : NaN;
      }, i.prototype.getMax = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.max : NaN;
      }, i.prototype.getMin = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.min : NaN;
      }, i.prototype.getAvg = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.avg : NaN;
      }, i.prototype.getVar = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.vars : NaN;
      }, i.prototype.getVarp = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.varsp : NaN;
      }, i.prototype.getStdev = function(e) {
        var t = this.$_getSummary(e);
        return t ? Math.sqrt(t.vars) : NaN;
      }, i.prototype.getStdevp = function(e) {
        var t = this.$_getSummary(e);
        return t ? Math.sqrt(t.varsp) : NaN;
      }, i.prototype.getDataCount = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.dataCount : 0;
      }, i.prototype.getDataAvg = function(e) {
        var t = this.$_getSummary(e);
        return t ? t.dataAvg : NaN;
      }, i.prototype.findItem = function(e, t, o, r, n) {
        var s = this.dataSource;
        if (!s || this.itemCount < 1)
          return -1;
        var l = Math.min(e.length, t.length);
        if (l < 1)
          return -1;
        var h = o.allFields, u = o.caseSensitive, c = o.partialMatch, d = null, p = [], _ = o.reverse, g = o.compareCallback;
        g = typeof g == "function" ? g : b.compareTextValue;
        for (var y = 0; y < l; y++)
          p[y] = s.getField(e[y]).dataType;
        r = Math.max(0, r), n = Math.min(this._visibleItems.count - 1, n);
        for (var m = r; _ ? m >= n : m <= n; _ ? m-- : m++) {
          var v = this._visibleItems.getItem(m), C = v.dataRow, x = v.dataRow >= 0;
          if (x)
            for (y = 0; y < l; y++) {
              var S = v.getData(e[y]), I = s.getOrgFieldName(e[y]);
              switch (p[y]) {
                case f.ValueType.DATETIME:
                case f.ValueType.DATE:
                  if (t[y] instanceof Date)
                    x = g.call(s.handler, t[y], S, u, c, C, I);
                  else {
                    if (!d) {
                      var E = /[.]/.test(t[y]) ? "yyyy.MM.dd" : /[/]/.test(t[y]) ? "yyyy/MM/dd" : /[-]/.test(t[y]) ? "yyyy-MM-dd" : "yyyyMMdd";
                      d = new Ne(E);
                    }
                    x = g.call(s.handler, t[y], S && d.getText(S), u, c, C, I);
                  }
                  break;
                default:
                  x = g.call(s.handler, t[y], S, u, c, C, I);
              }
              if (x && !h)
                return m;
              if (!x && h)
                break;
            }
          if (x)
            return m;
        }
        return -1;
      }, i.prototype.findCell = function(e, t, o, r, n, s) {
        var l = this.dataSource;
        if (!l || this.itemCount < 1)
          return null;
        for (var h = o.reverse, u = o.caseSensitive, c = o.partialMatch, d = l.fieldCount, p = e.length, _ = null, g = [], y = 0; y < d; y++)
          g[y] = l.getField(y).dataType;
        r = Math.max(0, r), n = Math.min(this._visibleItems.count - 1, n), s = Math.max(h ? -1 : 0, Math.min(s, p - 1)), h ? s < 0 && (s = e.length - 1, r--) : s >= e.length && (r++, s = 0);
        var m = o.compareCallback;
        m = typeof m == "function" ? m : b.compareTextValue;
        for (var v = r; h ? v >= n : v <= n; h ? v-- : v++) {
          var C = this._visibleItems.getItem(v), x = C.dataRow, S = !1;
          if (C.dataRow >= 0)
            for (y = h ? v < r ? p - 1 : s : v > r ? 0 : s; h ? y >= 0 : y < p; h ? y-- : y++) {
              var I = e[y], E = l.getOrgFieldName(I);
              if (I >= 0 && I < d) {
                var O = C.getData(I);
                switch (g[I]) {
                  case f.ValueType.DATETIME:
                  case f.ValueType.DATE:
                    if (t instanceof Date)
                      S = m.call(l.handler, t, O, u, c, x, E);
                    else {
                      if (!_) {
                        var P = /[.]/.test(t) ? "yyyy.MM.dd" : /[/]/.test(t) ? "yyyy/MM/dd" : /[-]/.test(t) ? "yyyy-MM-dd" : "yyyyMMdd";
                        _ = new Ne(P);
                      }
                      S = m.call(l.handler, t, O && _.getText(O), u, c, x, E);
                    }
                    break;
                  default:
                    S = m.call(l.handler, t, O, u, c, x, E);
                }
                if (S)
                  return { itemIndex: v, fieldIndex: I, searchFieldIndex: y };
              }
            }
        }
        return null;
      }, i.prototype.$_internalAddItem = function(e, t, o) {
        var r = xe.getTemp(t, e), n = this.dataSource;
        if (!(this.hideDeleted && Je(r.rowState) || n.isHiddenRow(t.rowId)))
          return r && (o ?? this.$_selectItem(e, r)) ? (r = new xe(t), e.insert(t.index, r), this._itemCount++, this._itemMap[t.rowId] = r, r) : void 0;
      }, i.prototype.$_internalRemoveItem = function(e) {
        e && (e.parent.remove(e), this._itemCount--, this._itemMap[e.row.rowId] = void 0);
      }, i.prototype.$_internalRowStateChanged = function(e, t) {
        if (t === void 0 && (t = !0), e)
          if (this.hideDeleted && Je(e.rowState)) {
            var o = e.parent;
            this.$_internalRemoveItem(e), this.$_clearSummary(), o.expanded && o.visible && (this._visibleItems.remove(e), t = !0), t && this._fireRefresh();
          } else
            this._fireItemChanged(e);
      }, i.prototype.$_selectField = function(e, t, o, r) {
        for (var n = 0, s = e.length; n < s; n++) {
          var l = e[n];
          if (!(l.model instanceof Zi) && l.select(this._filterRuntime, t, o, r))
            return !0;
        }
        return !1;
      }, i.prototype.$_selectItem = function(e, t) {
        if (!t)
          return !1;
        for (var o in this._filters) {
          var r = this._filters[o];
          if (r && !this.$_selectField(r, e, t, Number(o)))
            return !1;
        }
        return !!t;
      }, i.prototype._setItem = function(e, t) {
        this._visibleItems.setItem(e.index, t), this._resetItemIndex(e.index);
      }, i.prototype.$_resetVisibleItems = function() {
        this._visibleItems._clearAndInit(this.fixedCount), this._visibleItems.expand(this._rootItem, !1), this._setExpanded(this._rootItem, !0), this._resetItemIndicies(0);
      }, i.prototype.$_clearItems = function() {
        this._visibleItems.clear(), this._rootItem.clear(), this._itemMap = [], this._itemCount = 0;
      }, i.prototype.$_buildItems = function(e, t, o) {
        t === void 0 && (t = !1);
        for (var r = e.row, n = r.count, s = 0; s < n; s++) {
          var l = r.getChild(s), h = this.$_internalAddItem(e, l, o ? o[l.rowId] : null);
          h && (t && h._restoreExpanded(), l.count > 0 && this.$_buildItems(h, t, o));
        }
      }, i.prototype.$_sortItem = function(e) {
        var t = e.count;
        t > 1 && this.$_sort(e, 0, 0, t - 1);
        for (var o = 0; o < t; o++) {
          var r = e.getItem(o);
          r instanceof xe && this.$_sortItem(r);
        }
      }, i.prototype.$_sort = function(e, t, o, r) {
        var n, s = this._sortFields[t], l = this._sortDirections[t], h = this.dataSource, u = this._sortCases[t] == f.SortCase.INSENSITIVE;
        if (this._sorter.run(e, s, l, u, o, r, t + 1 == this._sortFields.length), n = h.getField(s).dataType == f.ValueType.TEXT && u ? h.equalTexts.bind(h) : h.equalValues.bind(h), t + 1 < this._sortFields.length) {
          for (var c = o, d = c; c < r; )
            c++, n(s, e.getItem(c).row, e.getItem(c - 1).row) || (this.$_sort(e, t + 1, d, c - 1), d = c);
          d < r && this.$_sort(e, t + 1, d, r);
        }
      }, i.prototype.$_buildTree = function(e, t) {
        e === void 0 && (e = !1);
        var o = this.dataSource;
        this._rootItem._dataRow = o.rootRow, this._itemMap[this._rootItem._dataRow.rowId] = this._rootItem, this.$_buildItems(this._rootItem, e, t), this.$_clearSummary();
        for (var r = o.fieldCount, n = this._sortFields, s = this._sortDirections, l = this._sortCases, h = n.length; h--; )
          (n[h] < 0 || n[h] >= r) && (n.splice(h, 1), s.splice(h, 1), l.splice(h, 1));
        this.sorted && this._rootItem.count > 0 && this.$_sortItem(this._rootItem), this.$_resetVisibleItems(), this._checkableTag && this._checkableTag.setRows();
      }, i.prototype.$_resetSummary = function() {
        this._summaryMap = [];
      }, i.prototype.$_resetGroupSummary = function() {
      }, i.prototype.$_clearSummary = function() {
        if (this._summaryMap)
          for (var e = this._summaryMap.length; e--; )
            this._summaryMap[e] && this._summaryMap[e].clear();
      }, i.prototype.$_getSummary = function(e) {
        var t = this._summaryMap[e];
        if (!t) {
          var o = this.dataSource;
          o && o.canSummarize(e) && (t = new kt(e), this._summaryMap[e] = t);
        }
        return t && t.count == 0 && this.itemCount > 0 && this.$_summarize(t), t;
      }, i.prototype.$_summarize = function(e) {
        var t = this.dataSource;
        if (t)
          if (this._filtered || this.hideDeleted || t.hiddenCount > 0) {
            for (var o = this._rootItem.getDescendants(!1), r = o.length, n = [], s = 0; s < r; s++) {
              var l = o[s];
              l instanceof xe && !t.isHiddenRow(l.rowId) && n.push(l.row);
            }
            e.count = n.length, t.summarizeRange(e, n, this.summaryMode == f.SummaryMode.STATISTICAL);
          } else
            e.count = t.rowCount, t.summarize(e, this.summaryMode == f.SummaryMode.STATISTICAL);
      }, i.prototype._fireItemChanged = function(e) {
        this._eventLock <= 0 && this.fireEvent(i.ITEM_CHANGED, e);
      }, i.prototype._fireExpanding = function(e) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent(i.EXPANDING, e);
      }, i.prototype._fireExpanded = function(e) {
        this._eventLock <= 0 && this.fireEvent(i.EXPANDED, e);
      }, i.prototype._fireCollapsing = function(e) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent(i.COLLAPSING, e);
      }, i.prototype._fireCollapsed = function(e) {
        this._eventLock <= 0 && this.fireEvent(i.COLLAPSED, e);
      }, i.prototype._fireParentChanging = function(e, t, o) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent(i.PARENT_CHANGING, e, t, o);
      }, i.prototype._fireParentChanged = function(e, t, o) {
        this._eventLock <= 0 && this.fireEvent(i.PARENT_CHANGED, e, t, o);
      }, i.prototype._refreshItems = function() {
        this.$_clearItems(), this.$_buildTree(), this._fireRefresh();
      }, i.prototype._saveAndRefresh = function(e, t) {
        e === void 0 && (e = !0), t === void 0 && (t = !0), e && this.$_saveExpanded(this._rootItem);
        var o = {};
        this.hasFilters() && function r(n, s) {
          s[n.dataId] = !0, n.children.length > 0 && n.children.forEach(function(l) {
            r(l, s);
          });
        }(this._rootItem, o), this.$_clearItems(), this.$_buildTree(e, o), t && this._fireRefresh();
      }, i.prototype.onDataSourceCommandStackChanged = function(e, t, o) {
        this._fireCommandStackChanged(t, o);
      }, i.prototype.onTreeDataProviderDisposed = function(e) {
        this.disposing || (this.$_clearItems(), this.$_resetSummary(), this._fireReset(), this.dataSource = null);
      }, i.prototype.onTreeDataProviderReset = function(e) {
        this.$_clearItems(), this.$_resetSummary(), this.$_buildTree(), this._fireReset();
      }, i.prototype.onTreeDataProviderRefresh = function(e) {
        this._refreshItems();
      }, i.prototype.onTreeDataProviderRefreshClient = function(e) {
        this._fireRefreshClient();
      }, i.prototype.onDataProvderCleared = function(e) {
        this._refreshItems();
      }, i.prototype.onTreeDataProviderRowCountChanged = function(e, t) {
      }, i.prototype.onTreeDataProviderRowAdding = function(e, t, o) {
        return !0;
      }, i.prototype.onTreeDataProviderRowAdded = function(e, t) {
        var o = this._itemMap[t.parent.rowId];
        if (o) {
          var r = this.$_internalAddItem(o, t, !0);
          r ? (this.$_buildItems(r), this.$_clearSummary(), o.expanded ? this._expandItem(o, !0, !1, 0, !1) : this._fireItemChanged(o)) : this.$_resetVisibleItems();
        }
        this._checkableTag && (this._checkableTag.addRow(t, !1), t.parent.level > 0 && this._checkableTag.addRow(t.parent, !1)), this.$_needSort() && this._saveAndRefresh();
      }, i.prototype.onTreeDataProviderRowsAdded = function(e, t, o) {
        var r, n = this._itemMap[t.rowId];
        if (n && o && (r = o.length) > 0) {
          for (var s = 0; s < r; s++) {
            var l = o[s], h = this.$_internalAddItem(n, l, !0);
            h && this.$_buildItems(h);
          }
          this.$_clearSummary(), n.expanded ? this._expandItem(n, !0, !1, 0, !1) : this._fireItemChanged(n), this._checkableTag && (this._checkableTag.addRows(o), t.level > 0 && this._checkableTag.addRow(t));
        }
        this.$_needSort() && this._saveAndRefresh();
      }, i.prototype.onTreeDataProviderRowRemoving = function(e, t) {
        return !0;
      }, i.prototype.onTreeDataProviderRowRemoved = function(e, t) {
        var o = this._itemMap[t.rowId];
        if (o) {
          var r = o.parent;
          this.$_internalRemoveItem(o), this.$_clearSummary(), r.expanded && r.visible && (this._visibleItems.remove(o), this._fireRefresh());
        }
      }, i.prototype.onTreeDataProviderRowsRemoving = function(e, t) {
        return !0;
      }, i.prototype.onTreeDataProviderRowsRemoved = function(e, t) {
        for (var o = t.length, r = !1, n = 0; n < o; n++) {
          var s = t[n], l = this._itemMap[s.rowId];
          if (l) {
            var h = l.parent;
            this.$_internalRemoveItem(l), h.expanded && h.visible && (this._visibleItems.remove(l), r = !0);
          }
        }
        this.$_clearSummary(), r && this._fireRefresh();
      }, i.prototype.onTreeDataProviderRowUpdating = function(e, t) {
        return !0;
      }, i.prototype.onTreeDataProviderRowUpdated = function(e, t) {
        if (this.$_needSort())
          this._saveAndRefresh();
        else {
          var o = this._itemMap[t.rowId];
          this.$_clearSummary(), this._fireItemUpdated(o), this._fireRefresh();
        }
        this._checkableTag && this._checkableTag.updateRow(t);
      }, i.prototype.onTreeDataProviderRowsUpdating = function(e, t) {
        return !0;
      }, i.prototype.onTreeDataProviderRowsUpdated = function(e, t) {
        this.$_needSort() ? this._saveAndRefresh() : (this.$_clearSummary(), this._fireRefresh()), this._checkableTag && this._checkableTag.updateRows(t);
      }, i.prototype.onTreeDataProviderValueChanging = function(e, t, o) {
        return !0;
      }, i.prototype.onTreeDataProviderValueChanged = function(e, t, o) {
        if (this.$_needSort())
          this._saveAndRefresh();
        else {
          var r = this._itemMap[t.rowId];
          this.$_clearSummary(), this._fireItemUpdated(r), this._fireRefresh();
        }
        this._checkableTag && this._checkableTag.updateRow(t);
      }, i.prototype.onTreeDataProviderIconIndexChanged = function(e, t) {
        var o = this._itemMap[t.rowId];
        o && o.visible && this._fireItemChanged(o);
      }, i.prototype.onTreeDataProviderHasChildrenChanged = function(e, t) {
        var o = this._itemMap[t.rowId];
        o && o.visible && this._fireItemChanged(o);
      }, i.prototype.onTreeDataProviderRowStateChanged = function(e, t, o) {
        var r = this._itemMap[t.rowId];
        this.$_internalRowStateChanged(r, o), this._checkableTag && this._checkableTag.updateRow(t), !r && o && this._saveAndRefresh();
      }, i.prototype.onTreeDataProviderRowStatesChanged = function(e, t) {
        var o = t.length, r = !1;
        if (o == 1) {
          var n = t[0];
          r = !(u = this._itemMap[n.rowId]), this.$_internalRowStateChanged(u), this._checkableTag && this._checkableTag.updateRow(n), r && this._saveAndRefresh();
        } else if (o > 0) {
          var s = !1;
          if (this.hideDeleted)
            for (var l = 0, h = t.length; l < h; l++) {
              var u = this._itemMap[t[l].rowId];
              if (r = r || !u, u && Je(u.rowState)) {
                var c = u.parent;
                this.$_internalRemoveItem(u), c.expanded && c.visible && this._visibleItems.remove(u), s = !0;
              }
            }
          this._checkableTag && this._checkableTag.changeStates(t), s && this.$_clearSummary(), r ? this._saveAndRefresh() : this._fireRefresh();
        }
      }, i.prototype.onTreeDataProviderRowSiblingMoved = function(e, t, o) {
        if (!this.$_needSort()) {
          var r = this._itemMap[t.rowId];
          r && (r.parent.moveChild(r.childIndex, o), this.$_resetVisibleItems(), this._fireRefresh());
        }
      }, i.prototype.onTreeDataProviderRowsSiblingMoved = function(e, t, o) {
        if (!this.$_needSort()) {
          var r = this._itemMap[t[0].rowId];
          r && (r.parent.moveChildren(r.childIndex, t.length, o), this.$_resetVisibleItems(), this._fireRefresh());
        }
      }, i.prototype.onTreeDataProviderRowParentChanged = function(e, t, o, r) {
        var n = this._itemMap[t.rowId];
        if (n) {
          var s = this._itemMap[o.rowId];
          this.$_needSort() && (r = s ? s.count() : 0), n.changeParent(s, r), this.$_resetVisibleItems(), this._fireRefresh();
        }
      }, i.prototype.onTreeDataProviderRowsParentChanged = function(e, t, o, r) {
        var n = this._itemMap[t[0].rowId];
        if (n) {
          var s = this._itemMap[o.rowId];
          this.$_needSort() && (r = s ? s.count() : 0);
          for (var l = 0; l < t.length; l++) {
            var h = t[l];
            (n = this._itemMap[h.rowId]).changeParent(s, r + l);
          }
          this.$_resetVisibleItems(), this._fireRefresh();
        }
      }, i.prototype.onTreeDataProviderRowsHideChanged = function(e, t, o) {
        if (o) {
          for (var r = !1, n = 0, s = t.length; n < s; n++) {
            var l = t[n], h = this._itemMap[l];
            if (h) {
              var u = h.parent;
              this.$_internalRemoveItem(h), u.expanded && u.visible && this._visibleItems.remove(h), r = !0;
            }
          }
          r && this.$_clearSummary(), this._fireRefresh();
        } else
          this._saveAndRefresh();
      }, i.prototype.onTreeDataProviderDataLoadComplated = function() {
        this._fireDataLoadComplated();
      }, i.ITEM_CHANGED = "onTreeItemProviderItemChanged", i.EXPANDING = "onTreeItemProviderExpanding", i.EXPANDED = "onTreeItemProviderExpanded", i.COLLAPSING = "onTreeItemProviderCollapsing", i.COLLAPSED = "onTreeItemProviderCollapsed", i.PARENT_CHANGING = "onTreeItemProviderParentChanging", i.PARENT_CHANGED = "onTreeItemProviderParentChanged", i;
    }(Tn), Wa = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._rs = e, t;
      }
      return w(i, a), i.prototype.getCount = function(e) {
        return this._rs.getNumber(e);
      }, i.prototype.getSum = function(e) {
        return this._rs.getSum(e);
      }, i.prototype.getMax = function(e) {
        return this._rs.getMax(e);
      }, i.prototype.getMin = function(e) {
        return this._rs.getMin(e);
      }, i.prototype.getAvg = function(e) {
        return this._rs.getAvg(e);
      }, i.prototype.getVar = function(e) {
        return this._rs.getVar(e);
      }, i.prototype.getVarp = function(e) {
        return this._rs.getVarp(e);
      }, i.prototype.getStdev = function(e) {
        return this._rs.getStdev(e);
      }, i.prototype.getStdevp = function(e) {
        return this._rs.getStdevp(e);
      }, i.prototype.getDataCount = function(e) {
        return this._rs.getDataCount(e);
      }, i.prototype.getDataAvg = function(e) {
        return this._rs.getDataAvg(e);
      }, i;
    }(J), yr = function(a) {
      function i(e, t, o) {
        var r = a.call(this, t && t.row) || this;
        return r._values = [], r._changeValues = [], r._started = !1, r._checkDiff = !1, r._strictDiff = !1, r._invalidFields = [], r._rs = e, r._target = t, r._state = o, r;
      }
      return w(i, a), i.prototype.dispose = function() {
        this._values = null, a.prototype.dispose.call(this);
      }, Object.defineProperty(i.prototype, "values", { get: function() {
        return this._values.concat();
      }, set: function(e) {
        var t = this.dataSource, o = t.fieldCount;
        if (e) {
          o = Math.min(o, e.length);
          for (var r = 0; r < o; r++) {
            var n = t.getField(r), s = this._values[r], l = n.readValue(e[r]);
            this._values[r] = l, this._started && parent && !n.equalValues(s, l) && this._rs._editItemCellUpdated(this, r, s, l);
          }
        } else
          this._values = [];
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "invalidFields", { get: function() {
        return this._invalidFields;
      }, enumerable: !1, configurable: !0 }), i.prototype.beginEdit = function(e, t) {
        this._started = !0, this._checkDiff = e, this._strictDiff = t;
      }, i.prototype.setValue = function(e, t) {
        var o = this.dataSource;
        if (e < 0 && e >= o.fieldCount)
          throw new RangeError("field index is out of bounds: " + e);
        var r = o.getField(e), n = this._values[e];
        t = r.readValue(t), this._values[e] = t, this._started && this.parent && !r.equalValues(n, t) && this._rs._editItemCellUpdated(this, e, n, t);
      }, Object.defineProperty(i.prototype, "dataSource", { get: function() {
        return this._rs.dataSource;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemState", { get: function() {
        return this._state;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowState", { get: function() {
        return this._target ? this._target.rowState : f.RowState.NONE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expanded", { get: function() {
        return !!this._target && this._target.expanded;
      }, enumerable: !1, configurable: !0 }), i.prototype.getData = function(e) {
        return e = this.dataSource.getFieldIndex(e), this._values[e];
      }, i.prototype.setData = function(e, t) {
        var o = this.dataSource;
        if ((e = o.getFieldIndex(e)) < 0 || e >= o.fieldCount)
          throw new RangeError("field index is out of bounds: " + e);
        var r = o.getField(e), n = this._values[e];
        t = r.readValue(t);
        var s = !this._checkDiff;
        s || (s = this._strictDiff ? !r.equalValues(n, t) : !r.sameValues(n, t)), s && (this._values[e] = t, this._changeValues[e] = !0, this.parent && (this._rs._editItemCellUpdated(this, e, n, t), this._rs._editItemCellEdited(this, e)));
      }, i.prototype.getRowData = function() {
        return this._values.concat();
      }, i.prototype.getRowObject = function() {
        var e = this.dataSource;
        if (e) {
          for (var t = {}, o = 0, r = e.fieldCount; o < r; o++)
            t[e.getOrgFieldName(o)] = this._values[o];
          return t;
        }
        return null;
      }, i.prototype.isEdited = function(e) {
        return this._changeValues[e];
      }, Object.defineProperty(i.prototype, "provider", { get: function() {
        return this._rs && this._rs.source;
      }, enumerable: !1, configurable: !0 }), i;
    }(xe), Xc = function(a) {
      function i(e) {
        var t = a.call(this, null, e) || this;
        return t._observers = [], t._appending = !1, t._insertAfter = !1, t._insertIndex = -1, t._rs = new to(), t.source = t._rs, t._summarizer = new Wa(t._rs), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._rs = this._rs && this._rs.dispose(), this._summarizer = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "summarizer", { get: function() {
        return this._summarizer;
      }, enumerable: !1, configurable: !0 }), i.prototype.getLevels = function(e) {
        return this._rs.getLevels(e);
      }, i.prototype.setLabelComparer = function(e) {
        this._rs.labelComparer = e;
      }, i.prototype.orderBy = function(e, t, o) {
        this._rs.orderBy(e, t, o);
      }, i.prototype.getSortFields = function() {
        return this._rs.getSortFields();
      }, i.prototype.getSortDirections = function() {
        return this._rs.getSortDirections();
      }, i.prototype.getSortCases = function() {
        return this._rs.getSortCases();
      }, Object.defineProperty(i.prototype, "labelComparer", { get: function() {
        return this._rs.labelComparer;
      }, set: function(e) {
        this._rs.labelComparer = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.isFiltered = function(e) {
        return e != null ? this._rs.hasFilter(e) : this._rs.hasFilters();
      }, i.prototype.addFilter = function(e, t) {
        this._rs.addFilter(e, t);
      }, i.prototype.clearAllFilters = function() {
        this._rs.clearAllFilters();
      }, i.prototype.beginFiltering = function() {
        this._rs.beginFiltering();
      }, i.prototype.endFiltering = function(e, t) {
        this._rs.endFiltering(!0, e, t);
      }, Object.defineProperty(i.prototype, "includeParentItem", { set: function(e) {
        this._rs.includeParentItem = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.expand = function(e, t, o, r) {
        this._rs.expand(e, t, o, r);
      }, i.prototype.collapse = function(e, t) {
        this._rs.collapse(e, t);
      }, i.prototype.expandAll = function(e) {
        this._rs.expandAll(e);
      }, i.prototype.collapseAll = function() {
        this._rs.collapseAll();
      }, i.prototype.getCheckedRows = function() {
        return this._rs.getCheckedRows();
      }, i.prototype.getCheckedRowIds = function() {
        return this._rs.getCheckedRowIds();
      }, Object.defineProperty(i.prototype, "checkableExpression", { set: function(e) {
        this._rs.checkableExpression = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkableCallback", { set: function(e) {
        this._rs.checkableCallback = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.resetCheckables = function() {
        this._rs.resetCheckables();
      }, i.prototype.applyCheckables = function() {
        this._rs.applyCheckables();
      }, i.prototype.getAllItems = function() {
        return this._rs.getAllItems();
      }, i.prototype.getItem = function(e) {
        return this._rs.getItem(e);
      }, i.prototype.getItemOfRow = function(e) {
        return this._rs.getItemOfRow(e);
      }, i.prototype.findItem = function(e, t, o, r, n) {
        return this._rs.findItem(e, t, o, r, n);
      }, i.prototype.findCell = function(e, t, o, r, n, s) {
        return this._rs.findCell(e, t, o, r, n, s);
      }, i.prototype.checkItem = function(e, t, o, r) {
        this._rs.checkItem(e, t, o, r);
      }, i.prototype.checkAll = function(e, t, o, r) {
        this._rs.checkAll(e, t, o, r);
      }, i.prototype.setCheckFieldIndex = function(e) {
        this._rs.setCheckFieldIndex(e);
      }, i.prototype.getJsonRows = function() {
        return this._rs.getJsonRows();
      }, Object.defineProperty(i.prototype, "summaryMode", { get: function() {
        return this._rs.summaryMode;
      }, set: function(e) {
        this._rs.summaryMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupSummaryMode", { set: function(e) {
        this._rs.groupSummaryMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hideDeleted", { get: function() {
        return this._rs.hideDeleted;
      }, set: function(e) {
        this._rs.hideDeleted = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortMode", { get: function() {
        return this._rs.sortMode;
      }, set: function(e) {
        this._rs.sortMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemCount", { get: function() {
        return this._rs.itemCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._rs.rowCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sorted", { get: function() {
        return this._rs.sorted;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "movable", { get: function() {
        return this._rs.movable;
      }, enumerable: !1, configurable: !0 }), i.prototype.getItems = function(e, t) {
        throw new Error("Method not implemented.");
      }, i.prototype.canAppend = function() {
        return !1;
      }, i.prototype.canInsert = function(e) {
        return !!e;
      }, i.prototype.canDelete = function(e) {
        return !!e;
      }, i.prototype.$_replaceItem = function(e, t) {
        e.parent.setItem(e, t), this._rs._setItem(e, t);
      }, i.prototype._doBeginUpdate = function(e) {
        return this._editingItem = this._editItem = this._createEditItem(e, f.ItemState.UPDATING, null), this.$_replaceItem(e, this._editItem), this._editItem;
      }, i.prototype._doBeginAppend = function(e) {
        return this._editingItem = this._editItem = this._createEditItem(null, f.ItemState.APPENDING, e), this._editItem;
      }, i.prototype._doBeginInsert = function(e, t, o, r) {
        if (o === void 0 && (o = !1), r === void 0 && (r = !1), r)
          this._appending = !0, e.setExpanded(!0, !1, !1), this._editingItem = this._editItem = this._createEditItem(null, f.ItemState.INSERTING, t), this._rs.appendItem(e, this._editItem);
        else {
          var n = e.parent;
          this._appending = !1, this._insertAfter = o, this._insertIndex = n.indexOf(e), this._editingItem = this._editItem = this._createEditItem(e, f.ItemState.INSERTING, t), this._rs.insertItem(n, this._editItem, this._insertIndex, this._insertAfter);
        }
        return this._editItem;
      }, i.prototype._doCompleteUpdate = function(e) {
        var t = !1;
        if (this.dataSource) {
          this.$_replaceItem(this._editItem, e);
          var o = this._editItem.row;
          try {
            t = o.update(this._editItem.values, !1);
          } catch (r) {
            throw this.$_replaceItem(e, this._editItem), r;
          }
          t || this.$_replaceItem(e, this._editItem);
        }
        return t;
      }, i.prototype._doCompleteInsert = function(e) {
        var t = this.dataSource, o = this._editItem, r = !1;
        if (t) {
          var n = o.parent, s = n.row, l = t.createRow(o.values, -1, !1), h = o.parent.indexOf(o);
          this._rs.removeItem(o);
          try {
            r = this.isAppending ? s.addChild(l, !1) : s.insertChild(h, l, !1);
          } catch (c) {
            throw this._appending ? this._rs.appendItem(n, o) : this._rs.insertItem(n, o, this._insertIndex, this._insertAfter), c;
          }
          if (r) {
            var u = n.itemOfRow(l.rowId);
            o.setCheckable(u.checkable), this._copyExtents(o, u), o.heights && (u.heights = o.heights.slice());
          } else
            this._appending ? this._rs.appendItem(n, o) : this._rs.insertItem(n, o, this._insertIndex, this._insertAfter);
        }
        return r;
      }, i.prototype._doCancelEdit = function(e, t) {
        e == f.ItemState.UPDATING ? (this.$_replaceItem(this._editItem, t), this._copyExtents(this._editItem, t)) : e == f.ItemState.INSERTING && this._editItem.parent && this._rs.removeItem(this._editItem), a.prototype._doCancelEdit.call(this, e, t);
      }, i.prototype._doCommitEdit = function(e, t) {
        return e == f.ItemState.UPDATING || f.ItemState.INSERTING, a.prototype._doCommitEdit.call(this, e, t);
      }, i.prototype.remove = function(e, t) {
        if (e) {
          var o = e.row;
          o && o.parent.removeChild(o, t);
        }
      }, i.prototype.getRemovableRows = function(e) {
        if (e.length > 0) {
          for (var t = [], o = 0, r = e.length; o < r; o++) {
            var n = this._rs.getItem(e[o]);
            t.push(n.dataId);
          }
          return t;
        }
      }, i.prototype.removeRows = function(e, t) {
        e && this.dataSource.removeRows(e, t);
      }, i.prototype.updateRows2 = function(e) {
      }, i.prototype.setDataSource = function(e) {
        this._rs.dataSource = e;
      }, Object.defineProperty(i.prototype, "rootItem", { get: function() {
        return this._rs._rootItem;
      }, enumerable: !1, configurable: !0 }), i.prototype._createEditItem = function(e, t, o) {
        this._editingItem = null;
        var r = this.dataSource;
        if (!r)
          return null;
        var n, s = r.fieldCount;
        switch (t) {
          case f.ItemState.UPDATING:
            n = this._editingItem = new yr(this, e, t);
            for (var l = 0; l < s; l++)
              n.setValue(l, e.getData(l));
            this._copyExtents(e, n), e.heights && (n.heights = e.heights.slice());
            break;
          case f.ItemState.INSERTING:
          case f.ItemState.APPENDING:
            if ((n = this._editingItem = new yr(this, null, t))._setExtents(0), o)
              for (l = 0; l < s; l++)
                o.length > l && n.setValue(l, o[l]);
        }
        return this._editingItem;
      }, i.prototype.addCellStyle = function(e, t, o) {
        return this._rs.addCellStyle(e, t, o);
      }, i.prototype.removeCellStyle = function(e, t) {
        return this._rs.removeCellStyle(e, t);
      }, i.prototype.getUserCellStyle = function(e, t) {
        return this._rs.getUserCellStyle(e, t);
      }, i.prototype.onItemProviderFilterAdd = function(e, t, o) {
      }, i.prototype.onItemProviderFilterRemove = function(e, t, o) {
      }, i.prototype.onItemProviderFilterClear = function(e, t) {
      }, i.prototype.onItemProviderFilterClearAll = function(e) {
      }, i.prototype.onItemProviderFiltered = function(e, t, o) {
        this._fireFiltered(t, o);
      }, i.prototype.onItemProviderSort = function(e, t, o) {
        this._fireSort(t, o, null);
      }, i.prototype.onItemProviderSorted = function(e) {
        this._fireSorted();
      }, i.prototype.onTreeItemProviderItemChanged = function(e, t) {
        this._eventLock <= 0 && this.fireEvent(to.ITEM_CHANGED, t);
      }, i.prototype.onTreeItemProviderExpanding = function(e, t) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent(to.EXPANDING, t);
      }, i.prototype.onTreeItemProviderExpanded = function(e, t) {
        this._eventLock <= 0 && this.fireEvent(to.EXPANDED, t);
      }, i.prototype.onTreeItemProviderCollapsing = function(e, t) {
        return !(this._eventLock <= 0) || this.fireConfirmEvent(to.COLLAPSING, t);
      }, i.prototype.onTreeItemProviderCollapsed = function(e, t) {
        this._eventLock <= 0 && this.fireEvent(to.COLLAPSED, t);
      }, i;
    }(ft), yi = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return Object.setPrototypeOf(t, i.prototype), t;
      }
      return w(i, a), i;
    }(Error), Me = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, t) || this;
        return Object.setPrototypeOf(n, i.prototype), n.level = e, n.column = o, n.userMessage = r, n;
      }
      return w(i, a), i.prototype.toString = function() {
        return "Validation failed[" + this.level.toUpperCase() + "]: " + this.message;
      }, i;
    }(yi), Jc = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._active = !0, t._mode = f.ValidationMode.ALWAYS, t._level = f.ValidationLevel.ERROR, t._name = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "name", { get: function() {
        return this._name;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "active", { get: function() {
        return this._active;
      }, set: function(e) {
        this._active = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mode", { get: function() {
        return this._mode;
      }, set: function(e) {
        this._mode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "level", { get: function() {
        return this._level;
      }, set: function(e) {
        this._level = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "criteria", { get: function() {
        return this._criteria;
      }, set: function(e) {
        e != this._criteria && (this._criteria = e, this._exprNode = e ? Mt.Default.parse(e, i.CAPITAL_INDEXERS) : null);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "message", { get: function() {
        return this._message;
      }, set: function(e) {
        this._message = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "description", { get: function() {
        return this._description;
      }, set: function(e) {
        this._description = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.validate = function(e) {
        if (this._exprNode && !this._exprNode.evaluate(e)) {
          var t = this._message || this._description || this._name || this._criteria;
          throw new Me(this._level, t, null, this._message);
        }
      }, i.prototype.doAssignSimple = function(e) {
        if (typeof e == "string")
          return this.criteria = e, !0;
      }, i.CAPITAL_INDEXERS = ["value", "values"], i;
    }(J), Ua = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._items = [], t._isColumn = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._items = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "items", { get: function() {
        return this._items.slice();
      }, set: function(e) {
        this.assignFrom(e);
      }, enumerable: !1, configurable: !0 }), i.prototype.clear = function() {
        this._items = [];
      }, i.prototype.addAll = function(e) {
        if (e && e.length > 0)
          for (var t = 0, o = e.length; t < o; t++)
            this._items.push(e[t]);
      }, i.prototype.validate = function(e, t, o, r) {
        for (var n = 0; n < this._items.length; n++) {
          var s = this._items[n];
          if (s.active && (s.mode == e || s.mode == f.ValidationMode.ALWAYS))
            try {
              s.validate(t);
            } catch (l) {
              if (!(o = o && !this._isColumn) || Hi(s.level, r) < 0)
                throw l instanceof Me ? (l.level = s.level, l) : new Me(s.level, l);
            }
        }
      }, i.prototype.assignFrom = function(e) {
        if (e !== this && (this.clear(), e)) {
          b.isArray(e) || (e = [e]);
          for (var t = 0, o = e.length; t < o; t++) {
            var r = new Jc();
            r.assignFrom(e[t]), this._items.push(r);
          }
        }
      }, i;
    }(J), Zc = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._item = null, e._dataSource = null, e._fieldCount = 0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._item = null, this._dataSource = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "item", { get: function() {
        return this._item;
      }, set: function(e) {
        this._item = e, this._dataSource = this._item.dataSource, this._fieldCount = this._dataSource ? this._dataSource.fieldCount : 0;
      }, enumerable: !1, configurable: !0 }), i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        switch (e) {
          case i.ID_ROW:
            return this._item.index;
          case i.ID_DATAROW:
            return this._item.dataRow;
          case i.ID_CHECKED:
            return this._item.checked;
        }
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (t < 0 || t >= this._fieldCount)
          throw new ie("Data field index out of bounds:" + t);
        switch (e) {
          case i.ID_VALUE:
          case i.ID_VALUES:
            return this._item.getData(t);
        }
        throw new ie("Invalid identifier indexer: " + e);
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        var r = o ? this._dataSource.getFieldIndexC(t) : this._dataSource.getFieldIndex(t);
        if (r < 0 || r >= this._fieldCount)
          throw new ie("Data field is not exists:" + t);
        switch (e) {
          case i.ID_VALUE:
          case i.ID_VALUES:
            return this._item.getData(r);
        }
        throw new ie("Invalid identifier indexer: " + e);
      }, i.ID_ROW = 0, i.ID_DATAROW = 1, i.ID_CHECKED = 2, i.ID_VALUE = 3, i.ID_VALUES = 4, i.IDENTS = { row: i.ID_ROW, datarow: i.ID_DATAROW, checked: i.ID_CHECKED, value: i.ID_VALUE, values: i.ID_VALUES }, i;
    }(bt), Qc = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._index = null, this._dataSource = null, a.prototype._doDispose.call(this);
      }, i.prototype.setIndex = function(e) {
        this._index = e, this._value = this._index.item.getData(this._index.dataColumn.dataIndex), this._dataSource = this._index.item.dataSource;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        switch (e) {
          case i.ID_VALUE:
            return this._value;
          case i.ID_ROW:
            return this._index.itemIndex;
          case i.ID_DATAROW:
            return this._index.item.dataRow;
          case i.ID_INDEX:
            return this._index.column.index;
          case i.ID_FIELD:
            return this._index.dataColumn.dataIndex;
          case i.ID_CHECKED:
            var t = this._index.item;
            return !!t && t.checked;
          case i.ID_TAG:
            return this._index.column.tag;
          case i.ID_BASE:
            var o = this._index.dataColumn.baseIndex;
            return o >= 0 ? this._index.item.getData(o) : void 0;
        }
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        var o = this._dataSource.fieldCount;
        if (t < 0 || t >= o)
          throw new ie("Data field index out of bounds:" + t);
        switch (e) {
          case i.ID_VALUE:
          case i.ID_VALUES:
            return this._index.item.getData(t);
        }
        throw new ie("Invalid identifier indexer: " + e);
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        var r = o ? this._dataSource.getFieldIndexC(t) : this._dataSource.getFieldIndex(t), n = this._dataSource.fieldCount;
        if (r < 0 || r >= n)
          throw new ie("Data field is not exists:" + t);
        switch (e) {
          case i.ID_VALUE:
          case i.ID_VALUES:
            return this._index.item.getData(r);
        }
        throw new ie("Invalid identifier indexer: " + e);
      }, i.ID_VALUE = 0, i.ID_ROW = 1, i.ID_DATAROW = 2, i.ID_INDEX = 3, i.ID_FIELD = 4, i.ID_CHECKED = 5, i.ID_TAG = 6, i.ID_BASE = 7, i.ID_VALUES = 8, i.IDENTS = { value: i.ID_VALUE, row: i.ID_ROW, datarow: i.ID_DATAROW, index: i.ID_INDEX, field: i.ID_FIELD, checked: i.ID_CHECKED, tag: i.ID_TAG, base: i.ID_BASE, values: i.ID_VALUES }, i;
    }(bt), ed = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._cellList = {}, t._owner = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "owner", { get: function() {
        return this._owner;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellList", { get: function() {
        return this._cellList;
      }, enumerable: !1, configurable: !0 }), i.prototype.validateCell = function(e, t, o) {
        this.$_validateCell(e, t, !0, this._owner.editOptions.commitLevel, o);
      }, i.prototype.validateRow = function(e, t, o, r) {
        var n = this._owner.editOptions.commitLevel;
        if (!o)
          for (var s = this._owner.getDataColumns(), l = 0, h = s.length; l < h; l++) {
            var u = s[l], c = W.temp(this._owner, e.index, u);
            try {
              this.$_validateCell(c, t, !0, n, r);
            } catch (_) {
              if (!(_ instanceof Me) || Hi(_.level, n) < 0)
                throw _;
              !r && this.addInvalidateCell(c, _);
            }
          }
        var d = this._owner.validations;
        if (d && d.count > 0) {
          var p = this._owner.rowValidationRuntime;
          p.item = e, d.validate(t ? f.ValidationMode.INSERT : f.ValidationMode.UPDATE, p, !0, n);
        }
        this.owner._fireValidateRow(e, t, e.getRowObject());
      }, i.prototype.clearInvalidCells = function(e) {
        this.$_clearInvalidateList(e);
      }, i.prototype.clearInvalidCell = function(e) {
        this.$_clearInvalidateCell(e);
      }, i.prototype.getError = function(e) {
        return e.item ? (this._cellList[nt(e.item.itemState) ? -1 : e.dataId] || {})[e.dataField] : null;
      }, i.prototype.cloneError = function(e, t) {
        var o = this._cellList;
        o[e] && (o[t] = JSON.parse(JSON.stringify(o[e])));
      }, i.prototype.addInvalidateCell = function(e, t) {
        this.$_addInvalidateCell(e, t);
      }, i.prototype.getInvalidCells = function(e) {
        var t, o = [], r = this._cellList;
        if (e != null) {
          var n = this._owner.dataSource.getRowId(e);
          if (n == null)
            return null;
          (t = {})[n] = this._cellList[n], r = t;
        }
        for (var s in r) {
          var l = r[s];
          for (var h in l) {
            var u = l[h];
            o.push(b.deepCopy(u));
          }
        }
        return o.length > 0 ? o : null;
      }, i.prototype.validateCells = function(e, t, o) {
        var r = this._owner, n = r.getDataColumns(), s = [];
        if (e = b.makeArray(e))
          for (var l = 0, h = e.length; l < h; l++)
            (c = r.getItem(e[l])) && c.isDataRow && (delete this._cellList[c.dataId], s.push(c));
        else {
          if (t)
            for (l = 0, h = r.itemCount; l < h; l++)
              (c = r.getItem(l)) && c.isDataRow && (delete this._cellList[c.dataId], s.push(c));
          else
            s = !r.isTree() && r.paged && o ? r.itemSource.getPagingAllItems() : r.getAllItems();
          this._cellList = {};
        }
        l = 0;
        for (var u = s.length; l < u; l++) {
          var c;
          if ((c = s[l]).isDataRow) {
            var d = 0;
            for (h = n.length; d < h; d++) {
              var p = n[d], _ = gt.tempItem(r, c, p);
              try {
                this.$_validateCell(_, !1, !1, f.ValidationLevel.IGNORE, !1);
              } catch {
                b.log("validateCells valiation fail add");
              }
            }
          }
        }
        return r.refreshView(), this.getInvalidCells();
      }, i.prototype.clearInvalidateList = function() {
        this.$_clearInvalidateList();
      }, i.prototype.checkRowIds = function() {
        var e = this.owner.dataSource;
        for (var t in this._cellList) {
          var o = parseInt(t);
          o !== -1 && e.getDataRow(o) < 0 && delete this._cellList[o];
        }
      }, i.prototype.$_validateCell = function(e, t, o, r, n) {
        var s = e.dataColumn;
        if (s) {
          var l = this.owner.editOptions.validateOnlyEditColumn, h = !0;
          if ((e.item instanceof Ji || e.item instanceof yr) && (h = e.item.isEdited(s.dataIndex)), !l || h || s.required)
            try {
              var u = e.item.getData(s.dataIndex);
              if (s.required) {
                var c = s.grid, d = c && c.dataSource && c.dataSource.getField(s.dataIndex);
                if (d && d.isEmpty(u)) {
                  var p = s.requiredMessage || "Value is required: " + s.fieldName;
                  throw new Me(s.requiredLevel || f.ValidationLevel.ERROR, p, s, s.requiredMessage);
                }
              }
              var _ = s.validations;
              if (_ && _.count > 0) {
                var g = this._owner.columnValidationRuntime;
                g.setIndex(e), _.validate(t ? f.ValidationMode.INSERT : f.ValidationMode.UPDATE, g, o, r);
              }
              this.owner._fireValidateCell(e, t, e.item.getData(e.dataField)), !n && this.$_clearInvalidateCell(e);
            } catch (y) {
              throw y instanceof Me && (y.column = s, !n && this.$_addInvalidateCell(e, y)), y;
            }
        }
      }, i.prototype.$_addInvalidateCell = function(e, t) {
        var o = nt(e.item.itemState) ? -1 : e.dataId, r = e.dataColumn && e.dataColumn.dataIndex;
        if (!(o == null || r <= -1)) {
          var n = this._cellList;
          (n[o] = n[o] || {})[r] = { dataRow: e.dataRow, message: t.message, userMessage: t.userMessage, level: t.level, column: e.dataColumn.name, fieldName: e.dataColumn.fieldName };
        }
      }, i.prototype.$_clearInvalidateCell = function(e) {
        var t = nt(e.item.itemState) ? -1 : e.dataId, o = e.dataField, r = this._cellList[t];
        r && r[o] && delete r[o];
      }, i.prototype.$_clearInvalidateList = function(e) {
        e != null ? delete this._cellList[e] : this._cellList = {}, this._owner.refreshView();
      }, i;
    }(J), td = /(.*)/, id = "$1", io = function() {
      function a(i) {
        this._pattern = td, this._replace = id, this.$_parse(this._format = i);
      }
      return a.getFormatter = function(i) {
        var e = a.Formatters[i];
        return e || (a.Formatters[i] = e = new a(i)), e;
      }, Object.defineProperty(a.prototype, "format", { get: function() {
        return this._format;
      }, enumerable: !1, configurable: !0 }), a.prototype.getText = function(i) {
        return i && i.replace(this._pattern, this._replace);
      }, a.prototype.$_parse = function(i) {
        if (i) {
          var e = i.trim().split(b.colonreg);
          if (e.length > 1) {
            var t = e[0].trim(), o = e[1].trim();
            t && o && (t.charAt(0) == '"' && (t = t.substr(1, t.length - 2)), t && (o.charAt(0) == '"' && (o = t.substr(1, o.length - 2)), o && (this._pattern = new RegExp(t, e[2] || ""), this._replace = o)));
          }
        }
      }, a.Formatters = {}, a;
    }(), zt = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._changed = function() {
      }, i.INIT_COUNT = 200, i;
    }(J), Gn = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._level = 0, e._mergeMode = !1, e;
      }
      return w(i, a), i.getDefault = function(e, t) {
        var o = i.$_default;
        return o._level = e, o._mergeMode = t, o;
      }, i.prototype.parseInit = function(e, t, o, r, n) {
        var s = e.itemCount;
        (r = Math.min(s - o, r)) < 1 || (this._mergeMode ? this.$_parseMerged(e, t, o, r, n) : this.$_parseNormal(e, t, o, r, n));
      }, i.prototype.parseBounds = function(e, t, o, r, n) {
        if (!(e.itemCount < 1)) {
          for (o = Math.max(0, o); o >= 0 && n[o] <= 0; ) {
            var s = e.getItem(o);
            if (s == this.$_getAncestor(s, this._level))
              break;
            o--;
          }
          for (; o <= r && n[o] > 0; )
            o++;
          o <= r && (this._mergeMode ? this.$_parseMergedBounds(e, t, o, r, n) : this.$_parseNormalBounds(e, t, o, r, n));
        }
      }, i.prototype.$_getAncestor = function(e, t) {
        var o = b.cast(e, Se);
        for (o || (o = e.parent); o.level > t; )
          o = o.parent;
        return o;
      }, i.prototype.$_parseNormal = function(e, t, o, r, n) {
        var s = e.itemCount;
        if (!(s < 1)) {
          var l = e.fixedCount, h = e.getItem(o), u = h, c = o, d = c + 1;
          for (n[c] = c + 1; d < s; )
            h = e.getItem(d), (d == l || h.level != u.level || h.constructor !== u.constructor || h instanceof Ke || h instanceof He) && (c = d), n[d] = c + 1, d++, u = h;
        }
      }, i.prototype.$_parseMerged = function(e, t, o, r, n) {
        var s = e.itemCount;
        if (!(s < 1))
          for (var l = e.getItem(o), h = this.$_getAncestor(l, this._level), u = o, c = n[u] = u + 1; c < s; ) {
            l = e.getItem(c);
            var d = this.$_getAncestor(l, this._level);
            if (d != h) {
              if (c >= r)
                break;
              h = d, u = c;
            }
            n[c] = u + 1, c++;
          }
      }, i.prototype.$_parseNormalBounds = function(e, t, o, r, n) {
        var s = e.itemCount;
        if (!(s < 1)) {
          var l = e.fixedCount, h = e.getItem(o), u = h, c = o, d = c + 1;
          for (n[c] = c + 1; d < s; )
            h = e.getItem(d), d != l && h.level == u.level && h.constructor === u.constructor || (c = d), n[d] = c + 1, d++, u = h;
        }
      }, i.prototype.$_parseMergedBounds = function(e, t, o, r, n) {
        var s = e.itemCount;
        if (!(s < 1)) {
          var l = e.getItem(o), h = this.$_getAncestor(l, this._level), u = o, c = u + 1;
          for (n[u] = u + 1; c < s; ) {
            l = e.getItem(c);
            var d = this.$_getAncestor(l, this._level);
            if (d != h) {
              if (c > r)
                break;
              h = d, u = c;
            }
            n[c] = u + 1, c++;
          }
        }
      }, i.$_default = new i(), i;
    }(zt), od = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._item = null, e._field = -1, e._ds = null, e._fieldCount = 0, e._grid = null, e._layout = null, e;
      }
      return w(i, a), i.getObjectText = function(e, t, o, r) {
        var n = t.objectKey || t.objectCallback, s = n ? t.objectKey : o.objectKey, l = n ? t.objectCallback : o.objectCallback;
        return l && typeof l == "function" ? l(o.orgFieldName, e.dataRow, r) : s && r.hasOwnProperty(s) ? r[s] : JSON.stringify(r);
      }, i.prototype._doDispose = function() {
        this._item = null, this._ds = null, this._grid = null, this._layout = null, a.prototype._doDispose.call(this);
      }, i.prototype.setDataSource = function(e) {
        this._ds = e, this._fieldCount = e ? e.fieldCount : 0;
      }, i.prototype.setLayout = function(e) {
        this._layout = e, this._column = e.firstColumn, this._grid = e.grid;
      }, i.prototype.setCell = function(e) {
        this._item = e.item, this._field = e.dataField;
      }, i.prototype.setItem = function(e, t) {
        this._item = e, this._field = t;
      }, i.prototype.clear = function() {
        this._item = null, this._field = null, this._layout = null, this._column = null, this._grid = null, this._ds = null;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        if (this._item) {
          var t = void 0;
          switch (e) {
            case i.ID_ROW:
              return this._item.index;
            case i.ID_DATAROW:
              return this._item.dataRow;
            case i.ID_CHECKED:
              return this._item.checked;
            case i.ID_GROUP:
              return this._item.parent;
            case i.ID_VALUE:
              var o = this._ds.getField(this._field);
              return (t = this._item.getData(this._field)) != null && o.dataType === f.ValueType.OBJECT ? i.getObjectText(this._item, this._column, o, t) : t;
            case i.ID_PREV_VALUES:
              var r = this._grid.getDataColumns(), n = r.indexOf(this._column);
              if (!r.length || n < 1)
                return "";
              for (var s = [], l = 0, h = Math.min(n, r.length); l < h; l++)
                (t = this._item.getData(r[l].dataIndex)) != null && this._ds.getField(r[l].dataIndex).dataType === f.ValueType.OBJECT ? s.push(i.getObjectText(this._item, r[l], r[l].getField(), t)) : s.push(t);
              return s.join("`");
          }
          throw new ie("Invalid identifier key: " + e);
        }
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (this._item) {
          if (e == i.ID_VALUE || e == i.ID_VALUES) {
            if (t < 0 || t >= this._fieldCount)
              throw new ie("Data field index out of bounds:" + t);
            var o = this._item.getData(t);
            if (o != null && this._ds.getField(t).dataType === f.ValueType.OBJECT) {
              var r = this._column.grid.columnByField(t);
              return i.getObjectText(this._item, r, r.getField(), o);
            }
            return o;
          }
          throw new ie("Invalid identifier indexer: " + e);
        }
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        if (e != i.ID_VALUE && e != i.ID_VALUES)
          throw new ie("Invalid identifier indexer: " + e);
        if (this._ds) {
          var r = o ? this._ds.getFieldIndexC(t) : this._ds.getFieldIndex(t);
          if (r < 0 || r >= this._fieldCount)
            throw new ie("Data field is not exists:" + t);
          var n = this._item.getData(r);
          if (n != null && this._ds.getField(r).dataType === f.ValueType.OBJECT) {
            var s = this._column.grid.columnByField(r);
            return i.getObjectText(this._item, s, s.getField(), n);
          }
          return n;
        }
      }, i.ID_ROW = 0, i.ID_DATAROW = 1, i.ID_CHECKED = 2, i.ID_VALUE = 3, i.ID_VALUES = 4, i.ID_GROUP = 5, i.ID_PREV_VALUES = 6, i.IDENTS = { row: i.ID_ROW, datarow: i.ID_DATAROW, checked: i.ID_CHECKED, value: i.ID_VALUE, values: i.ID_VALUES, group: i.ID_GROUP, prevvalues: i.ID_PREV_VALUES }, i;
    }(bt), za = {}, Ya = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._runtime = i.$_runtime = i.$_runtime || new od(), t.criteria = e, t;
      }
      return w(i, a), i.createRule = function(e) {
        var t = typeof e == "string" ? e : e && e.criteria;
        return t ? new i(t) : null;
      }, i.prototype._doDispose = function() {
        this._runtime.clear(), this._runtime = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "criteria", { get: function() {
        return this._criteria;
      }, set: function(e) {
        (e = e ? e.trim() : null) != this._criteria && (this._criteria = e, this._exprNode = e ? Mt.Default.parse(e, null) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.parseInit = function(e, t, o, r, n) {
        var s = this._layout.isBreakMergeOnEmpty(), l = e.fixedCount, h = e.itemCount, u = e.dataSource.rowCount;
        if (!((r = Math.min(h - o, r)) < 1 || u <= 0)) {
          this._runtime.setDataSource(e.dataSource), this._runtime.setLayout(this._layout);
          for (var c = null, d = o; d < h && (c = e.getItem(d), !this.$_isRow(c, !1)); )
            n[d] = d + 1, d++;
          if (!(d >= h)) {
            var p, _ = this._exprNode.isIdentifier("value") && this._layout.getDataColumn().valueType !== f.ValueType.OBJECT, g = o = d;
            if (n[g] = g + 1, !(c.dataRow >= u))
              for (_ ? p = c.getData(t) : (this._runtime.setItem(c, t), p = this._exprNode.evaluate(this._runtime)), d = o + 1; d < h; d++)
                if (c = e.getItem(d), this.$_isRow(c, !1)) {
                  if (c.dataRow >= u)
                    break;
                  var y = void 0;
                  if (_ ? y = c.getData(t) : (this._runtime.setItem(c, t), y = this._exprNode.evaluate(this._runtime)), d == l || y == null && s || (y instanceof Date && p instanceof Date ? +y != +p : y != p)) {
                    if (d >= r)
                      break;
                    g = d, p = y;
                  }
                  n[d] = g + 1;
                } else {
                  if (d >= r)
                    break;
                  p = za, g = d, n[d] = g + 1;
                }
          }
        }
      }, i.prototype.parseBounds = function(e, t, o, r, n) {
        var s = this._layout.isBreakMergeOnEmpty(), l = !1, h = e.itemCount;
        if (!(h < 1)) {
          var u = e.fixedCount, c = this._exprNode.isIdentifier("value") && this._layout.getDataColumn().valueType !== f.ValueType.OBJECT, d = za, p = Math.max(0, o), _ = p, g = -1;
          if (this._runtime.setDataSource(e.dataSource), this._runtime.setLayout(this._layout), p > 0 && n[p] <= 0) {
            var y = e.getItem(p);
            if (this.$_isRow(y, l)) {
              var m = void 0;
              for (c ? m = e.getItem(p).getData(t) : (this._runtime.setItem(y, t), m = this._exprNode.evaluate(this._runtime)), p--; p >= 0 && (y = e.getItem(p), this.$_isRow(y, l)) && (c ? d = y.getData(t) : (this._runtime.setItem(y, t), d = this._exprNode.evaluate(this._runtime)), !(p == u || d == null && s || (d instanceof Date && m instanceof Date ? +d != +m : d != m))); )
                p--;
              for (var v = _ - 1; v > p; v--)
                n[v] = p + 2;
              _ - 1 > p && (g = p + 1);
            } else {
              for (n[p] = p + 1, v = _ - 1; v > p; v--)
                n[v] = p + 2;
              for (_ - 1 > p + 1 && (g = p + 2), p--; p >= 0 && n[p] <= 0 && !this.$_isRow(e.getItem(p), l); )
                n[p] = p + 1, p--;
            }
          }
          for (p = Math.max(0, o); p <= r && n[p] > 0; )
            p++;
          for (; p <= r && !this.$_isRow(e.getItem(p), l); )
            n[p] = p + 1, p++;
          if (p < r) {
            for (_ = p, y = e.getItem(p), m = void 0, c ? m = y.getData(t) : (this._runtime.setItem(y, t), m = this._exprNode.evaluate(this._runtime)), p++; p < h; )
              if (y = e.getItem(p), this.$_isRow(y, l)) {
                if (c ? d = y.getData(t) : (this._runtime.setItem(y, t), d = this._exprNode.evaluate(this._runtime)), p == u || d === void 0 && s || (d instanceof Date && m instanceof Date ? +d != +m : d != m)) {
                  var C = _;
                  for (g >= 0 && (C = g, g = -1), v = _; v < p; v++)
                    n[v] = C + 1;
                  if (p >= r)
                    break;
                  m = d, _ = p;
                } else
                  n[p] = _ + 1;
                p++;
              } else {
                for (C = _, g >= 0 && (C = g, g = -1), v = _; v < p; v++)
                  n[v] = C + 1;
                for (n[p] = p + 1, p++; p < h && !this.$_isRow(e.getItem(p), l); )
                  n[p] = p + 1, p++;
                if (_ = p, p >= r)
                  break;
              }
            if (p == h && (d instanceof Date && m instanceof Date ? +d == +m : d == m))
              for (C = g >= 0 ? g : _, v = _; v < p; v++)
                n[v] = C + 1;
          }
        }
      }, i.prototype.$_isRow = function(e, t) {
        var o = e instanceof Fe && !(e instanceof Xi);
        if (o && !t) {
          var r = e.parent;
          o = r.expanded || r.firstItem !== e;
        }
        return o;
      }, i.$_runtime = null, i;
    }(zt), qa = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "head", { get: function() {
        return -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tail", { get: function() {
        return -1;
      }, enumerable: !1, configurable: !0 }), i;
    }(J), Wn = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._group = null, t._column = e.c1._columnObj, t._head = e.top, t._tail = e.bottom, t;
      }
      return w(i, a), i.borrow = function(e) {
        var t = i.$_rooms.pop();
        return t ? (t._head = e.top, t._tail = e.bottom) : t = new i(e), t;
      }, i.returnTo = function(e) {
        if (e) {
          var t = i.$_rooms;
          t.indexOf(e) < 0 && t.push(e);
        }
      }, Object.defineProperty(i.prototype, "column", { get: function() {
        return this._column;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "head", { get: function() {
        return this._head;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tail", { get: function() {
        return this._tail;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scope", { get: function() {
        return this._column;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "group", { get: function() {
        return this._group;
      }, set: function(e) {
        this._group = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.getHead = function(e) {
        return e ? e.set(this._head, this._column) : e = this._column.grid.getIndex(this._head, this._column), e;
      }, i.prototype.getTail = function(e) {
        return e ? e.set(this._tail, this._column) : e = this._column.grid.getIndex(this._tail, this._column), e;
      }, i.prototype.isHead = function(e) {
        return e.column == this._column && e.itemIndex == this._head;
      }, i.prototype.isTail = function(e) {
        return e.column == this._column && e.itemIndex == this._tail;
      }, i.prototype.contains = function(e) {
        return e.column == this._column && e.itemIndex >= this._head && e.itemIndex <= this._tail;
      }, i.$_rooms = new Array(), i.$_roomCount = 0, i;
    }(qa), mi = -1, ei = 65535, mr = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._flags = null, t._fixedRooms = [], t._rooms = [], t._inited = !1, t._fixedCells = [], t._cells = [], t._nextId = 0, t._layout = e, e._merges = t, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._layout = null, this._rooms = this._fixedRooms = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "count", { get: function() {
        return this._rooms.length;
      }, enumerable: !1, configurable: !0 }), i.prototype.clear = function() {
        this._flags = null, this._rooms = [], this._inited = !1;
      }, i.prototype.initialize = function(e) {
        if (!this._inited) {
          var t = this._layout.grid, o = t.rowGroup, r = t.itemSource, n = this._layout.firstColumn, s = t.getGroupLevel(n.dataIndex), l = t.isGroupedColumn(n) && n.mergeGrouped ? Gn.getDefault(s, o.mergeMode) : this._layout.$_mergeRuleObj();
          if (l) {
            for (var h = this._flags = new Array(r.itemCount), u = t.fixedOptions.mergeRows ? 0 : r.fixedCount, c = r.itemCount; c--; )
              h[c] = 0;
            l._layout = this._layout, l.parseInit(r, n.dataIndex, u, e, h);
          }
          this._inited = !0;
        }
      }, i.prototype.refreshRooms = function(e, t, o) {
        if (this._nextId = 0, this._inited && this._flags && !(t < e)) {
          var r = this._layout.grid, n = this._layout.firstColumn;
          if (r && n) {
            var s = this._rooms, l = r.layoutManager.fixedItemCount, h = r.itemSource, u = r.getGroupLevel(n.dataIndex), c = u > 0 && n.mergeGrouped ? Gn.getDefault(u, r.rowGroup.mergeMode) : this._layout.$_mergeRuleObj(), d = r.displayOptions.editItemMerging, p = 0;
            if (this._fixedRooms.length = 0, this._rooms.length = 0, c && (c._layout = this._layout, c.parseBounds(h, n.dataIndex, e, t, this._flags)), o)
              for (; p < l; )
                if (g = this.$_checkFixedMerge(h, n, p, l)) {
                  if (u < 1) {
                    var _ = new Wn(g);
                    this._fixedRooms.push(_);
                  }
                  p = g.r2 + 1;
                } else
                  p += 1;
            for (p = e; p <= t; ) {
              var g;
              if (g = this.$_checkMerge(h, n, p, s.length == 0, l)) {
                var y;
                if (u < 1)
                  (y = h.getItem(g.r2)) instanceof _t || y instanceof Qe || (_ = new Wn(g), this._rooms.push(_));
                else if ((y = d ? h.source.getItem(g.top) : h.getItem(g.top)).level >= u) {
                  for (var m = y instanceof Se ? y : y.parent; m.level > u; )
                    m = m.parent;
                  (_ = new Wn(g)).group = m, s.push(_);
                }
                p = g.r2 + 1;
              } else
                p += 1;
            }
          }
        }
      }, i.prototype.getFixedRooms = function() {
        return this._fixedRooms.slice();
      }, i.prototype.getRooms = function() {
        return this._rooms.slice();
      }, i.prototype.scroll = function(e) {
      }, i.prototype.getRoom = function(e) {
        for (var t = e.rowFixed ? this._fixedRooms : this._rooms, o = t.length - 1; o >= 0; o--)
          if (t[o].contains(e))
            return t[o];
        return null;
      }, i.prototype.prepareCells = function(e, t) {
        if (e > 0) {
          for (var o = this._fixedCells, r = 0; r < o.length; r++)
            o[r] = mi;
          for (; o.length < e; )
            o.push(mi);
        }
        var n = this._cells;
        for (r = 0; r < n.length; r++)
          n[r] = mi;
        for (; n.length < t; )
          n.push(mi);
      }, i.prototype.refreshCells = function(e, t) {
        for (var o = this.getFixedRooms(), r = o.length - 1; r >= 0; r--) {
          var n = o[r];
          this.addFixedCells(n.head, n.tail - n.head + 1);
        }
        for (r = (o = this.getRooms()).length - 1; r >= 0; r--) {
          n = o[r];
          var s = Math.max(0, n.head - t - e), l = n.tail - t - e;
          this.addCells(s, l - s + 1);
        }
      }, i.prototype.addFixedCells = function(e, t) {
        for (var o = this._fixedCells, r = this._nextId++, n = e + 1; n < e + t; n++)
          o[n] = r + ei;
        return o[e] = r, r;
      }, i.prototype.addCells = function(e, t) {
        for (var o = this._cells, r = this._nextId++, n = e + 1; n < e + t; n++)
          o[n] = r + ei;
        return o[e] = r, r;
      }, i.prototype.isMerged = function(e, t) {
        return e < t ? this._fixedCells[e] > mi : this._cells[e - t] > mi;
      }, i.prototype.isMergeRoot = function(e, t) {
        return e < t ? this._fixedCells[e] > mi && this._fixedCells[e] < ei : (e -= t, this._cells[e] > mi && this._cells[e] < ei);
      }, i.prototype.isHidden = function(e, t) {
        return e < t ? this._fixedCells[e] >= ei : this._cells[e - t] >= ei;
      }, i.prototype.getMerged = function(e, t) {
        var o = 1;
        if (e < t)
          for (var r = (s = this._fixedCells)[e], n = e + 1; n < s.length && s[n] - ei == r; n++, o++)
            ;
        else {
          e -= t;
          var s;
          for (r = (s = this._cells)[e], n = e + 1; n < s.length && s[n] - ei == r; n++, o++)
            ;
        }
        return o;
      }, i.prototype.getMerged2 = function(e, t, o, r) {
        for (var n = this._cells, s = n[o], l = e.itemSource, h = l.getItem(t++), u = h.isData ? r : 1, c = o + 1; c < n.length && n[c] - ei == s; c++)
          u += (h = l.getItem(t++)).isData ? r : 1;
        return u;
      }, i.prototype.$_checkFixedMerge = function(e, t, o, r) {
        if (r > 0) {
          var n = t.grid, s = n.displayOptions, l = t.mergeEdit && n.editOptions.commitByCell || s.editItemMerging, h = o, u = this._flags[h], c = e.getItem(h);
          if (u <= 0 || nt(c.itemState) && !l)
            return null;
          for (; h && !(this._flags[h - 1] < u || nt(e.getItem(h - 1).itemState)); )
            h--;
          for (var d = o + 1; d <= r; ) {
            var p = nt(e.getItem(d).itemState);
            if (d == r || this._flags[d] > u || p && !l)
              return d > h + 1 || p ? Ot.createRange(h, t.layout, d - 1, t.layout) : null;
            d++;
          }
        }
        return null;
      }, i.prototype.$_checkMerge = function(e, t, o, r, n) {
        if (o >= 0) {
          var s = t.grid, l = s.displayOptions, h = t.mergeEdit && s.editOptions.commitByCell && s.isEditing() && s.isItemEditing() || l.editItemMerging, u = o, c = this._flags[u], d = e.getItem(u);
          if (c <= 0 || nt(d.itemState) && !h)
            return null;
          if (r)
            for (; u > n && !(this._flags[u - 1] < c || nt(e.getItem(u - 1).itemState)); )
              u--;
          for (var p = e.itemCount, _ = o + 1; _ < p; ) {
            var g = nt(e.getItem(_).itemState);
            if (this._flags[_] > c || this._flags[_] <= 0 || g && !h) {
              if (_ > u + 1)
                return Ot.createRange(u, t.layout, _ - 1, t.layout);
              var y = t instanceof re ? t.groupLevel : -1;
              return (d = e.getItem(u)) instanceof _t && d.collapsed || d instanceof Qe && d.parent.level == y && (_ == o + 1 || d.parent.collapsed) || (d instanceof _t || d instanceof Qe) && d.parent.level > y ? Ot.createRange(u, t.layout, _ - 1, t.layout) : null;
            }
            _++;
          }
          if (_ > u)
            return _ > u + 1 ? Ot.createRange(u, t.layout, _ - 1, t.layout) : (y = t instanceof re ? t.groupLevel : -1, (d = e.getItem(u)) instanceof _t && d.collapsed || d instanceof Qe && d.parent.level == y && (_ == o + 1 || d.parent.collapsed) || (d instanceof _t || d instanceof Qe) && d.parent.level > y ? Ot.createRange(u, t.layout, _ - 1, t.layout) : null);
        }
        return null;
      }, i.MERGE_ROOMS = "mergeRooms", i;
    }(J), Ka = function(a) {
      function i(e) {
        var t = a.call(this, null) || this;
        return t._column = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._column = null, this._template = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "column", { get: function() {
        return this._column;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "template", { get: function() {
        return this._template && this._template.template;
      }, set: function(e) {
        e != this.template && (e ? (this.template || (this._template = new Vn()), this._template.template = e) : this._template = void 0, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "values", { get: function() {
        return this._values;
      }, set: function(e) {
        e !== this._values && (e ? b.extendObj(e, this._values = {}) : this._values = void 0, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupMenu", { get: function() {
        return this._popupMenu;
      }, set: function(e) {
        e != this._popupMenu && (this._popupMenu = e, this._popupMenuName = typeof e == "string" ? e : null);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupMenuName", { get: function() {
        if (this._popupMenuName)
          return this._popupMenuName;
        if (this._popupMenu) {
          this._popupMenuName = "$$_column_popup_menu" + this.$_hash;
          var e = this.column.grid;
          return e && e.addPopupMenu(this._popupMenuName, this._popupMenu, !0), e && this._popupMenuName;
        }
        return null;
      }, set: function(e) {
        e != null && typeof e != "string" || (this._popupMenuName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.getValue = function(e) {
        return this._values && this._values[e];
      }, i.prototype.setValue = function(e, t) {
        this._values || (this._values = {}), this._values[e] != t && (this._values[e] = t, this._changed());
      }, i;
    }(Pa), Xa = function() {
      function a() {
      }
      return a.prototype.clear = function() {
        return this.styleName = this.exportStyleName = this.textFormat = this.datetimeFormat = this.numberFormat = this.booleanFormat = this.prefix = this.suffix = void 0, this;
      }, a.prototype.assign = function(i) {
        if (typeof i == "string")
          this.styleName = i;
        else if (i)
          for (var e = 0, t = Object.keys(i); e < t.length; e++) {
            var o = t[e];
            this[o] = b.deepCopy(i[o]);
          }
        return this;
      }, a;
    }(), Ja = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "summaryIndex", { get: function() {
        var e = this.$_owner;
        return e ? e.getIndex(this) : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        return this.summaryIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueCallback", { get: function() {
        return this._valueCallback;
      }, set: function(e) {
        e !== this._valueCallback && (this._valueCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, set: function(e) {
        e != this._text && (this._text = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expression", { get: function() {
        return this._expression;
      }, set: function(e) {
        e && (e = e.trim()), e != this._expression && (this._expression = e, this._exprNode = e ? Mt.Default.parse(e) : void 0, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName;
      }, set: function(e) {
        e != this._styleName && (this._styleName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exportStyleName", { get: function() {
        return this._exportStyleName;
      }, set: function(e) {
        this._exportStyleName = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleCallback", { get: function() {
        return this._styleCallback;
      }, set: function(e) {
        e != this._styleCallback && (this._styleCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "templateCallback", { get: function() {
        return this._templateCallback;
      }, set: function(e) {
        this._templateCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberFormat", { get: function() {
        return this._numberFormat;
      }, set: function(e) {
        e != this._numberFormat && (this._numberFormat = e, this._numberFormatter = e ? Pt.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeFormat", { get: function() {
        return this._datetimeFormat;
      }, set: function(e) {
        e != this._datetimeFormat && (this._datetimeFormat = e, this._datetimeWriter = e ? Ne.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        e != this._booleanFormat && (this._booleanFormat = e, this._boolFormatter = e ? Ht.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textFormat", { get: function() {
        return this._textFormat;
      }, set: function(e) {
        e != this._textFormat && (this._textFormat = e, this._textFormatter = e ? io.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "prefix", { get: function() {
        return this._prefix;
      }, set: function(e) {
        e != this._prefix && (this._prefix = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "suffix", { get: function() {
        return this._suffix;
      }, set: function(e) {
        e != this._suffix && (this._suffix = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textFormatter", { get: function() {
        return this._textFormatter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberFormatter", { get: function() {
        return this._numberFormatter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeWriter", { get: function() {
        return this._datetimeWriter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "boolFormatter", { get: function() {
        return this._boolFormatter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        return this._value;
      }, enumerable: !1, configurable: !0 }), i.prototype.evaluate = function(e, t) {
        if (this._exprNode)
          return this._exprNode.evaluate(e);
      }, i.prototype.realizeSummary = function(e, t) {
        var o = this._template;
        return o ? o.realizeSummary(this, e, t, this._templateCallback) : void 0;
      }, i.prototype.realizeGroupSummary = function(e, t) {
        var o = this._template;
        return o ? o.realizeGroupSummary(this, e, t, this._templateCallback) : void 0;
      }, i.prototype.doAssignSimple = function(e) {
        return typeof e == "string" && (this.expression = e, !0);
      }, i.prototype._doChanged = function() {
      }, i;
    }(Ka), Za = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._items = [], o._column = e, o._type = t, o._items.push(o.$_createSummary()), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._column = null, this._items && this._items.forEach(function(e) {
          e.dispose();
        }), this._items = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "column", { get: function() {
        return this._column;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return this._type;
      }, enumerable: !1, configurable: !0 }), i.prototype.get = function(e) {
        return e >= 0 && e < this.column.grid.getSummaryCount(this._type) && !this._items[e] && (this._items[e] = this.$_createSummary()), this._items[e];
      }, i.prototype.getIndex = function(e) {
        return this._items.indexOf(e);
      }, i.prototype.assignFrom = function(e) {
        var t = e && e.items ? b.makeArray(e.items, !0) : b.makeArray(e, !0), o = this._items;
        if (b.isArray(t)) {
          for (var r = Math.max(t.length, 1), n = 0; n < r; n++)
            o[n] || (o[n] = this.$_createSummary()), o[n].assignFrom(t[n]);
          this._items.length = r;
        }
      }, i;
    }(J), rd = function(a) {
      function i(e) {
        var t = a.call(this, e.column) || this;
        return t.$_owner = e, t;
      }
      return w(i, a), i.prototype._doChanged = function() {
        this.column._headerSummaryChanged();
      }, i;
    }(Ja), nd = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype.$_createSummary = function() {
        return new rd(this);
      }, i;
    }(Za), Qa = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._checkLocation = f.ColumnHeaderItemLocation.NONE, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, set: function(e) {
        e != this._text && (this._text = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemOffset", { get: function() {
        return this._itemOffset;
      }, set: function(e) {
        e != this._itemOffset && (this._itemOffset = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemGap", { get: function() {
        return this._itemGap;
      }, set: function(e) {
        e != this._itemGap && (this._itemGap = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkLocation", { get: function() {
        return this._checkLocation;
      }, set: function(e) {
        e != this._checkLocation && (this._checkLocation = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showTooltip", { get: function() {
        return this._showTooltip;
      }, set: function(e) {
        e != this._showTooltip && (this._showTooltip = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tooltip", { get: function() {
        return this._tooltip;
      }, set: function(e) {
        e != this._tooltip && (this._tooltip = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "edgeMark", { get: function() {
        return this._edgeMark;
      }, set: function(e) {
        e !== this._edgeMark && (this._edgeMark = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayText", { get: function() {
        var e = this.column, t = this._text;
        if (!t && e instanceof re) {
          var o = e.getField();
          t = o ? o.header || o.orgFieldName : e.fieldName;
        }
        return t || (t = e.name), t;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName;
      }, set: function(e) {
        this._styleName !== e && (this._styleName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exportStyleName", { get: function() {
        return this._exportStyleName;
      }, set: function(e) {
        e != this._exportStyleName && (this._exportStyleName = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "templateCallback", { get: function() {
        return this._templateCallback;
      }, set: function(e) {
        this._templateCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), i.prototype.realizeTemplate = function() {
        var e = this._template;
        return e ? e.realizeHeader(this, this.templateCallback, this.column.grid) : void 0;
      }, i.prototype._doChanged = function() {
        this.column && this.column._headerChanged();
      }, i.prototype.doAssignSimple = function(e) {
        return typeof e == "string" && (this.text = e, !0);
      }, i;
    }(Ka), sd = function(a) {
      function i(e) {
        var t = a.call(this, e.column) || this;
        return t.$_owner = e, t;
      }
      return w(i, a), i.prototype._doChanged = function() {
        this.column._footerChanged();
      }, i;
    }(Ja), el = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype.$_createSummary = function() {
        return new sd(this);
      }, i;
    }(Za), Lo = function() {
      function a() {
      }
      return a.prototype.clear = function() {
        return this.styleName = this.exportStyleName = this.renderer = this.editable = this.editor = this.readOnly = this.textFormat = this.datetimeFormat = this.numberFormat = this.booleanFormat = this.prefix = this.suffix = this.edgeMark = this.style = this.excelFormat = this.cellProtectProps = void 0, this;
      }, a.prototype.assign = function(i) {
        if (typeof i == "string")
          this.styleName = i;
        else if (i)
          if (i instanceof ti)
            for (var e = 0, t = Object.keys(this); e < t.length; e++)
              (n = t[e]) in i && (this[n] = b.deepCopy(i[n]));
          else
            for (var o = 0, r = Object.keys(i); o < r.length; o++) {
              var n;
              (n = r[o]).toLowerCase() === "readonly" ? this.readOnly = i[n] : this.hasOwnProperty(n) && (this[n] = b.deepCopy(i[n]));
            }
        return this;
      }, a.prototype.toFormatter = function(i) {
        var e;
        return i || (i = { textFormatter: void 0, numberFormatter: void 0, datetimeWriter: void 0, booleanFormatter: void 0, prefix: void 0, suffix: void 0 }), (e = this.textFormat) && (i.textFormatter && i.textFormatter.format == e || (i.textFormatter = io.getFormatter(e))), (e = this.numberFormat) && (i.numberFormatter && i.numberFormatter.format == e || (i.numberFormatter = Pt.getFormatter(e))), (e = this.datetimeFormat) && (i.datetimeWriter && i.datetimeWriter.format == e || (i.datetimeWriter = Ne.getFormatter(e))), (e = this.booleanFormat) && (i.booleanFormatter && i.booleanFormatter.format == e || (i.booleanFormatter = Ht.getFormatter(e))), (e = this.prefix) && (i.prefix && i.prefix == e || (i.prefix = e)), (e = this.suffix) && (i.suffix && i.suffix == e || (i.suffix = e)), i;
      }, a;
    }(), ti = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._visible = !0, t._resizable = !0, t._movable = !0, t._checked = !1, t._fillWidth = NaN, t._dirty = !1, t._index = -1, t._states = {}, t._header = new Qa(t), t._footers = new el(t, "footer"), t._headerSummaries = new nd(t, "summary"), t._groupFooters = new el(t, "groupFooter"), e && t.assignFrom(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._layout = null, this.$_owner = null, this._header = this._header && this._header.dispose(), this._footers = this._footers && this._footers.dispose(), this._headerSummaries = this._headerSummaries && this._headerSummaries.dispose(), this._groupFooters = this._groupFooters && this._groupFooters.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "name", { get: function() {
        return this._name;
      }, set: function(e) {
        e != this._name && (this._name = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype._layoutChanged = function() {
        this._changed(), this._layout && this._layout._changed();
      }, Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._visible;
      }, set: function(e) {
        e != this._visible && (this._visible = e, this._layout && this._layoutChanged(), this._propChanged("visible", this._visible, !this._visible));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "width", { get: function() {
        return (this._width == null || isNaN(this._width)) && this.grid ? this._width = this.grid.displayOptions.defaultColumnWidth : this._width;
      }, set: function(e) {
        if (e = Math.max(0, e), !isNaN(e) && e != this._width) {
          var t = this._width;
          this._width = e, this._layoutChanged(), this._propChanged("width", this._width, t);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fillWidth", { get: function() {
        return this._fillWidth;
      }, set: function(e) {
        e = Math.max(0, e), isNaN(e) || e == this._fillWidth || (this._fillWidth = e, this._layoutChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "resizable", { get: function() {
        return this._resizable;
      }, set: function(e) {
        e != this._resizable && (this._resizable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "movable", { get: function() {
        return this._movable;
      }, set: function(e) {
        e != this._movable && (this._movable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checked", { get: function() {
        return this._checked;
      }, set: function(e) {
        e != this._checked && (this._checked = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "header", { get: function() {
        return this._header;
      }, enumerable: !1, configurable: !0 }), i.prototype.setHeader = function(e) {
        this._header.assignFrom(e);
      }, Object.defineProperty(i.prototype, "footers", { get: function() {
        return this._footers;
      }, enumerable: !1, configurable: !0 }), i.prototype.setFooters = function(e) {
        this._footers.assignFrom(e), this._changed();
      }, Object.defineProperty(i.prototype, "footer", { get: function() {
        return this._footers.get(0);
      }, enumerable: !1, configurable: !0 }), i.prototype.setFooter = function(e) {
        this.setFooters(e);
      }, Object.defineProperty(i.prototype, "headerSummaries", { get: function() {
        return this._headerSummaries;
      }, enumerable: !1, configurable: !0 }), i.prototype.setHeaderSummaries = function(e) {
        this._headerSummaries.assignFrom(e), this._changed();
      }, Object.defineProperty(i.prototype, "headerSummary", { get: function() {
        return this._headerSummaries.get(0);
      }, enumerable: !1, configurable: !0 }), i.prototype.setHeaderSummary = function(e) {
        this.setHeaderSummaries(e);
      }, Object.defineProperty(i.prototype, "groupFooters", { get: function() {
        return this._groupFooters;
      }, enumerable: !1, configurable: !0 }), i.prototype.setGroupFooters = function(e) {
        this._groupFooters.assignFrom(e), this._changed();
      }, Object.defineProperty(i.prototype, "groupFooter", { get: function() {
        return this._groupFooters.get(0);
      }, enumerable: !1, configurable: !0 }), i.prototype.setGroupFooter = function(e) {
        this.setGroupFooters(e);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._layout ? this._layout.grid : this.$_owner ? this.$_owner.owner : void 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tag", { get: function() {
        return this._tag;
      }, set: function(e) {
        this._tag = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        return this._index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayText", { get: function() {
        return this._header.text || this._name || "col_" + this._index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayWidth", { get: function() {
        return this._layout ? this._layout.domWidth : this._width;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayIndex", { get: function() {
        return this._layout ? this._layout.vindex : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataRoot", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "layout", { get: function() {
        return this._layout;
      }, enumerable: !1, configurable: !0 }), i.prototype.clean = function() {
        this._dirty = !1;
      }, i.prototype.isWritable = function() {
        return !1;
      }, i.prototype.stateFor = function(e) {
        return this._states[e];
      }, i.prototype.setState = function(e, t) {
        this._states[e] = t;
      }, i.prototype.getFooter = function(e) {
        return this._footers.get(e);
      }, i.prototype.getHeaderSummary = function(e) {
        return this._headerSummaries.get(e);
      }, i.prototype.assignFrom = function(e) {
        a.prototype.assignFrom.call(this, e), this._header.assignFrom(e.header), this._footers.assignFrom(e.footers || e.footer), this._headerSummaries.assignFrom(e.summaries || e.summary || e.headerSummaries || e.headerSummary), this._groupFooters.assignFrom(e.groupFooters || e.groupFooter);
      }, i.prototype.toString = function() {
        return this.displayText;
      }, i.prototype._prepareLayout = function(e, t) {
      }, i.prototype._changed = function() {
        if (!this._dirty) {
          this._dirty = !0;
          var e = this.grid;
          e && e.invalidateColumn(this);
        }
      }, i.prototype._propChanged = function(e, t, o) {
        var r = this.grid;
        r && r._fireColumnPropertyChanged(this, e, t, o);
      }, i.prototype.$_setIndex = function(e) {
        this._index = e;
      }, i.prototype._headerChanged = function() {
        this._changed();
      }, i.prototype._headerSummaryChanged = function() {
        this._changed();
      }, i.prototype._footerChanged = function() {
        this._changed();
      }, i.prototype._resetIndices = function(e) {
      }, i.prototype.$_layoutIndexChanged = function(e, t) {
        this._propChanged("displayIndex", t, e);
      }, i.prototype.$_layoutWidthChanged = function(e, t) {
        this._propChanged("displayWidth", t, e);
      }, i;
    }(J), Et = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._blankWhenCopy = !1, t._blankWhenExport = !1, t._ignoreDefaultDynamicStyles = !1, t._textInputCase = f.TextInputCase.NORMAL, t._button = f.CellButton.NONE, t._buttonVisibility = f.ButtonVisibility.DEFAULT, t._editButtonVisibility = f.ButtonVisibility.DEFAULT, t._displayMinusZero = !0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._popupMenu = null, this._popupMenuName = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "numberFormat", { get: function() {
        return this._numberFormat;
      }, set: function(e) {
        e !== this._numberFormat && (this._numberFormat = e, this._numberFormatter = e ? Pt.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayMinusZero", { get: function() {
        return this._displayMinusZero;
      }, set: function(e) {
        this._displayMinusZero != e && (this._displayMinusZero = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeFormat", { get: function() {
        return this._datetimeFormat;
      }, set: function(e) {
        e !== this._datetimeFormat && (this._datetimeFormat = e, this._datetimeWriter = e ? Ne.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        e !== this._booleanFormat && (this._booleanFormat = e, this._boolFormatter = e ? Ht.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textFormat", { get: function() {
        return this._textFormat;
      }, set: function(e) {
        e !== this._textFormat && (this._textFormat = e, this._textFormatter = e ? io.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "prefix", { get: function() {
        return this._prefix;
      }, set: function(e) {
        e != this._prefix && (this._prefix = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "suffix", { get: function() {
        return this._suffix;
      }, set: function(e) {
        e != this._suffix && (this._suffix = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "blankWhenCopy", { get: function() {
        return this._blankWhenCopy;
      }, set: function(e) {
        e != this._blankWhenCopy && (this._blankWhenCopy = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "blankWhenExport", { get: function() {
        return this._blankWhenExport;
      }, set: function(e) {
        e != this._blankWhenExport && (this._blankWhenExport = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "ignoreDefaultDynamicStyles", { get: function() {
        return this._ignoreDefaultDynamicStyles;
      }, set: function(e) {
        e != this._ignoreDefaultDynamicStyles && (this._ignoreDefaultDynamicStyles = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textInputCase", { get: function() {
        return this._textInputCase;
      }, set: function(e) {
        e != this._textInputCase && (this._textInputCase = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName;
      }, set: function(e) {
        e != this._styleName && (this._styleName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exportStyleName", { get: function() {
        return this._exportStyleName;
      }, set: function(e) {
        e != this._exportStyleName && (this._exportStyleName = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleCallback", { get: function() {
        return this._styleCallback;
      }, set: function(e) {
        e != this._styleCallback && (this._styleCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "renderer", { get: function() {
        return this._renderer;
      }, set: function(e) {
        this._renderer = e, this.grid && this._layout && this.grid.$_rendererChanged(this._layout), this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editor", { get: function() {
        return this._editor;
      }, set: function(e) {
        this._editor = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "button", { get: function() {
        return this._button;
      }, set: function(e) {
        e != this._button && (this._button = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "buttonVisibility", { get: function() {
        return this._buttonVisibility;
      }, set: function(e) {
        e != this._buttonVisibility && (this._buttonVisibility = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "buttonVisibleCallback", { get: function() {
        return this._buttonVisibleCallback;
      }, set: function(e) {
        this._buttonVisibleCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editButtonVisibility", { get: function() {
        return this._editButtonVisibility;
      }, set: function(e) {
        e != this._editButtonVisibility && (this._editButtonVisibility = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textFormatter", { get: function() {
        return this._textFormatter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberFormatter", { get: function() {
        return this._numberFormatter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeWriter", { get: function() {
        return this._datetimeWriter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "boolFormatter", { get: function() {
        return this._boolFormatter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupMenu", { get: function() {
        return this._popupMenu;
      }, set: function(e) {
        e != this._popupMenu && (this._popupMenu = e, this._popupMenuName = typeof e == "string" ? e : null);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupMenuName", { get: function() {
        return this._popupMenuName ? this._popupMenuName : this._popupMenu ? (this._popupMenuName = "$$_column_popup_menu" + this.$_hash, this.grid.addPopupMenu(this._popupMenuName, this._popupMenu, !0), this.grid && this._popupMenuName) : null;
      }, set: function(e) {
        e != null && typeof e != "string" || (this._popupMenuName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "edgeMark", { get: function() {
        return this._edgeMark;
      }, set: function(e) {
        e !== this._edgeMark && (this._edgeMark = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.getCellStyle = function(e) {
        return this._styleCallback && this._styleCallback(this.grid.handler, e);
      }, i.prototype.affix = function(e) {
        return this._prefix && (e = this._prefix + e), this._suffix && (e += this._suffix), e;
      }, i.prototype._prepareLayout = function(e, t) {
        a.prototype._prepareLayout.call(this, e, t);
      }, i;
    }(ti), re = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._fieldIndex = -1, t._readOnly = !1, t._valueSeparator = ",", t._breakMergeOnEmpty = !1, t._equalBlank = !1, t._equalBlankText = "", t._values = null, t._labels = null, t._lookupDisplay = !1, t._lookupSource = null, t._lookupKeyFields = null, t._lookupKeyFieldIds = null, t._mergeGrouped = !1, t._sortable = !0, t._sortOrder = -1, t._sortByLabel = !1, t._filterable = !0, t._filterIconVisible = !0, t._autoFilter = !1, t._filterSelectorWidth = 0, t._lookupData = null, t._required = !1, t._requiredLevel = f.ValidationLevel.ERROR, t._validations = new Ua(!0), t._groupable = !0, t._dataIndex = -1, t._baseIndex = -1, t._valueType = f.ValueType.TEXT, t._groupLevel = -1, t._labelFieldIndex = -1, t._filters = new Po(t), t._filters.addListener(t), t._autoFilters = new Po(t), t._autoFilters.addListener(t), t._inlineFilters = new Po(t), t._inlineFilters.addListener(t), e && t.assignFrom(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._mergeRuleObj = this._mergeRuleObj && this._mergeRuleObj.dispose(), this._filters = this._filters && this._filters.dispose(), this._autoFilters = this._autoFilters && this._autoFilters.dispose(), this._inlineFilters = this._inlineFilters && this._inlineFilters.dispose(), this.validations = this._validations && this._validations.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "fieldIndex", { get: function() {
        return this._fieldIndex;
      }, set: function(e) {
        (e = Math.max(-1, e)) != this._fieldIndex && (this._fieldIndex = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fieldName", { get: function() {
        return this._fieldName;
      }, set: function(e) {
        e != this._fieldName && (this._fieldName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editable", { get: function() {
        return this._editable;
      }, set: function(e) {
        e != this._editable && (this._editable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "readOnly", { get: function() {
        return this._readOnly;
      }, set: function(e) {
        e != this._readOnly && (this._readOnly = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "nanText", { get: function() {
        return this._nanText;
      }, set: function(e) {
        e != this._nanText && (this._nanText = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "zeroText", { get: function() {
        return this._zeroText;
      }, set: function(e) {
        e != this._zeroText && (this._zeroText = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "defaultValue", { get: function() {
        return this._defaultValue;
      }, set: function(e) {
        this._defaultValue = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueSeparator", { get: function() {
        return this._valueSeparator;
      }, set: function(e) {
        e != this._valueSeparator && (this._valueSeparator = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeRule", { get: function() {
        return this._mergeRule;
      }, set: function(e) {
        if (e != this._mergeRule) {
          this._mergeRule = e, this._mergeRuleObj && this._mergeRuleObj.dispose(), this._mergeRuleObj = e ? Ya.createRule(e) : null;
          var t = this.grid;
          t && this.layout && t._columnMergeRuleChanged(this.layout);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "breakMergeOnEmpty", { get: function() {
        return this._breakMergeOnEmpty;
      }, set: function(e) {
        if (e != this._breakMergeOnEmpty) {
          this._breakMergeOnEmpty = e;
          var t = this.grid;
          t && this.layout && t._columnMergeRuleChanged(this.layout);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "equalBlank", { get: function() {
        return this._equalBlank;
      }, set: function(e) {
        e != this._equalBlank && (this._equalBlank = e, this._layoutChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "equalBlankExpression", { get: function() {
        return this._equalBlankExpression;
      }, set: function(e) {
        e != this._equalBlankExpression && (this._equalBlankExpression = e, this._equalBlankNode = e ? Mt.Default.parse(e, null) : void 0, this._layoutChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "equalBlankText", { get: function() {
        return this._equalBlankText;
      }, set: function(e) {
        e != this._equalBlankText && (this._equalBlankText = e, this._layoutChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "equalBlankLine", { get: function() {
        return this._equalBlankLine;
      }, set: function(e) {
        e != this._equalBlankLine && (this._equalBlankLine = e, this._layoutChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeEdit", { get: function() {
        return !!this._mergeEdit;
      }, set: function(e) {
        e != this._mergeEdit && (this._mergeEdit = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "excelFormat", { get: function() {
        return this._excelFormat;
      }, set: function(e) {
        e != this._excelFormat && (this._excelFormat = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "excelFormulaStatement", { get: function() {
        return this._excelFormulaStatement;
      }, set: function(e) {
        e != this._excelFormulaStatement && (this._excelFormulaStatement = e, e ? this._excelFormulaExprStatement ? this._excelFormulaExprStatement.source = e : this._excelFormulaExprStatement = new dr(e) : this._excelFormulaExprStatement = null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "excelFormulaExprStatement", { get: function() {
        return this._excelFormulaExprStatement;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataIndex", { get: function() {
        return this._dataIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "baseIndex", { get: function() {
        return this._baseIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueType", { get: function() {
        return this._valueType;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupLevel", { get: function() {
        return this._groupLevel;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "values", { get: function() {
        return this._values;
      }, set: function(e) {
        e != this._values && (this._values = e ? e.map(function(t, o) {
          return t != null ? String(t) : t;
        }) : [], this._lookupMap = null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "labels", { get: function() {
        return this._labels;
      }, set: function(e) {
        e != this._labels && (this._labels = e && e.slice(), this._lookupMap = null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lookupDisplay", { get: function() {
        return this._lookupDisplay;
      }, set: function(e) {
        this._lookupDisplay != e && (this._lookupDisplay = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lookupSource", { get: function() {
        return this._lookupSource;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lookupSourceId", { get: function() {
        return this._lookupSourceId;
      }, set: function(e) {
        this._lookupSourceId != e && (this._lookupSourceId = e, this._changed(), this.grid && this.$_resetLookup(this.grid));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lookupKeyFields", { get: function() {
        return this._lookupKeyFields;
      }, set: function(e) {
        e != this._lookupKeyFields && (this._lookupKeyFields = b.makeArray(e, !0).slice(), this._changed(), this.grid && this.$_resetLookup(this.grid));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lookupKeyFieldIds", { get: function() {
        return this._lookupKeyFieldIds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "labelField", { get: function() {
        return this._labelField;
      }, set: function(e) {
        this._labelField != e && (this._labelField = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textOfInvalid", { get: function() {
        return this._textOfInvalid;
      }, set: function(e) {
        this._textOfInvalid != e && (this._textOfInvalid = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "placeHolder", { get: function() {
        return this._placeHolder;
      }, set: function(e) {
        e !== this._placeHolder && (this._placeHolder = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "placeHolderStyleName", { get: function() {
        return this._placeHolderStyleName;
      }, set: function(e) {
        e !== this._placeHolderStyleName && (this._placeHolderStyleName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "labelFieldIndex", { get: function() {
        return this._labelFieldIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayCallback", { get: function() {
        return this._displayCallback;
      }, set: function(e) {
        this._displayCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeGrouped", { get: function() {
        return this._mergeGrouped;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortable", { get: function() {
        return this._sortable;
      }, set: function(e) {
        e != this._sortable && (this._sortable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortOrder", { get: function() {
        return this._sortOrder;
      }, set: function(e) {
        this._sortOrder = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortDirection", { get: function() {
        return this._sortDirection;
      }, set: function(e) {
        this._sortDirection = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortByLabel", { get: function() {
        return this._sortByLabel;
      }, set: function(e) {
        this._sortByLabel !== e && (this._sortByLabel = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterable", { get: function() {
        return this._filterable;
      }, set: function(e) {
        e != this._filterable && (this._filterable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterIconVisible", { get: function() {
        return this._filterIconVisible;
      }, set: function(e) {
        this._filterIconVisible != e && (this._filterIconVisible = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "autoFilter", { get: function() {
        return this._autoFilter;
      }, set: function(e) {
        e !== this._autoFilter && (this._autoFilter = e, !e && this._autoFilters && this._autoFilters.count > 0 && this._autoFilters.clear(), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filters", { get: function() {
        return this._filters;
      }, set: function(e) {
        e instanceof Po || this.setFilters(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "autoFilters", { get: function() {
        return this._autoFilters;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showInlineFilter", { get: function() {
        return this._showInlineFilter;
      }, set: function(e) {
        e !== this._showInlineFilter && (this._showInlineFilter = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterSelectorWidth", { get: function() {
        return this._filterSelectorWidth;
      }, set: function(e) {
        this._filterSelectorWidth = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "required", { get: function() {
        return this._required;
      }, set: function(e) {
        e != this._required && (this._required = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "requiredMessage", { get: function() {
        return this._requiredMessage;
      }, set: function(e) {
        e != this._requiredMessage && (this._requiredMessage = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "requiredLevel", { get: function() {
        return this._requiredLevel;
      }, set: function(e) {
        e != this._requiredLevel && (this._requiredLevel = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "validations", { get: function() {
        return this._validations;
      }, set: function(e) {
        this._validations.assignFrom(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupable", { get: function() {
        return this._groupable;
      }, set: function(e) {
        this._groupable != e && (this._groupable = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "objectKey", { get: function() {
        return this._objectKey;
      }, set: function(e) {
        e != this._objectKey && (this._objectKey = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "objectCallback", { get: function() {
        return this._objectCallback;
      }, set: function(e) {
        this._objectCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayText", { get: function() {
        return this.header.text || this.fieldName || this.name || "col_" + this.index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lookupData", { get: function() {
        return this._lookupData;
      }, set: function(e) {
        if (e !== this._lookupData) {
          var t = void 0, o = void 0, r = void 0, n = void 0, s = {};
          if (this._lookupData = b.deepCopy(e), e) {
            b.isArray(e) ? s.list = e : s = e, this._labels = [], this._values = [], this._lookupMap = null, t = s.hasOwnProperty("value") ? s.value : "value", o = s.hasOwnProperty("label") ? s.label : "label";
            for (var l = 0, h = s.list.length; l < h; l++)
              (n = (r = s.list[l])[t] != null ? r[t] : r.code) != null && this._values.push(r[t] != null ? r[t] : r.code), n != null && this._labels.push(r[o] != null ? r[o] : r.text != null ? r.text : n);
          } else
            this._labels = null, this._values = null, this._lookupMap = null;
          this._changed();
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellProtectProps", { get: function() {
        return this._cellProtectProps;
      }, set: function(e) {
        this._cellProtectProps = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.getField = function() {
        var e = this._dataIndex;
        if (e >= 0) {
          var t = this.grid.dataSource;
          if (t)
            return t.getField(e);
        }
        return null;
      }, i.prototype.getLookupLabel = function(e) {
        if (!this._lookupMap) {
          var t = this._values, o = this._labels;
          if (t && t.length > 0) {
            this._lookupMap = {};
            for (var r = 0; r < t.length; r++)
              o && o.length > r ? this._lookupMap[t[r]] = o[r] : this._lookupMap[t[r]] = t[r];
          }
        }
        var n;
        if (typeof e == "string" && e && this._valueSeparator) {
          for (var s = e.split(this._valueSeparator), l = [], h = (r = 0, s.length); r < h; r++)
            l.push(this._lookupMap && this._lookupMap[s[r]] ? this._lookupMap[s[r]] : s[r]);
          if (l.length <= 0)
            return "";
          n = l.join(this._valueSeparator);
        } else
          n = this._lookupMap ? this._lookupMap[e] : void 0;
        return n || (this.textOfInvalid != null ? this.textOfInvalid : e);
      }, i.prototype.getLookupIndex = function(e) {
        if (this._values && this._values.length > 0) {
          for (var t = 0, o = this._values.length; t < o; t++)
            if (this._values[t] == e)
              return t;
        }
        return -1;
      }, i.prototype.getLookupIndices = function(e) {
        var t = [];
        if (e && this._values && this._values.length > 0)
          for (var o = b.isArray(e) ? e : String(e).split(this._valueSeparator), r = 0, n = o.length; r < n; r++)
            this._values.indexOf(o[r]) >= 0 && t.push(this._values.indexOf(o[r]));
        return t;
      }, i.prototype.getLookupValue = function(e) {
        if (this._values && this._values.length > 0)
          return this._values[e];
      }, i.prototype.getLookupValues = function(e) {
        var t = [];
        if (this._values && this._values.length > 0)
          for (var o = 0, r = e.length; o < r; o++)
            e[o] >= 0 && e[o] < this._values.length && t.push(this._values[e[o]]);
        return t;
      }, i.prototype.getSourceValue = function(e) {
        var t = this._values, o = this._labels;
        if (o && t) {
          var r = o.indexOf(e);
          if (r >= 0 && t.length > r || (r = t.indexOf(e)) >= 0)
            return t[r];
        }
      }, i.prototype.getSourceValues = function(e) {
        var t = this._values, o = this._labels;
        if (o && t) {
          for (var r = void 0, n = [], s = this._valueSeparator, l = 0, h = (e = b.isArray(e) ? e : s && e ? String(e).split(s) : b.makeArray(e)).length; l < h; l++)
            (r = o.indexOf(e[l])) >= 0 && t.length > r ? n.push(t[r]) : n.push(e[l]);
          if (n.length > 0 && s)
            return n.join(s);
          if (n.length > 0)
            return n.join();
        }
      }, Object.defineProperty(i.prototype, "$_filters", { get: function() {
        return this._autoFilter ? this._autoFilters : this._filters;
      }, enumerable: !1, configurable: !0 }), i.prototype.clearFilters = function() {
        this.setFilters(null);
      }, i.prototype.addFilters = function(e, t) {
        if (e) {
          var o = this.grid;
          o && !o.canFiltering() || this._filters.addAll(b.makeArray(e), t);
        }
      }, i.prototype.removeFilters = function(e) {
        if (e) {
          var t = this.grid;
          t && !t.canFiltering() || this._filters.removeItems(b.makeArray(e));
        }
      }, i.prototype.activateFilters = function(e, t) {
        if (e) {
          var o = this.grid;
          o && !o.canFiltering() || this.$_filters.activateItems(b.makeArray(e), t);
        }
      }, i.prototype.activateAllFilters = function(e, t) {
        t === void 0 && (t = !0);
        var o = this.grid;
        o && !o.canFiltering() || this.$_filters.activateAll(e, t);
      }, i.prototype.hideColumnFilters = function(e, t) {
        this.$_filters.hideFilters(b.makeArray(e), t);
      }, i.prototype.hideAllColumnFilters = function(e) {
        this.$_filters.hideAllFilters(e);
      }, i.prototype.toggleFilters = function(e) {
        if (e) {
          var t = this.grid;
          t && !t.canFiltering() || this.$_filters.toggleItems(b.makeArray(e));
        }
      }, i.prototype.toggleAllFilters = function() {
        var e = this.grid;
        e && !e.canFiltering() || this.$_filters.toggleAll();
      }, i.prototype.getFilter = function(e) {
        var t = this.$_filters, o = t.indexOf(e);
        return t.getItem(o);
      }, i.prototype.getActiveFilters = function(e) {
        return this.$_filters.getActiveItems(e);
      }, Object.defineProperty(i.prototype, "hasFilters", { get: function() {
        return this._autoFilter || this._filters.count > 0;
      }, enumerable: !1, configurable: !0 }), i.prototype.isFiltered = function() {
        return this.$_filters.activeCount > 0 || this._inlineFilters.activeCount > 0;
      }, i.prototype.setFilters = function(e) {
        var t = this.grid;
        t && !t.canFiltering() || this._filters.assignFrom(e);
      }, i.prototype.autoFilterRefresh = function(e) {
        var t = this.grid, o = t?.dataSource;
        if (t && o && this._autoFilter) {
          var r = t.filterSelector._manager;
          r && r.buildItems(this, o, !0, e);
        }
      }, i.prototype.setInlineFilter = function(e, t) {
        var o = this._inlineFilters, r = o.getItem(0);
        r || (o.add({ name: "inlineFilter" }, !1), r = o.getItem(0)), r.criteria != e && (e === void 0 ? (r.criteria = void 0, t ? r.active = !1 : r._active = !1) : (r._active = !1, r.criteria = e, r.active = !!r.criteria));
      }, i.prototype.onColumnFilterChanged = function(e, t) {
        var o = this.grid;
        o && o.columnFilterChanged(e, t);
      }, i.prototype._prepareLayout = function(e, t) {
        a.prototype._prepareLayout.call(this, e, t);
      }, i.prototype._resetIndices = function(e) {
        this._dataIndex = -1, this._baseIndex = -1;
        var t = e.dataSource;
        t && (this._fieldName ? this._dataIndex = t.getFieldIndex(this._fieldName) : this._dataIndex = this._fieldIndex, this._dataIndex >= 0 && (this._baseIndex = t.getBaseField(this._dataIndex), this._valueType = t.getValueType(this._dataIndex)), this._labelFieldIndex = t.getFieldIndex(this._labelField), this.$_resetLookup(e));
      }, i.prototype.isWritable = function() {
        var e = this.grid.editOptions;
        return (e.columnEditableFirst ? this._editable != null ? this._editable : e.editable : e.editable && this._editable !== !1) && !this._readOnly;
      }, i.prototype.assignFrom = function(e) {
        a.prototype.assignFrom.call(this, e);
      }, i.prototype.$_setMergeGrouped = function(e) {
        this._mergeGrouped = e;
      }, i.prototype.$_setGroupLevel = function(e) {
        this._groupLevel = e;
      }, i.prototype.$_resetLookup = function(e) {
        if (this._lookupKeyFields && this._lookupKeyFields.length > 0 && this._lookupSourceId) {
          for (var t = this._lookupKeyFields.length, o = this._lookupKeyFieldIds = new Array(t), r = 0; r < t; r++)
            o[r] = e.dataSource.getFieldIndex(this._lookupKeyFields[r]);
          this._lookupSource = e.lookupProvider.getSource(this._lookupSourceId);
        } else
          this._lookupSource = null, this._lookupKeyFieldIds = [];
      }, i.prototype._changed = function() {
        a.prototype._changed.call(this);
      }, i.CAPITAL_INDEXERS = ["value", "values"], i;
    }(Et), Bt = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._fieldArray = t._fieldArray || [], t._fields = t._fields || [], e && t.assignFrom(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "fieldNames", { get: function() {
        return this._fieldNames;
      }, set: function(e) {
        e != this._fieldNames && (this._fieldNames = e, this._fieldArray = e ? e.split(",") : [], this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fields", { get: function() {
        return this._fields;
      }, enumerable: !1, configurable: !0 }), i.prototype._resetIndices = function(e) {
        this._fields = [];
        var t = e.dataSource;
        if (t)
          for (var o = 0, r = this._fieldArray.length; o < r; o++) {
            var n = this._fieldArray[o], s = n.split("..");
            if (s.length > 1) {
              var l = t.getFieldIndex(s[0]), h = t.getFieldIndex(s[1]);
              if (l >= 0 && h >= 0)
                for (var u = Math.min(l, h), c = Math.max(l, h), d = u; d <= c; d++)
                  this._fields.push(d);
            } else
              (d = t.getFieldIndex(n)) >= 0 && this._fields.push(d);
          }
      }, i;
    }(Et), ad = function() {
      function a() {
        this._layouts = {};
      }
      return a.prototype._doDispose = function() {
        this._layouts = null;
      }, a.prototype.find = function(i) {
        return this._layouts[i];
      }, a.prototype.clear = function() {
        this._layouts = {};
      }, a.prototype.load = function(i) {
        if (i = b.makeArray(i), this._layouts = {}, i)
          for (var e = 0, t = i.length; e < t; e++) {
            var o = i[e];
            o.name && !this._layouts[o.name] && (this._layouts[o.name] = o.items);
          }
      }, a;
    }();
    f.CellLayoutType = void 0, (Ln = f.CellLayoutType || (f.CellLayoutType = {})).GROUP = "group", Ln.COLUMN = "column", Ln.PROXY = "proxy";
    var tl, Oe = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._visible = !0, e._width = NaN, e._fillWidth = NaN, e._index = -1, e._vindex = -1, e._row = 0, e._col = 0, e._hrow = 0, e._hcol = 0, e._cspan = 1, e._hspan = 1, e._dspan = 1, e._clen = 1, e._hlen = 1, e._dlen = 1, e._cellWidth = 0, e._fitWidth = NaN, e._defColSpan = 1, e._header = e._createHeader(), e._header && (e._header._layout = e), e;
      }
      return w(i, a), i.compareLoc = function(e, t) {
        if (e == null || t == null)
          return 0;
        if (e == null)
          return -1;
        if (t == null)
          return 1;
        var o = e.root.vindex, r = t.root.vindex;
        return o == r && (e.group === t.group ? (o = e.vindex, r = t.vindex) : (o = e.dataRoot.vindex, r = t.dataRoot.vindex)), o - r;
      }, i.getSource = function(e) {
        return e instanceof Yt ? e.source : e;
      }, i.prototype._doDispose = function() {
        this._header = this._header && this._header.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        if (this.$_grid)
          return this.$_grid;
        var e = this.root;
        return e && e._parent.grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "source", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isNull", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isProxy", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return this._type;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._visible;
      }, set: function(e) {
        e != this._visible && (this._visible = e, this._changed(), this._propChanged("visible", this._visible, !this._visible));
      }, enumerable: !1, configurable: !0 }), i.prototype.$_isVisible = function(e) {
        return this._visible;
      }, Object.defineProperty(i.prototype, "header", { get: function() {
        return this._header;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "owner", { get: function() {
        return this._parent && this._parent.owner;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "parent", { get: function() {
        return this._parent;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "group", { get: function() {
        return this._parent instanceof zn ? null : this._parent;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "root", { get: function() {
        if (!this._root)
          for (var e = this; e; ) {
            if (e._parent instanceof zn)
              return this._root = e;
            e = e._parent;
          }
        return this._root;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isRoot", { get: function() {
        return this.root === this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataRoot", { get: function() {
        if (!this._dataRoot) {
          var e = this.group;
          if (e)
            do
              this._dataRoot = e, e = e.group;
            while (e);
          else
            this._dataRoot = this;
        }
        return this._dataRoot;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        return this._index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "vindex", { get: function() {
        return this._vindex;
      }, set: function(e) {
        var t = this._vindex;
        if (this._parent && this._parent.$_changeChildVIndex(this, e), this._vindex != t) {
          this._propChanged("displayIndex", this._vindex, t);
          var o = this.firstColumn;
          o && this instanceof de && o.$_layoutIndexChanged(t, this._vindex);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "row", { get: function() {
        return this._row;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "col", { get: function() {
        return this._col;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hrow", { get: function() {
        return this._hrow;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hcol", { get: function() {
        return this._hcol;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "width", { get: function() {
        return this._getWidth(this._width);
      }, set: function(e) {
        e = Math.max(0, e), this.grid && (e = Math.max(e, this.grid.displayOptions.minCellWidth)), e != this._width && (this._width = e, this._parent && this._parent._childWidthChanged(this));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fillWidth", { get: function() {
        return this._getFillWidth(this._fillWidth);
      }, set: function(e) {
        (e = Math.max(0, e)) != this._fillWidth && (this._fillWidth = e, this._parent && this._parent._childFillWidthChanged(this));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupShowMode", { get: function() {
        return this._groupShowMode;
      }, set: function(e) {
        e != this._groupShowMode && (this._groupShowMode = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "domWidth", { get: function() {
        if (this.grid && this.grid.layoutManager.isColumnFitted) {
          var e = this.grid, t = e.layoutManager, o = e.fixedOptions.colCount, r = t.cellCount, n = this.$_fixed ? t._fixedCellPoints : this.$_rfixed ? t._rightCellPoints : this.grid.layoutManager._cellPoints, s = this.$_fixed ? this._col : this.$_rfixed ? this._col - (r - o) : this._col - o;
          return n[s + (this instanceof Ie ? this._clen : this._defColSpan)] - n[s];
        }
        return this.cellWidth;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "distance", { get: function() {
        return this._col;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cspan", { get: function() {
        return this._cspan;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hspan", { get: function() {
        return this._hspan;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hlen", { get: function() {
        return this._hlen;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "merged", { get: function() {
        return this._merged;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isFixed", { get: function() {
        return this.$_fixed || this.$_rfixed;
      }, enumerable: !1, configurable: !0 }), i.prototype.load = function(e) {
        typeof e != "string" && (e.width !== void 0 && (this.width = e.width), e.header !== void 0 && this._header.assignFrom(e.header), e.fillWidth !== void 0 && (this.fillWidth = e.fillWidth), this.groupShowMode = b.valueIn(e.groupShowMode, f.GroupShowMode) ? e.groupShowMode : f.GroupShowMode.ALWAYS, e.visible !== void 0 && (this.visible = e.visible));
      }, i.prototype.isColumn = function(e) {
        return !1;
      }, i.prototype.cleanColumns = function() {
      }, i.prototype.findLayout = function(e) {
        return null;
      }, i.prototype.getHeaderSpan = function() {
        return 1;
      }, i.prototype.getSummarySpan = function(e) {
        return 1;
      }, i.prototype.getFooterSpan = function(e) {
        return 1;
      }, i.prototype.getDataSpan = function() {
        return 1;
      }, i.prototype.getGroupFooterSpan = function(e, t) {
        return 1;
      }, i.prototype.getDataColumn = function() {
        return null;
      }, i.prototype.getFooterUserSpan = function(e) {
        return null;
      }, i.prototype.getSummaryUserSpan = function(e) {
        return null;
      }, i.prototype._createHeader = function() {
        return null;
      }, i.prototype._headerChanged = function() {
        this._changed();
      }, i.prototype._prepareLayout = function(e, t, o) {
        this.$_grid = e, this.$_fixed = t, this.$_rfixed = o, this._merged = !1;
      }, i.prototype._detach = function() {
        this._parent = void 0, this._index = -1, this._vindex = -1, this._row = -1, this._col = -1, this._cspan = 1, this._hspan = 1, this._dspan = 1, this._clen = 1, this._hlen = 1, this._dlen = 1, this._root = void 0, this._dataRoot = void 0;
      }, i.prototype._getWidth = function(e) {
        return e;
      }, i.prototype._getFillWidth = function(e) {
        return e;
      }, i.prototype.changeCellWidth = function(e, t, o) {
        var r = this.owner, n = r && r.grid, s = n && n._loading, l = o ? this.cellWidth : this.domWidth, h = this.domWidth, u = this.grid.displayOptions.minCellWidth;
        if (isNaN(l) && s && o)
          this.width = e;
        else {
          var c = e - l;
          if (t && !o && (c *= this.cellWidth / (isNaN(this._fitWidth) ? this.cellWidth : this._fitWidth)), c = Math.round(c))
            if (this.grid._columnsDirty && this.owner.$_refresh(this.grid._columns, u), r && r.isShowing(this)) {
              if (r) {
                var d = this._col, p = void 0;
                p = this instanceof Ie ? this._clen : this._defColSpan, r.$_changeCellWidths(d, p, c, u);
                var _ = r._cellWidths;
                if (_ && _.length)
                  for (var g = r._dataCells, y = 0; y < g.length; y++)
                    for (var m = g[y], v = 0; v < p; v++)
                      m[d + v]._cellWidth = _[d + v];
                r.$_calcGroupWidths();
              }
              setTimeout(function() {
                if (this.domWidth != h) {
                  var C = this.firstColumn;
                  this._propChanged("displayWidth", this.domWidth, h), C && this instanceof de && C.$_layoutWidthChanged(h, this.domWidth);
                }
              }.bind(this), 50);
            } else {
              if (this instanceof Ie || this._defColSpan > 1)
                return;
              this._cellWidth = e;
            }
        }
      }, i.prototype._setFitWidth = function(e) {
        this._fitWidth = e;
      }, i.prototype._clearFitWidth = function() {
        this._fitWidth = NaN;
      }, i.prototype._changed = function() {
        this._parent && this._parent._changed();
      }, i.prototype.$_setMerged = function(e) {
        this._merged = e;
      }, i.prototype._propChanged = function(e, t, o) {
        var r = this.grid;
        r && r._fireLayoutPropertyChanged(this, e, t, o);
      }, i;
    }(J), Yt = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._type = f.CellLayoutType.PROXY, o._source = e, o._index = t, o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "cellWidth", { get: function() {
        return this._cellWidth;
      }, set: function(e) {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isNull", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isProxy", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "source", { get: function() {
        return this._source;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._source.visible;
      }, enumerable: !1, configurable: !0 }), i.prototype.$_isVisible = function(e) {
        return this._source.$_isVisible(e);
      }, Object.defineProperty(i.prototype, "cols", { get: function() {
        return this._source.cols;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerRows", { get: function() {
        return this._source.headerRows;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rows", { get: function() {
        return this._source.rows;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "root", { get: function() {
        return this._source.root;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayText", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "first", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "last", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstColumn", { get: function() {
        return this._source.firstColumn;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lastColumn", { get: function() {
        return this._source.lastColumn;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "boundColumn", { get: function() {
        return this._source.boundColumn;
      }, enumerable: !1, configurable: !0 }), i.prototype.load = function(e) {
      }, i.prototype._isResizable = function() {
        return !1;
      }, i.prototype._isMovable = function() {
        return !1;
      }, i.prototype.clearMergeGrouped = function() {
      }, i;
    }(Oe), de = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._cellSpan = 1, t._cellWidths = [], t._cols = 1, t._rows = 1, t._blanked = !1, t._type = f.CellLayoutType.COLUMN, t._column = e, t._columnObj = e instanceof Et ? e : null, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._column = this._columnObj = null, this._merges = this._merges && this._merges.dispose(), this._mergeRuleObj = this._mergeRuleObj && this._mergeRuleObj.dispose(), this._equalBlankNode = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "column", { get: function() {
        return this._column;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellWidth", { get: function() {
        if (this.owner.isShowing(this)) {
          var e = this.owner.getCellWidths(this._col, this._defColSpan);
          return isNaN(e) && (e = this.width), e || this._cellWidth;
        }
        return this._cellWidths && this._cellWidths.reduce(function(t, o) {
          return t + o;
        }, 0) || this._cellWidth;
      }, set: function(e) {
        if (!this.owner._loading) {
          var t = !!this.grid && this.grid.layoutManager.isColumnFitted;
          e = Math.max(this.grid.displayOptions.minCellWidth, e), this.changeCellWidth(e, t, !0);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "merges", { get: function() {
        return this._merges;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeRule", { get: function() {
        return this._mergeRule;
      }, set: function(e) {
        if (e !== this._mergeRule) {
          this._mergeRule = e, this._mergeRuleObj && this._mergeRuleObj.dispose(), this._mergeRuleObj = e ? Ya.createRule(e) : e === void 0 ? void 0 : null;
          var t = this.grid;
          t && t._columnMergeRuleChanged(this);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "breakMergeOnEmpty", { get: function() {
        return this._breakMergeOnEmpty;
      }, set: function(e) {
        if (e !== this._breakMergeOnEmpty) {
          this._breakMergeOnEmpty = e;
          var t = this.grid;
          t && t._columnMergeRuleChanged(this);
        }
      }, enumerable: !1, configurable: !0 }), i.prototype.isBreakMergeOnEmpty = function() {
        return this._breakMergeOnEmpty === void 0 ? this._columnObj instanceof re && this._columnObj.breakMergeOnEmpty : this._breakMergeOnEmpty;
      }, Object.defineProperty(i.prototype, "equalBlank", { get: function() {
        return this._equalBlank;
      }, set: function(e) {
        e !== this._equalBlank && (this._equalBlank = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "equalBlankNode", { get: function() {
        return this._blankNodeRun;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "blanked", { get: function() {
        return this._blanked;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "equalBlankExpression", { get: function() {
        return this._equalBlankExpression;
      }, set: function(e) {
        e !== this._equalBlankExpression && (this._equalBlankExpression = e, this._equalBlankNode = e ? Mt.Default.parse(e, null) : e === void 0 ? void 0 : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellSpan", { get: function() {
        return this._cellSpan;
      }, set: function(e) {
        (e = Math.max(1, e)) != this._cellSpan && (this._cellSpan = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerSpan", { get: function() {
        return this._headerSpan;
      }, set: function(e) {
        e != this._headerSpan && (e !== void 0 && (e = Math.max(1, e)), this._headerSpan = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summarySpan", { get: function() {
        return this._summarySpans ? this._summarySpans[0] : void 0;
      }, set: function(e) {
        this._summarySpans = this._summarySpans || [], e != this._summarySpans[0] && (e !== void 0 && (e = Math.max(1, e)), this._summarySpans[0] = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summarySpans", { get: function() {
        return this._summarySpans && this._summarySpans.slice();
      }, set: function(e) {
        e !== this._summarySpans && (this._summarySpans = e && e.slice(), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerSpan", { get: function() {
        return this._footerSpans && this._footerSpans[0];
      }, set: function(e) {
        this._footerSpans = this._footerSpans || [], e != this._footerSpans[0] && (e !== void 0 && (e = Math.max(1, e)), this._footerSpans[0] = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerSpans", { get: function() {
        return this._footerSpans && this._footerSpans.slice();
      }, set: function(e) {
        e !== this._footerSpans && (this._footerSpans = e && e.slice(), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataSpan", { get: function() {
        return this._dataSpan;
      }, set: function(e) {
        e != this._dataSpan && (e !== void 0 && (e = Math.max(1, e)), this._dataSpan = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupFooterSpan", { get: function() {
        return this._groupFooterSpans && this._groupFooterSpans[0];
      }, set: function(e) {
        this._groupFooterSpans = this._groupFooterSpans || [], e != this._groupFooterSpans[0] && (e !== void 0 && (e = Math.max(1, e)), this._groupFooterSpans[0] = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupFooterSpans", { get: function() {
        return this._groupFooterSpans && this._groupFooterSpans.slice();
      }, set: function(e) {
        e !== this._groupFooterSpans && (this._groupFooterSpans = e && e.slice(), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "spanCallback", { get: function() {
        return this._spanCallback;
      }, set: function(e) {
        e != this._spanCallback && (this._spanCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summarySpanCallback", { get: function() {
        return this._summarySpanCallback;
      }, set: function(e) {
        e != this._summarySpanCallback && (this._summarySpanCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerSpanCallback", { get: function() {
        return this._footerSpanCallback;
      }, set: function(e) {
        e != this._footerSpanCallback && (this._footerSpanCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupFooterSpanCallback", { get: function() {
        return this._groupFooterSpanCallback;
      }, set: function(e) {
        e != this._groupFooterSpanCallback && (this._groupFooterSpanCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerUserSpans", { get: function() {
        return this._footerUserSpans;
      }, set: function(e) {
        this._footerUserSpans = b.makeArray(e, !0).slice(), this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summaryUserSpans", { get: function() {
        return this._summaryUserSpans;
      }, set: function(e) {
        this._summaryUserSpans = b.makeArray(e, !0).slice(), this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupFooterUserSpans", { get: function() {
        return this._groupFooterUserSpans;
      }, set: function(e) {
        this._groupFooterUserSpans = b.makeArray(e, !0).slice(), this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupFooterUserSpanCallback", { get: function() {
        return this._groupFooterUserSpanCallback;
      }, set: function(e) {
        e != this._groupFooterUserSpanCallback && (this._groupFooterUserSpanCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.canMerge = function() {
        if (this._mergeRuleObj != null)
          return !0;
        if (this._columnObj instanceof re) {
          if (this._columnObj.mergeGrouped)
            return !0;
          if (this._mergeRuleObj === void 0)
            return this._columnObj._mergeRuleObj != null;
        }
      }, Object.defineProperty(i.prototype, "isNull", { get: function() {
        return !this._columnObj;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cols", { get: function() {
        return this._cols;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerRows", { get: function() {
        return 1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rows", { get: function() {
        return this._rows;
      }, set: function(e) {
        this._rows = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "first", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "last", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstColumn", { get: function() {
        return this._columnObj;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lastColumn", { get: function() {
        if (this._columnObj)
          return this._columnObj;
        for (var e = this.parent.visibles, t = e.indexOf(this); t-- > 0; ) {
          var o = e[t];
          if (o instanceof i && o.lastColumn)
            return o.lastColumn;
        }
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "boundColumn", { get: function() {
        return this._columnObj;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayText", { get: function() {
        return this._header && this._header.text || this._columnObj && this._columnObj.displayText || this.toString();
      }, enumerable: !1, configurable: !0 }), i.prototype.getHeaderSpan = function() {
        return this._headerSpan === void 0 ? this._cellSpan : this._headerSpan;
      }, i.prototype.getSummarySpan = function(e) {
        var t, o = this._summarySpanCallback, r = this._summarySpans;
        return o ? (t = o(this.grid.handler, this, e)) === void 0 && r && r.length > e && (t = r[e]) : r && r.length > e && (t = r[e]), t === void 0 ? this._cellSpan : t;
      }, i.prototype.getFooterSpan = function(e) {
        var t, o = this._footerSpanCallback, r = this._footerSpans;
        return o ? (t = o(this.grid.handler, this, e)) === void 0 && r && r.length > e && (t = r[e]) : r && r.length > e && (t = r[e]), t === void 0 ? this._cellSpan : t;
      }, i.prototype.getFooterUserSpan = function(e) {
        return this._footerUserSpans && this._footerUserSpans[e];
      }, i.prototype.getSummaryUserSpan = function(e) {
        return this._summaryUserSpans && this._summaryUserSpans[e];
      }, i.prototype.getGroupFooterUserSpan = function(e, t) {
        var o, r = this._groupFooterUserSpanCallback;
        return r && (o = r(this.grid.handler, this, e, e.index, t)), o || this._groupFooterUserSpans && this._groupFooterUserSpans[t];
      }, i.prototype.getGroupFooterSpan = function(e, t) {
        var o, r = this._groupFooterSpanCallback, n = this._groupFooterSpans;
        return r ? (o = r(this.grid.handler, this, e, t)) === void 0 && n && n.length > t && (o = n[t]) : n && n.length > t && (o = n[t]), o === void 0 ? this._cellSpan : o;
      }, i.prototype.getDataSpan = function() {
        return this._dataSpan === void 0 ? this._cellSpan : this._dataSpan;
      }, i.prototype.getDataColumn = function() {
        return this._columnObj;
      }, i.prototype._createHeader = function() {
        return new rl(this);
      }, i.prototype._isResizable = function() {
        return !this._columnObj || this._columnObj.resizable;
      }, i.prototype._isMovable = function() {
        for (var e = !0, t = this.parent; t; )
          e = e && t.childColumnMovable, t = t.parent;
        return e && (!this._columnObj || this._columnObj.movable);
      }, i.prototype.isColumn = function(e) {
        return this._columnObj === e;
      }, i.prototype.findLayout = function(e) {
        return e && this._columnObj === e ? this : null;
      }, i.prototype.load = function(e) {
        if (this.assignFrom(e), a.prototype.load.call(this, e), !this._columnObj && typeof this._column == "string") {
          var t = this.owner && this.owner.grid;
          this._columnObj = t ? t.columnByName(this._column) : null;
        }
      }, i.prototype.cleanColumns = function() {
        this._columnObj && this._columnObj.clean();
      }, i.prototype.$_isVisible = function(e) {
        return e ? this._visible : this._visible && (!this._columnObj || this._columnObj.visible);
      }, i.prototype._getWidth = function(e) {
        return isNaN(e) ? this._columnObj ? this._columnObj.width : NaN : e;
      }, i.prototype._getFillWidth = function(e) {
        return isNaN(e) ? this._columnObj ? this._columnObj.fillWidth : NaN : e;
      }, i.prototype._prepareLayout = function(e, t, o) {
        if (a.prototype._prepareLayout.call(this, e, t, o), this._columnObj) {
          this._columnObj._prepareLayout(e, this);
          var r = this.parent.direction === f.ColumnLayoutDirection.VERTICAL ? this.cellSpan + this._dspan - 1 : this._dspan;
          (this._blanked = r === this.owner.dataRows) && (this._blankNodeRun = this._equalBlankNode, this._blanked = this._equalBlank || this._blankNodeRun != null, this._blanked || (this._equalBlankNode === void 0 && (this._blanked = (this._blankNodeRun = this._columnObj._equalBlankNode) != null), this._blanked || this._equalBlank !== void 0 || (this._blanked = this._columnObj._equalBlank)));
        }
      }, i.prototype.toString = function() {
        return typeof this._column == "string" ? this._column : a.prototype.toString.call(this);
      }, i.prototype.clearMergeGrouped = function() {
        this.firstColumn instanceof re && this.firstColumn.$_setMergeGrouped(!1);
      }, i.prototype.$_bindColumn = function(e, t, o) {
        if (o === void 0 && (o = !1), this._columnObj || (this._columnObj = t.columnByName(this._column)), this._columnObj) {
          var r = this._columnObj.$_hash;
          if (e[r])
            throw new Error("Column is already contained in layouts: " + (this._columnObj.name || this._columnObj.displayText));
          o || (this._columnObj._layout = this), !o && (this._columnObj._layout = this), e[r] = this;
        }
      }, i.prototype.$_mergeRuleObj = function() {
        return this._mergeRuleObj ? this._mergeRuleObj : this._mergeRuleObj === void 0 && this._columnObj instanceof re ? this._columnObj._mergeRuleObj : null;
      }, i;
    }(Oe);
    f.ColumnLayoutDirection = void 0, (tl = f.ColumnLayoutDirection || (f.ColumnLayoutDirection = {})).VERTICAL = "vertical", tl.HORIZONTAL = "horizontal";
    var il, ol, rl = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._layout = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "layout", { get: function() {
        return this._layout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, set: function(e) {
        e != this._text && (this._text = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this.layout.firstColumn.header.styleName;
      }, set: function(e) {
        this.layout.firstColumn.header.styleName = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exportStyleName", { get: function() {
        return this.layout.firstColumn.header.exportStyleName;
      }, set: function(e) {
        this.layout.firstColumn.header.exportStyleName = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rows", { get: function() {
        return 1;
      }, enumerable: !1, configurable: !0 }), i.prototype.isVisible = function() {
        return !0;
      }, i.prototype.getDisplayText = function() {
        return this._text;
      }, i.prototype.doAssignSimple = function(e) {
        return typeof e == "string" && (this.text = e, !0);
      }, i.prototype._changed = function() {
        this._layout && this._layout._headerChanged();
      }, i;
    }(J), ld = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._visible = !0, t._showTooltip = void 0, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._visible;
      }, set: function(e) {
        e != this._visible && (this._visible = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "template", { get: function() {
        return this._template && this._template.template;
      }, set: function(e) {
        e != this.template && (e ? (this.template || (this._template = new Vn()), this._template.template = e) : this._template = void 0, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "values", { get: function() {
        return this._values;
      }, set: function(e) {
        e !== this._values && (e ? b.extendObj(e, this._values = {}) : this._values = void 0, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showTooltip", { get: function() {
        return this._showTooltip;
      }, set: function(e) {
        e !== this._showTooltip && (this._showTooltip = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tooltip", { get: function() {
        return this._tooltip;
      }, set: function(e) {
        e !== this._tooltip && (this._tooltip = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "edgeMark", { get: function() {
        return this._edgeMark;
      }, set: function(e) {
        e !== this._edgeMark && (this._edgeMark = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName;
      }, set: function(e) {
        e !== this._styleName && (this._styleName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exportStyleName", { get: function() {
        return this._exportStyleName;
      }, set: function(e) {
        this._exportStyleName = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rows", { get: function() {
        return Math.max(1, this._rows || 1);
      }, set: function(e) {
        e !== this._rows && (this._rows = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "templateCallback", { get: function() {
        return this._templateCallback;
      }, set: function(e) {
        this._templateCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), i.prototype.realizeTemplate = function() {
        var e = this._template;
        return e ? e.realizeHeader(this, null, this._layout.grid) : void 0;
      }, i.prototype.getValue = function(e) {
        return this._values && this._values[e];
      }, i.prototype.doAssignSimple = function(e) {
        return !a.prototype.doAssignSimple.call(this, e) && typeof e == "boolean" && (this.visible = e, !0);
      }, i.prototype.isVisible = function() {
        return this._visible;
      }, i.prototype.getDisplayText = function() {
        return this.text || this.layout.name;
      }, Object.defineProperty(i.prototype, "displayText", { get: function() {
        return this.getDisplayText();
      }, enumerable: !1, configurable: !0 }), i;
    }(rl), Ie = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._direction = f.ColumnLayoutDirection.HORIZONTAL, o._items = [], o._resizable = !0, o._movable = !0, o._hideChildHeaders = !1, o._childColumnMovable = !0, o._visibles = [], o._cols = 0, o._rows = 0, o._headerRows = 0, o._expandedLayouts = [], o._collapsedLayouts = [], o._type = f.CellLayoutType.GROUP, o._name = e, o._direction = t == f.ColumnLayoutDirection.VERTICAL ? f.ColumnLayoutDirection.VERTICAL : f.ColumnLayoutDirection.HORIZONTAL, o;
      }
      return w(i, a), i.getNext = function(e) {
        var t = e && e.parent;
        return t ? ((e = t.nextOf(e)) || (e = i.getNext(t)), e) : null;
      }, i.getPrev = function(e) {
        var t = e && e.parent;
        return t ? ((e = t.prevOf(e)) || (e = i.getPrev(t)), e) : null;
      }, i.isTop = function(e) {
        for (var t = e && e.parent; t; ) {
          if (t.vertical && t.visibleCount > 1 && e.vindex > 0)
            return !1;
          t = (e = t).parent;
        }
        return !0;
      }, i.isBottom = function(e) {
        for (var t = e && e.parent; t; ) {
          if (t.vertical && t.visibleCount > 1 && e.vindex < t.visibleCount - 1)
            return !1;
          t = (e = t).parent;
        }
        return !0;
      }, i.isLeft = function(e) {
        for (var t = e && e.parent; t; ) {
          if (!t.vertical && t.visibleCount > 1 && e.vindex > 0)
            return !1;
          t = (e = t).parent;
        }
        return !0;
      }, i.isRight = function(e) {
        return i.isBottom(e);
      }, i.prototype._doDispose = function() {
        this._items.forEach(function(e) {
          e && e.dispose();
        }), this._visibles = this._items = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "name", { get: function() {
        return this._name;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "direction", { get: function() {
        return this._direction;
      }, set: function(e) {
        e != f.ColumnLayoutDirection.VERTICAL && (e = f.ColumnLayoutDirection.HORIZONTAL), e != this._direction && (this._direction = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "vertical", { get: function() {
        return this._direction == f.ColumnLayoutDirection.VERTICAL;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "horizontal", { get: function() {
        return this._direction != f.ColumnLayoutDirection.VERTICAL;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "resizable", { get: function() {
        return this._resizable;
      }, set: function(e) {
        this._resizable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "movable", { get: function() {
        return this._movable;
      }, set: function(e) {
        this._movable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hideChildHeaders", { get: function() {
        return this._hideChildHeaders;
      }, set: function(e) {
        e != this._hideChildHeaders && (this._hideChildHeaders = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "childColumnMovable", { get: function() {
        return this._childColumnMovable;
      }, set: function(e) {
        this._childColumnMovable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "items", { get: function() {
        return this._items.slice();
      }, set: function(e) {
        this._items = e ? e.slice() : [];
        for (var t = 0, o = this._items; t < o.length; t++)
          o[t]._parent = this;
        this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visibleCount", { get: function() {
        return this._visibles.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visibles", { get: function() {
        return this._visibles.slice();
      }, enumerable: !1, configurable: !0 }), i.prototype.$_isVisible = function(e) {
        return this.visible && this._visibles.length > 0;
      }, Object.defineProperty(i.prototype, "expandable", { get: function() {
        return this._expandable;
      }, set: function(e) {
        e != this._expandable && (this._expandable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expanded", { get: function() {
        return this._expanded;
      }, set: function(e) {
        e != this._expanded && this.owner.expandLayout(this, e);
      }, enumerable: !1, configurable: !0 }), i.prototype.indexOf = function(e) {
        for (var t = 0; t < this._items.length; t++)
          if (this._items[t] === e)
            return t;
        return -1;
      }, i.prototype.getItem = function(e) {
        return this._items[e];
      }, i.prototype.getVisible = function(e) {
        return this._visibles[e];
      }, i.prototype.addLayout = function(e, t) {
        if (!this.owner.isDefault()) {
          var o, r, n, s = this.grid, l = this.owner;
          if (s && s._checkEditing(), typeof e == "string" ? n = l.layoutByName(e) : e instanceof Et ? n = l.layoutByColumn(e) : e && typeof e.column == "string" && (n = l.layoutByName(e.column)), n)
            throw new Error("addLayout fail - Column or Group is already contained in layouts: " + n.firstColumn.name);
          if (typeof e == "string" || e instanceof Et)
            o = typeof e == "string" && h(s, e), r = new de(e);
          else if (e) {
            if (typeof e.column == "string")
              o = h(s, e.column), r = new de(e.column);
            else if ((e.type === f.CellLayoutType.GROUP || e.items) && e.name) {
              if (l.layoutByName(e.name))
                throw new Error("addLayout fail - group is already contained in layouts: " + e.name);
              r = new i(e.name, e.direction);
            }
          }
          return r ? (typeof e == "object" && r.load(e), this.addItem(r, t), (r instanceof de && o || r instanceof i && r._items.length) && this.owner._root && this.owner._root.resetColumns(s._columns), r) : void 0;
        }
        function h(u, c) {
          var d = u.columnByName(c);
          if (!d)
            throw new Error("not exists column ".concat(c));
          return d;
        }
      }, i.prototype.removeLayout = function(e) {
        if (!this.owner.isDefault()) {
          var t = this.grid;
          t && t._checkEditing(), typeof e == "string" ? e = this.layoutByName(e) : e instanceof Et && (e = e.layout), e instanceof Oe && e.parent.removeItem(e, !0);
        }
      }, i.prototype.addItem = function(e, t) {
        t === void 0 && (t = this._items.length), e != null && t >= 0 && t <= this._items.length && (this._items.splice(t, 0, e), e._parent = this, this._changed());
      }, i.prototype.clear = function(e) {
        e === void 0 && (e = !0);
        for (var t = 0, o = this._items; t < o.length; t++) {
          var r = o[t];
          e && r instanceof i && r.clear(), r._detach();
        }
        this._items = [], this._visibles = [], this._cols = 0, this._rows = 0, this._headerRows = 0;
      }, i.prototype.removeItem = function(e, t) {
        var o = this.indexOf(e);
        if (o >= 0) {
          if (e instanceof de && e.cellSpan > 1)
            for (var r = e.cellSpan - 1; r--; ) {
              var n = this._items.splice(o + r, 1)[0];
              n && (n._detach(), t && n.dispose());
            }
          this._items.splice(o, 1), e._detach(), t && e.dispose(), this._changed();
        }
      }, i.prototype.layoutByName = function(e) {
        if (e)
          for (var t = 0, o = this._items; t < o.length; t++) {
            var r = o[t];
            if (r instanceof de && r.firstColumn.name === e)
              return r;
            if (r instanceof i) {
              if (r.name === e)
                return r;
              var n = r.layoutByName(e);
              if (n)
                return n;
            }
          }
        return null;
      }, i.prototype.nextOf = function(e) {
        try {
          var t = this.$_checkVisible(e);
          if (t < this.visibleCount - 1)
            return e = hd(this, t + 1);
        } catch {
          b.log("nextOf fail");
        }
        return null;
      }, i.prototype.prevOf = function(e) {
        try {
          var t = this.$_checkVisible(e);
          if (t > 0)
            return e = ud(this, t - 1);
        } catch {
          b.log("prevOf fail");
        }
        return null;
      }, i.prototype.isExpandable = function() {
        return this.expandable && this._expandedLayouts.length > 0 && this._collapsedLayouts.length > 0;
      }, i.prototype.expandAll = function(e, t) {
        this.expandable && (this.expanded = e), this._items.forEach(function(o) {
          o instanceof i && o.expandAll(e, t);
        });
      }, i.prototype._clearFitWidth = function() {
        a.prototype._clearFitWidth.call(this);
        for (var e = 0, t = this._visibles; e < t.length; e++)
          t[e]._clearFitWidth();
      }, Object.defineProperty(i.prototype, "cellWidth", { get: function() {
        return this.owner.getCellWidths(this._col, this._clen);
      }, set: function(e) {
        var t = !!this.grid && this.grid.layoutManager.isColumnFitted;
        this.changeCellWidth(e, t, !0);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cols", { get: function() {
        return this._cols;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerRows", { get: function() {
        return this._headerRows;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rows", { get: function() {
        return this._rows;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "first", { get: function() {
        return this._visibles.length > 0 ? this._visibles[0].first : this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "last", { get: function() {
        var e = this._visibles ? this._visibles.length : 0;
        return e > 0 ? this._visibles[e - 1].last : this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstColumn", { get: function() {
        return this._visibles && this._visibles.length > 0 ? this._visibles[0].firstColumn : null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lastColumn", { get: function() {
        for (var e = this._visibles ? this._visibles.length - 1 : -1; e >= 0; e--) {
          var t = this._visibles[e].lastColumn;
          if (t)
            return t;
        }
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "boundColumn", { get: function() {
        return this.firstColumn;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayText", { get: function() {
        return this._header && this._header.text || this._name;
      }, enumerable: !1, configurable: !0 }), i.prototype._createHeader = function() {
        return new ld(this);
      }, i.prototype.load = function(e) {
        this.clear(), e.hideChildHeaders !== void 0 && (this.hideChildHeaders = e.hideChildHeaders), this.expandable = e.expandable, this._expanded = e.expanded == null || e.expanded, e.resizable !== void 0 && (this.resizable = e.resizable), e.childColumnMovable !== void 0 && (this.childColumnMovable = e.childColumnMovable), e.movable !== void 0 && (this.movable = e.movable), e.rows == null || isNaN(e.rows) || (this._rows = e.rows), e.items && this._loadItems(e.items), a.prototype.load.call(this, e);
      }, i.prototype.findLayout = function(e) {
        for (var t = 0, o = this._items; t < o.length; t++) {
          var r = o[t].findLayout(e);
          if (r)
            return r;
        }
        return null;
      }, i.prototype.cleanColumns = function() {
        for (var e = 0, t = this.items.length; e < t; e++)
          this.getItem(e).cleanColumns();
      }, i.prototype._isResizable = function() {
        return this._resizable;
      }, i.prototype._isMovable = function() {
        for (var e = this._movable, t = this.parent; t; )
          e = e && t.childColumnMovable, t = t.parent;
        return e;
      }, i.prototype._setFitWidth = function(e) {
        if (a.prototype._setFitWidth.call(this, e), this.vertical)
          for (var t = 0, o = this._visibles; t < o.length; t++)
            if ((c = o[t]) instanceof de) {
              var r = c._cellWidth / this.cellWidth * e;
              c._setFitWidth(r);
            } else
              c._setFitWidth(e);
        else {
          for (var n = 0, s = 0, l = this._visibles; s < l.length; s++)
            n += (c = l[s])._cellWidth;
          for (var h = 0, u = this._visibles; h < u.length; h++) {
            var c;
            r = (c = u[h])._cellWidth / n * e, c._setFitWidth(r);
          }
        }
      }, i.prototype._prepareLayout = function(e, t, o) {
        a.prototype._prepareLayout.call(this, e, t, o);
        for (var r = 0, n = this._visibles; r < n.length; r++)
          n[r]._prepareLayout(e, t, o);
      }, i.prototype.toString = function() {
        return this._name || a.prototype.toString.call(this);
      }, i.prototype.clearMergeGrouped = function() {
        for (var e = 0, t = this.items.length; e < t; e++)
          this.getItem(e).clearMergeGrouped();
      }, i.prototype._loadItems = function(e) {
        for (var t, o = 0, r = 0, n = e; r < n.length; r++) {
          var s = n[r], l = void 0;
          o++, typeof s == "string" ? t = l = new de(s) : typeof s == "number" ? (l = new Yt(t, o))._width = s : s && (s.type === f.CellLayoutType.GROUP || s.items ? l = new i(s.name, s.direction) : typeof s.column == "string" ? t = l = new de(s.column) : s instanceof Et && (t = l = new de(s))), l && (l._parent = this, l.load(s), this._items.push(l));
        }
      }, i.prototype.$_bindColumns = function(e, t, o) {
        for (var r = 0, n = this._items; r < n.length; r++) {
          var s = n[r];
          s._root = null, s instanceof i ? s.$_bindColumns(e, t, o) : !s.isProxy && s.$_bindColumn(e, t, o);
        }
      }, i.prototype.$_parseExpandLayouts = function(e) {
        var t = this;
        this._expandedLayouts.length = this._collapsedLayouts.length = 0, this.items.forEach(function(o, r) {
          if (!o.isProxy) {
            switch (o.groupShowMode) {
              case f.GroupShowMode.EXPAND:
                t._expandedLayouts.push(o);
                break;
              case f.GroupShowMode.COLLAPSE:
                t._collapsedLayouts.push(o);
                break;
              default:
                t._expandedLayouts.push(o), t._collapsedLayouts.push(o);
            }
            o instanceof i && o.$_parseExpandLayouts(e);
          }
        });
      }, i.prototype.$_parseHeaderCells = function(e, t, o) {
        var r = this._direction === f.ColumnLayoutDirection.HORIZONTAL, n = 0, s = this._header.isVisible() ? this._header.rows : 0;
        if (s && this._hideChildHeaders)
          return this._cspan = this._clen = this._cols, void (this._hlen = this._headerRows);
        for (var l = 0, h = this._visibles; l < h.length; l++) {
          var u = h[l], c = !u.isProxy && u.header.isVisible() ? u.header.rows : u.isProxy && !r ? 1 : 0;
          if (u._hrow = t, u._hcol = o, u._hspan = c, u._hlen = c, u instanceof i)
            if (c > 0 && (e[t][o] = u), u.$_parseHeaderCells(e, t + c, o), c > 0) {
              for (var d = 0; d < c; d++)
                for (var p = d === 0 ? 1 : 0; p < u.cols; p++)
                  e[t + d][o + p] = new Yt(u, p);
              r ? o += u.cols : t += u.headerRows;
            } else
              r ? o += u.cols : t += u.headerRows;
          else if (e[t][o] = u, r) {
            for (d = 1; d < this.headerRows - s; d++)
              e[t + d][o] = new Yt(u, d), u._hspan++;
            u._hlen = u._hspan, o += u.cols;
          } else {
            for (d = 1; d < this.cols; d++)
              e[t][o + d] = new Yt(u, d);
            t += u.rows;
          }
          r ? n = Math.max(u._hlen, n) : n += u._hlen;
        }
        this._hlen = r ? n + s : Math.max(1, n + s);
      }, i.prototype.$_fillHorz = function(e, t, o, r, n, s, l) {
        for (var h = r + s, u = n, c = u + o - 1, d = 0, p = t - s; d < p; d++)
          for (var _ = c; _ >= u; _--) {
            var g = e[h + d][_];
            if (g != null) {
              g = Oe.getSource(g);
              for (var y = _ + 1; y <= c; y++) {
                var m = e[h + d][y] = new Yt(g, y - u);
                l ? (m._hrow = h + d, m._hcol = y) : (m._row = h + d, m._col = y, m._parent = g.group, g.row === m.row && (g._cspan++, g instanceof de && g._clen++));
              }
              break;
            }
          }
      }, i.prototype.$_fillVert = function(e, t, o, r, n, s, l) {
        for (var h = r + s, u = r + t - 1, c = n + o - 1, d = n; d <= c; d++)
          for (var p = u; p >= h; p--) {
            var _ = e[p][d];
            if (_ != null) {
              _ = Oe.getSource(_);
              for (var g = p + 1; g <= u; g++) {
                var y = e[g][d] = new Yt(_, g - h);
                l ? (y._hrow = g, y._hcol = d, _.hcol === y.hcol && (_._hspan++, _ instanceof de && _._hlen++)) : (y._row = g, y._col = d, _.col === y.col && (_._dspan++, _ instanceof de && _._dlen++), y._parent = _.group);
              }
              break;
            }
          }
      }, i.prototype.$_adjustHeaderCells = function(e) {
        var t = this._header.isVisible() ? this._header.rows : 0;
        if (t && this._hideChildHeaders) {
          this._hspan = this._hlen;
          for (var o = 0, r = 0; r < this._hlen; r++)
            for (var n = 0; n < this._clen; n++)
              if (r || n) {
                var s = this._hrow + r, l = this._hcol + n, h = e[s][l] = new Yt(this, o++);
                h._hrow = s, h._hcol = l;
              }
        } else if (this._direction === f.ColumnLayoutDirection.VERTICAL) {
          for (var u = this._clen, c = 0, d = this._visibles; c < d.length; c++)
            (g = d[c]) instanceof i && (g._clen = this._clen, g.$_adjustHeaderCells(e));
          this.$_fillVert(e, this._hlen, u, this._hrow, this._hcol, t, !0), this.$_fillHorz(e, this._hlen, u, this._hrow, this._hcol, t, !0);
        } else {
          for (var p = 0, _ = this._visibles; p < _.length; p++) {
            var g;
            (g = _[p]) instanceof i && (g._hlen = this._hlen - t, g.$_adjustHeaderCells(e));
          }
          this.$_fillVert(e, this._hlen, this._cols, this._hrow, this._hcol, t, !0), this.$_fillHorz(e, this._hlen, this._cols, this._hrow, this._hcol, t, !0);
        }
      }, i.prototype.$_parseDataCells = function(e, t, o) {
        for (var r, n = this._direction != f.ColumnLayoutDirection.VERTICAL, s = 0, l = 0, h = 0, u = this._visibles; h < u.length; h++) {
          var c = u[h];
          if (c._row = t, c._col = o, c._dspan = 1, c._dlen = 1, c._cspan = 1, c._clen = 1, c instanceof i) {
            if (c.$_parseDataCells(e, t, o), n)
              o += c.cols;
            else if (t += c.rows, this.rows == 2) {
              for (var d = 1 / 0, p = 0, _ = 0, g = this.visibles; _ < g.length; _++) {
                var y = g[_];
                d = Math.min(d, y.cols), p = Math.max(p, y.cols), y.ignoreCalcWidth = !1;
              }
              if (d === 1 && p > 1)
                for (var m = 0, v = this.visibles; m < v.length; m++)
                  (y = v[m]).ignoreCalcWidth = y.cols === 1;
            }
          } else if (e[t][o] = c, n) {
            for (var C = 1; C < this.rows; C++)
              e[t + C][o] = r = new Yt(c, C), c._dspan++, r._col = o, r._row = t + C, r._parent = this;
            c._dlen = c._dspan, o += c.cols;
          } else {
            for (C = 1; C < this.cols; C++)
              e[t][o + C] = r = new Yt(c, C), c._cspan++, r._col = o + C, r._row = t, r._parent = this;
            c._clen = c._cspan, t += c.rows;
          }
          n ? (l += c._clen, s = Math.max(c._dlen, s)) : (l = Math.max(c._clen, l), s += c._dlen);
        }
        n ? (l = Math.max(1, l), this._dlen = s) : this._dlen = Math.max(1, s), this._cspan = this._clen = l;
      }, i.prototype.$_adjustDataCells = function(e) {
        if (this._direction === f.ColumnLayoutDirection.VERTICAL) {
          for (var t = 0, o = this._visibles; t < o.length; t++)
            (s = o[t]) instanceof i && (s._cspan = s._clen = this._clen, s.$_adjustDataCells(e));
          this.$_fillVert(e, this._dlen, this._clen, this._row, this._col, 0, !1), this.$_fillHorz(e, this._dlen, this._clen, this._row, this._col, 0, !1);
        } else {
          for (var r = 0, n = this._visibles; r < n.length; r++) {
            var s;
            (s = n[r]) instanceof i && (s._dlen = this._dlen, s.$_adjustDataCells(e));
          }
          this.$_fillVert(e, this._dlen, this._clen, this._row, this._col, 0, !1), this.$_fillHorz(e, this._dlen, this._clen, this._row, this._col, 0, !1);
        }
      }, i.prototype.$_calcSpans = function() {
        var e = this._header.isVisible();
        if (this._direction == f.ColumnLayoutDirection.HORIZONTAL) {
          for (var t = 0, o = 1, r = 1, n = 0, s = this._visibles; n < s.length; n++)
            (d = s[n]) instanceof i && d.$_calcSpans(), t += d.cols, o = Math.max(o, d.headerRows), r = Math.max(r, d.rows);
          this._rows = r, this._cols = t, e && this._hideChildHeaders ? this._headerRows = this._header.rows : this._headerRows = o + (e ? this._header.rows : 0);
        } else {
          this._cols = 1, this._headerRows = e ? this._header.rows : 0, this._rows = 0;
          for (var l = 0, h = this._visibles; l < h.length; l++)
            (d = h[l]) instanceof i && d.$_calcSpans(), this._headerRows += d.headerRows, this._rows += d.rows, this._cols = Math.max(d.cols, this._cols);
          for (var u = 0, c = this._visibles; u < c.length; u++) {
            var d;
            (d = c[u]) instanceof i && (d._cols = this._cols);
          }
          e && this._hideChildHeaders && (this._headerRows = this._header.rows);
        }
      }, i.prototype.$_resetVisibles = function(e) {
        var t = 0, o = 0, r = this.visibles;
        this._visibles = [];
        for (var n = 0, s = this._items; n < s.length; n++) {
          var l = s[n];
          l._index = t++, l instanceof i && l.$_resetVisibles(e);
          var h = l.$_isVisible(e);
          h && this.expandable && (h = this._expanded ? this._expandedLayouts.indexOf(l) >= 0 : this._collapsedLayouts.indexOf(l) >= 0), h && (this._visibles.push(l), l._vindex = o++);
        }
        if (!e && r.length != this._visibles.length && this.direction === f.ColumnLayoutDirection.HORIZONTAL)
          for (var u = this; u; )
            u._cellWidth = NaN, u.width = NaN, u = u.parent;
        this.$_calcSpans();
      }, i.prototype.$_getLeaf = function(e, t) {
        for (var o = 0, r = this._visibles; o < r.length; o++) {
          var n = r[o];
          if (n instanceof i) {
            var s = n.row, l = s + n.rows;
            if (e >= s && e < l) {
              var h = n.col, u = h + n.cols;
              if (t >= h && t < u)
                return this.$_getLeaf(e - s, t - h);
            }
          } else if (n.row === e && n.col === t)
            return n;
        }
        return null;
      }, i.prototype.$_collectCellWidths = function(e) {
        for (var t = [], o = 0, r = this._visibles; o < r.length; o++) {
          var n = r[o], s = n._cellWidth || n.width;
          if (n instanceof de && (isNaN(s) || s == 0) && (s = e), n instanceof i) {
            var l = n.$_collectCellWidths(e);
            isNaN(s) && (s = l), n._cellWidth = s;
          } else
            n._cellWidth = s;
          t.push(s);
        }
        var h = this.width;
        return isNaN(h) && (h = this.vertical ? Math.max.apply(null, t) : t.reduce(function(u, c) {
          return u + c;
        }, 0)), h;
      }, i.prototype.$_calcCellWidths = function(e, t, o) {
        if (!o) {
          for (var r = t.slice(), n = 0; n < r.length; n++)
            r[n] = 0;
          var s = this.owner._moveColumn, l = e.slice();
          if (s) {
            var h = l.splice(s.first.row, 1);
            l.splice(0, 0, h[0]);
          }
          for (var u = 0; u < l.length; u++)
            for (var c = l[u], d = 0; d < c.length; d++) {
              var p = c[d];
              s ? t[d] = t[d] || p._cellWidth : (!p.isProxy || p._cellWidth > 0 && !p.ignoreCalcWidth) && (t[d] += p._cellWidth, r[d]++);
            }
          for (n = 0; n < t.length; n++)
            t[n] = Math.round(t[n] / Math.max(r[n], 1));
        }
        for (u = 0; u < e.length; u++)
          for (c = e[u], d = 0; d < c.length; d++) {
            var _ = c[d];
            if (_._cellWidth = t[d], _ instanceof de) {
              var g = _._cellWidths = [];
              for (n = 0; n < _.cspan; n++)
                g[n] = t[d + n] || 0;
            }
          }
      }, i.prototype._childIndexChanged = function(e) {
        this.parent && this.parent._childIndexChanged(e);
      }, i.prototype._childWidthChanged = function(e) {
        this.parent && this.parent._childWidthChanged(e);
      }, i.prototype._childFillWidthChanged = function(e) {
        this.parent && this.parent._childFillWidthChanged(e);
      }, i.prototype.$_checkVisible = function(e) {
        var t;
        if (!e || (t = e.vindex) < 0 || e !== this.getVisible(t))
          throw new Error("Column is not a visible group member");
        return t;
      }, i.prototype.$_collectHorzColumns = function(e, t, o) {
        if (this.horizontal)
          for (var r = t; r <= o; r++) {
            var n = this._visibles[r];
            n instanceof i ? n.$_collectHorzColumns(e, 0, n.visibleCount - 1) : n instanceof de && e.push(n._columnObj);
          }
      }, i.prototype.$_changeChildVIndex = function(e, t) {
        e && t != e.vindex && t >= 0 && t < this._visibles.length && this.$_changeChildIndex(e, this._visibles[t].index);
      }, i.prototype.$_changeChildIndex = function(e, t) {
        if (e) {
          var o = e.index;
          if (o != t && t >= 0 && t < this._items.length) {
            t = t <= o ? t : t + (this._items[t].getHeaderSpan() - 1) - (e.getHeaderSpan() - 1);
            for (var r = this._items.splice(o, e.getHeaderSpan()), n = 0; n < r.length; n++)
              this._items.splice(t + n, 0, r[n]);
            this.$_resetVisibles(), this._childIndexChanged(e);
          }
        }
      }, i;
    }(Oe), hd = function(a, i) {
      for (var e = i, t = a.visibleCount; e < t; e++) {
        var o = a.getVisible(e);
        if (o instanceof de || o instanceof Ie && (o = Oe.getSource(o.first)) instanceof de)
          return o;
      }
      return null;
    }, ud = function(a, i) {
      for (var e = i; e >= 0; e--) {
        var t = a.getVisible(e);
        if (t instanceof de || t instanceof Ie && (t = Oe.getSource(t.last)) instanceof de)
          return t;
      }
      return null;
    }, nl = function(a, i, e) {
      for (var t = e ? a.visibleCount : a.count, o = 0; o < t; o++) {
        var r = e ? a.getVisible(o) : a.getItem(o);
        if (r instanceof de) {
          var n = r._columnObj;
          n && i.push(n);
        } else
          r instanceof Ie && nl(r, i, e);
      }
    }, sl = function(a, i, e) {
      for (var t = e ? a.visibleCount : a.count, o = 0; o < t; o++) {
        var r = e ? a.getVisible(o) : a.getItem(o);
        r instanceof de ? i.push(r) : r instanceof Ie && sl(r, i, e);
      }
    }, al = function(a, i, e, t, o) {
      for (var r = t ? a.visibleCount : a.count, n = 0; n < r; n++) {
        var s = t ? a.getVisible(n) : a.getItem(n);
        if (s instanceof de && !o) {
          var l = s._columnObj;
          l && i.push(l.name);
        } else
          s instanceof Ie && ((!e || o) && i.push(s.name), al(s, i, e, t, o));
      }
    }, Un = function(a, i, e) {
      for (var t = e ? a.visibleCount : a.count, o = 0; o < t; o++) {
        var r = e ? a.getVisible(o) : a.getItem(o);
        if (r instanceof de) {
          var n = r._columnObj;
          n instanceof re && i.push(n);
        } else
          r instanceof Ie && Un(r, i, e);
      }
    }, zn = function(a) {
      function i(e) {
        var t = a.call(this, "$_root_$", null) || this;
        return t._owner = e, t.header._visible = !1, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "cellWidth", { get: function() {
        return this._cellWidth;
      }, set: function(e) {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandable", { get: function() {
        return !1;
      }, set: function(e) {
      }, enumerable: !1, configurable: !0 }), i.prototype.resetColumns = function(e) {
        this.items.length > 0 && (this.$_bindColumns({}, e, !1), this.$_resetVisibles(!1));
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._owner.grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "owner", { get: function() {
        return this._owner;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "root", { get: function() {
        return this;
      }, enumerable: !1, configurable: !0 }), i.prototype._changed = function() {
        this._owner && this._owner._changed();
      }, i.prototype._childIndexChanged = function(e) {
        this._owner._itemIndexChanged(e);
      }, i.prototype._childWidthChanged = function(e) {
        this._owner._itemWidthChanged(e);
      }, i.prototype._childFillWidthChanged = function(e) {
        this._owner._itemFillWidthChanged(e);
      }, i.prototype._setColumns = function(e) {
        var t = this._items;
        t.length = 0;
        for (var o = 0, r = e.count; o < r; o++) {
          var n = new de(e.getColumn(o));
          t.push(n), n._parent = this;
        }
        this.resetColumns(e);
      }, i;
    }(Ie), Fo = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._cellWidths = [], t._grid = e, t._root = new zn(t), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, this._root = this._root.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._root.count;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visibleCount", { get: function() {
        return this._root.visibleCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerRows", { get: function() {
        return this._root._hlen;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataRows", { get: function() {
        return this._root._dlen;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "first", { get: function() {
        return this._root.first;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "last", { get: function() {
        return this._root.last;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstColumn", { get: function() {
        return this._root.firstColumn;
      }, enumerable: !1, configurable: !0 }), i.prototype.load = function(e) {
        return this.$_clear(), this._loading = !0, this._root._loadItems(e), this._changed(), this._loading = !1, this;
      }, i.prototype.resetColumns = function(e) {
        this._root.resetColumns(e);
      }, i.prototype.cleanColumns = function() {
        this._root.cleanColumns();
      }, i.prototype.invalidate = function() {
        this._changed();
      }, i.prototype.invalidateIndices = function(e) {
        this.grid.displayOptions.remergeWhenColumnMoved && this.grid._populateMerges(), this.grid.clearAddSelection(), this._moveColumn = e, this._changed();
      }, i.prototype.invalidateSize = function() {
        this._resized || (this._resized = !0, this.grid.invalidateCellLayouts());
      }, i.prototype.getVisible = function(e) {
        return this._root.getVisible(e);
      }, i.prototype.addLayout = function(e, t) {
        return this._root.addLayout(e, t);
      }, i.prototype.removeLayout = function(e) {
        this._root.removeLayout(e);
      }, i.prototype.expandLayout = function(e, t) {
        this.fireExpanding(e, t) && (e._expanded = t, this._root.$_resetVisibles(), this._changed(), this.fireExpanded(e, t));
      }, i.prototype.setColumns = function(e) {
        this._root._setColumns(e), this._changed();
      }, i.prototype.layoutByColumn = function(e) {
        return e && this._root.findLayout(e);
      }, i.prototype.layoutByName = function(e) {
        return e && this._root.layoutByName(e);
      }, i.prototype.getHeaderCellPos = function(e) {
        for (var t = 0; t < this._headerCells.length; t++)
          for (var o = this._headerCells[t], r = 0; r < o.length; r++)
            if (o[r] instanceof de && o[r]._columnObj === e)
              return { row: t, col: r };
      }, i.prototype.getDataCellPos = function(e) {
        for (var t = 0; t < this._dataCells.length; t++)
          for (var o = this._dataCells[t], r = 0; r < o.length; r++)
            if (o[r] instanceof de && o[r]._columnObj === e)
              return { row: t, col: r };
      }, i.prototype.getDataColumns = function(e) {
        e === void 0 && (e = !0);
        var t = [];
        return Un(this._root, t, e), t;
      }, i.prototype.collectColumns = function(e, t, o) {
        var r = [];
        return nl(this._root, r, t), r;
      }, i.prototype.collectLayouts = function(e) {
        var t = [];
        return sl(this._root, t, !0), t;
      }, i.prototype.collectColumnNames = function(e, t, o, r) {
        var n = [], s = this._root;
        return r ? typeof r == "string" ? s = function l(h, u) {
          for (var c = 0, d = h.count; c < d; c++) {
            var p = h.getItem(c);
            if (p instanceof Ie)
              return p.name === r ? p : l(p);
          }
        }(s) : r instanceof Ie && (s = r) : s = this._root, s ? (al(s, n, e, t, o), n) : null;
      }, i.prototype.collectDataColumns = function(e, t) {
        e = e.source, t = t.source;
        var o = Math.min(e.col, t.col), r = Math.max(e.col + e._defColSpan, t.col + t._defColSpan) - 1, n = [];
        Un(this._root, n, !0);
        for (var s = n.length - 1; s >= 0; s--) {
          var l = n[s].layout.col;
          (l < o || l > r) && n.splice(s, 1);
        }
        return n;
      }, i.prototype.getHorzColumns = function(e, t) {
        e === void 0 && (e = 0);
        var o = t == null ? e + this._root.visibleCount - 1 : e + t - 1, r = [];
        return this._root.$_collectHorzColumns(r, e, o), r;
      }, i.prototype.getHomeOf = function(e) {
        return e = Oe.getSource(e), e = this._dataCells[e ? e.row : 0][0], Oe.getSource(e);
      }, i.prototype.getEndOf = function(e) {
        e = Oe.getSource(e);
        var t = this._dataCells, o = e ? e.row : t.length - 1;
        return e = t[o][t[o].length - 1], Oe.getSource(e);
      }, i.prototype.getTopOf = function(e) {
        return e = this._dataCells[0][e.col], Oe.getSource(e);
      }, i.prototype.getBottomOf = function(e, t) {
        var o = this._dataCells;
        return e = o[o.length - 1][e.col], t ? e : Oe.getSource(e);
      }, i.prototype.getLowerOf = function(e) {
        e = Oe.getSource(e);
        var t = this._dataCells, o = e.row, r = e.col, n = 0;
        return o + e.rows < t.length ? e = t[o + e.rows][r] : (n = 1, e = t[0][r]), { dy: n, layout: Oe.getSource(e) };
      }, i.prototype.getUpperOf = function(e) {
        e = Oe.getSource(e);
        var t = this._dataCells, o = e.row, r = e.col, n = 0;
        return o > 0 ? e = t[o - 1][r] : (n = -1, e = t[t.length - 1][r]), { dy: n, layout: Oe.getSource(e) };
      }, i.prototype.getRightOf = function(e) {
        var t = this._dataCells[e.row], o = e.col;
        return o + e.cols < t.length ? (e = t[o + e.cspan], Oe.getSource(e)) : null;
      }, i.prototype.getLeftOf = function(e) {
        e = Oe.getSource(e);
        var t = this._dataCells[e.row], o = e.col;
        return o > 0 ? (e = t[o - 1], Oe.getSource(e)) : null;
      }, i.prototype.getCellWidths = function(e, t) {
        for (var o = 0, r = 0; r < t; r++)
          o += this._cellWidths[r + e];
        return o;
      }, i.prototype.getLayout = function(e, t, o, r, n, s) {
        function l(p) {
          var _, g;
          if (p instanceof de) {
            var y = p.firstColumn;
            if (y)
              return m = (m = y.visible && p.visible || o) && n.indexOf(y.name) < 0 || r.indexOf(y.name) >= 0, (v = p.toProxy(!1)).visible = e ? m : p.visible, v.width = (e && t ? p._fitWidth : p._cellWidth) || p.width, v.column = y.name, v;
          } else {
            if (p.isProxy)
              return (e && t ? p._fitWidth : p._cellWidth) || p.width;
            if (p instanceof Ie) {
              var m, v;
              g = p._items, _ = [], m = (m = p.visible || o) && n.indexOf(p.name) < 0 || r.indexOf(p.name) >= 0;
              for (var C = 0, x = g.length; C < x; C++)
                _.push(l.call(this, g[C]));
              if ((v = p.toProxy(!1)).name = p.name, v.items = _, v.visible = e ? m : p.visible, v.header = p.header && p.header.toProxy(!1), e && v.expandable)
                switch (s) {
                  case "current":
                    break;
                  case "expand":
                    v.expanded = !0;
                    break;
                  case "collapse":
                    v.expanded = !1;
                    break;
                  default:
                    v.expandable = !1;
                }
              return delete v.width, v;
            }
          }
        }
        r === void 0 && (r = []), n === void 0 && (n = []), t = t && !!this.grid.layoutManager.isColumnFitted;
        for (var h = this._root._items, u = [], c = 0, d = h.length; c < d; c++)
          u.push(l.call(this, h[c]));
        return u;
      }, i.prototype.expandAll = function(e, t) {
        this._root.expandAll(e, t);
      }, i.prototype.isShowing = function(e) {
        for (var t = e; t && t.parent; ) {
          if (t.parent.visibles.indexOf(t) < 0)
            return !1;
          t = t.parent;
        }
        return !0;
      }, i.prototype.isDefault = function() {
        return !1;
      }, i.prototype._changed = function() {
        if (!this._dirty) {
          this._dirty = !0;
          var e = this.grid;
          e && e.invalidateCellLayouts();
        }
      }, i.prototype.$_clear = function() {
        this._headerCells = [], this._dataCells = [];
      }, i.prototype.$_refresh = function(e, t) {
        this._dirty ? (this._root.$_bindColumns({}, e), this._root.$_parseExpandLayouts(), this._root.$_resetVisibles(), this.$_parseCells(this._root, e), this.$_calculateCellWidths(this._root, t), this._dirty = !1) : this._resized && this.$_calculateCellWidths(this._root, t), this._resized = !1, this._moveColumn = null;
      }, i.prototype.$_refresh2 = function(e, t) {
        this._root.$_bindColumns({}, e, !0), this._root.$_parseExpandLayouts(), this._root.$_resetVisibles(!0), this.$_parseCells(this._root, e), this.$_calculateCellWidths(this._root, t);
      }, i.prototype.$_prepareMerges = function(e) {
        for (var t = this.collectColumns(!0, !0, !1), o = 0, r = t.length; o < r; o++) {
          var n = t[o], s = this.layoutByColumn(n);
          if (s && s.canMerge()) {
            var l = s.merges;
            l || (l = new mr(s)), l.clear(), l.initialize(10), l.refreshRooms(0, e.itemCount - 1, !0);
          }
        }
      }, i.prototype.$_prepareLayout = function(e, t, o) {
        for (var r = 0, n = this._root.visibleCount; r < n; r++)
          this._root.getVisible(r)._prepareLayout(e, r < t, r >= n - o);
      }, i.prototype.$_parseCells = function(e, t) {
        var o = e._visibles;
        this.$_parseHeaderCells(o), this.$_parseDataCells(o);
      }, i.prototype.$_parseHeaderCells = function(e) {
        for (var t = this._headerCells = [], o = 0, r = 0, n = e; r < n.length; r++) {
          var s = n[r];
          o = Math.max(o, s.headerRows);
        }
        for (var l = 0; l < o; l++)
          t.push([]);
        this._root.$_parseHeaderCells(t, 0, 0), this._root.$_adjustHeaderCells(t);
      }, i.prototype.$_parseDataCells = function(e) {
        for (var t = this._dataCells = [], o = 0, r = 0, n = e; r < n.length; r++) {
          var s = n[r];
          o = Math.max(o, s.rows);
        }
        for (var l = 0; l < o; l++)
          t.push([]);
        this._root.$_parseDataCells(t, 0, 0), this._root.$_adjustDataCells(t);
        for (var h = 0, u = t; h < u.length; h++)
          for (var c = u[h], d = 0; d < c.length; ) {
            var p = c[d];
            if (p._defColSpan = 1, p.isNull)
              d++;
            else
              for (; ++d < c.length; ) {
                var _ = c[d];
                if (!(!_ || _.isProxy && _.source === p || _.isNull && _.group === p.group))
                  break;
                p._defColSpan++;
              }
          }
      }, i.prototype.$_calculateCellWidths = function(e, t) {
        if (this._dirty) {
          (!this._cellWidths || this._cellWidths.length <= 0 || !this._moveColumn) && e.$_collectCellWidths(t);
          for (var o = this._cellWidths = [], r = 0, n = e.cols; r < n; r++)
            o.push(0);
          e.$_calcCellWidths(this._dataCells, o, !1);
        } else
          this._resized && e.$_calcCellWidths(this._dataCells, this._cellWidths, !0);
      }, i.prototype.$_clearFitWidths = function() {
        this._root._clearFitWidth();
      }, i.prototype._columnsChanged = function(e) {
      }, i.prototype._columnChanged = function(e) {
      }, i.prototype._itemIndexChanged = function(e) {
        this.invalidateIndices(e);
      }, i.prototype._itemWidthChanged = function(e) {
        this.invalidateSize();
      }, i.prototype._itemFillWidthChanged = function(e) {
        this.grid.layoutManager.isColumnFitted && this.invalidateSize();
      }, i.prototype._clearMergeGrouped = function() {
        this._root.clearMergeGrouped();
      }, i.prototype.$_changeCellWidths = function(e, t, o, r) {
        for (var n = this._cellWidths, s = [], l = 0, h = 0; h < t; h++)
          l += n[e + h], s.push(l);
        var u = o / l;
        for (h = 0; h < t - 1; h++)
          s[h] = Math.round(s[h] * u);
        for (s[t - 1] = o, h = t - 1; h > 0; h--)
          n[e + h] = Math.max(n[e + h] + s[h] - s[h - 1], r);
        n[e] = Math.max(n[e] + s[0], r), this.invalidateSize();
      }, i.prototype.$_calcGroupWidths = function() {
        var e = this._cellWidths;
        (function t(o) {
          for (var r = 0, n = 0; n < o._clen; n++)
            r += e[o.col + n];
          o._width = o._cellWidth = r;
          for (var s = 0, l = o.visibles; s < l.length; s++) {
            var h = l[s];
            h instanceof Ie && t(h);
          }
        })(this._root);
      }, i.prototype.fireExpanding = function(e, t) {
        return this.fireConfirmEvent(t ? i.LAYOUT_EXPANDING : i.LAYOUT_COLLAPSING, e);
      }, i.prototype.fireExpanded = function(e, t) {
        this.fireEvent(t ? i.LAYOUT_EXPANDED : i.LAYOUT_COLLAPSED, e);
      }, i.LAYOUT_EXPANDING = "onLayoutExpanding", i.LAYOUT_COLLAPSING = "onLayoutCollapsing", i.LAYOUT_EXPANDED = "onLayoutExpanded", i.LAYOUT_COLLAPSED = "onLayoutCollapsed", i;
    }(Be), cd = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._columnsChanged = function(e) {
        this.setColumns(e), a.prototype._columnsChanged.call(this, e);
      }, i.prototype.addLayout = function(e) {
        return null;
      }, i.prototype.removeLayout = function(e) {
      }, i.prototype.isDefault = function() {
        return !0;
      }, i;
    }(Fo);
    f.VerticalMoveStep = void 0, (il = f.VerticalMoveStep || (f.VerticalMoveStep = {})).ROW = "row", il.CELL = "cell", f.FocusMoveStep = void 0, (ol = f.FocusMoveStep || (f.FocusMoveStep = {})).GROUP = "group", ol.CELL = "cell";
    var br, Yn, W = function(a) {
      function i(e, t, o) {
        t === void 0 && (t = -1);
        var r = a.call(this, !0) || this;
        return r._itemIndex = -1, r._grid = e, r._itemIndex = t, r._layout = o instanceof ti ? o.layout : o, r;
      }
      return w(i, a), i.temp = function(e, t, o) {
        return t === void 0 && (t = 0), i.$_temp || (i.$_temp = new i()), i.$_temp._grid = e, i.$_temp._itemIndex = t, i.$_temp._layout = o instanceof Oe ? o : o && o.layout, i.$_temp;
      }, i.areEquals = function(e, t) {
        return e == t || e && t && e._grid === t._grid && e._itemIndex === t._itemIndex && e._layout === t._layout;
      }, i.equalsTo = function(e, t, o) {
        return e && e._itemIndex === t && e.layout === o;
      }, i.clearTemp = function() {
        i.$_temp && (i.$_temp = i.$_temp.dispose());
      }, i.compareHorz = function(e, t) {
        if (e && t)
          return e.layout.distance - t.layout.distance;
      }, i.prototype._doDispose = function() {
        this._grid = null, this._layout = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemIndex", { get: function() {
        return this._itemIndex;
      }, set: function(e) {
        this._itemIndex = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "layout", { get: function() {
        return this._layout;
      }, set: function(e) {
        this._layout = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "column", { get: function() {
        return this._layout && this._layout.firstColumn;
      }, set: function(e) {
        typeof e == "string" && (e = this.grid && this.grid.columnByName(e)), this._layout = e && e.layout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataColumn", { get: function() {
        var e = this.column;
        return e instanceof re ? e : null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueColumn", { get: function() {
        var e = this.column;
        return e instanceof Et ? e : null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataField", { get: function() {
        var e = this.dataColumn;
        return e instanceof re ? e.dataIndex : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "item", { get: function() {
        return this._grid && this._grid.getItem(this._itemIndex);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataRow", { get: function() {
        var e = this.item;
        return e ? e.dataRow : -1;
      }, set: function(e) {
        if (this._grid) {
          var t = this._grid.getItemOfRow(e, !1);
          t && (this.itemIndex = t.index);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fieldName", { get: function() {
        return this.dataColumn && this.dataColumn.fieldName;
      }, set: function(e) {
        if (this._grid) {
          var t = this._grid.columnByField(e);
          t && (this.column = t);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fieldIndex", { get: function() {
        return this.dataColumn && this.dataColumn.fieldIndex;
      }, set: function(e) {
        if (this._grid) {
          var t = this._grid.columnByField(e);
          t && (this.column = t);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataId", { get: function() {
        var e = this.item;
        return e ? e.dataId : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        var e = this.column;
        if (e instanceof re) {
          var t = e.dataIndex;
          if (t < 0)
            throw new Error("Not exists data field: " + e.fieldName);
          var o = this.item;
          if (!o)
            throw new Error("Invalid item index: " + this._itemIndex);
          return o.getData(t);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixed", { get: function() {
        var e = this._layout;
        if (this._grid && e && e.visible) {
          var t = this._grid.layoutManager, o = e.root.vindex;
          return o < t.fixedLayoutCount || o >= t.rightFirstLayout || this._itemIndex >= 0 && this._itemIndex < t.fixedItemCount;
        }
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowFixed", { get: function() {
        if (this._grid) {
          var e = this._grid.layoutManager;
          return this._itemIndex >= 0 && this._itemIndex < e.fixedItemCount;
        }
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "colFixed", { get: function() {
        if (this._grid && this._layout && this._layout.visible) {
          var e = this._grid.layoutManager;
          return this._layout.root.vindex < e.fixedLayoutCount;
        }
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightFixed", { get: function() {
        if (this._grid && this._layout && this._layout.visible) {
          var e = this._grid.layoutManager;
          return this._layout.root.vindex >= e.rightFirstLayout;
        }
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isTop", { get: function() {
        return !this._layout || !this._layout.group || (this.$_isSpanned() ? this.grid.$_isTopCell(this) : Ie.isTop(this._layout));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isBottom", { get: function() {
        return !this._layout || !this._layout.group || (this.$_isSpanned() ? this.grid.$_isBottomCell(this) : Ie.isBottom(this._layout));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isLeft", { get: function() {
        if (this._layout) {
          var e = this._layout.group;
          return e ? e.vindex == 0 && Ie.isLeft(this._layout) : this._layout.vindex == 0;
        }
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isRight", { get: function() {
        if (this._layout) {
          var e = this._layout.group;
          return e ? e.vindex == 0 && Ie.isRight(this._layout) : this._layout.vindex == this._grid.visibleLayoutCount - 1;
        }
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isFirst", { get: function() {
        return this._layout && this._grid && this._grid.visibleLayoutCount > 0 ? Oe.getSource(this._grid.activeCellLayout.first) === this._layout : !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isEditableFirst", { get: function() {
        var e = this._grid;
        if (e && this._layout) {
          var t = e.collectColumns(!0, !0, !0), o = t.indexOf(this._layout.firstColumn);
          if (o >= 0) {
            for (var r = o; r--; ) {
              var n = t[r];
              if (n instanceof Bt)
                return !1;
              var s = i.temp(e, this.itemIndex, n);
              if (e.getWritableAt(s))
                return !1;
            }
            return !0;
          }
        }
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isEditableLast", { get: function() {
        var e = this._grid;
        if (e && this._layout)
          for (var t = e.collectColumns(!0, !0, !0), o = t.indexOf(this._layout.firstColumn) + 1, r = t.length; o < r; o++) {
            var n = t[o];
            if (n instanceof Bt)
              return !1;
            var s = i.temp(e, this.itemIndex, n);
            if (e.getWritableAt(s))
              return !1;
          }
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isLast", { get: function() {
        return this._layout && this._grid && this._grid.visibleLayoutCount > 0 ? Oe.getSource(this._grid.activeCellLayout.last) === this._layout : !1;
      }, enumerable: !1, configurable: !0 }), i.prototype.set = function(e, t, o) {
        return o !== void 0 && (this._grid = o), this._itemIndex = e, this._layout = t instanceof ti ? t.layout : t, this;
      }, i.prototype.assign = function(e) {
        return e ? (e.grid && (this._grid = e._grid), this._itemIndex = e._itemIndex, this._layout = e._layout) : (this._itemIndex = -1, this._layout = null), this;
      }, i.prototype.reset = function() {
        return this._itemIndex = -1, this._layout = null, this;
      }, i.prototype.clone = function() {
        return new i(this._grid, this._itemIndex, this._layout);
      }, i.prototype.proxy = function() {
        return { itemIndex: isNaN(this._itemIndex) ? -1 : this._itemIndex, column: this.column ? this.column.name : null, dataRow: this.dataRow, fieldIndex: this.dataColumn ? this.column.dataIndex : -1, fieldName: this.dataColumn ? this.column.fieldName : null };
      }, i.prototype.normalize = function(e) {
        return e && (this._grid = e, this._layout || (this._layout = e.getFirstLayout()), this._itemIndex = Math.max(0, Math.min(this._itemIndex, e.itemCount - 1))), this;
      }, i.prototype.incRow = function(e) {
        this._grid && (this._itemIndex = Math.max(0, Math.min(this._grid.itemCount - 1, this._itemIndex + e)));
      }, i.prototype.first = function() {
        this._grid && (this._itemIndex = 0);
      }, i.prototype.last = function() {
        this._grid && (this._itemIndex = this._grid.itemCount - 1);
      }, i.prototype.right = function() {
        if (this.grid.editOptions.focusMoveStep !== f.FocusMoveStep.GROUP) {
          var e = this._grid && this.$_gridLayout().getRightOf(this._layout);
          e && (this._layout = e);
        } else
          this.next();
      }, i.prototype.left = function() {
        if (this.grid.editOptions.focusMoveStep !== f.FocusMoveStep.GROUP) {
          var e = this._grid && this.$_gridLayout().getLeftOf(this._layout);
          e && (this._layout = e);
        } else
          this.prev();
      }, i.prototype.next = function() {
        if (this.grid.editOptions.focusMoveStep !== f.FocusMoveStep.GROUP) {
          var e = dd(this._grid, this._layout);
          if (e)
            return this._layout = e, !0;
        } else {
          var t = this.layout.root.vindex;
          t < this.grid.activeCellLayout.visibleCount - 1 && (this._layout = this.grid.activeCellLayout.getVisible(t + 1).first);
        }
      }, i.prototype.prev = function() {
        if (this.grid.editOptions.focusMoveStep !== f.FocusMoveStep.GROUP) {
          var e = pd(this._grid, this._layout);
          if (e)
            return this._layout = e, !0;
        } else {
          var t = this.layout.root.vindex;
          t > 0 && (this._layout = this.grid.activeCellLayout.getVisible(t - 1).first);
        }
      }, i.prototype.home = function() {
        this._layout = this._grid && this.$_gridLayout().getHomeOf(this._layout);
      }, i.prototype.end = function() {
        this._layout = this._grid && this.$_gridLayout().getEndOf(this._layout);
      }, i.prototype.firstCell = function() {
        this._layout = this._grid && Oe.getSource(this.grid.activeCellLayout.first);
      }, i.prototype.lastCell = function() {
        this._layout = this.grid && Oe.getSource(this.grid.activeCellLayout.last);
      }, i.prototype.down = function(e, t, o) {
        if (e === void 0 && (e = f.VerticalMoveStep.ROW), this._grid)
          return this.itemIndex < this._grid.itemCount - 1 && this.grid.editOptions.focusMoveStep === f.FocusMoveStep.GROUP ? (this.incRow(1), void (this.layout = this.layout.root.first)) : void (e == f.VerticalMoveStep.ROW && !t || this.isBottom || o ? this._itemIndex < this._grid.itemCount - 1 && (e == f.VerticalMoveStep.CELL && (this._layout = this.$_gridLayout().getTopOf(this._layout)), this.incRow(1)) : this._grid.spanned ? this._layout = this._grid.$_getLowerOfCell(this) : this._layout = this.$_gridLayout().getLowerOf(this._layout).layout);
      }, i.prototype.up = function(e, t, o) {
        if (e === void 0 && (e = f.VerticalMoveStep.ROW), this._grid) {
          if (this.itemIndex > 0 && this.grid.editOptions.focusMoveStep === f.FocusMoveStep.GROUP)
            return this.incRow(-1), void (this.layout = this.layout.root.first);
          if (e == f.VerticalMoveStep.ROW && !t || this.isTop || o) {
            if (this._itemIndex > 0) {
              if (e == f.VerticalMoveStep.CELL)
                if (this._grid.spanned) {
                  var r = this._grid.$_getUpperOfCell(this);
                  this._layout = r || this.$_gridLayout().getBottomOf(this._layout);
                } else
                  this._layout = this.$_gridLayout().getBottomOf(this._layout);
              this.incRow(-1);
            }
          } else
            this._grid.spanned ? this._layout = this._grid.$_getUpperOfCell(this) : this._layout = this.$_gridLayout().getUpperOf(this._layout).layout;
        }
      }, i.prototype.getValue = function() {
        if (this._grid) {
          var e = this.dataColumn, t = this._grid.getItem(this._itemIndex);
          return e && t && t.getData(e.dataIndex);
        }
      }, i.prototype.assignFrom = function(e) {
        e instanceof i ? (this._grid = e._grid, this._layout = e._layout, this._itemIndex = e._itemIndex) : a.prototype.assignFrom.call(this, e);
      }, i.prototype.toString = function() {
        return "(" + this._itemIndex + ", " + this.column + ")";
      }, i.prototype.$_gridLayout = function() {
        return this._grid._activeCellLayout;
      }, i.prototype.$_isSpanned = function() {
        return this._grid && this._grid.spanned;
      }, i;
    }(J), gt = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, t && t.index, o) || this;
        return r._item = t, r;
      }
      return w(i, a), i.tempItem = function(e, t, o) {
        return i.$_itemTemp || (i.$_itemTemp = new i()), i.$_itemTemp._grid = e, i.$_itemTemp._item = t, i.$_itemTemp._itemIndex = t.index, i.$_itemTemp._layout = o instanceof Oe ? o : o && o.layout, i.$_itemTemp;
      }, Object.defineProperty(i.prototype, "item", { get: function() {
        return this._item;
      }, enumerable: !1, configurable: !0 }), i;
    }(W), dd = function(a, i) {
      if (!a || !i)
        return null;
      var e = a.layoutManager, t = Ie.getNext(i);
      if (t)
        return t;
      for (var o = (i.group ? i.root.vindex : i.vindex) + 1, r = e.layoutCount; o < r; o++)
        if ((t = e.getLayout(o)) instanceof de || t instanceof Ie && (t = Oe.getSource(t.first)))
          return t;
    }, pd = function(a, i) {
      if (!a || !i)
        return null;
      var e = a.layoutManager, t = Ie.getPrev(i);
      if (t)
        return t;
      for (var o = (i.group ? i.root.vindex : i.vindex) - 1; o >= 0; o--)
        if ((t = e.getLayout(o)) instanceof de || t instanceof Ie && (t = Oe.getSource(t.last)))
          return t;
    }, Ot = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._row1 = 0, e._row2 = 0, e;
      }
      return w(i, a), i.$_setRange = function(e, t, o, r, n) {
        return e._row1 = t <= r ? t : r, e._row2 = t <= r ? r : t, e._col1 = o.col <= n.col ? o : n, e._col2 = o.col <= n.col ? n : o, e;
      }, i.create = function(e, t) {
        if (t && e !== t)
          return i.$_setRange(new i(), e.itemIndex, e.layout, t.itemIndex, t.layout);
        var o = new i();
        return o._row1 = o._row2 = e.itemIndex, o._col1 = o._col2 = e.layout, o;
      }, i.temp = function(e, t) {
        var o = i.$_TEMP;
        return t && e !== t ? i.$_setRange(o, e.itemIndex, e.layout, t.itemIndex, t.layout) : (o._row1 = o._row2 = e.itemIndex, o._col1 = o._col2 = e.layout, o);
      }, i.createRange = function(e, t, o, r) {
        return i.$_setRange(new i(), e, t, o, r);
      }, Object.defineProperty(i.prototype, "empty", { get: function() {
        return this._row2 < this._row1 || !this._col2 && !this._col2;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "r1", { get: function() {
        return this._row1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "c1", { get: function() {
        return this._col1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "r2", { get: function() {
        return this._row2;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "c2", { get: function() {
        return this._col2;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "top", { get: function() {
        return this._row1 <= this._row2 ? this._row1 : this._row2;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bottom", { get: function() {
        return this._row1 <= this._row2 ? this._row2 : this._row1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstCell", { get: function() {
        var e = new W();
        return e.itemIndex = this._row1 <= this._row2 ? this._row1 : this._row2, this._col1.col === this._col2.col ? e.layout = this._col1.row <= this._col2.row ? this._col1 : this._col2 : e.layout = this._col1.col <= this._col2.col ? this._col1 : this._col2, e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lastCell", { get: function() {
        var e = new W();
        return e.itemIndex = this._row1 >= this._row2 ? this._row1 : this._row2, this._col1.col === this._col2.col ? e.layout = this._col1.row >= this._col2.row ? this._col1 : this._col2 : e.layout = this._col1.col >= this._col2.col ? this._col1 : this._col2, e;
      }, enumerable: !1, configurable: !0 }), i.prototype.contains = function(e, t) {
        if (t) {
          var o = t.col;
          return e >= this._row1 && e <= this._row2 && o >= this._col1.col && o <= this._col2.col;
        }
        return !1;
      }, i.prototype.normalize = function() {
        if (this._row1 > this._row2) {
          var e = this._row1;
          this._row1 = this._row2, this._row2 = e;
        }
        if (this._col1.col <= this._col2.col) {
          if (this._col1.row > this._col2.row) {
            var t = this._col1;
            this._col1 = this._col2, this._col2 = t;
          }
        } else
          t = this._col1, this._col1 = this._col2, this._col2 = t;
        return this;
      }, i.prototype.normalizeData = function() {
        return this.normalize(), this;
      }, i.prototype.intersectsWith = function(e) {
        return !1;
      }, i.NULL = new i(), i.$_TEMP = new i(), i;
    }(J), me = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        switch (e) {
          case i.ID_COUNT:
            return this._getCount();
          case i.ID_SUM:
            return this._getSum();
          case i.ID_MAX:
            return this._getMax();
          case i.ID_MIN:
            return this._getMin();
          case i.ID_AVG:
            return this._getAvg();
          case i.ID_VAR:
            return this._getVar();
          case i.ID_VARP:
            return this._getVarp();
          case i.ID_STDEV:
            return this._getStdev();
          case i.ID_STDEVP:
            return this._getStdevp();
          case i.ID_DATA_COUNT:
            return this._getDataCount();
          case i.ID_DATA_AVG:
            return this._getDataAvg();
        }
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        throw new ie("Invalid identifier indexer: " + e);
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        throw new ie("Invalid identifier indexer: " + e);
      }, i.ID_COUNT = 0, i.ID_SUM = 1, i.ID_MAX = 2, i.ID_MIN = 3, i.ID_AVG = 4, i.ID_VAR = 5, i.ID_VARP = 6, i.ID_STDEV = 7, i.ID_STDEVP = 8, i.ID_DATA_COUNT = 9, i.ID_DATA_AVG = 10, i.IDENTS = { count: i.ID_COUNT, sum: i.ID_SUM, max: i.ID_MAX, min: i.ID_MIN, avg: i.ID_AVG, var: i.ID_VAR, varp: i.ID_VARP, stdev: i.ID_STDEV, stdevp: i.ID_STDEVP, datacount: i.ID_DATA_COUNT, dataavg: i.ID_DATA_AVG }, i;
    }(bt), ll = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, this._ds = null, this._column = null, this._summarizer = null, a.prototype._doDispose.call(this);
      }, i.prototype.setColumn = function(e, t) {
        this._column = e, this._grid = e.grid, this._ds = this._grid.dataSource, this._fieldCount = this._ds.fieldCount, this._summarizer = t;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), me.IDENTS.hasOwnProperty(e) ? me.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (this._summarizer) {
          if (t < 0 || t >= this._fieldCount)
            throw new ie("Data field index out of bounds: " + t);
          switch (e) {
            case me.ID_SUM:
              return this._summarizer.getSum(t);
            case me.ID_COUNT:
              return this._summarizer.getCount(t);
            case me.ID_MAX:
              return this._summarizer.getMax(t);
            case me.ID_MIN:
              return this._summarizer.getMin(t);
            case me.ID_AVG:
              return this._summarizer.getAvg(t);
            case me.ID_VAR:
              return this._summarizer.getVar(t);
            case me.ID_VARP:
              return this._summarizer.getVarp(t);
            case me.ID_STDEV:
              return this._summarizer.getStdev(t);
            case me.ID_STDEVP:
              return this._summarizer.getStdevp(t);
            case me.ID_DATA_COUNT:
              return this._summarizer.getDataCount(t);
            case me.ID_DATA_AVG:
              return this._summarizer.getDataAvg(t);
          }
          throw new ie("Invalid identifier indexer: " + e);
        }
        switch (e) {
          case me.ID_SUM:
          case me.ID_COUNT:
            return 0;
          case me.ID_MAX:
          case me.ID_MIN:
          case me.ID_AVG:
          case me.ID_VAR:
          case me.ID_VARP:
          case me.ID_STDEV:
          case me.ID_STDEVP:
            return NaN;
        }
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        if (this._summarizer && this._ds) {
          var r = o ? this._ds.getFieldIndexC(t) : this._ds.getFieldIndex(t);
          if (r < 0 || r >= this._fieldCount)
            throw new ie("Data field index out of bounds: " + r);
          switch (e) {
            case me.ID_SUM:
              return this._summarizer.getSum(r);
            case me.ID_COUNT:
              return this._summarizer.getCount(r);
            case me.ID_MAX:
              return this._summarizer.getMax(r);
            case me.ID_MIN:
              return this._summarizer.getMin(r);
            case me.ID_AVG:
              return this._summarizer.getAvg(r);
            case me.ID_VAR:
              return this._summarizer.getVar(r);
            case me.ID_VARP:
              return this._summarizer.getVarp(r);
            case me.ID_STDEV:
              return this._summarizer.getStdev(r);
            case me.ID_STDEVP:
              return this._summarizer.getStdevp(r);
          }
          throw new ie("Invalid identifier indexer: " + e);
        }
        switch (e) {
          case me.ID_SUM:
          case me.ID_COUNT:
            return 0;
          case me.ID_MAX:
          case me.ID_MIN:
          case me.ID_AVG:
          case me.ID_VAR:
          case me.ID_VARP:
          case me.ID_STDEV:
          case me.ID_STDEVP:
            return NaN;
        }
      }, i.prototype._getCount = function() {
        return this._summarizer ? this._summarizer.getCount(this._column.dataIndex) : 0;
      }, i.prototype._getSum = function() {
        return this._summarizer ? this._summarizer.getSum(this._column.dataIndex) : 0;
      }, i.prototype._getMax = function() {
        return this._summarizer ? this._summarizer.getMax(this._column.dataIndex) : NaN;
      }, i.prototype._getMin = function() {
        return this._summarizer ? this._summarizer.getMin(this._column.dataIndex) : NaN;
      }, i.prototype._getAvg = function() {
        return this._summarizer ? this._summarizer.getAvg(this._column.dataIndex) : NaN;
      }, i.prototype._getVar = function() {
        return this._summarizer ? this._summarizer.getVar(this._column.dataIndex) : NaN;
      }, i.prototype._getVarp = function() {
        return this._summarizer ? this._summarizer.getVarp(this._column.dataIndex) : NaN;
      }, i.prototype._getStdev = function() {
        return this._summarizer ? this._summarizer.getStdev(this._column.dataIndex) : NaN;
      }, i.prototype._getStdevp = function() {
        return this._summarizer ? this._summarizer.getStdevp(this._column.dataIndex) : NaN;
      }, i.prototype._getDataCount = function() {
        return this._summarizer ? this._summarizer.getDataCount(this._column.dataIndex) : NaN;
      }, i.prototype._getDataAvg = function() {
        return this._summarizer ? this._summarizer.getDataAvg(this._column.dataIndex) : NaN;
      }, i;
    }(me), fd = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "item", { get: function() {
        return this._item;
      }, enumerable: !1, configurable: !0 }), i.prototype.setItem = function(e) {
        this._item = e;
      }, i.prototype._getCount = function() {
        return this._item.getNumber(this._column.dataIndex);
      }, i.prototype._getSum = function() {
        return this._item.getSum(this._column.dataIndex);
      }, i.prototype._getMax = function() {
        return this._item.getMax(this._column.dataIndex);
      }, i.prototype._getMin = function() {
        return this._item.getMin(this._column.dataIndex);
      }, i.prototype._getAvg = function() {
        return this._item.getAvg(this._column.dataIndex);
      }, i.prototype._getVar = function() {
        return this._item.getVar(this._column.dataIndex, 1);
      }, i.prototype._getVarp = function() {
        return this._item.getVar(this._column.dataIndex, 0);
      }, i.prototype._getStdev = function() {
        return this._item.getStdev(this._column.dataIndex, 1);
      }, i.prototype._getStdevp = function() {
        return this._item.getStdev(this._column.dataIndex, 0);
      }, i.prototype._getDataCount = function() {
        return this._item.getDataCount(this._column.dataIndex);
      }, i.prototype._getDataAvg = function() {
        return this._item.getDataAvg(this._column.dataIndex);
      }, i;
    }(ll), _d = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._columns = [], t._orgColumns = [], t._nameMap = {}, t._owner = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._clearColumn(), this._columns = null, this._owner = null, this._nameMap = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "owner", { get: function() {
        return this._owner;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._columns.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "columns", { get: function() {
        return this._columns.slice();
      }, enumerable: !1, configurable: !0 }), i.prototype.getColumn = function(e) {
        return this._columns[e];
      }, i.prototype.setColumns = function(e) {
        if (this._columns.length = 0, this._nameMap = {}, e)
          for (var t = 0, o = e; t < o.length; t++) {
            var r = o[t], n = this._addColumn(r);
            if (!n)
              throw new Error("column is undefined");
            n.$_owner = this;
          }
        this._orgColumns = this._columns.slice();
      }, i.prototype.add = function(e, t) {
        var o = this._addColumn(e, t === void 0 ? -1 : t);
        return o != null && (o.$_owner = this), o;
      }, i.prototype.remove = function(e) {
        return !!this._removeColumn(e);
      }, i.prototype.resetIndices = function() {
        if (this._owner)
          for (var e = 0, t = this._columns.length; e < t; e++) {
            var o = this._columns[e];
            o.$_setIndex(e), o._resetIndices(this._owner);
          }
      }, i.prototype.resetSortStates = function() {
        if (this._owner)
          for (var e = this._owner.getSortDirections(), t = this._owner.getSortFields(), o = 0, r = this._columns.length; o < r; o++) {
            var n = this._columns[o];
            n instanceof re && (n.sortOrder = t.indexOf(n.dataIndex), n.sortDirection = e[n.sortOrder]);
          }
      }, i.prototype.columnByName = function(e) {
        return this._nameMap[e];
      }, i.prototype.columnByField = function(e) {
        if (e >= 0)
          for (var t = 0, o = this.count; t < o; t++) {
            var r = this.getColumn(t);
            if (r instanceof re && r.dataIndex == e)
              return r;
          }
        return null;
      }, i.prototype.columnsByField = function(e) {
        var t = [];
        if (e >= 0)
          for (var o = 0, r = this.count; o < r; o++) {
            var n = this.getColumn(o);
            n instanceof re && n.dataIndex == e && t.push(n);
          }
        return t;
      }, i.prototype.columnByTag = function(e) {
        if (e)
          for (var t = 0, o = this.count; t < o; t++) {
            var r = this.getColumn(t), n = r.tag;
            if (b.isArray(e) && b.equalArrays(e, n) || e instanceof Date && n instanceof Date && e.getTime() === n.getTime() || typeof e == "object" && typeof n == "object" && b.equalObjects(e, n) || n === e)
              return r;
          }
        return null;
      }, i.prototype.columnsByTag = function(e) {
        if (e) {
          for (var t = [], o = 0, r = this.count; o < r; o++) {
            var n = this.getColumn(o), s = n.tag;
            (b.isArray(e) && b.equalArrays(e, s) || e instanceof Date && s instanceof Date && e.getTime() === s.getTime() || typeof e == "object" && typeof s == "object" && b.equalObjects(e, s) || s === e) && t.push(n);
          }
          return t.length ? t : null;
        }
        return null;
      }, i.prototype.restoreColumns = function() {
        this._restoreColumn();
      }, i.prototype._addColumn = function(e, t) {
        t === void 0 && (t = -1);
        var o = this._columns;
        if (!e || e instanceof ti || (typeof e == "string" && (e = { fieldName: e }), e = li.createColumn(e)), e instanceof ti) {
          if (o.indexOf(e) >= 0)
            throw new Error("column is already contained");
          t < 0 ? o.push(e) : o.splice(t, 0, e);
          var r = e.name;
          if (!r || this._nameMap[r])
            if (r = e instanceof re ? e.fieldName : e instanceof Bt ? "series" : "column", this._nameMap[r]) {
              for (var n = 0; n < 1e3; n++)
                if (!this._nameMap[r + n]) {
                  e.name = r += n;
                  break;
                }
            } else
              e.name = r;
          return r && (this._nameMap[r] = e), e;
        }
        return null;
      }, i.prototype._removeColumn = function(e) {
        var t = this._columns.indexOf(e);
        return t >= 0 && (this._columns.splice(t, 1), e.$_owner = void 0, delete this._nameMap[e.name], !0);
      }, i.prototype._restoreColumn = function() {
        this._columns = this._orgColumns.slice();
      }, i.prototype._clearColumn = function() {
        for (var e = 0, t = this._columns; e < t.length; e++)
          t[e].dispose();
      }, i;
    }(J), gd = function(a) {
      function i() {
        var e = a.call(this, "headerCell") || this;
        return e._itemOffset = 2, e._itemGap = 2, e._checkLocation = f.ColumnHeaderItemLocation.NONE, e._checked = !1, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, set: function(e) {
        this._text = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "template", { get: function() {
        return this._template;
      }, set: function(e) {
        this._template = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemOffset", { get: function() {
        return this._itemOffset;
      }, set: function(e) {
        this._itemOffset = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemGap", { get: function() {
        return this._itemGap;
      }, set: function(e) {
        this._itemGap = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkLocation", { get: function() {
        return this._checkLocation;
      }, set: function(e) {
        this._checkLocation = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checked", { get: function() {
        return this._checked;
      }, set: function(e) {
        this._checked = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showTooltip", { get: function() {
        return this._showTooltip;
      }, set: function(e) {
        this._showTooltip = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tooltip", { get: function() {
        return this._tooltip;
      }, set: function(e) {
        this._tooltip = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "edgeMark", { get: function() {
        return this._edgeMark;
      }, set: function(e) {
        this._edgeMark = e;
      }, enumerable: !1, configurable: !0 }), i;
    }(st), yd = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._minRowHeight = 21, t._minHeight = 23, t._height = 0, t._resizable = !1, t._itemOffset = 2, t._itemGap = 2, t._showSelection = !1, t._showTooltip = !1, t._sortWidth = 16, t._sortHeight = 16, t._filterWidth = 16, t._filterHeight = 16, t._popupWidth = 16, t._popupHeight = 16, t._expanderWidth = 16, t._expanderHeight = 16, t._checkWidth = 16, t._checkHeight = 16, t._showPopupMenu = f.HandleVisibility.VISIBLE, t._cell = new gd(), t.visible = !0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cell = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "minRowHeight", { get: function() {
        return this._minRowHeight;
      }, set: function(e) {
        e != this._minRowHeight && (this._minRowHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minHeight", { get: function() {
        return this._minHeight;
      }, set: function(e) {
        e != this._minHeight && (this._minHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "height", { get: function() {
        return this._height;
      }, set: function(e) {
        e != this._height && (this._height = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayHeight", { get: function() {
        return this._grid.headerView.height;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "heights", { get: function() {
        return this._heights && this._heights.slice();
      }, set: function(e) {
        if (e != this._heights) {
          e = b.makeArray(e, !0), this._heights = e && e.slice();
          for (var t = 0; t < this._heights.length; t++)
            this._heights[t] = Math.max(this._minRowHeight, isNaN(this._heights[t]) ? this._minRowHeight : this._heights[t]);
          this._changed();
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "resizable", { get: function() {
        return this._resizable;
      }, set: function(e) {
        e != this._resizable && (this._resizable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemOffset", { get: function() {
        return this._itemOffset;
      }, set: function(e) {
        e != this._itemOffset && (this._itemOffset = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemGap", { get: function() {
        return this._itemGap;
      }, set: function(e) {
        e != this._itemGap && (this._itemGap = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showTooltip", { get: function() {
        return this._showTooltip;
      }, set: function(e) {
        e != this._showTooltip && (this._showTooltip = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showSelection", { get: function() {
        return this._showSelection;
      }, set: function(e) {
        e != this._showSelection && (this._showSelection = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortWidth", { get: function() {
        return this._sortWidth;
      }, set: function(e) {
        e != this._sortWidth && (this._sortWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortHeight", { get: function() {
        return this._sortHeight;
      }, set: function(e) {
        e != this._sortHeight && (this._sortHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterWidth", { get: function() {
        return this._filterWidth;
      }, set: function(e) {
        e != this._filterWidth && (this._filterWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterHeight", { get: function() {
        return this._filterHeight;
      }, set: function(e) {
        e != this._filterHeight && (this._filterHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupWidth", { get: function() {
        return this._popupWidth;
      }, set: function(e) {
        e != this._popupWidth && (this._popupWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupHeight", { get: function() {
        return this._popupHeight;
      }, set: function(e) {
        e != this._popupHeight && (this._popupHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expanderWidth", { get: function() {
        return this._expanderWidth;
      }, set: function(e) {
        e != this._expanderWidth && (this._popupWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expanderHeight", { get: function() {
        return this._expanderHeight;
      }, set: function(e) {
        e != this._expanderHeight && (this._popupHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showPopupMenu", { get: function() {
        return this._showPopupMenu;
      }, set: function(e) {
        e != this._showPopupMenu && (this._showPopupMenu = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkWidth", { get: function() {
        return this._checkWidth;
      }, set: function(e) {
        e != this._checkWidth && (this._checkWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkHeight", { get: function() {
        return this._checkHeight;
      }, set: function(e) {
        e != this._checkHeight && (this._checkHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName;
      }, set: function(e) {
        e != this._styleName && (this._styleName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exportStyleName", { get: function() {
        return this._exportStyleName;
      }, set: function(e) {
        this._exportStyleName = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.setCalcHeights = function(e) {
        this._calcHeights = e.slice();
      }, i.prototype.getCalcHeights = function() {
        return this._calcHeights;
      }, i.prototype.getCell = function(e) {
        var t = this._cell;
        t.setLayout(e);
        var o = e instanceof Ie ? e.header : e.firstColumn.header;
        if (o && (t.text = o.displayText, t.template = o.realizeTemplate(), t.showTooltip = o.showTooltip, t.tooltip = o.tooltip, t.edgeMark = o.edgeMark, o instanceof Qa)) {
          var r = e.firstColumn, n = void 0;
          t.index.set(-1, e.firstColumn), t.itemOffset = (n = o.itemOffset) === void 0 ? this._itemOffset : n, t.itemGap = (n = o.itemGap) === void 0 ? this._itemGap : n, t.checkLocation = o.checkLocation, t.checked = r.checked;
        }
        return t;
      }, i.prototype.getStyleName = function() {
        return this._styleName;
      }, i.prototype._doChanged = function() {
        a.prototype._doChanged.call(this), this._grid && this._grid.invalidatePosition();
      }, i;
    }(_i), md = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cell = null, a.prototype._doDispose.call(this);
      }, i.prototype.setCell = function(e) {
        this._cell = e;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        switch (e) {
          case i.ID_VALUE:
            return this._cell.value;
          case i.ID_FIELD:
            return this._cell.index.dataField;
          case i.ID_LEVEL:
            return this._cell.level;
        }
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
      }, i.ID_VALUE = 0, i.ID_FIELD = 1, i.ID_LEVEL = 2, i.IDENTS = { value: i.ID_VALUE, field: i.ID_FIELD, level: i.ID_LEVEL }, i;
    }(bt), hl = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._childIndex = 0, t._error = null, t._errorDetail = null, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "level", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "error", { get: function() {
        return this._error;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "errorDetail", { get: function() {
        return this._errorDetail;
      }, enumerable: !1, configurable: !0 }), i.prototype.calculate = function() {
        var e = this.valueColumn, t = e && e.grid, o = this._getSummary(e, this._childIndex);
        if (this._value = NaN, this._error = null, t && o && t.itemSource.summaryMode != f.SummaryMode.NONE) {
          o._value = void 0;
          var r = o.expression, n = void 0;
          try {
            if (r && t.dataCount > 0 && e instanceof re && e.dataIndex >= 0) {
              var s = t.columnSummaryRuntime;
              s.setColumn(e, t.summarizer), n = o.evaluate(s, this._childIndex);
            }
            var l = o.valueCallback;
            l && (n = l(t.handler, e, this._childIndex, o, n)), o._value = this._value = n;
          } catch (h) {
            this._error = h, this._errorDetail = h, o._value = void 0;
          }
        }
      }, Object.defineProperty(i.prototype, "text", { get: function() {
        if (this._error)
          return st.ERROR;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        return this._value;
      }, enumerable: !1, configurable: !0 }), i.prototype.getDisplayText = function(e) {
        var t, o = this._value, r = this.valueColumn, n = "";
        if (o !== void 0 && r)
          if (typeof o == "string")
            n = o + "";
          else if (typeof o == "boolean")
            n = String(o);
          else if (o instanceof Date) {
            var s = e.datetimeWriter;
            n = s ? s.getText(this._value) : String(o);
          } else if (typeof o != "number" || isNaN(o))
            o == null && (n = "");
          else {
            var l = e.numberFormatter;
            n = l ? l.getText(o) : String(o);
          }
        if (n) {
          var h = e.prefix;
          h && (n = h + n), (h = e.suffix) && (n += h);
        }
        return !n && r && (n = (t = this._getSummary(r, this._childIndex)) === null || t === void 0 ? void 0 : t.text), n;
      }, i.prototype.getSummary = function() {
        return this._getSummary(this.valueColumn, this._childIndex);
      }, i.prototype.getTemplate = function(e) {
        var t = this._getSummary(this.valueColumn, this._childIndex);
        return t ? t.realizeSummary(this, e) : void 0;
      }, i;
    }(st), bd = function(a) {
      function i() {
        return a.call(this, "footerCell") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "footerIndex", { get: function() {
        return this._childIndex;
      }, set: function(e) {
        e != this._childIndex && (this._childIndex = e);
      }, enumerable: !1, configurable: !0 }), i.prototype._getSummary = function(e, t) {
        return e && e.footers.get(t);
      }, i;
    }(hl), qn = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._minHeight = 23, t._height = 0, t._heights = [], t._formatter = { numberFormatter: null, datetimeWriter: null, booleanFormatter: null, textFormatter: null, prefix: "", suffix: "" }, t._childIndex = 0, t._displayIndex = 0, t._runtime = new md(), t._cell = t._createCell(), t.visible = !0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName;
      }, set: function(e) {
        e != this._styleName && (this._styleName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayIndex", { get: function() {
        return this._displayIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minHeight", { get: function() {
        return this._minHeight;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._minHeight && (this._minHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "height", { get: function() {
        return this._height;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._height && (this._height = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "heights", { get: function() {
        return this._heights;
      }, set: function(e) {
        this._heights = e.slice(), this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellStyleCallback", { get: function() {
        return this._cellStyleCallback;
      }, set: function(e) {
        e !== this._cellStyleCallback && (this._cellStyleCallback = e, this.refreshOwner());
      }, enumerable: !1, configurable: !0 }), i.prototype.getCell = function(e) {
        var t = this._cell, o = e.firstColumn;
        return t.index.set(-1, o), t._childIndex = this._childIndex, t.calculate(), t;
      }, i.prototype.getCellStyle = function(e, t, o) {
        o === void 0 && (o = !0);
        var r, n = e.getSummary(), s = this._cellStyleCallback;
        s && (r = s(this._grid.handler, e), t.assign(r)), n && (s = n.styleCallback) && (r = s(this._grid.handler, e), t.assign(r));
        var l = t.styleName || n && n.styleName || "";
        return o && (t.styleName = this.getCellStyleName() + " " + l), t;
      }, i.prototype.getCellFormatters = function(e, t) {
        return t ? (t.numberFormatter = t.numberFormatter || e.numberFormatter, t.datetimeWriter = t.datetimeWriter || e.datetimeWriter, t.booleanFormatter = t.booleanFormatter || e.boolFormatter, t.textFormatter = t.textFormatter || e.textFormatter, t.prefix = t.prefix || e.prefix, t.suffix = t.suffix || e.suffix) : ((t = this._formatter).numberFormatter = e.numberFormatter, t.datetimeWriter = e.datetimeWriter, t.booleanFormatter = e.boolFormatter, t.textFormatter = e.textFormatter, t.prefix = e.prefix, t.suffix = e.suffix), t;
      }, i.prototype._visibleChanged = function() {
        a.prototype._visibleChanged.call(this), this.$_owner && this.$_owner.$_visibleChanged(this);
      }, i.prototype._doChanged = function() {
        a.prototype._doChanged.call(this), this.$_owner && this.$_owner._doChanged();
      }, i;
    }(_i), vd = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "footerIndex", { get: function() {
        return this._childIndex;
      }, enumerable: !1, configurable: !0 }), i.prototype.getCellStyleName = function() {
        return i.CELL_CSS;
      }, i.prototype._createCell = function() {
        return new bd();
      }, i.CELL_CSS = "rg-footer-cell", i;
    }(qn), ul = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        t._items = [], t._visibles = [];
        var o = t._createSummary(e);
        return o.$_owner = t, t._items.push(o), t._visibles.push(t._items[0]), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        for (var e = 0, t = this._items; e < t.length; e++)
          t[e].dispose();
        this._items = null, this._visibles = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "canShow", { get: function() {
        return this.visible && this._visibles.length > 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visibleCount", { get: function() {
        return this._visibles.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dirty", { get: function() {
        for (var e = this._dirty, t = 0, o = this._visibles; t < o.length; t++) {
          var r = o[t];
          e = e || r.dirty;
        }
        return e;
      }, enumerable: !1, configurable: !0 }), i.prototype.get = function(e) {
        return this._items[e];
      }, i.prototype.getVisible = function(e) {
        return this._visibles[e];
      }, i.prototype.isVisible = function() {
        return this.visible && this.visibleCount > 0;
      }, i.prototype.assignFrom = function(e) {
        var t;
        if (a.prototype.assignFrom.call(this, e), e && e.items ? t = b.makeArray(e.items) : b.isArray(e) && (t = e), t) {
          for (var o = this._items, r = t.length; o.length > r; )
            o.pop().dispose();
          o.length = r;
          for (var n = 0, s = t.length; n < s; n++) {
            var l = t[n];
            l && (o[n] || (o[n] = this._createSummary()), o[n].assignFrom(l), o[n].$_owner = this);
          }
          this.$_resetVisibles();
        }
      }, i.prototype.clean = function() {
        for (var e = 0, t = this._items; e < t.length; e++)
          t[e].clean();
        a.prototype.clean.call(this);
      }, i.prototype.toProxy = function() {
        for (var e = a.prototype.toProxy.call(this), t = [], o = 0; o < this._items.length; o++)
          t.push(this._items[o].toProxy());
        return t.length > 0 && (e.items = t.slice()), e;
      }, i.prototype.$_visibleChanged = function(e) {
        this.$_resetVisibles();
      }, i.prototype.$_resetVisibles = function() {
        this._visibles.length = 0;
        for (var e = 0, t = 0; e < this._items.length; e++) {
          var o = this._items[e];
          o._childIndex = e, o.visible && (this._visibles.push(o), o._displayIndex = t++);
        }
        this._changed();
      }, i.prototype._doChanged = function() {
        a.prototype._doChanged.call(this), this._grid && this._grid.invalidatePosition();
      }, i;
    }(_i), wd = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._createSummary = function(e) {
        return new vd(e || this._grid);
      }, i;
    }(ul), Di = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._displayOrder = 0, t._headText = null, t._footText = null, t._sumText = null, t._headCell = t._createHeadCell(), t._footCell = t._createFootCell(), t._sumCell = t._createSumCell(), t._filterCell = t._createFilterCell(), t.visible = !0, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "displayOrder", { get: function() {
        return this._displayOrder;
      }, set: function(e) {
        e != this._displayOrder && (this._displayOrder = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headText", { get: function() {
        return this._headText;
      }, set: function(e) {
        e != this._headText && (this._headText = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footText", { get: function() {
        return this._footText;
      }, set: function(e) {
        e != this._footText && (this._footText = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sumText", { get: function() {
        return this._sumText;
      }, set: function(e) {
        e != this._sumText && (this._sumText = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupMenu", { get: function() {
        return this._popupMenu;
      }, set: function(e) {
        e != this._popupMenu && (this._popupMenu = e, this._popupMenuName = typeof e == "string" ? e : null);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupMenuName", { get: function() {
        return this._popupMenuName ? this._popupMenuName : this._popupMenu && this._grid ? (this._popupMenuName = this.getHeadStyleName() + "_menu", this._grid.addPopupMenu(this._popupMenuName, this._popupMenu, !0), this._popupMenuName) : null;
      }, set: function(e) {
        e != null && typeof e != "string" || (this._popupMenuName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visChanged", { get: function() {
        return this._visChanged;
      }, set: function(e) {
        this._visChanged = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellStyleCallback", { get: function() {
        return this._cellStyleCallback;
      }, set: function(e) {
        e !== this._cellStyleCallback && (this._cellStyleCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.getHeadCell = function() {
        return this._headCell;
      }, i.prototype.getFootCell = function() {
        return this._footCell;
      }, i.prototype.getSumCell = function() {
        return this._sumCell;
      }, i.prototype.getFilterCell = function() {
        return this._filterCell;
      }, i.prototype._createHeadCell = function() {
        return new pr(this);
      }, i.prototype._createFootCell = function() {
        return new pr(this);
      }, i.prototype._createSumCell = function() {
        return new pr(this);
      }, i.prototype._createFilterCell = function() {
        return new pr(this);
      }, i.prototype._visibleChanged = function() {
        a.prototype._visibleChanged.call(this), this._visChanged = !0;
      }, i;
    }(_i);
    f.IndicatorValue = void 0, (br = f.IndicatorValue || (f.IndicatorValue = {})).NONE = "none", br.INDEX = "index", br.REVERSE = "reverse", br.ROW = "row", f.StateMark = void 0, (Yn = f.StateMark || (f.StateMark = {})).IMAGE = "image", Yn.TEXT = "text", Yn.NONE = "none";
    var Kn, bi, Xn, Cd = function(a) {
      function i(e) {
        var t = a.call(this, "indicatorCell") || this;
        return t._itemState = f.ItemState.NORMAL, t._indicator = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "indicator", { get: function() {
        return this._indicator;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemState", { get: function() {
        return this._itemState;
      }, set: function(e) {
        e != this._itemState && (this._itemState = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        var e, t = this._indicator, o = t.owner, r = this.index, n = r.item, s = "", l = o.indicatorReverse(t.displayValue);
        if (n && n.itemState == f.ItemState.NORMAL)
          switch (t.displayValue) {
            case f.IndicatorValue.INDEX:
            case f.IndicatorValue.REVERSE:
              (e = o.getIndicatorIndex(n, l)) >= 0 && (e += t.indexOffset, !t.zeroBase && e++, s = String(e));
              break;
            case f.IndicatorValue.ROW:
              n.isDataRow && (e = r.dataRow, e += t.rowOffset, t.zeroBase || e++, s = String(e));
          }
        return s;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), i;
    }(st), oo = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._displayValue = f.IndicatorValue.INDEX, t._zeroBase = !1, t._indexOffset = 0, t._rowOffset = 0, t._minWidth = 32, t._maxWidth = 0, t._width = 0, t._selectable = !0, t._mark = f.StateMark.IMAGE, t._showFocus = !0, t._showSelection = !0, t._displayWidth = 0, t._cell = new Cd(t), t.headText = "No.", t.footText = "Σ", t.sumText = "Σ", t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "displayValue", { get: function() {
        return this._displayValue;
      }, set: function(e) {
        e != this._displayValue && (this._displayValue = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "zeroBase", { get: function() {
        return this._zeroBase;
      }, set: function(e) {
        e != this._zeroBase && (this._zeroBase = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "indexOffset", { get: function() {
        return this._indexOffset;
      }, set: function(e) {
        e != this._indexOffset && (this._indexOffset = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowOffset", { get: function() {
        return this._rowOffset;
      }, set: function(e) {
        e != this._rowOffset && (this._rowOffset = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minWidth", { get: function() {
        return this._minWidth;
      }, set: function(e) {
        e != this._minWidth && (this._minWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxWidth", { get: function() {
        return this._maxWidth;
      }, set: function(e) {
        e != this._maxWidth && (this._maxWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "width", { get: function() {
        return this._width;
      }, set: function(e) {
        e != this._width && (this._width = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayWidth", { get: function() {
        return this._displayWidth;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectable", { get: function() {
        return this._selectable;
      }, set: function(e) {
        e != this._selectable && (this._selectable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mark", { get: function() {
        return this._mark;
      }, set: function(e) {
        e != this._mark && (this._mark = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showFocus", { get: function() {
        return this._showFocus;
      }, set: function(e) {
        e != this._showFocus && (this._showFocus = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showSelection", { get: function() {
        return this._showSelection;
      }, set: function(e) {
        e != this._showSelection && (this._showSelection = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.getCellType = function() {
        return "indicator";
      }, Object.defineProperty(i.prototype, "staticOrder", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), i.prototype.getCell = function(e) {
        var t = this._cell;
        if (t.setIndex(e), e.item) {
          var o = e.item.itemState;
          o == f.ItemState.NORMAL && this._grid.focusedIndex.itemIndex == e.itemIndex && (o = f.ItemState.FOCUSED), t.itemState = o;
        }
        return t;
      }, i.prototype.getHeadStyleName = function() {
        return "rg-rowindicator-head";
      }, i.prototype.getFootStyleName = function() {
        return "rg-rowindicator-foot";
      }, i.prototype.getSumStyleName = function() {
        return "rg-rowindicator-sum";
      }, i.prototype.getFilterStyleName = function() {
        return "rg-rowindicator-filter";
      }, i;
    }(Di), xd = function(a) {
      function i(e) {
        var t = a.call(this, "stateBarCell") || this;
        return t._bar = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._bar = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "text", { get: function() {
        return this._bar._stateTexts[this.item.rowState];
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), i;
    }(st), ro = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._width = 20, t._mark = f.StateMark.IMAGE, t._stateTexts = {}, t._errorVisible = !1, t._stateTexts[f.RowState.CREATED] = "C", t._stateTexts[f.RowState.UPDATED] = "U", t._stateTexts[f.RowState.DELETED] = "D", t._stateTexts[f.RowState.CREATE_AND_DELETED] = "X", t._cell = new xd(t), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "width", { get: function() {
        return this._width;
      }, set: function(e) {
        e != this._width && (this._width = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mark", { get: function() {
        return this._mark;
      }, set: function(e) {
        e != this._mark && (this._mark = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "stateTexts", { get: function() {
        return Q({}, this._stateTexts);
      }, set: function(e) {
        if (e != this._stateTexts) {
          for (var t in e)
            this._stateTexts.hasOwnProperty(t) && (this._stateTexts[t] = e[t]);
          this._changed();
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "errorVisible", { get: function() {
        return this._errorVisible;
      }, set: function(e) {
        e != this._errorVisible && (this._errorVisible = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.getCellType = function() {
        return "state";
      }, Object.defineProperty(i.prototype, "staticOrder", { get: function() {
        return 1e3;
      }, enumerable: !1, configurable: !0 }), i.prototype.getCell = function(e) {
        var t = this._cell;
        return t.setIndex(e), t;
      }, i.prototype.getHeadStyleName = function() {
        return "rg-statebar-head";
      }, i.prototype.getFootStyleName = function() {
        return "rg-statebar-foot";
      }, i.prototype.getSumStyleName = function() {
        return "rg-statebar-sum";
      }, i.prototype.getFilterStyleName = function() {
        return "rg-statebar-filter";
      }, i;
    }(Di), Id = function(a) {
      function i() {
        return a.call(this, "checkBarCell") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "getText", { get: function() {
        return String(this.index.dataRow);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        return this.item.checked;
      }, enumerable: !1, configurable: !0 }), i;
    }(st), no = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._width = 20, t._exclusive = !1, t._showAll = !0, t._showGroup = !0, t._visibleOnly = !1, t._checkableOnly = !0, t._syncHeadCheck = !1, t._useImages = !1, t._checkLocation = f.ColumnHeaderItemLocation.TOP, t._itemGap = 5, t._fieldIndex = -1, t._breakMergeOnEmpty = !1, t._cell = new Id(), t._merged = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "width", { get: function() {
        return this._width;
      }, set: function(e) {
        e != this._width && (this._width = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exclusive", { get: function() {
        return this._exclusive;
      }, set: function(e) {
        e != this._exclusive && (this._exclusive = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkLocation", { get: function() {
        return this._checkLocation;
      }, set: function(e) {
        e != this._checkLocation && (this._checkLocation = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemGap", { get: function() {
        return this._itemGap;
      }, set: function(e) {
        e != this._itemGap && (this._itemGap = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showAll", { get: function() {
        return this._showAll;
      }, set: function(e) {
        e != this._showAll && (this._showAll = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showGroup", { get: function() {
        return this._showGroup;
      }, set: function(e) {
        e != this._showGroup && (this._showGroup = e, this._grid.itemSource.setGroupCheckable(e), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visibleOnly", { get: function() {
        return this._visibleOnly;
      }, set: function(e) {
        e != this._visibleOnly && (this._visibleOnly = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkableOnly", { get: function() {
        return this._checkableOnly;
      }, set: function(e) {
        e != this._checkableOnly && (this._checkableOnly = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkableExpression", { get: function() {
        return this._checkableExpression;
      }, set: function(e) {
        e != this._checkableExpression && (this._checkableExpression = e, this._grid.itemSource.checkableExpression = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkableCallback", { get: function() {
        return this._checkableCallback;
      }, set: function(e) {
        this._checkableCallback = e, this._grid.itemSource.checkableCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "syncHeadCheck", { get: function() {
        return this._syncHeadCheck;
      }, set: function(e) {
        e != this._syncHeadCheck && (this._syncHeadCheck = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fieldName", { get: function() {
        return this._fieldName;
      }, set: function(e) {
        e != this._fieldName && (this._fieldName = e, this._fieldIndex = this._grid.dataSource.getFieldIndex(e), this._grid.setCheckFieldIndex(this._fieldIndex), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fieldIndex", { get: function() {
        return this._fieldIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "useImages", { get: function() {
        return this._useImages;
      }, set: function(e) {
        this._useImages !== e && (this._useImages = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeRule", { get: function() {
        return this._mergeRule;
      }, set: function(e) {
        e != this._mergeRule && (this._mergeRule = e, this._mergeRuleObj && this._mergeRuleObj.dispose(), this._mergeRuleObj = e ? Ed.createRule(e) : null, this._changed(), this.owner._columnMergeRuleChanged(null));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "breakMergeOnEmpty", { get: function() {
        return this._breakMergeOnEmpty;
      }, set: function(e) {
        e != this._breakMergeOnEmpty && (this._breakMergeOnEmpty = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focusMove", { get: function() {
        return !!this._focusMove;
      }, set: function(e) {
        this._focusMove = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.getCell = function(e) {
        var t = this._cell;
        return t.setIndex(e), t._exclusive = this._exclusive, t;
      }, i.prototype.getHeadStyleName = function() {
        return "rg-checkbar-head";
      }, i.prototype.getFootStyleName = function() {
        return "rg-checkbar-foot";
      }, i.prototype.getSumStyleName = function() {
        return "rg-checkbar-sum";
      }, i.prototype.getFilterStyleName = function() {
        return "rg-checkbar-filter";
      }, i.prototype.canMerge = function() {
        return this._mergeRuleObj != null;
      }, i.prototype.getCellType = function() {
        return "check";
      }, Object.defineProperty(i.prototype, "staticOrder", { get: function() {
        return 2e3;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "merges", { get: function() {
        return this._merges;
      }, enumerable: !1, configurable: !0 }), i.prototype._doChanged = function() {
        this._grid && (this._grid._itemCheckChanged = this._syncHeadCheck);
      }, Object.defineProperty(i.prototype, "merged", { get: function() {
        return this._merged;
      }, enumerable: !1, configurable: !0 }), i;
    }(Di), Bo = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._row1 = 0, e._row2 = 0, e;
      }
      return w(i, a), i.$_setRange = function(e, t, o) {
        return e._row1 = t <= o ? t : o, e._row2 = t <= o ? o : t, e;
      }, i.create = function(e, t) {
        if (t && e !== t)
          return i.$_setRange(new i(), e.itemIndex, t.itemIndex);
        var o = new i();
        return o._row1 = o._row2 = e.itemIndex, o;
      }, i.temp = function(e, t) {
        var o = i.$_TEMP;
        return t && e !== t ? i.$_setRange(o, e.itemIndex, t.itemIndex) : (o._row1 = o._row2 = e.itemIndex, o);
      }, i.createRange = function(e, t) {
        return i.$_setRange(new i(), e, t);
      }, Object.defineProperty(i.prototype, "empty", { get: function() {
        return this._row2 < this._row1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "r1", { get: function() {
        return this._row1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "r2", { get: function() {
        return this._row2;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "top", { get: function() {
        return this._row1 <= this._row2 ? this._row1 : this._row2;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bottom", { get: function() {
        return this._row1 <= this._row2 ? this._row2 : this._row1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstCell", { get: function() {
        var e = new W();
        return e.itemIndex = this._row1 <= this._row2 ? this._row1 : this._row2, e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lastCell", { get: function() {
        var e = new W();
        return e.itemIndex = this._row1 >= this._row2 ? this._row1 : this._row2, e;
      }, enumerable: !1, configurable: !0 }), i.prototype.contains = function(e) {
        return e >= this._row1 && e <= this._row2;
      }, i.prototype.intersectsWith = function(e) {
        return !1;
      }, i.NULL = new i(), i.$_TEMP = new i(), i;
    }(J), Sd = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._item = null, e._ds = null, e._fieldCount = 0, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._item = null, this._ds = null, a.prototype._doDispose.call(this);
      }, i.prototype.setDataSource = function(e) {
        this._ds = e, this._fieldCount = e ? e.fieldCount : 0;
      }, i.prototype.setCell = function(e) {
        this._item = e.item;
      }, i.prototype.setItem = function(e) {
        this._item = e;
      }, i.prototype.clear = function() {
        this._item = null, this._ds = null;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        if (this._item) {
          switch (e) {
            case i.ID_ROW:
              return this._item.index;
            case i.ID_DATAROW:
              return this._item.dataRow;
            case i.ID_GROUP:
              return this._item.parent;
          }
          throw new ie("Invalid identifier key: " + e);
        }
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (this._item) {
          if (e == i.ID_VALUE || e == i.ID_VALUES) {
            if (t < 0 || t >= this._fieldCount)
              throw new ie("Data field index out of bounds:" + t);
            return this._item.getData(t);
          }
          throw new ie("Invalid identifier indexer: " + e);
        }
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        if (e != i.ID_VALUE && e != i.ID_VALUES)
          throw new ie("Invalid identifier indexer: " + e);
        if (this._ds) {
          var r = o ? this._ds.getFieldIndexC(t) : this._ds.getFieldIndex(t);
          if (r < 0 || r >= this._fieldCount)
            throw new ie("Data field is not exists:" + t);
          return this._item.getData(r);
        }
      }, i.ID_ROW = 0, i.ID_DATAROW = 1, i.ID_CHECKED = 2, i.ID_VALUE = 3, i.ID_VALUES = 4, i.ID_GROUP = 5, i.ID_PREV_VALUES = 6, i.IDENTS = { row: i.ID_ROW, datarow: i.ID_DATAROW, checked: i.ID_CHECKED, value: i.ID_VALUE, values: i.ID_VALUES, group: i.ID_GROUP, prevvalues: i.ID_PREV_VALUES }, i;
    }(bt), cl = {}, Ed = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._runtime = i.$_runtime = i.$_runtime || new Sd(), t.criteria = e, t;
      }
      return w(i, a), i.createRule = function(e) {
        var t = typeof e == "string" ? e : e && e.criteria;
        return t ? new i(t) : null;
      }, i.prototype._doDispose = function() {
        this._runtime.clear(), this._runtime = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "criteria", { get: function() {
        return this._criteria;
      }, set: function(e) {
        (e = e ? e.trim() : null) != this._criteria && (this._criteria = e, this._exprNode = e ? Mt.Default.parse(e, null) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.parseInit = function(e, t, o, r, n) {
        var s = this._checkBar.breakMergeOnEmpty, l = e.fixedCount, h = e.itemCount, u = e.dataSource.rowCount;
        if (!((r = Math.min(h - o, r)) < 1 || u <= 0)) {
          this._runtime.setDataSource(e.dataSource);
          for (var c = null; o < h && (c = e.getItem(o), !this.$_isRow(c, !1)); )
            n[o] = o + 1, o++;
          if (!(o >= h)) {
            this._runtime.setItem(c);
            var d = this._exprNode.evaluate(this._runtime), p = c.checked, _ = o;
            if (n[_] = _ + 1, !(c.dataRow >= u)) {
              this._runtime.setItem(c);
              for (var g = o + 1; g < h; g++)
                if (c = e.getItem(g), this.$_isRow(c, !1)) {
                  if (c.dataRow >= u)
                    break;
                  this._runtime.setItem(c);
                  var y = this._exprNode.evaluate(this._runtime), m = c.checked;
                  if (g == l || y === void 0 && s || (y instanceof Date && d instanceof Date ? +y != +d : y != d) || m != p) {
                    if (g >= r)
                      break;
                    _ = g, d = y, p = m;
                  }
                  n[g] = _ + 1;
                } else {
                  if (g >= r)
                    break;
                  d = cl, _ = g, n[g] = _ + 1;
                }
            }
          }
        }
      }, i.prototype.parseBounds = function(e, t, o, r, n) {
        var s = this._checkBar.breakMergeOnEmpty, l = !1, h = e.itemCount;
        if (!(h < 1)) {
          var u, c, d, p = e.fixedCount, _ = cl, g = Math.max(0, o), y = g, m = -1;
          if (this._runtime.setDataSource(e.dataSource), g > 0 && n[g] <= 0) {
            var v = e.getItem(g);
            if (this.$_isRow(v, l)) {
              for (this._runtime.setItem(v), c = this._exprNode.evaluate(this._runtime), d = v.checked, g--; g >= 0 && (v = e.getItem(g), this.$_isRow(v, l)) && (this._runtime.setItem(v), _ = this._exprNode.evaluate(this._runtime), u = v.checked, !(g == p || _ === void 0 && s || (_ instanceof Date && c instanceof Date ? +_ != +c : _ != c) || d != u)); )
                g--;
              for (var C = y - 1; C > g; C--)
                n[C] = g + 2;
              y - 1 > g && (m = g + 1);
            } else {
              for (n[g] = g + 1, C = y - 1; C > g; C--)
                n[C] = g + 2;
              for (y - 1 > g + 1 && (m = g + 2), g--; g >= 0 && n[g] <= 0 && !this.$_isRow(e.getItem(g), l); )
                n[g] = g + 1, g--;
            }
          }
          for (g = Math.max(0, o); g <= r && n[g] > 0; )
            g++;
          for (; g <= r && !this.$_isRow(e.getItem(g), l); )
            n[g] = g + 1, g++;
          if (g < r) {
            for (y = g, v = e.getItem(g), this._runtime.setItem(v), c = this._exprNode.evaluate(this._runtime), d = v.checked, g++; g < h; )
              if (v = e.getItem(g), this.$_isRow(v, l)) {
                if (this._runtime.setItem(v), _ = this._exprNode.evaluate(this._runtime), u = v.checked, g == p || _ === void 0 && s || (_ instanceof Date && c instanceof Date ? +_ != +c : _ != c) || d != u) {
                  var x = y;
                  for (m >= 0 && (x = m, m = -1), C = y; C < g; C++)
                    n[C] = x + 1;
                  if (g >= r)
                    break;
                  c = _, d = u, y = g;
                } else
                  n[g] = y + 1;
                g++;
              } else {
                for (x = y, m >= 0 && (x = m, m = -1), C = y; C < g; C++)
                  n[C] = x + 1;
                for (n[g] = g + 1, g++; g < h && !this.$_isRow(e.getItem(g), l); )
                  n[g] = g + 1, g++;
                if (y = g, g >= r)
                  break;
              }
            if (g == h && (_ instanceof Date && c instanceof Date ? +_ == +c : _ == c) || d != u)
              for (x = m >= 0 ? m : y, C = y; C < g; C++)
                n[C] = x + 1;
          }
        }
      }, i.prototype.$_isRow = function(e, t) {
        var o = e instanceof Fe && !(e instanceof Xi);
        if (o && !t) {
          var r = e.parent;
          o = r.expanded || r.firstItem !== e;
        }
        return o;
      }, i.$_runtime = null, i;
    }(zt), dl = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._checkBar = t, o._head = e.top, o._tail = e.bottom, o;
      }
      return w(i, a), i.borrow = function(e, t) {
        var o = i.$_rooms.pop();
        return o ? (o._head = e.top, o._tail = e.bottom) : o = new i(e, t), o;
      }, i.returnTo = function(e) {
        if (e) {
          var t = i.$_rooms;
          t.indexOf(e) < 0 && t.push(e);
        }
      }, Object.defineProperty(i.prototype, "head", { get: function() {
        return this._head;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tail", { get: function() {
        return this._tail;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scope", { get: function() {
        return this._checkBar;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "group", { get: function() {
        return null;
      }, set: function(e) {
      }, enumerable: !1, configurable: !0 }), i.prototype.getHead = function(e) {
        return e ? e.set(this._head, null) : e = new W(this._checkBar.owner, this._head, null), e;
      }, i.prototype.getTail = function(e) {
        return e ? e.set(this._tail, null) : e = new W(this._checkBar.owner, this._tail, null), e;
      }, i.prototype.isHead = function(e) {
        return e.itemIndex == this._head;
      }, i.prototype.isTail = function(e) {
        return e.itemIndex == this._tail;
      }, i.prototype.contains = function(e) {
        return e.itemIndex >= this._head && e.itemIndex <= this._tail;
      }, i.$_rooms = new Array(), i;
    }(qa), vi = -1, ii = 65535, pl = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._flags = null, t._fixedRooms = [], t._rooms = [], t._inited = !1, t._fixedCells = [], t._cells = [], t._nextId = 0, t._checkBar = e, e._merges = t, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._checkBar = null, this._rooms = this._fixedRooms = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "count", { get: function() {
        return this._rooms.length;
      }, enumerable: !1, configurable: !0 }), i.prototype.clear = function() {
        this._flags = null, this._rooms = [], this._inited = !1;
      }, i.prototype.initialize = function(e) {
        if (!this._inited) {
          var t = this._checkBar.owner, o = t.itemSource, r = this._checkBar._mergeRuleObj;
          if (r) {
            for (var n = this._flags = new Array(o.itemCount), s = t.fixedOptions.mergeRows ? 0 : o.fixedCount, l = o.itemCount; l--; )
              n[l] = 0;
            r._checkBar = this._checkBar, r.parseInit(o, -1, s, e, n);
          }
          this._inited = !0;
        }
      }, i.prototype.refreshRooms = function(e, t, o) {
        if (this._nextId = 0, this._inited && this._flags && !(t < e)) {
          var r = this._checkBar.owner;
          if (r) {
            var n = this._rooms, s = r.layoutManager.fixedItemCount, l = r.itemSource, h = this._checkBar._mergeRuleObj, u = 0;
            if (this._fixedRooms.length = 0, this._rooms.length = 0, h && (h._checkBar = this._checkBar, h.parseBounds(l, -1, e, t, this._flags)), o)
              for (; u < s; )
                if (d = this.$_checkFixedMerge(l, u, s)) {
                  var c = new dl(d, this._checkBar);
                  this._fixedRooms.push(c), u = d.r2 + 1;
                } else
                  u += 1;
            for (u = e; u <= t; ) {
              var d;
              if ((d = this.$_checkMerge(l, u, n.length == 0, s)) != null) {
                var p = l.getItem(d.r2);
                p instanceof _t || p instanceof Qe || (c = new dl(d, this._checkBar), this._rooms.push(c)), u = d.r2 + 1;
              } else
                u += 1;
            }
          }
        }
      }, i.prototype.getFixedRooms = function() {
        return this._fixedRooms.slice();
      }, i.prototype.getRooms = function() {
        return this._rooms.slice();
      }, i.prototype.scroll = function(e) {
      }, i.prototype.getRoom = function(e) {
        for (var t = e.rowFixed ? this._fixedRooms : this._rooms, o = t.length - 1; o >= 0; o--)
          if (t[o].contains(e))
            return t[o];
        return null;
      }, i.prototype.prepareCells = function(e, t) {
        if (e > 0) {
          for (var o = this._fixedCells, r = 0; r < o.length; r++)
            o[r] = vi;
          for (; o.length < e; )
            o.push(vi);
        }
        var n = this._cells;
        for (r = 0; r < n.length; r++)
          n[r] = vi;
        for (; n.length < t; )
          n.push(vi);
      }, i.prototype.refreshCells = function(e, t) {
        for (var o = this.getFixedRooms(), r = o.length - 1; r >= 0; r--) {
          var n = o[r];
          this.addFixedCells(n.head, n.tail - n.head + 1);
        }
        for (r = (o = this.getRooms()).length - 1; r >= 0; r--) {
          n = o[r];
          var s = Math.max(0, n.head - t - e), l = n.tail - t - e;
          this.addCells(s, l - s + 1);
        }
      }, i.prototype.addFixedCells = function(e, t) {
        for (var o = this._fixedCells, r = this._nextId++, n = e + 1; n < e + t; n++)
          o[n] = r + ii;
        return o[e] = r, r;
      }, i.prototype.addCells = function(e, t) {
        for (var o = this._cells, r = this._nextId++, n = e + 1; n < e + t; n++)
          o[n] = r + ii;
        return o[e] = r, r;
      }, i.prototype.isMerged = function(e, t) {
        return e < t ? this._fixedCells[e] > vi : this._cells[e - t] > vi;
      }, i.prototype.isMergeRoot = function(e, t) {
        return e < t ? this._fixedCells[e] > vi && this._fixedCells[e] < ii : (e -= t, this._cells[e] > vi && this._cells[e] < ii);
      }, i.prototype.isHidden = function(e, t) {
        return e < t ? this._fixedCells[e] >= ii : this._cells[e - t] >= ii;
      }, i.prototype.getMerged = function(e, t) {
        var o = 1;
        if (e < t)
          for (var r = (s = this._fixedCells)[e], n = e + 1; n < s.length && s[n] - ii == r; n++, o++)
            ;
        else {
          e -= t;
          var s;
          for (r = (s = this._cells)[e], n = e + 1; n < s.length && s[n] - ii == r; n++, o++)
            ;
        }
        return o;
      }, i.prototype.getMerged2 = function(e, t, o, r) {
        for (var n = this._cells, s = n[o], l = e.itemSource, h = l.getItem(t++), u = h.isData ? r : 1, c = o + 1; c < n.length && n[c] - ii == s; c++)
          u += (h = l.getItem(t++)).isData ? r : 1;
        return u;
      }, i.prototype.$_checkFixedMerge = function(e, t, o) {
        if (o > 0) {
          var r = t, n = this._flags[r];
          if (n <= 0)
            return null;
          for (var s = t + 1; s <= o; ) {
            if (s == o || this._flags[s] > n)
              return s > r + 1 ? Bo.createRange(r, s - 1) : null;
            s++;
          }
        }
        return null;
      }, i.prototype.$_checkMerge = function(e, t, o, r) {
        if (t >= 0) {
          var n = t, s = this._flags[n];
          if (e.getItem(n), s <= 0)
            return null;
          if (o)
            for (; n > r && !(this._flags[n - 1] < s); )
              n--;
          for (var l = e.itemCount, h = t + 1; h < l; ) {
            if (this._flags[h] > s || this._flags[h] <= 0)
              return h > n + 1 ? Bo.createRange(n, h - 1) : e.getItem(n).isDataRow ? null : Bo.createRange(n, h - 1);
            h++;
          }
          if (h > n)
            return h > n + 1 ? Bo.createRange(n, h - 1) : e.getItem(n).isDataRow ? null : Bo.createRange(n, h - 1);
        }
        return null;
      }, i.MERGE_ROOMS = "mergeRooms", i;
    }(J), wi = function() {
      function a(i, e) {
        i === void 0 && (i = 0), e === void 0 && (e = 0), this.x = i, this.y = e;
      }
      return a.empty = function() {
        return new a();
      }, a.create = function(i, e) {
        return i === void 0 && (i = 0), e === void 0 && (e = 0), new a(i, e);
      }, Object.defineProperty(a.prototype, "isEmpty", { get: function() {
        return this.x === 0 || this.y === 0;
      }, enumerable: !1, configurable: !0 }), a.prototype.clone = function() {
        return new a(this.x, this.y);
      }, a.prototype.equals = function(i) {
        return i === this || i && this.x === i.x && this.y === i.y;
      }, a.prototype.setEmpty = function() {
        return this.x = this.y = 0, this;
      }, a.prototype.set = function(i, e) {
        return this.x = i, this.y = e, this;
      }, a.prototype.round = function() {
        var i = this.clone();
        return i.x >>>= 0, i.y >>>= 0, i;
      }, a.prototype.toString = function() {
        return "{x: " + this.x + ", y: " + this.y + "}";
      }, a;
    }(), qt = function(a) {
      function i(e, t) {
        t === void 0 && (t = null);
        var o = a.call(this) || this;
        o._x = 0, o._y = 0, o._width = 0, o._height = 0, o._visible = !0, o._mouseEnabled = !0, o._elements = null, o._dirty = !0, o._className = "", o._name = t;
        var r = o._dom = o._createDom(e);
        return r && o._initDom(r), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        if (this._dom && (this._removeEventListeners(this._dom), b.detach(this._dom), this._dom = null), this._elements) {
          for (var e = 0, t = this._elements; e < t.length; e++)
            t[e].dispose();
          this._elements.length = 0;
        }
        this._parent = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "name", { get: function() {
        return this._name;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "container", { get: function() {
        return this._parent && this._parent.container;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "parent", { get: function() {
        return this._parent;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "childCount", { get: function() {
        return this._elements ? this._elements.length : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isSingleton", { get: function() {
        return this._parent && this._parent.childCount == 1 && this._parent._elements[0] === this;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "x", { get: function() {
        return this._x;
      }, set: function(e) {
        e != this._x && (this._x = e, this.invalidate());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "y", { get: function() {
        return this._y;
      }, set: function(e) {
        e != this._y && (this._y = e, this.invalidate());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "width", { get: function() {
        return this._width;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._width && (this._width = e, this.sizeChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "height", { get: function() {
        return this._height;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._height && (this._height = e, this.sizeChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "right", { get: function() {
        return this._x + this._width;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bottom", { get: function() {
        return this._y + this._height;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "position", { get: function() {
        return new wi(this._x, this._y);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bounds", { get: function() {
        return new ue(this._x, this._y, this._width, this._height);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "clientRect", { get: function() {
        return new ue(0, 0, this._width, this._height);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._visible;
      }, set: function(e) {
        e != this._visible && (this._visible = e, this._dom && (this._dom.style.display = this._visible ? this._getCssDisplay() : "none"), this.invalidate(!0), this._visibleChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mouseEnabled", { get: function() {
        return this._mouseEnabled;
      }, set: function(e) {
        this._mouseEnabled = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isLayer", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "clickable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mouseX", { get: function() {
        var e = this.container;
        if (e) {
          for (var t = e._currentX, o = this; o && o !== void 0; )
            t -= o._x, o = o._parent;
          return t;
        }
        return NaN;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mouseY", { get: function() {
        var e = this.container;
        if (e) {
          for (var t = e._currentY, o = this; o && o !== void 0; )
            t -= o._y, o = o._parent;
          return t;
        }
        return NaN;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "doc", { get: function() {
        return te(this._dom);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "style", { get: function() {
        return this._dom && this._dom.style;
      }, enumerable: !1, configurable: !0 }), i.prototype.isDom = function(e) {
        return e === this._dom;
      }, i.prototype.canHover = function() {
        return !0;
      }, i.prototype.getChildren = function() {
        return this._elements && this._elements.concat();
      }, i.prototype.getChild = function(e) {
        return this._elements[e];
      }, i.prototype.indexOf = function(e) {
        return this._elements ? this._elements.indexOf(e) : -1;
      }, i.prototype.contains = function(e) {
        return this._elements && this._elements.indexOf(e) >= 0;
      }, i.prototype.getAncestor = function(e) {
        for (var t = this._parent; t; ) {
          if (t instanceof e)
            return t;
          t = t._parent;
        }
        return null;
      }, i.prototype.addChild = function(e) {
        return this.insertChild(-1, e);
      }, i.prototype.insertChild = function(e, t) {
        if (t && !this.contains(t)) {
          var o = this._elements || [], r = t._dom;
          if (e < 0 || e >= o.length)
            this._dom && r && this._dom.appendChild(r), o.push(t);
          else {
            if (r) {
              var n = this._elements[e]._dom;
              this._dom && n && this._dom.insertBefore(r, n);
            }
            o.splice(e, 0, t);
          }
          return this._elements = o, t._parent = this, t.$_attached(this), this.invalidate(), !0;
        }
        return !1;
      }, i.prototype.removeChild = function(e) {
        if (e && this._elements) {
          var t = this._elements.indexOf(e);
          if (t >= 0)
            return this.removeChildAt(t) === e;
        }
        return !1;
      }, i.prototype.removeChildAt = function(e) {
        if (e >= 0 && e < this.childCount) {
          var t = this._elements[e];
          return this._elements.splice(e, 1), this._dom && t._dom && this._dom.removeChild(t._dom), t._parent = null, t._dirty = !1, t.$_detached(this), this.invalidate(), t;
        }
        return null;
      }, i.prototype.removeLast = function() {
        return this._elements && this._elements.length > 0 ? this.removeChildAt(this._elements.length - 1) : null;
      }, i.prototype.clear = function() {
        var e = this._elements;
        if ((e ? e.length : 0) > 0) {
          for (var t = 0, o = e; t < o.length; t++) {
            var r = o[t];
            r._parent = null, r.$_detached(this);
          }
          if (this._elements = [], this._dom)
            for (; this._dom.lastChild; )
              this._dom.removeChild(this._dom.lastChild);
          return this.invalidate(), !0;
        }
        return !1;
      }, i.prototype.hideAll = function() {
        if (this._elements)
          for (var e = 0, t = this._elements; e < t.length; e++)
            t[e].visible = !1;
      }, i.prototype.invalidate = function(e, t) {
        if (e === void 0 && (e = !1), t === void 0 && (t = !1), e || !this._dirty) {
          this._dirty = !0;
          var o = this.container;
          o && o.invalidateElement(this);
        }
        if (t && this._elements)
          for (var r = 0, n = this._elements; r < n.length; r++)
            n[r].invalidate(e, !0);
      }, i.prototype.validate = function() {
        this._dirty = !1;
      }, i.prototype.invalidateLayout = function() {
        var e = this.container;
        e && e.invalidateLayout();
      }, i.prototype.getBounds = function(e) {
        return e === void 0 && (e = null), e ? e.set(this._x, this._y, this._width, this._height) : new ue(this._x, this._y, this._width, this._height);
      }, i.prototype.getClientRect = function(e) {
        return e === void 0 && (e = null), e ? e.set(0, 0, this._width, this._height) : new ue(0, 0, this._width, this._height);
      }, i.prototype.containsInBounds = function(e, t) {
        return e >= this._x && e < this._x + this._width && t >= this._y && t < this._y + this._height;
      }, i.prototype.containsInClient = function(e, t) {
        return e >= 0 && e < this._width && t >= 0 && t < this._height;
      }, i.prototype.parentToElement = function(e, t, o) {
        for (var r = this; r && r != e; )
          t -= r._x, o -= r._y, r = r._parent;
        return new wi(t, o);
      }, i.prototype.translateBy = function(e, t) {
        t === void 0 && (t = null);
        var o = e;
        for (t || (t = new ue(0, 0, this._width, this._height)); o && o !== this; )
          t.x -= o._x, t.y -= o._y, o = o._parent;
        return t;
      }, i.prototype.topBy = function(e, t) {
        for (var o = this._y + t, r = this._parent; r && r !== e; )
          o += r._y, r = r._parent;
        return o;
      }, i.prototype.boundsBy = function(e, t) {
        t === void 0 && (t = null);
        var o = this._x, r = this._y, n = this._parent;
        for (t && (o += t.x, r += t.y); n && n !== e; )
          o += n._x, r += n._y, n = n._parent;
        return t ? new ue(o, r, t.width, t.height) : new ue(o, r, this._width, this._height);
      }, i.prototype.boundsByContainer = function(e) {
        e === void 0 && (e = null);
        var t = this._x, o = this._y;
        e && (t += e.x, o += e.y);
        for (var r = this._parent; r && r._x !== void 0; )
          t += r._x, o += r._y, r = r._parent;
        return e ? new ue(t, o, e.width, e.height) : new ue(t, o, this._width, this._height);
      }, i.prototype.pointByContainer = function(e, t) {
        for (var o = this._parent; o && o._x !== void 0; )
          e += o._x, t += o._y, o = o._parent;
        return new wi(e + this._x, t + this._y);
      }, i.prototype.containerToElement = function(e, t) {
        for (var o = this; o; )
          e -= o._x, t -= o._y, o = o._parent;
        return new wi(e, t);
      }, i.prototype.boundsByScreen = function(e) {
        return e === void 0 && (e = null), e = this.boundsByContainer(e), e = this.container.toScreen(e);
      }, i.prototype.hitTest = function(e, t) {
        return e >= 0 && e < this._width && t >= 0 && t < this._height;
      }, i.prototype.findChildAt = function(e, t, o) {
        var r = this._elements, n = r ? r.length : 0;
        if (n > 0)
          for (var s = n - 1; s >= 0; s--) {
            var l = r[s];
            if (l.visible) {
              var h = e - l._x, u = t - l._y;
              if ((o || l._mouseEnabled) && (l.isLayer || l.hitTest(h, u))) {
                var c = l.findChildAt(h, u, o);
                if (c)
                  return c;
                if (!l.isLayer && l._mouseEnabled)
                  return l;
              }
            }
          }
        return null;
      }, i.prototype.move = function(e, t) {
        e == this._x && t == this._y || (this._x = e, this._y = t, this.invalidate());
      }, i.prototype.resize = function(e, t) {
        e == this._width && t == this._height || (this._width = e, this._height = t, this.invalidate());
      }, i.prototype.setBounds = function(e, t, o, r) {
        e == this._x && t == this._y && o == this._width && r == this._height || (this._x = e, this._y = t, this._width = o, this._height = r, this.sizeChanged());
      }, i.prototype.setBoundsI = function(e, t, o, r) {
        t >>= 0, o >>= 0, r >>= 0, (e >>= 0) == this._x && t == this._y && o == this._width && r == this._height || (this._x = e, this._y = t, this._width = o, this._height = r, this.sizeChanged());
      }, i.prototype.setRect = function(e) {
        e.x == this._x && e.y == this._y && e.width == this._width && e.height == this._height || (this._x = e.x, this._y = e.y, this._width = e.width, this._height = e.height, this.sizeChanged());
      }, i.prototype.setRectI = function(e) {
        var t = e.x >> 0, o = e.y >> 0, r = e.width >> 0, n = e.height >> 0;
        t == this._x && o == this._y && r == this._width && n == this._height || (this._x = t, this._y = o, this._width = r, this._height = n, this.sizeChanged());
      }, i.prototype.draw = function() {
        this._dirty && this._dom && (this._beforeDraw(this._dom), this._doDraw(this._dom), this._dirty = !1);
      }, i.prototype.resetSize = function() {
        this._dom && this._setSizeStyle(this._dom.style);
      }, i.prototype.getHtml = function() {
        return this._dom && this._dom.outerHTML;
      }, i.prototype.setImportantStyle = function(e, t) {
        this._dom.style.setProperty(e, t, "important");
      }, i.prototype._createDom = function(e) {
        return e.createElement("div");
      }, i.prototype._initDom = function(e) {
        var t = e.style;
        t.position = "absolute", t.boxSizing = "border-box", this._addEventListeners(e);
      }, i.prototype._addEventListeners = function(e) {
      }, i.prototype._removeEventListeners = function(e) {
      }, i.prototype.$_attached = function(e) {
        this._doAttached(e);
      }, i.prototype._doAttached = function(e) {
      }, i.prototype.$_detached = function(e) {
        this._doDetached(e);
      }, i.prototype._doDetached = function(e) {
      }, i.prototype._setSizeStyle = function(e) {
        e.width = this._width + "px", e.height = this._height + "px";
      }, i.prototype._getCssDisplay = function() {
        return "block";
      }, i.prototype.resetStyleName = function() {
        this._setClassName(this._dom);
      }, i.prototype._setClassName = function(e) {
        var t = this._getCssSelector();
        t != this._className && (this._className = t, (e || this._dom).className = t || "");
      }, i.prototype.applyBounds = function() {
        var e = this._dom.style;
        e.left = this._x + "px", e.top = this._y + "px", this._setSizeStyle(e);
      }, i.prototype._beforeDraw = function(e) {
        this._setClassName(e);
        var t = e.style;
        t.left = this._x + "px", t.top = this._y + "px", this._setSizeStyle(t);
      }, i.prototype._hoverChanged = function() {
      }, i.prototype._visibleChanged = function() {
      }, i.prototype.sizeChanged = function() {
        this.invalidate(), this._doSizeChanged();
      }, i.prototype._doSizeChanged = function() {
      }, i;
    }(Be), Ve = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "isLayer", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
      }, i.prototype._doDraw = function(e) {
      }, i;
    }(qt), Od = function(a) {
      function i(e, t) {
        t === void 0 && (t = !1);
        var o = a.call(this, e) || this;
        return o._active = t, o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "active", { get: function() {
        return this._active;
      }, enumerable: !1, configurable: !0 }), i;
    }(Ve);
    f.SelectionMode = void 0, (Kn = f.SelectionMode || (f.SelectionMode = {})).NONE = "none", Kn.SINGLE = "single", Kn.EXTENDED = "extended", f.SelectionStyle = void 0, (bi = f.SelectionStyle || (f.SelectionStyle = {})).BLOCK = "block", bi.GROUP = "group", bi.ROWS = "rows", bi.COLUMNS = "columns", bi.SINGLE_ROW = "singleRow", bi.SINGLE_COLUMN = "singleColumn", bi.SINGLE = "single", bi.NONE = "none", f.SelectionDisplay = void 0, (Xn = f.SelectionDisplay || (f.SelectionDisplay = {})).CELL = "cell", Xn.CELL_AND_BORDER = "cellAndBorder", Xn.MASK = "mask";
    var fl, Jn, vr, Mi = function(a) {
      return a == f.SelectionStyle.SINGLE_ROW || a == f.SelectionStyle.SINGLE_COLUMN || a == f.SelectionStyle.SINGLE;
    }, No = function(a) {
      var i = a && a.style;
      return i == f.SelectionStyle.ROWS || i == f.SelectionStyle.SINGLE_ROW;
    }, Zn = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._manager = e, o._runStyle = t, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._manager && this._manager.grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "runStyle", { get: function() {
        return this._runStyle;
      }, enumerable: !1, configurable: !0 }), i.prototype.setValues = function(e) {
        var t = this.grid.dataSource, o = this._getRows(), r = this.grid, n = {};
        if (o && o.rows && o.rows.length > 0 && o.fields && o.fields.length > 0) {
          for (var s = 0; s < o.rows.length; s++) {
            for (var l = [], h = 0; h < o.fields.length; h++)
              r.getWritable(r.getItemIndexOfRow(o.rows[s]), r.columnByField(o.fields[h])) && l.push(o.fields[h]);
            l.length && (n[o.rows[s]] = l.slice());
          }
          t.fillValue(n, e);
        }
      }, i.prototype.inflate = function(e, t) {
        switch (e) {
          case "left":
            this._inflateLeft(t);
            break;
          case "right":
            this._inflateRight(t);
            break;
          case "top":
            this._inflateTop(t);
            break;
          case "bottom":
            this._inflateBottom(t);
        }
      }, i.prototype.getItems = function(e) {
        e === void 0 && (e = !0);
        for (var t = this.grid, o = [], r = this.getBounds(), n = r.top, s = r.bottom, l = n; l <= s; l++) {
          var h = t.getItem(l);
          h && (!e || h.dataRow >= 0) && o.push(h);
        }
        return o;
      }, i.prototype.getItemIndices = function(e) {
        e === void 0 && (e = !0);
        for (var t = this.grid, o = [], r = this.getBounds(), n = r.top, s = r.bottom, l = n; l <= s; l++) {
          var h = t.getItem(l);
          h && (!e || h.dataRow >= 0) && o.push(h.index);
        }
        return o;
      }, i.prototype.getRows = function() {
        for (var e = this.grid, t = [], o = this.getBounds(), r = o.top, n = o.bottom, s = r; s <= n; s++) {
          var l = e.getItem(s);
          if (l && l.dataRow >= 0) {
            var h = l.dataRow;
            h >= 0 && t.push(h);
          }
        }
        return t;
      }, i.prototype._resized = function() {
        this._manager && this._manager.$_itemResized(this);
      }, i.prototype.toProxy = function() {
        var e = this.grid, t = this.getBounds(), o = e.getItem(t.r1), r = e.getItem(t.r2);
        return { style: this.style, startItem: t.r1, startRow: o ? o.dataRow : -1, startColumn: t.c1.firstColumn.name, endItem: t.r2, endRow: r ? r.dataRow : -1, endColumn: t.c2.lastColumn.name, startLayout: t.c1, endLayout: t.c2 };
      }, Object.defineProperty(i.prototype, "startItem", { get: function() {
        return this.getBounds().r1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startRow", { get: function() {
        var e = this.grid.getItem(this.getBounds().r1);
        return e ? e.dataRow : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startColumn", { get: function() {
        return this.getBounds().c1.firstColumn.name;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "endItem", { get: function() {
        return this.getBounds().r2;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "endRow", { get: function() {
        var e = this.grid.getItem(this.getBounds().r2);
        return e ? e.dataRow : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "endColumn", { get: function() {
        return this.getBounds().c2.firstColumn.name;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startLayout", { get: function() {
        return this.getBounds().c1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "endLayout", { get: function() {
        return this.getBounds().c2;
      }, enumerable: !1, configurable: !0 }), i;
    }(J), Rd = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._items = [], t._locked = !1, t._grid = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, this._items = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exclusiveMode", { get: function() {
        return this._grid.displayOptions.selectionMode !== f.SelectionMode.EXTENDED;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "single", { get: function() {
        return this._items.length == 1 && this._items[0].single;
      }, enumerable: !1, configurable: !0 }), i.prototype.lock = function() {
        this._locked = !0;
      }, i.prototype.unlock = function() {
        this._locked = !1;
      }, i.prototype.getItem = function(e) {
        return this._items[e];
      }, i.prototype.getItems = function() {
        return this._items.slice();
      }, i.prototype.lastItem = function() {
        return this._items[this._items.length - 1];
      }, i.prototype.add = function(e, t, o) {
        if (this._locked)
          return null;
        if (o == f.SelectionStyle.NONE)
          return this.clear(), null;
        this.exclusiveMode && this.clear();
        var r = null;
        switch (o) {
          case f.SelectionStyle.COLUMNS:
            r = new Ci(this, o, e.layout, t.layout);
            break;
          case f.SelectionStyle.SINGLE_COLUMN:
            r = new Ci(this, o, e.layout, e.layout);
            break;
          case f.SelectionStyle.ROWS:
            r = new Kt(this, o, e.itemIndex, t.itemIndex);
            break;
          case f.SelectionStyle.SINGLE_ROW:
            r = new Kt(this, o, e.itemIndex, e.itemIndex);
            break;
          case f.SelectionStyle.BLOCK:
            r = new oi(this, o, e, t);
            break;
          case f.SelectionStyle.GROUP:
            (e = e.clone()).layout = e.layout.root.first, (t = t.clone()).layout = t.layout.root.last.source, r = new oi(this, o, e, t);
            break;
          case f.SelectionStyle.SINGLE:
            r = new oi(this, o, e, e);
        }
        return r && this.$_addItem(r);
      }, i.prototype.remove = function(e) {
        if (!this._locked) {
          var t = this._items.indexOf(e);
          t >= 0 && (this._items.splice(t, 1), this.fireEvent(i.REMOVED, e), this._changed());
        }
      }, i.prototype.clear = function() {
        this._locked || this._items.length > 0 && (this._items.length = 0, this.fireEvent(i.CLEARED));
      }, i.prototype.selectBlock = function(e, t) {
        t && this.clear(), this.containsCell(e) || this.$_addItem(new oi(this, f.SelectionStyle.BLOCK, e, e));
      }, i.prototype.selectRow = function(e, t) {
        t && this.clear(), this.containsItem(e, Kt) || this.$_addItem(new Kt(this, f.SelectionStyle.ROWS, e, e));
      }, i.prototype.containsItem = function(e, t) {
        for (var o = 0, r = this._items.length; o < r; o++) {
          var n = this._items[o];
          if ((!t || n instanceof t) && n.containsItem(e))
            return !0;
        }
        return !1;
      }, i.prototype.containsLayout = function(e) {
        for (var t = 0, o = this._items.length; t < o; t++)
          if (this._items[t].containsLayout(e))
            return !0;
        return !1;
      }, i.prototype.containsCell = function(e) {
        return this.contains(e.itemIndex, e.layout);
      }, i.prototype.contains = function(e, t) {
        for (var o = 0, r = this._items.length; o < r; o++)
          if (this._items[o].contains(e, t))
            return !0;
        return !1;
      }, i.prototype.normalize = function() {
      }, i.prototype.canResize = function(e) {
        return e && !Mi(e._runStyle);
      }, i.prototype._changed = function(e) {
        this.fireEvent(i.CHANGED, e);
      }, i.prototype.$_addItem = function(e) {
        if (!e)
          throw new Error("item is null");
        return this._items.indexOf(e) < 0 && (this._items.push(e), this.fireEvent(i.ADDED, e), this._changed(e)), e;
      }, i.prototype.$_itemResized = function(e) {
        this.fireEvent(i.RESIZED, e), this._changed(e);
      }, i.prototype.$_ended = function(e) {
        this.fireEvent(i.ENDED, e);
      }, i.CHANGED = "onSelectionChanged", i.ADDED = "onSelectionAdded", i.REMOVED = "onSelectionRemoved", i.CLEARED = "onSelectionCleared", i.RESIZED = "onSelectionResized", i.ENDED = "onSelectionEnded", i;
    }(Be), oi = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e, t) || this;
        return n._startIndex = o.clone(), n._endIndex = r.clone(), b.isDebugging() && n._startIndex.layout, b.isDebugging() && n._endIndex.layout, n;
      }
      return w(i, a), Object.defineProperty(i.prototype, "startIndex", { get: function() {
        return this._startIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "endIndex", { get: function() {
        return this._endIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "style", { get: function() {
        return this._runStyle || f.SelectionStyle.BLOCK;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "single", { get: function() {
        return W.areEquals(this._startIndex, this._endIndex);
      }, enumerable: !1, configurable: !0 }), i.prototype.getBounds = function() {
        var e = this.grid;
        this._startIndex.normalize(e), this._endIndex.normalize(e);
        var t = this._startIndex.clone(), o = this._endIndex.clone();
        if (this._runStyle === f.SelectionStyle.GROUP && (t.layout.root.vindex > o.layout.root.vindex && (t = this._endIndex.clone(), o = this._startIndex.clone()), t.layout = t.layout.root.first, o.layout = o.layout.root.last), W.areEquals(t, o))
          return Ot.create(t);
        var r = e.activeCellLayout._dataCells, n = t.layout, s = o.layout, l = void 0, h = void 0;
        return n.col <= s.col ? (l = r[0][n.col], h = r[r.length - 1][s.col]) : (l = r[0][s.col], h = r[r.length - 1][n.col]), Ot.createRange(t.itemIndex, l, o.itemIndex, h);
      }, i.prototype.containsItem = function(e) {
        var t = Math.min(this._startIndex.itemIndex, this._endIndex.itemIndex), o = Math.max(this._startIndex.itemIndex, this._endIndex.itemIndex);
        return e >= t && e <= o;
      }, i.prototype.containsLayout = function(e) {
        if (!e)
          return !1;
        if (this.single)
          return this._startIndex.layout === e;
        var t = e.distance, o = this._startIndex.layout.distance, r = this._endIndex.layout.distance;
        return o < r ? t >= o && t <= r : t >= r && t <= o;
      }, i.prototype.contains = function(e, t) {
        return this.getBounds().contains(e, t);
      }, i.prototype.resizeTo = function(e) {
        var t = this.grid, o = t.displayOptions;
        t.isValid(e) && !W.areEquals(e, this._endIndex) && (o.selectAtSingleRow && (e.itemIndex = this.startItem), this._endIndex.assign(e), this._resized());
      }, i.prototype.moveRow = function(e) {
        this._startIndex.itemIndex += e, this._endIndex.itemIndex += e;
      }, i.prototype.intersectsWith = function(e) {
        return this.getBounds().intersectsWith(e.getBounds());
      }, i.prototype.mergeWith = function(e) {
      }, i.prototype.getData = function(e) {
        if (e === void 0 && (e = -1), e == 0)
          return null;
        var t, o = this.grid, r = this.getBounds(), n = this.single ? [r.c1.boundColumn] : o.collectDataColumns(r.c1, r.c2);
        if (!n || (t = n.length) < 1)
          return null;
        for (var s = r.r1, l = r.r2, h = [], u = s; u <= l; u++) {
          var c = o.getItem(u);
          if (c && c.isDataRow) {
            var d = {};
            d.__rowId = c.dataRow;
            for (var p = 0; p < t; p++) {
              var _ = n[p];
              d[_.fieldName] = c.getData(_.dataIndex);
            }
            if (h.push(d), e > 0 && h.length == e)
              break;
          }
        }
        return h;
      }, i.prototype._inflateLeft = function(e) {
        this._startIndex.layout.distance <= this._endIndex.layout.distance ? e.layout !== this._startIndex.layout && (this._startIndex.layout = e.layout, this._resized()) : e.layout !== this._endIndex.layout && (this._endIndex.layout = e.layout, this._resized());
      }, i.prototype._inflateRight = function(e) {
        this._startIndex.layout.distance > this._endIndex.layout.distance ? e.layout !== this._startIndex.layout && (this._startIndex.layout = e.layout, this._resized()) : e.layout !== this._endIndex.layout && (this._endIndex.layout = e.layout, this._resized());
      }, i.prototype._inflateTop = function(e) {
        var t = this.grid, o = Math.max(0, Math.min(t.itemCount - 1, e.itemIndex));
        this._startIndex.itemIndex <= this._endIndex.itemIndex ? o !== this._startIndex.itemIndex && (this._startIndex.itemIndex = o, this._resized()) : o !== this._endIndex.itemIndex && (this._endIndex.itemIndex = o, this._resized());
      }, i.prototype._inflateBottom = function(e) {
        var t = this.grid, o = Math.max(0, Math.min(t.itemCount - 1, e.itemIndex));
        this._startIndex.itemIndex > this._endIndex.itemIndex ? o !== this._startIndex.itemIndex && (this._startIndex.itemIndex = o, this._resized()) : o !== this._endIndex.itemIndex && (this._endIndex.itemIndex = o, this._resized());
      }, i.prototype._getRows = function() {
        var e = this.grid, t = e.collectDataColumns(this._startIndex.layout, this._endIndex.layout);
        if (t && !(t.length < 1)) {
          for (var o = Math.min(this._startIndex.itemIndex, this._endIndex.itemIndex), r = Math.max(this._startIndex.itemIndex, this._endIndex.itemIndex), n = [], s = [], l = o; l <= r; l++)
            n.push(e.getItem(l).dataRow);
          for (var h = 0, u = t; h < u.length; h++) {
            var c = u[h];
            s.push(c.dataIndex);
          }
          return { rows: n, fields: s };
        }
      }, i.prototype.toString = function() {
        return this._startIndex + " ~ " + this._endIndex;
      }, i;
    }(Zn), Kt = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e, t) || this;
        return n._startRow = o, n._endRow = r, n;
      }
      return w(i, a), Object.defineProperty(i.prototype, "startRow", { get: function() {
        return this._startRow;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "endRow", { get: function() {
        return this._endRow;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topRow", { get: function() {
        return Math.min(this._startRow, this._endRow);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bottomRow", { get: function() {
        return Math.max(this._startRow, this._endRow);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "style", { get: function() {
        return this._runStyle || f.SelectionStyle.ROWS;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "single", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), i.prototype.getBounds = function() {
        var e = this.grid, t = e.itemCount;
        return this._startRow = Math.max(0, Math.min(t - 1, this._startRow)), this._endRow = Math.max(0, Math.min(t - 1, this._endRow)), this._startRow <= this._endRow ? Ot.createRange(this._startRow, e.activeCellLayout.first, this._endRow, e.activeCellLayout.last) : Ot.createRange(this._endRow, e.activeCellLayout.first, this._startRow, e.activeCellLayout.last);
      }, i.prototype.contains = function(e, t) {
        return this.containsItem(e);
      }, i.prototype.containsItem = function(e) {
        return e >= this.topRow && e <= this.bottomRow;
      }, i.prototype.containsLayout = function(e) {
        return !0;
      }, i.prototype.resizeTo = function(e) {
        var t = Math.max(0, e.itemIndex);
        t != this._endRow && (this._endRow = Math.max(0, Math.min(this.grid.itemCount - 1, t)), this._resized());
      }, i.prototype.moveRow = function(e) {
        this._startRow += e, this._endRow += e;
      }, i.prototype.intersectsWith = function(e) {
        return this.getBounds().intersectsWith(e.getBounds());
      }, i.prototype.mergeWith = function(e) {
      }, i.prototype.getData = function(e) {
        if (e === void 0 && (e = -1), e == 0)
          return null;
        var t = this.grid, o = t.collectDataColumns(t.getVisibleLayout(0), t.getVisibleLayout(t.visibleLayoutCount - 1));
        if (!o)
          return null;
        var r = o.length;
        if (r < 1)
          return null;
        for (var n = Math.max(0, Math.min(this._startRow, this._endRow)), s = Math.min(t.itemCount - 1, Math.max(this._startRow, this._endRow)), l = [], h = n; h <= s; h++) {
          var u = t.getItem(h);
          if (u && u.isDataRow) {
            var c = {};
            c.__rowId = u.dataRow;
            for (var d = 0; d < r; d++) {
              var p = o[d];
              c[p.fieldName] = u.getData(p.dataIndex);
            }
            if (l.push(c), e > 0 && l.length == e)
              break;
          }
        }
        return l;
      }, i.prototype._inflateLeft = function(e) {
      }, i.prototype._inflateRight = function(e) {
      }, i.prototype._inflateTop = function(e) {
        var t = e.itemIndex;
        t != this.topRow && (this._startRow <= this._endRow ? this._startRow = Math.max(0, Math.min(this.grid.itemCount - 1, t)) : this._endRow = Math.max(0, Math.min(this.grid.itemCount - 1, t)), this._resized());
      }, i.prototype._inflateBottom = function(e) {
        var t = e.itemIndex;
        t != this.bottomRow && (this._startRow > this._endRow ? this._startRow = Math.max(0, Math.min(this.grid.itemCount - 1, t)) : this._endRow = Math.max(0, Math.min(this.grid.itemCount - 1, t)), this._resized());
      }, i.prototype._getRows = function() {
        var e = this.grid, t = e.activeCellLayout, o = e.collectDataColumns(t.first, t.last);
        if (o && !(o.length < 1)) {
          for (var r = Math.max(0, Math.min(this._startRow, this._endRow)), n = Math.min(e.itemCount - 1, Math.max(this._startRow, this._endRow)), s = [], l = [], h = r; h <= n; h++)
            s.push(e.getItem(h).dataRow);
          for (var u = 0, c = o; u < c.length; u++) {
            var d = c[u];
            l.push(d.dataIndex);
          }
          return { rows: s, fields: l };
        }
      }, i;
    }(Zn), Ci = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e, t) || this;
        return n._startLayout = o, n._endLayout = r, n;
      }
      return w(i, a), Object.defineProperty(i.prototype, "startLayout", { get: function() {
        return this._startLayout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "endLayout", { get: function() {
        return this._endLayout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "leftLayout", { get: function() {
        return this._startLayout.col <= this._endLayout.col ? this._startLayout : this._endLayout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightLayout", { get: function() {
        return this._startLayout.col > this._endLayout.col ? this._startLayout : this._endLayout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "style", { get: function() {
        return this._runStyle || f.SelectionStyle.COLUMNS;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "single", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), i.prototype.getBounds = function() {
        var e = this.grid.activeCellLayout, t = this._startLayout, o = this._endLayout;
        if (t.col > o.col) {
          var r = t;
          t = o, o = r;
        }
        t = e.getTopOf(t), o = e.getBottomOf(o, !0);
        var n = this.grid.itemCount - 1;
        return Ot.createRange(0, t, n, o);
      }, i.prototype.contains = function(e, t) {
        return this.containsLayout(t);
      }, i.prototype.containsItem = function(e) {
        return !0;
      }, i.prototype.containsLayout = function(e) {
        return e.col >= this.leftLayout.col && e.col <= this.rightLayout.col;
      }, i.prototype.resizeTo = function(e) {
        e.layout !== this._endLayout && (this._endLayout = e.layout, this._resized());
      }, i.prototype.moveRow = function(e) {
      }, i.prototype.intersectsWith = function(e) {
        return this.getBounds().intersectsWith(e.getBounds());
      }, i.prototype.mergeWith = function(e) {
      }, i.prototype.getData = function(e) {
        if (e === void 0 && (e = -1), e == 0)
          return null;
        var t = this.grid, o = t.collectDataColumns(this._startLayout, this._endLayout);
        if (!o)
          return null;
        for (var r = t.itemCount, n = [], s = 0; s < r; s++) {
          var l = t.getItem(s);
          if (l && l.isDataRow) {
            var h = {};
            h.__rowId = l.dataRow;
            for (var u = 0, c = o.length; u < c; u++)
              h[o[u].fieldName] = l.getData(o[u].dataIndex);
            if (n.push(h), e > 0 && n.length == e)
              break;
          }
        }
        return n;
      }, i.prototype._inflateLeft = function(e) {
        var t = e.layout;
        t !== this.leftLayout && (this._startLayout.distance <= this._endLayout.distance ? this._startLayout = t : this._endLayout = t, this._resized());
      }, i.prototype._inflateRight = function(e) {
        var t = e.layout;
        t !== this.rightLayout && (this._startLayout.distance > this._endLayout.distance ? this._startLayout = t : this._endLayout = t, this._resized());
      }, i.prototype._inflateTop = function(e) {
      }, i.prototype._inflateBottom = function(e) {
      }, i.prototype._getRows = function() {
        var e = this.grid, t = e.collectDataColumns(this._startLayout, this._endLayout);
        if (t) {
          for (var o = e.itemCount, r = [], n = [], s = 0; s < o; s++)
            r.push(e.getItem(s).dataRow);
          for (var l = 0, h = t; l < h.length; l++) {
            var u = h[l];
            n.push(u.dataIndex);
          }
          return { rows: r, fields: n };
        }
      }, i;
    }(Zn), Pd = function(a) {
      function i(e) {
        return a.call(this, e, "selectionView") || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-selection";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none");
      }, i;
    }(Ve), _l = function(a) {
      function i(e) {
        var t = a.call(this, e, "selectionMask") || this;
        return t._toped = !1, t._bottomed = !1, t._lefted = !1, t._righted = !1, t._view = new Pd(e), t.addChild(t._view), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "item", { get: function() {
        return this._item;
      }, enumerable: !1, configurable: !0 }), i.prototype.prepare = function() {
        this._toped = this._bottomed = this._lefted = this._righted = !1;
      }, i.prototype.updateElement = function() {
        var e = 0, t = 0, o = this.width, r = this.height;
        this._lefted && (e -= 10, o += 10), this._righted && (o += 10), this._toped && (t -= 10, r += 10), this._bottomed && (r += 10), this._view.setBounds(e, t, o, r);
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("overflow", "hidden"), this.setImportantStyle("pointer-events", "none");
      }, i;
    }(Ve), gl = function(a) {
      function i(e, t) {
        var o = a.call(this, e.doc, t) || this;
        return o._pool = [], o._views = {}, o._rangeRect = new ue(), o._grid = e, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.addView = function(e) {
        var t = e.$_hash, o = this._views[t];
        return o || (o = this._pool.pop() || new _l(this.doc), this._views[t] = o), o._item = e, this.addChild(o), o;
      }, i.prototype.removeView = function(e) {
        var t = e.$_hash, o = this._views[t];
        o && (this.removeChild(o), this._pool.push(o), delete this._views[t]);
      }, i.prototype.clearViews = function() {
        for (var e in this._views) {
          var t = this._views[e];
          this.removeChild(t), this._pool.push(t);
        }
        this._views = {};
      }, i.prototype.layout = function() {
        var e = this._grid.layoutManager, t = new ue(), o = Object.keys(this._views);
        for (var r in this._views) {
          var n = this._views[r], s = n.item, l = !1;
          if (!(o.length === 1 && s.single && W.areEquals(s._startIndex, this._grid.focusedIndex)) && (n.prepare(), s instanceof Kt ? (l = this.$_getSelectionRowsRect(e, s, n, t), n._lefted = !0, n._righted = !0) : s instanceof Ci ? (l = this.$_getSelectionColumnsRect(e, s, n, t), n._toped = !0, n._bottomed = !0) : l = this.$_getSelectionRangeRect(e, s, n, t), l)) {
            var h = e.contentBounds.y + e.footerBounds.y;
            t.bottom > h && (n._bottomed = !0, t.bottom = h);
          }
          n.visible = l, n.visible && (n.setRectI(t), n.updateElement(), n.invalidate());
        }
      }, i.prototype.$_getSelectionRowsRect = function(e, t, o, r) {
        var n, s, l = this._grid, h = t.getBounds(), u = h.r1, c = h.r2, d = e.itemCount, p = e.fixedItemCount, _ = l.topIndex;
        if (p > 0) {
          if (u >= _ + p + d || c < 0 || u >= p && c < _ + p)
            return !1;
          var g = e.fixedHeight + l.fixedOptions.rowBarHeight;
          u < p ? n = e.getTableItemBounds(Math.max(0, u)) : ((n = e.getTableItemBounds(Math.max(0, u - _))).y < g && (o._toped = !0), n.y = Math.max(n.y, g)), c < p ? s = e.getTableItemBounds(c) : u <= p && c < p + _ ? s = e.getTableItemBounds(Math.min(p + _, p) - 1) : c >= _ ? (s = e.getTableItemBounds(Math.min(e.itemCount + p - 1, c - _))).y = Math.max(s.y, g) : s = n;
        } else {
          if (!(d > 0) || u >= _ + d || c < _)
            return !1;
          g = u - _, n = e.getTableItemBounds(Math.max(0, g)), s = e.getTableItemBounds(Math.min(d - 1, c - _)), g < 0 && (o._toped = !0);
        }
        return r.copy(n.union(s)), r.offset(e.fixedContentBounds.x, e.contentBounds.y + e.bodyBounds.y), r.right = e.rightLayoutCount > 0 ? e.rightContentBounds.right : e.contentBounds.right, !0;
      }, i.prototype.$_getSelectionColumnsRect = function(e, t, o, r, n) {
        var s = this._grid, l = t.getBounds(), h = e.fixedLayoutCount, u = e.rightLayoutCount;
        e.rightFirstLayout;
        var c = l.c1.col, d = l.c2.col;
        s.fixedOptions.colBarWidth;
        var p = e.getDataRect(l.c1), _ = e.getDataRect(l.c2);
        if (r.left = Math.min(p.x, _.x), r.right = Math.max(p.right, _.right), r.y = e.contentBounds.y + e.headerBounds.bottom + e.summaryBounds.height, r.height = Math.min(e.dataBounds.height, e.footerBounds.y), n && n.copy(r), c >= h) {
          var g = e.fixedContentBounds.right;
          r.x < g && (o._lefted = !0, r.left = Math.max(r.left, g)), r.right < g && (o._righted = !0, r.width = 0);
        }
        if (u > 0) {
          var y = e.rightFirstLayout, m = e.rightContentBounds;
          r.left > m.left ? r.width = 0 : d < y && r.right >= e.rightContentBounds.left && (r.right = Math.min(r.right, e.rightContentBounds.x), o._righted = !0);
        }
        return !0;
      }, i.prototype.$_getSelectionRangeRect = function(e, t, o, r, n) {
        var s = this._rangeRect;
        return !!this.$_getSelectionRowsRect(e, t, o, s) && (r.y = s.y, r.bottom = s.bottom, this.$_getSelectionColumnsRect(e, t, o, s, n), r.x = s.x, r.right = s.right, n && (n.y = r.y, n.height = r.height), !0);
      }, i;
    }(Ve), Qn = function() {
      function a(i) {
        this._format = i, this._reader = pi.getReader(i), this._writer = Ne.getFormatter(i), a.validateDateFormat(i);
      }
      return a.getConverter = function(i) {
        var e = a.Formatters;
        if (e[i])
          return e[i];
        var t = new a(i);
        return e[i] = t;
      }, a.validateDateFormat = function(i) {
        if (i = i && i.trim()) {
          var e = i.indexOf("a") >= 0 || i.indexOf("A") >= 0;
          if (e && i.indexOf("H") >= 0)
            throw "Invalid datetime read format - 'H'와 'a'가 같이 존재할 수 없습니다: " + i;
          if (i.indexOf("h") >= 0 && !e)
            throw "Invalid datetime read format - 'h'가 있으면 'a'가 반드시 있어야 합니다: " + i;
        }
      }, Object.defineProperty(a.prototype, "format", { get: function() {
        return this._format;
      }, enumerable: !1, configurable: !0 }), a.prototype.getDate = function(i) {
        return this._reader.toDate(i, !0);
      }, a.prototype.getDateNull = function(i) {
        try {
          return this.getDate(i);
        } catch {
          return b.log("getDateNull Fail string => ".concat(i)), null;
        }
      }, a.prototype.getText = function(i) {
        return this._writer.getText(i);
      }, a.DEFAULT_FORMAT = "yyyy/MM/dd", a.Formatters = {}, a.Default = a.getConverter(a.DEFAULT_FORMAT), a;
    }(), wr = b.isSafari ? 1 : 0, $e = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        if (o._textCase = f.TextInputCase.DEFAULT, o._readOnly = !1, o._textReadOnly = !1, o._allowEmpty = !1, o._isMobile = b.isMobile(), o._isTablet = b.isTablet(), o._started = !1, o._dateConverter = Qn.Default, o._boolConverter = di.Default, o._cellBounds = new ue(), o._checkHangeul = !1, o._composing = !1, o._grid = e, o._options = e.editorOptions, o._parentElement = t, o._editor = o._createEditor(t), o._editor.className = i.EDITOR_CSS + o._getInputSelector(), o._container && (o._container.className = i.CONTAINER_CSS), o._editor.$_owner = o, o._editIndex = e.getIndex(), o._editor) {
          var r = e.container;
          r.$_addListener(o._editor, "focus", function(n) {
            this._grid.$_setEditFocused(!0, n);
          }.bind(o), !1), r.$_addListener(o._editor, "focusin", function(n) {
            this._grid.$_setEditFocused(!0, n);
          }.bind(o), !1), r.$_addListener(o._editor, "blur", function(n) {
            this._grid.$_setEditFocused(!1, n);
          }.bind(o), !1), r.$_addListener(o._editor, "focusout", function(n) {
            this._grid.$_setEditFocused(!1, n);
          }.bind(o), !1);
        }
        return o.setVisible(!1, !0), o.$_setEditorId(o._editor), o;
      }
      return w(i, a), i.copyProc = function(e, t) {
        if (!e.isDisabled() && !e.editing) {
          var o = e._grid.copyToClipboard(t, null);
          return o != null && (t.clipboardData ? t.clipboardData.setData("text/plain", o) : window.clipboardData.setData("Text", o)), t.preventDefault();
        }
      }, i.getEditorType = function(e) {
        return typeof e == "string" ? e : e ? e.type : "line";
      }, i.getEditorType2 = function(e, t) {
        return typeof e == "string" ? e : e && e.type ? e.type : typeof t == "string" ? t : t && t.type ? t.type : "line";
      }, i.prototype._doDispose = function() {
        this.unprepare(), this._editor = b.detach(this._editor), this._container = b.detach(this._container), this._container = null, this._grid = null, this._controller = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "native", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "buttonCount", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hasList", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "emptyValue", { get: function() {
        return this._emptyValue;
      }, set: function(e) {
        e != this._emptyValue && (this._emptyValue = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textCase", { get: function() {
        return this._textCase;
      }, set: function(e) {
        e != this._textCase && (this._textCase = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeFormat", { get: function() {
        return this._datetimeFormat;
      }, set: function(e) {
        e != this._datetimeFormat && (this._datetimeFormat = e, this._dateConverter = e ? Qn.getConverter(e) : Qn.Default);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "todayChar", { get: function() {
        return this._todayChar;
      }, set: function(e) {
        e != this._todayChar && (this._todayChar = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "nowChar", { get: function() {
        return this._nowChar;
      }, set: function(e) {
        e != this._nowChar && (this._nowChar = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        e != this._booleanFormat && (this._booleanFormat = e, e ? (this._saveBoolConverter || (this._saveBoolConverter = new di(e)), this._saveBoolConverter.format = e, this._boolConverter = this._saveBoolConverter) : this._boolConverter = di.Default);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editor", { get: function() {
        return this._editor;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visible", { get: function() {
        return parseInt(this._container.style.width) > wr && parseInt(this._container.style.height) > wr;
      }, enumerable: !1, configurable: !0 }), i.prototype.setVisible = function(e, t) {
        t === void 0 && (t = !1);
        var o = t ? !e : this.visible;
        if (!e && (this._container.style.width = wr + "px", this._container.style.height = wr + "px", b.isMobile())) {
          var r = this._grid;
          if (r) {
            var n = r.container._containerDom, s = te(this._container);
            this._editor === s.activeElement && n && n.focus({ preventScroll: !0 });
          } else
            this._editor.blur();
        }
        e != o && this._doVisibleChanged(e);
      }, i.prototype._doVisibleChanged = function(e) {
        this.setEditorZIndex(e);
      }, Object.defineProperty(i.prototype, "readOnly", { get: function() {
        return this._readOnly;
      }, set: function(e) {
        var t = be(this._container);
        this._editor instanceof t.HTMLInputElement && (this._editor.readOnly = this._readOnly = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textReadOnly", { get: function() {
        return this._textReadOnly;
      }, enumerable: !1, configurable: !0 }), i.prototype._setTextReadOnly = function(e) {
        e != this._textReadOnly && (this._textReadOnly = e, this._changed());
      }, Object.defineProperty(i.prototype, "allowEmpty", { get: function() {
        return this._allowEmpty;
      }, enumerable: !1, configurable: !0 }), i.prototype._setAllowEmpty = function(e) {
        e != this._allowEmpty && (this._allowEmpty = e, this._changed());
      }, Object.defineProperty(i.prototype, "editing", { get: function() {
        return this._started;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editIndex", { get: function() {
        return this._editIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        return this._editor.value;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "listing", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), i.prototype.hasButton = function(e, t) {
        return !1;
      }, i.prototype.applyOptions = function(e) {
        e && this.assignFrom(e);
      }, i.prototype.setEditIndex = function(e) {
        this._editIndex.assign(e);
      }, i.prototype.setController = function(e) {
        this._controller = e;
      }, i.prototype.prepare = function() {
        !this.native && this._editor && this._editor.removeAttribute("type");
      }, i.prototype.unprepare = function() {
      }, i.prototype.beginEdit = function(e, t) {
        this._started || (this._started = this._doBeginEdit()) && (e && this.clear(), t && this.selectAll());
      }, i.prototype.endEdit = function() {
        this._started && (this._doEndEdit(), this._started = !1);
      }, i.prototype.isEdited = function() {
        return !1;
      }, i.prototype.isDisabled = function() {
        return !this._grid || this._grid.container.disabled;
      }, i.prototype.caretToLast = function() {
      }, i.prototype.commit = function() {
        this._doCommit();
      }, i.prototype.setReadOnly = function(e) {
        this._editor.readOnly = this._readOnly = e;
      }, i.prototype.getEditValue = function(e, t) {
      }, i.prototype.setEditValue = function(e) {
        this._oldValue = e;
      }, i.prototype.setCellEditValue = function(e, t) {
        !this.readOnly && this._requestStart(t) && (this.setEditValue(e), this._doChanged());
      }, i.prototype.getEditText = function() {
        return "";
      }, i.prototype.selectAll = function(e) {
        e === void 0 && (e = !1), this._grid.$_editFocused && (!e && b.isMobile() || this._selectAll());
      }, i.prototype.clear = function() {
        var e = be(this._container);
        this._editor instanceof e.HTMLInputElement && (this._editor.value = "");
      }, i.prototype.setFocus = function() {
        var e = !b.isMobile();
        !this._grid.handler._draggable && (!this._isMobile || !this.hasList) && this._editor.focus({ preventScroll: e });
      }, i.prototype.setEditorTitle = function(e) {
      }, i.prototype.setBounds = function(e, t, o, r, n) {
      }, i.prototype.setCellBounds = function(e, t, o, r) {
        this._cellBounds.set(e, t, o, r);
      }, i.prototype.closeList = function(e) {
      }, i.prototype.dropDownList = function(e) {
      }, i.prototype.buttonClicked = function(e, t) {
      }, i.prototype.buttonDown = function(e, t) {
      }, i.prototype.buttonUp = function(e, t) {
      }, i.prototype.setButtonStyle = function(e, t, o, r, n) {
        return !1;
      }, i.prototype.initOptions = function() {
        this._emptyValue = void 0, this.booleanFormat = null, this._todayChar = null, this._nowChar = null, this.datetimeFormat = null, this._textCase = f.TextInputCase.DEFAULT, this._checkHangeul = !1;
      }, i.prototype.$_setEditorId = function(e) {
      }, i.prototype._changed = function() {
      }, i.prototype.$_setController = function(e) {
        this._controller = e;
      }, i.prototype._editField = function() {
        return this._grid.dataSource ? this._grid.dataSource.getField(this._editIndex.dataField) : null;
      }, i.prototype._isDateEditor = function() {
        return !1;
      }, i.prototype._requestStart = function(e) {
        return this._started ? this._started : (this.selectAll(), this._controller.onEditorStart(this));
      }, i.prototype._valToStr = function(e) {
        var t = this.editIndex, o = "";
        try {
          if (e !== void 0 || this._mask) {
            var r = t.grid.dataSource.getField(t.dataField);
            if (r)
              switch (r.dataType) {
                case f.ValueType.DATETIME:
                  e && (o = this._dateConverter.getText(e)), this._mask && (o = this._mask.writeBuffer(o));
                  break;
                case f.ValueType.BOOLEAN:
                  o = this._boolConverter.toText(e);
                  break;
                case f.ValueType.NUMBER:
                  isNaN(e) || (o = b.toStr(e));
                  break;
                case f.ValueType.OBJECT:
                  var n = t.column._objectKey || r.objectKey;
                  e && (o = n ? e[n] : e != null && typeof e == "object" ? JSON.stringify(e) : "");
                  break;
                default:
                  o = this._mask ? this._mask.writeBuffer(e) : e;
              }
            else
              o = e;
          }
        } catch {
          o = e;
        }
        return o ?? "";
      }, i.prototype._strToVal = function(e) {
        e = b.toStr(e);
        var t = this._editIndex, o = t.dataColumn && this._textCase == f.TextInputCase.DEFAULT ? t.dataColumn.textInputCase : this._textCase;
        try {
          var r = t.grid.dataSource.getField(t.dataField);
          if (r) {
            var n = r.dataType;
            if (n == f.ValueType.DATETIME || e && this._isDateEditor() && n == f.ValueType.TEXT) {
              var s = n == f.ValueType.DATETIME, l = null;
              return e && e == this._nowChar && (l = /* @__PURE__ */ new Date()), !l && e && e == this._todayChar && (l = /* @__PURE__ */ new Date()).setHours(0, 0, 0, 0), l || (this._mask && (e = this._mask.getStripValue()), l = this._dateConverter.getDate(e)), s ? !l || isNaN(l.getFullYear()) ? void 0 : l : l ? this._dateConverter.getText(l) : void 0;
            }
            if (n == f.ValueType.BOOLEAN)
              return this._boolConverter.toBoolEx(e);
            if (n == f.ValueType.NUMBER)
              return parseFloat(e);
            n == f.ValueType.TEXT && this._mask && (e = this._mask.getStripValue());
          }
          return o === f.TextInputCase.UPPER ? e && e.toLocaleUpperCase() : o === f.TextInputCase.LOWER && e ? e.toLocaleLowerCase() : e;
        } catch {
          return;
        }
      }, i.prototype._dispatchKeyDown = function(e) {
        return this._controller, this._controller.onEditorKeyDown(this, e);
      }, i.prototype._dispatchKeyPress = function(e) {
        return this._controller, this._controller.onEditorKeyPress(this, e);
      }, i.prototype._dispatchKeyUp = function(e) {
        return this._controller, this._controller.onEditorKeyUp(this, e);
      }, i.prototype._dispatchChange = function() {
        this._controller.onEditorChange(this);
      }, i.prototype._dispatchSearch = function(e) {
        this._controller.onEditorSearch(this, e);
      }, i.prototype._dispatchSearchCellButtonClick = function(e) {
        return this._controller.onSearchCellButtonClick(this, e);
      }, i.prototype._dispatchCommit = function() {
        this._controller.onEditorCommit(this);
      }, i.prototype._sendToParent = function(e, t, o) {
        t === void 0 && (t = void 0);
        try {
          var r = b.isMac && e.metaKey || !b.isMac && e.ctrlKey;
          if (t == 2) {
            if (this._dispatchKeyPress(e))
              return e.preventDefault && (e.preventDefault(), e.stopImmediatePropagation()), !0;
          } else if (t == 3) {
            if (this._dispatchKeyUp(e))
              return e.preventDefault && (e.preventDefault(), e.stopImmediatePropagation()), !0;
            try {
              var n = this._controller._grid, s = n.editOptions;
              if (s.maxLengthToNextCell) {
                var l = s.skipReadOnly, h = n.activeTool, u = this.maxLength, c = this.editIndex.clone(), d = b.included(e.keyCode, 38, 33, 40, 34, 113, 9, 13);
                if (!this._checkHangeul && !d && !r && !e.altKey && n && n.isEditing(c) && u > 0 && !this._composing && e.keyCode > 47) {
                  var p = this._mask ? this._mask.getStripValue() : this._editor.value;
                  if (this instanceof vl && this.maxLengthExceptComma) {
                    var _ = this.getEditValue();
                    isNaN(_) && _ != null || (p = String(_));
                  }
                  if (p && p.length >= u)
                    return n.getBodyViewAt(c).spanRight(n.layoutManager, c), c.right(), l && h._checkReadOnly(c) && (h._skipReadOnly(c, 1) || (c = this.editIndex.clone())), W.areEquals(c, this.editIndex) || h.setFocused(c, !0, !0), !0;
                }
              }
            } catch (g) {
              if (g instanceof Me)
                throw g;
              return !0;
            }
          } else if (this._dispatchKeyDown(e))
            return e.preventDefault && (e.preventDefault(), e.stopImmediatePropagation()), !0;
          return !1;
        } finally {
        }
      }, i.prototype._commitListValue = function(e) {
        this._editIndex && this._grid._editorStarted(this, this._editIndex) && this._grid.setCellValue(this._editIndex, e);
        var t = this._grid;
        if (t) {
          var o = t.container._containerDom, r = te(o);
          this._editor == r.activeElement && o && o.focus();
        } else
          this._editor.blur();
      }, i.Unselected = {}, i.InvalidFormat = {}, i.EDITOR_CSS = "rg-editor ", i.CONTAINER_CSS = "rg-editor-container", i;
    }(Be), kd = function() {
      return { 9: /[0-9 ]/, 0: /[\d]/, a: /[A-Za-z]/, "*": /[A-Za-z0-9]/ };
    }, yl = function() {
      function a(i, e) {
        this._includedFormat = !1, this._showInvalidFormatMessage = !0, this._overwrite = !1, this._allowEmpty = !1, this._restrictNull = !1, this._definitions = kd(), this._tests = null, this._defBuffer = [], this._editor = i, e && this.setOptions(e);
      }
      return a.prototype.dispose = function() {
        return this._definitions = null, this._tests = null, this._editor._editor && (this._editor._editor.onclick = null), this._editor = null, null;
      }, Object.defineProperty(a.prototype, "includedFormat", { get: function() {
        return this._includedFormat;
      }, set: function(i) {
        i != this._includedFormat && (this._includedFormat = i, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "placeHolder", { get: function() {
        return this._placeHolder;
      }, set: function(i) {
        i != this._placeHolder && (this._placeHolder = i, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "editMask", { get: function() {
        return this._editMask;
      }, set: function(i) {
        i != this._editMask && (this._editMask = i, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "definitions", { get: function() {
        return this._definitions;
      }, set: function(i) {
        i != this._definitions && (this._definitions = i, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "invalidFormatMessage", { get: function() {
        return this._invalidFormatMessage;
      }, set: function(i) {
        i != this._invalidFormatMessage && (this._invalidFormatMessage = i, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "showInvalidFormatMessage", { get: function() {
        return this._showInvalidFormatMessage;
      }, set: function(i) {
        i != this._showInvalidFormatMessage && (this._showInvalidFormatMessage = i, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "overWrite", { get: function() {
        return this._overwrite;
      }, set: function(i) {
        i != this._overwrite && (this._overwrite = i, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "allowEmpty", { get: function() {
        return this._allowEmpty;
      }, set: function(i) {
        i != this._allowEmpty && (this._allowEmpty = i, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "restrictNull", { get: function() {
        return this._restrictNull;
      }, set: function(i) {
        i != this._restrictNull && (this._restrictNull = i, this._changed());
      }, enumerable: !1, configurable: !0 }), a.prototype.clickHandler = function(i) {
        this.restrictNull && this._moveCaret();
      }, a.prototype.clearBuffer = function(i, e) {
        i = arguments.length > 0 ? i : 0, e = arguments.length > 1 ? e : this._tests.length;
        for (var t = i; t < e; t++)
          this._buffer[t] = this.$_getPlaceHolder(t), this._defBuffer[t] = "";
      }, a.prototype.writeBuffer = function(i, e) {
        if (e === void 0 && (e = !1), i) {
          e && this.clearBuffer();
          for (var t = 0, o = 0, r = this._tests.length; t < r; t++)
            if (this._tests[t] && this._tests[t] instanceof RegExp) {
              for (var n = void 0; n = i[o++]; )
                if (this._tests[t].test(n)) {
                  this._buffer[t] = n, this._defBuffer[t] = n;
                  break;
                }
            }
        }
        return this._buffer && this._buffer.join("");
      }, a.prototype.getStripValue = function() {
        var i = [], e = [];
        if (this._defBuffer.join("") == "")
          return null;
        if (this.includedFormat)
          for (var t = 0, o = this._buffer.length; t < o; t++) {
            var r = this._buffer[t];
            !this._tests[t] || this._tests[t].test(r) ? i.push(r) : r == this.$_getPlaceHolder(t) && this._tests[t].test(" ") && i.push(" ");
          }
        else
          for (t = 0, o = this._buffer.length; t < o; t++)
            this._tests[t] && this._tests[t] instanceof RegExp && this._tests[t].test(this._buffer[t]) && (e.length > 0 && (i = i.concat(e), e = []), i.push(this._buffer[t]));
        return i.join("");
      }, a.prototype.setOptions = function(i) {
        if (typeof i == "string")
          this.$_parseMask(i);
        else if (i.definitions && this.$_parseDefinitions(i.definitions), i.placeHolder && (this._placeHolder = i.placeHolder), i.editMask && this.$_parseMask(i.editMask), i.includedFormat != null && (this._includedFormat = i.includedFormat), i.invalidFormatMessage && (this._invalidFormatMessage = i.invalidFormatMessage), i.allowEmpty != null && (this._allowEmpty = i.allowEmpty), i.showInvalidFormatMessage != null && (this._showInvalidFormatMessage = i.showInvalidFormatMessage), i.overwrite != null && (this._overwrite = i.overwrite), i.overWrite != null && (this._overwrite = i.overWrite), this._restrictNull && this._editor) {
          var e = this._editor._editor;
          !e.onclick && (e.onclick = this.clickHandler.bind(this));
        }
      }, a.prototype.checkValid = function() {
        var i = [];
        if (this.allowEmpty) {
          for (var e = 0, t = this._tests.length; e < t; e++)
            i[e] = this.$_getPlaceHolder(e);
          if (i.join("") === this._buffer.join(""))
            return !0;
        }
        for (e = 0, t = this._tests.length; e < t; e++) {
          var o = this._buffer[e];
          if (this._tests[e] && !this._tests[e].test(o) && o == this.$_getPlaceHolder(e) && !this._tests[e].test(" "))
            return !1;
        }
        return !0;
      }, a.prototype._changed = function() {
      }, a.prototype._moveCaret = function(i, e) {
        for (var t = this._editor._editor, o = i = arguments.length > 0 ? i : t.selectionStart, r = e = arguments.length > 1 ? e : t.selectionEnd, n = i - 1; n >= 0; n--) {
          if (this._tests[n] && this._tests[n].test(this._buffer[n])) {
            o = n + 1;
            break;
          }
          o = n;
        }
        for (n = e - 1; n >= 0; n--) {
          if (this._tests[n] && this._tests[n].test(this._buffer[n])) {
            r = n + 1;
            break;
          }
          r = n;
        }
        if (o != i || r != e) {
          for (n = o; n <= i && !this._tests[n]; n++)
            o++;
          for (n = r; n <= e && !this._tests[n]; n++)
            r++;
          return t.setSelectionRange(o, r), !0;
        }
        return o != i || r != e;
      }, a.prototype.$_setCaret = function(i, e) {
        this._editor._editor.setSelectionRange(i, e);
      }, a.prototype.$_parseDefinitions = function(i) {
        for (var e in i)
          typeof i[e] == "string" && (this._definitions[e] = new RegExp(i[e]));
      }, a.prototype.$_parseMask = function(i) {
        var e = this._tests = [], t = this._definitions, o = i.split("");
        this._editMask = i, this._buffer = [];
        for (var r = 0, n = o.length; r < n; r++)
          e.push(t[o[r]]), this._buffer.push(t[o[r]] ? this.$_getPlaceHolder(r) : o[r]);
      }, a.prototype.$_getPlaceHolder = function(i) {
        return this._placeHolder && this._placeHolder.length > i ? this._placeHolder[i] : this._tests[i] ? "_" : this._editMask && this._editMask.length > i ? this._editMask[i] : "_";
      }, a.prototype.$_seekPrev = function(i) {
        for (; --i >= 0 && !this._tests[i]; )
          ;
        return Math.max(0, i);
      }, a.prototype.$_seekNext = function(i) {
        for (; ++i < this._editMask.length && !this._tests[i]; )
          ;
        return Math.min(this._editMask.length, i);
      }, a.prototype.$_shiftL = function(i, e) {
        var t = this._editMask.length, o = this._buffer;
        if (i >= 0) {
          for (var r = i, n = this.$_seekNext(e); t > r; r++)
            if (this._tests[r]) {
              if (!(t > n && this._tests[r].test(o[n])))
                break;
              o[r] = o[n], this._defBuffer[r] = this._defBuffer[n], o[n] = this.$_getPlaceHolder(n), this._defBuffer[n] = "", n = this.$_seekNext(n);
            }
        }
      }, a.prototype.$_shiftR = function(i) {
        for (var e, t, o = this._editMask.length, r = this._buffer, n = i, s = this.$_getPlaceHolder(i); o > n; n++)
          if (this._tests[n]) {
            if (e = this.$_seekNext(n), t = r[n], this._defBuffer[n] = s, r[n] = s, !(o > e && this._tests[e].test(t)))
              break;
            s = t;
          }
      }, a.prototype.keydown = function(i) {
        var e = this._editor.editor;
        if (!e.readOnly) {
          var t = i.which || i.keyCode, o = e.selectionStart, r = e.selectionEnd;
          if (t === 46 || t === 8)
            o == r && (o = t !== 46 ? this.$_seekPrev(o) : r = this.$_seekNext(o - 1), r = t === 46 ? this.$_seekNext(r) : r), this.clearBuffer(o, r), !this._overwrite && this.$_shiftL(o, r - 1), e.value = this.writeBuffer(), this.$_setCaret(Math.max(0, o), Math.max(0, o));
          else if (t === 39 || t === 35)
            return this._moveCaret();
          this._pStart = e.selectionStart;
        }
      }, a.prototype.keyPress = function(i) {
        var e = this._editor.editor;
        if (!e.readOnly) {
          this.restrictNull && this._moveCaret();
          var t, o = e.selectionStart, r = e.selectionEnd, n = i.which || i.keyCode;
          this.clearBuffer(o, r), o !== r && this.$_shiftL(o, r - 1);
          var s = this.$_seekNext(o - 1);
          this._editMask && this._editMask.length > s && this._tests[s] && this._tests[s].test(t = String.fromCharCode(n)) && (!this._overwrite && this.$_shiftR(o), this._buffer[s] = t, this._defBuffer[s] = t, e.value = this.writeBuffer(), s = this.$_seekNext(s), this.$_setCaret(Math.max(0, s), Math.max(0, s))), this._pStart = e.selectionStart;
        }
      }, a.prototype.input = function(i) {
        var e = this._editor.editor;
        if (!e.readOnly) {
          var t = e.value;
          /[ㄱ-ㅎㅏ-ㅣ가-힝]/.test(t) && (e.value = e.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힝]/g, ""), this._pStart != null && e.setSelectionRange(this._pStart, this._pStart));
        }
      }, a;
    }(), ml = function(a) {
      function i() {
        var e = a !== null && a.apply(this, arguments) || this;
        return e._maxLength = 0, e._fontSize = 0, e._modified = !1, e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "maxLength", { get: function() {
        return this._maxLength;
      }, set: function(e) {
        e != this._maxLength && (this._maxLength = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fontSize", { get: function() {
        return this._fontSize;
      }, set: function(e) {
        this._fontSize = isNaN(e) ? 0 : Math.max(0, e);
      }, enumerable: !1, configurable: !0 }), i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this), this._maxLength = 0;
      }, Object.defineProperty(i.prototype, "readonly", { set: function(e) {
        this._editor.readOnly = this._readOnly = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.isEdited = function() {
        return this._modified;
      }, i.prototype.setVisible = function(e, t) {
        a.prototype.setVisible.call(this, e, t);
        var o = this._container.style;
        e ? (o.border = "", o.boxShadow = "") : e || (o.border = "none", o.boxShadow = "none");
      }, i.prototype.setEditIndex = function(e) {
        a.prototype.setEditIndex.call(this, e);
        var t = this._editor.style;
        b.isMobile() ? t.fontSize = Math.max(this.fontSize, 16) + "px" : this.fontSize > 0 && (t.fontSize = this.fontSize + "px");
        var o = e.valueColumn;
        if (o)
          switch (this._textCase == f.TextInputCase.DEFAULT ? o.textInputCase : this._textCase) {
            case f.TextInputCase.LOWER:
              this._editor.style.textTransform = "lowercase";
              break;
            case f.TextInputCase.UPPER:
              this._editor.style.textTransform = "uppercase";
              break;
            default:
              this._editor.style.textTransform = "none";
          }
      }, i.prototype.getEditText = function() {
        return this._editor.value;
      }, i.prototype.setEditValue = function(e) {
        a.prototype.setEditValue.call(this, e), this._editor.value = this._valToStr(e);
      }, i.prototype.getEditValue = function(e, t) {
        e === void 0 && (e = !0);
        var o = this._editField(), r = this._emptyValue;
        try {
          var n = o.dataType, s = this._editor.value;
          if (n == f.ValueType.TEXT)
            s || this._emptyValue === void 0 || (s = this._emptyValue), (r = this._strToVal(s)) === void 0 && (r = "");
          else {
            if (n === f.ValueType.OBJECT) {
              var l = this._editIndex.dataColumn.objectKey || o.objectKey, h = this._editIndex.item.getData(o.index) || {};
              return h[l] = s, h;
            }
            if (b.isWhiteSpace(s))
              if (this._emptyValue !== void 0)
                r = this._strToVal(this._emptyValue);
              else
                switch (n) {
                  case f.ValueType.NUMBER:
                    isNaN(this._oldValue) && (r = NaN);
                    break;
                  case f.ValueType.DATETIME:
                    this._oldValue === null && (r = null);
                  case f.ValueType.BOOLEAN:
                }
            else
              r = this._strToVal(s);
          }
          if (r === $e.InvalidFormat)
            return r;
          r = o.readValue(r);
        } catch (u) {
          if (e)
            throw u;
          r = this._emptyValue;
        }
        return r;
      }, i.prototype._selectAll = function() {
        var e = this._editor;
        if (e.select && e.value) {
          var t = e.value;
          e.value = "", e.value = t, e.select();
        }
      }, i.prototype._setSelectionRange = function(e, t) {
        try {
          var o = this._editor;
          (!b.isMobile() || !this.hasList) && o.selectionStart != null && o.setSelectionRange(e, t);
        } catch {
          b.log("setSelectionRange fail type => ".concat(this._editor.getAttribute("type")));
        }
      }, i.prototype._doBeginEdit = function() {
        if (this._modified = !1, this.visible)
          return b.isMobile() && this.caretToLast(), !0;
      }, i.prototype._doEndEdit = function() {
        this._modified = !1;
      }, i.prototype._doCommit = function() {
      }, i;
    }($e), yt = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._editor.$_owner = null, this._editor.onkeydown = null, this._editor.onkeyup = null, this._editor.onkeypress = null, this._editor.oninput = null, this._editor.onpaste = null, this._editor.oncopy = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "mask", { get: function() {
        return this._mask;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._editor.value;
      }, set: function(e) {
        !this._editor || e == this._editor.value && e == this._controller.getData(this._editIndex) || (this._editor.value = e, this._doChanged());
      }, enumerable: !1, configurable: !0 }), i.prototype.setMask = function(e) {
        this._mask = null, e && (this._mask = new yl(this, e));
      }, i.prototype.setAlignment = function(e) {
        this._container.style.textAlign = "left";
      }, i.prototype._createContainer = function(e) {
        var t = e.createElement("div"), o = t.style;
        return t.spellcheck = !1, t.setAttribute("aria-hidden", "true"), o.position = "absolute", o.width = "0px", o.height = "0px", o.padding = "0px", o.margin = "0px", t;
      }, i.prototype._createEditor = function(e) {
        var t = te(e);
        this._container = this._createContainer(t), e.appendChild(this._container);
        var o = t.createElement("input"), r = o.style;
        o.setAttribute("aria-hidden", "true"), o.autocomplete = "off", r.position = "absolute", r.boxSizing = "border-box", r.margin = "0px", r.padding = "0px 2px", r.wordWrap = "normal", r.overflow = "hidden", r.resize = "none", r.border = "none", r.outline = "none", r.left = "0px", r.top = "0px", r.width = "100%", r.height = "100%", r["-webkit-user-modify"] = "read-write-plaintext-only", r["white-space"] = "pre", r["-webkit-transform"] = "translateZ(0)", o.tabIndex = -1, o.onkeydown = this._keyDownHandler.bind(this), o.onkeyup = this._keyUpHandler.bind(this), o.onkeypress = this._keyPressHandler.bind(this), o.oninput = this._inputHandler.bind(this), o.onpaste = this._pasteHandler.bind(this), o.oncopy = this._copyHandler.bind(this);
        var n = this._grid.container;
        return n.$_addListener(o, "compositionstart", this._compositionstartHandler.bind(this), !1), n.$_addListener(o, "compositionupdate", this._compositionupdateHandler.bind(this), !1), n.$_addListener(o, "compositionend", this._compositionendHandler.bind(this), !1), n.$_addListener(o, "text", this._textHandler.bind(this), !1), this._container.appendChild(o), this._defMaxLength = o.maxLength > 0 ? o.maxLength : 1e6, o;
      }, i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this), this._editor.readOnly = this._readOnly = !1, this._mask && (this._mask = this._mask.dispose());
      }, i.prototype.applyOptions = function(e) {
        a.prototype.applyOptions.call(this, e), e.mask && this.setMask(e.mask);
      }, i.prototype.caretToLast = function() {
        var e = b.toStr(this._editor.value).length;
        this._setSelectionRange(e, e);
      }, i.prototype.setEditIndex = function(e) {
        a.prototype.setEditIndex.call(this, e), this._editor.maxLength = this.maxLength > 0 ? this.maxLength : this._defMaxLength;
      }, i.prototype.setEditorZIndex = function(e) {
        var t = this._editor.style, o = this._grid.displayOptions.baseZindex;
        e ? t.zIndex = String(o + 0) : t.removeProperty("z-index");
      }, i.prototype._doChanged = function() {
        this._requestStart(), this._started && (this._textReadOnly || !this._editor.readOnly || this.allowEmpty && this.text === "") && (this._modified = !0, this._dispatchChange());
      }, i.prototype.setBounds = function(e, t, o, r, n) {
        b.setBounds(this._container, e, t, o, r), o == 0 || r == 0 ? this._editor.style.width = "100%" : n > 0 && (this._editor.style.height = Math.round(r - 4) + "px", this._editor.style.width = n + "px");
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled()) {
          var t = this._editor, o = e.keyCode;
          if ((b.isIE || b.isEdge) && !this.visible && e.ctrlKey && o == 90)
            return !1;
          if (b.isIE && e.ctrlKey && e.keyCode == 86 && t.readOnly)
            return e.preventDefault(), this._pasteHandler(e), !1;
          if (b.isIE && e.ctrlKey && (e.keyCode == 67 || e.keyCode == 45) && this._editor.value == "")
            return e.preventDefault(), void te(this._editor).execCommand("copy");
          switch (this._inputValue = t.value, o) {
            case 8:
            case 46:
              this._sendToParent(e) || (!this.visible && this._requestStart() ? t.readOnly && !this.allowEmpty || !this._controller._getData(this._editIndex) || (this._mask ? (e.preventDefault(), e.stopImmediatePropagation(), this._mask.keydown(e), this._doChanged()) : this.text = "") : this._mask && (e.preventDefault(), e.stopImmediatePropagation(), this._mask.keydown(e), this._doChanged()), o === 8 && t.readOnly && (e.preventDefault(), e.stopImmediatePropagation()));
              break;
            case 9:
              return !this._sendToParent(e);
            case 37:
              if (!this.visible || t.selectionEnd == 0 && t.selectionEnd == t.selectionStart)
                return !this._sendToParent(e);
              if (t.readOnly && b.isChrome)
                return !this._sendToParent(e);
              e.stopImmediatePropagation();
              break;
            case 39:
              if (!this.visible || t.selectionEnd == t.value.length && t.selectionEnd == t.selectionStart)
                return !this._sendToParent(e);
              if (t.readOnly && b.isChrome)
                return !this._sendToParent(e);
              if (!(e.altKey || e.ctrlKey || e.shiftKey) && this._mask && this._mask.restrictNull) {
                var r = t.selectionStart;
                this._mask._moveCaret(r + 1, r + 1) && (e.preventDefault(), e.stopImmediatePropagation());
              }
              e.stopImmediatePropagation();
              break;
            case 36:
              if (!this.visible)
                return !this._sendToParent(e);
              e.stopImmediatePropagation();
              break;
            case 35:
              if (!this.visible)
                return !this._sendToParent(e);
              if (this._mask && this._mask.restrictNull) {
                var n = t.value ? t.value.length - 1 : 0;
                this._mask._moveCaret(n, n) && (e.preventDefault(), e.stopImmediatePropagation());
              }
              e.stopImmediatePropagation();
              break;
            case 32:
              if (!this.visible)
                return !this._sendToParent(e);
              break;
            case 38:
            case 33:
            case 40:
            case 34:
            case 13:
            case 27:
            case 113:
            case 45:
              return e.preventDefault(), e.stopImmediatePropagation(), !this._sendToParent(e);
            case 229:
              this._sendToParent(e);
              break;
            default:
              return !this._sendToParent(e, null, !0);
          }
          return b.isFirefox ? !e.ctrlKey && !e.altKey && o !== 229 && o >= 32 && (o < 112 || o > 130) && this._requestStart() : b.isIE, !0;
        }
      }, i.prototype._keyUpHandler = function(e) {
        if (!this.isDisabled()) {
          var t = e.keyCode;
          switch (t != 8 && t != 46 || b.ieOld && this.visible && !this._editor.readOnly && this._editor.value != this._inputValue && this._doChanged(), e.keyCode) {
            case 37:
            case 39:
            case 36:
            case 35:
            case 32:
              this.visible || this._sendToParent(e, 3);
              break;
            default:
              this._sendToParent(e, 3);
          }
        }
      }, i.prototype._keyPressHandler = function(e) {
        if (!this.isDisabled()) {
          var t = e.which || e.keyCode;
          this._sendToParent(e, 2), b.isFirefox ? e.ctrlKey || e.altKey || !(t == 0 || t >= 32) || (this._requestStart() ? this._mask && (this._mask._pStart = e.target.selectionStart, this._mask.keyPress(e), this._doChanged(), e.preventDefault()) : e.preventDefault()) : b.isMac && e.metaKey && (t === 122 || t === 121) ? e.preventDefault() : b.isMac && e.metaKey && (t === 99 || t === 118) || t >= 32 && (this._requestStart() ? this._mask && (this._mask._pStart = e.target.selectionStart, this._mask.keyPress(e), this._doChanged(), e.preventDefault()) : e.preventDefault());
        }
      }, i.prototype._textHandler = function() {
        this.isDisabled() || this._requestStart();
      }, i.prototype._compositionstartHandler = function(e) {
        this.isDisabled() || (this._composing = !0, this._requestStart(), this._started && !this._editor.readOnly && (this._modified = !0, this._dispatchChange(), this._checkHangeul = !0));
      }, i.prototype._compositionendHandler = function() {
        this._composing = !1;
      }, i.prototype._compositionupdateHandler = function() {
        this._composing = !0;
      }, i.prototype._changeHandler = function(e) {
      }, i.prototype._inputHandler = function(e) {
        this.isDisabled() || b.isIE && !this._started || e.inputType !== "historyUndo" && e.inputType !== "historyRedo" && (this._mask && this._mask.input(e), this._doChanged());
      }, i.prototype._pasteHandler = function(e) {
        if (!this.isDisabled()) {
          var t = this._grid.pasteOptions;
          try {
            var o = void 0, r = (e.originalEvent || e).clipboardData;
            if ((o = r ? r.getData("text/plain") : window.clipboardData.getData("text")) != null) {
              if (this.visible) {
                if (this._mask) {
                  e.preventDefault();
                  var n = this._editor, s = n.value, l = n.selectionStart, h = n.selectionEnd;
                  s = s.substr(0, l) + o + s.substr(h), n.value = this._mask.writeBuffer(s, !0);
                }
                return void this._doChanged();
              }
              e.preventDefault(), this._grid.pasteFromClipboard(o, e);
            }
          } catch (u) {
            if (u instanceof Me) {
              if (t.throwValidationError)
                throw u;
            } else if (u instanceof yi)
              alert(u.message);
            else if (u)
              throw u;
          }
        }
      }, i.prototype._copyHandler = function(e) {
        $e.copyProc(this, e);
      }, i.prototype._getInputSelector = function() {
        return null;
      }, i;
    }(ml), Td = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "inputCharacters", { get: function() {
        return this._inputCharacters;
      }, set: function(e) {
        e != this._inputCharacters && (this._inputCharacters = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "ignoreCharacters", { get: function() {
        return this._ignoreCharacters;
      }, set: function(e) {
        e != this._ignoreCharacters && (this._ignoreCharacters = e);
      }, enumerable: !1, configurable: !0 }), i.prototype.initOptions = function() {
        this._inputCharacters = null, this._ignoreCharacters = null, a.prototype.initOptions.call(this);
      }, i.prototype._inputHandler = function(e) {
        this.$_resetValue(), a.prototype._inputHandler.call(this, e);
      }, i.prototype._keyDownHandler = function(e) {
        return this._pStart = e.target.selectionStart, a.prototype._keyDownHandler.call(this, e);
      }, i.prototype._createEditor = function(e) {
        var t = a.prototype._createEditor.call(this, e);
        return t.tabIndex = -1, t;
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype.$_resetValue = function() {
        var e, t = this._editor, o = t.value;
        if (this.visible) {
          var r;
          (e = this.inputCharacters) && (r = new RegExp("[^" + e + "]", "g")).test(o) && (t.value = o = o.replace(r, ""), this._pStart != null && t.setSelectionRange(this._pStart, this._pStart)), (e = this.ignoreCharacters) && (r = new RegExp("[" + e + "]", "g")).test(o) && (t.value = t.value.replace(r, ""), this._pStart != null && t.setSelectionRange(this._pStart, this._pStart)), this._pStart = null;
        }
      }, i.INPUT_CSS = "rg-text-editor", i;
    }(yt), Dd = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype._createEditor = function(e) {
        var t = a.prototype._createEditor.call(this, e);
        return t.setAttribute("type", "password"), t.tabIndex = -1, t;
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype.prepare = function() {
      }, i.INPUT_CSS = "rg-password-editor", i;
    }(yt), Md = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._editor.onkeydown = null, this._editor.onkeyup = null, this._editor.onkeypress = null, this._editor.oninput = null, this._editor.onpaste = null, this._editor.oncopy = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "minHeight", { get: function() {
        return this._minHeight;
      }, set: function(e) {
        e != this._minHeight && (this._minHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "height", { get: function() {
        return this._height;
      }, set: function(e) {
        this._height = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "altEnterNewLine", { get: function() {
        return this._altEnterNewLine;
      }, set: function(e) {
        e != this._altEnterNewLine && (this._altEnterNewLine = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._editor.value;
      }, enumerable: !1, configurable: !0 }), i.prototype.setAlignment = function(e) {
        this._container.style.textAlign = "left";
      }, i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this), this._minHeight = 0, this._height = 0, this._altEnterNewLine = !1, this._editor.style.setProperty("overflow", "hidden"), this.setReadOnly(!1);
      }, i.prototype.setEditIndex = function(e) {
        a.prototype.setEditIndex.call(this, e), this._editor.maxLength = this.maxLength > 0 ? this.maxLength : 2e9;
      }, i.prototype.setCellEditValue = function(e) {
        a.prototype.setCellEditValue.call(this, e, !1);
      }, i.prototype.setEditorZIndex = function(e) {
        var t = this._editor.style, o = this._grid.displayOptions.baseZindex;
        e ? t.zIndex = String(o + 0) : t.removeProperty("z-index");
      }, i.prototype._doChanged = function() {
        this._requestStart(), this._started && !this._editor.readOnly && (this._modified = !0, this._dispatchChange(), this.$_resetBounds());
      }, i.prototype.$_resetBounds = function() {
        var e, t = b.getClientRect(this._container);
        this._height < 0 ? (e = this._grid.getEditCellBounds(this, this._editIndex).height, e += b.isMobile() ? 3 : 1) : this._height > 0 && (e = this._height);
        var o = t.cx, r = t.cy, n = t.width, s = Math.round(t.height);
        this._editor.scrollWidth > n && (n = this._editor.scrollWidth + 6), e ? (this._editor.style.overflow = "auto", s = e) : this._editor.scrollHeight > s && (s = this._editor.scrollHeight + 6);
        var l = isNaN(this._minHeight) ? 0 : this._minHeight;
        l > 0 && (s = Math.max(s, l)), t = b.getClientRect(this._parentElement), n = Math.min(t.width, n), s = Math.min(t.height, s), o + n > t.width && (o = t.width - n), r + s > t.height && (r = t.height - s), b.setBounds(this._container, Math.max(o, 0), Math.max(r, 0), n, s);
      }, i.prototype.$_createContainer = function(e) {
        var t = e.createElement("div"), o = t.style;
        return t.spellcheck = !1, t.setAttribute("aria-hidden", "true"), o.position = "absolute", o.width = "0px", o.height = "0px", o.padding = "0px", o.margin = "0px", t;
      }, i.prototype._createEditor = function(e) {
        var t = te(e);
        this._container = this.$_createContainer(t), e.appendChild(this._container);
        var o = t.createElement("textarea"), r = o.style;
        o.autocomplete = "off", o.setAttribute("aria-hidden", "true"), r.position = "absolute", r.margin = "0px", r.padding = "0px", r.wordWrap = "normal", r.overflow = "hidden", r.resize = "none", r.border = "none", r.outline = "none", r.left = "0px", r.top = "0px", r.width = "100%", r.height = "100%", r["-webkit-user-modify"] = "read-write-plaintext-only", r["white-space"] = "pre", r["-webkit-transform"] = "translateZ(0)", o.tabIndex = -1, o.onkeydown = this._keyDownHandler.bind(this), o.onkeyup = this._keyUpHandler.bind(this), o.onkeypress = this._keyPressHandler.bind(this), o.oninput = this._inputHandler.bind(this), o.onpaste = this._pasteHandler.bind(this), o.oncopy = this._copyHandler.bind(this);
        var n = this._grid.container;
        return n.$_addListener(o, "compositionstart", this._compositionstartHandler.bind(this), !1), n.$_addListener(o, "compositionupdate", this._compositionupdateHandler.bind(this), !1), n.$_addListener(o, "compositionend", this._compositionendHandler.bind(this), !1), n.$_addListener(o, "text", this._textHandler.bind(this), !1), this._container.appendChild(o), o;
      }, i.prototype.setBounds = function(e, t, o, r) {
        b.setBounds(this._container, e, t, o, r), e > b.$_INVISIBLE_EDIT_BOUNDS.x && this.$_resetBounds();
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype._textHandler = function() {
        this.isDisabled() || this._requestStart();
      }, i.prototype._compositionstartHandler = function(e) {
        this.isDisabled() || (this._composing = !0, this._requestStart());
      }, i.prototype._compositionendHandler = function() {
        this._composing = !1;
      }, i.prototype._compositionupdateHandler = function() {
        this._composing = !0;
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled()) {
          var t = this._editor, o = e.keyCode;
          if ((b.isIE || b.isEdge) && !this.visible && e.ctrlKey && o == 90)
            return !1;
          if (b.isIE && e.ctrlKey && (e.keyCode == 67 || e.keyCode == 45) && this._editor.value == "")
            return e.preventDefault(), void te(this._editor).execCommand("copy");
          switch (o) {
            case 8:
            case 46:
              this._sendToParent(e) || !this.visible && this._requestStart() && (e.preventDefault(), e.stopImmediatePropagation(), !this._editor.readOnly && this._controller.getData(this._editIndex) && (this._editor.value = "", this._modified = !0, this._dispatchChange()));
              break;
            case 9:
              return !this._sendToParent(e);
            case 37:
              if (!this.visible || t.selectionEnd == 0 && t.selectionEnd == t.selectionStart)
                return !this._sendToParent(e);
              break;
            case 39:
              if (!this.visible || t.selectionEnd == t.value.length && t.selectionEnd == t.selectionStart)
                return !this._sendToParent(e);
              break;
            case 36:
            case 35:
            case 38:
            case 33:
            case 40:
            case 34:
              if (!this.visible)
                return !this._sendToParent(e);
              e.stopImmediatePropagation();
              break;
            case 32:
              if (!this.visible)
                return !this._sendToParent(e);
              break;
            case 13:
              var r = e.ctrlKey || b.isMac && e.metaKey;
              if (this.altEnterNewLine) {
                if (!(e.altKey && this.editing || e.shiftKey))
                  return !this._sendToParent(e);
              } else if (!(r && this.editing || e.shiftKey))
                return !this._sendToParent(e);
              if ((this.altEnterNewLine && e.altKey || !this.altEnterNewLine && r) && !e.shiftKey) {
                e.preventDefault(), e.stopImmediatePropagation();
                var n = t.value;
                if (n) {
                  var s = t.selectionEnd;
                  n = n.substring(0, s) + `\r
` + n.substring(s), t.value = n, t.setSelectionRange(s + 1, s + 1), this._doChanged();
                }
              }
              break;
            case 27:
            case 113:
            case 45:
              return e.preventDefault(), e.stopImmediatePropagation(), !this._sendToParent(e);
            case 229:
              break;
            default:
              return this._sendToParent(e, null, !0), !0;
          }
          return e.keyCode, !0;
        }
      }, i.prototype._keyUpHandler = function(e) {
        if (!this.isDisabled()) {
          var t = e.keyCode;
          switch (t != 8 && t != 46 || b.ieOld && this.visible && !this._editor.readOnly && this._editor.value != this._inputValue && this._doChanged(), e.keyCode) {
            case 37:
            case 39:
            case 36:
            case 35:
            case 32:
              this.visible || this._sendToParent(e, 3);
              break;
            default:
              this._sendToParent(e, 3);
          }
        }
      }, i.prototype._keyPressHandler = function(e) {
        var t = e.which || e.keyCode;
        this.isDisabled() || (b.isMac && e.metaKey && (t === 122 || t === 121) ? e.preventDefault() : b.isMac && e.metaKey && (t === 99 || t === 118) || t >= 32 && !this._requestStart() && e.preventDefault());
      }, i.prototype._inputHandler = function(e) {
        this.isDisabled() || e.inputType !== "historyUndo" && e.inputType !== "historyRedo" && this._doChanged();
      }, i.prototype._pasteHandler = function(e) {
        if (!this.isDisabled())
          if (this.visible)
            this._doChanged();
          else {
            e.preventDefault();
            var t = this._grid.pasteOptions;
            try {
              var o = void 0, r = (e.originalEvent || e).clipboardData;
              (o = r ? r.getData("text/plain") : window.clipboardData.getData("text")) != null && this._grid.pasteFromClipboard(o, e);
            } catch (n) {
              if (n instanceof Me) {
                if (t.throwValidationError)
                  throw n;
              } else if (n instanceof yi)
                alert(n.message);
              else if (n)
                throw n;
            }
          }
      }, i.prototype._copyHandler = function(e) {
        $e.copyProc(this, e);
      }, i.INPUT_CSS = "rg-multiline-editor", i;
    }(ml), es = ".", ts = ",", bl = /[ㄱ-ㅎㅏ-ㅣ가-힝]/g, vl = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._addString = "000", o._maxIntegerLength = 0, o._step = 1, o._delay = 100, o._regxAll = /[\d]|,|\.|\-|\+|e|E/, o._regxPos = /[\d]|,|\.|\+|e|E/, o._regxInt = /[\d]|,|\+|\-/, o._regxPosInt = /[\d]|,|\+/, o._regx = o._regxAll, o._decLen = void 0, o._decimalFormatter = void 0, o._isMultiple = !1, o._decSep = es, o._groupSep = ts, o._active = !1, o._stepChanged = !1, o._editor.style["ime-mode"] = "disabled", o._editor.style["-webkit-ime-mode"] = "disabled", o._editor.style["-moz-ime-mode"] = "disabled", o._editor.style["-ms-ime-mode"] = "disabled", o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "positiveOnly", { get: function() {
        return this._positiveOnly;
      }, set: function(e) {
        e != this._positiveOnly && (this._positiveOnly = e, this.$_resetRistrict());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "integerOnly", { get: function() {
        return this._integerOnly;
      }, set: function(e) {
        e != this._integerOnly && (this._integerOnly = e, this.$_resetRistrict());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editFormat", { get: function() {
        return this._editFormat;
      }, set: function(e) {
        if (e != this._editFormat)
          if (this._editFormat = e, e) {
            var t = this._decimalFormatter = new Pt(e);
            t && (this._decSep = t.separator ? t.separator : es, this._groupSep = t.groupSep ? t.groupSep : ts, this._decLen = Math.max(t.minDigits, t.maxDigits));
          } else
            this._decimalFormatter = void 0, this._decSep = es, this._groupSep = ts, this._decLen = void 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "multipleChar", { get: function() {
        return this._multipleChar;
      }, set: function(e) {
        e != this._multipleChar && (this._multipleChar = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "addString", { get: function() {
        return this._addString;
      }, set: function(e) {
        e != this._addString && (this._addString = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxLengthExceptComma", { get: function() {
        return this._maxLengthExceptComma;
      }, set: function(e) {
        e != this._maxLengthExceptComma && (this._maxLengthExceptComma = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxIntegerLength", { get: function() {
        return this._maxIntegerLength;
      }, set: function(e) {
        e != this._maxIntegerLength && (this._maxIntegerLength = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "blankWhenSpace", { get: function() {
        return this._blankWhenSpace;
      }, set: function(e) {
        e != this._blankWhenSpace && (this._blankWhenSpace = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "step", { get: function() {
        return this._step;
      }, set: function(e) {
        e !== this._step && e != 0 && (this._step = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "max", { get: function() {
        return this._max;
      }, set: function(e) {
        this._max = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "min", { get: function() {
        return this._min;
      }, set: function(e) {
        this._min = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "delay", { get: function() {
        return this._delay;
      }, set: function(e) {
        e !== this._delay && (this._delay = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textReadOnly", { get: function() {
        return this._textReadOnly;
      }, set: function(e) {
        this._setTextReadOnly(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "direction", { get: function() {
        return this._direction;
      }, set: function(e) {
        this._direction = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showStepButton", { get: function() {
        return this._showStepButton;
      }, set: function(e) {
        this._showStepButton = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.setMask = function(e) {
        this._mask = null;
      }, i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this), this.editFormat = void 0, this._positiveOnly = !1, this._integerOnly = !1, this._multipleChar = void 0, this._addString = "000", this._blankWhenSpace = !1, this._maxLengthExceptComma = !1, this._maxIntegerLength = 0, this._step = 1, this._min = this._max = void 0, this._delay = 100, this._active = !1, this._direction = "vertical", this._showStepButton = !1, this._textReadOnly = !1, this.$_resetRistrict();
      }, i.prototype.hasButton = function(e, t) {
        return t.showStepButton != null && t.showStepButton;
      }, Object.defineProperty(i.prototype, "buttonCount", { get: function() {
        return 2;
      }, enumerable: !1, configurable: !0 }), i.prototype.setEditIndex = function(e) {
        a.prototype.setEditIndex.call(this, e), this._editor.maxLength = this.maxLengthExceptComma || this.maxLength <= 0 ? this._defMaxLength : this.maxLength;
      }, i.prototype._inputHandler = function(e) {
        e.data && e.data.match(bl) ? e.target.value = this._inputValue : (this._editFormat && this.$_editFormatting(e), a.prototype._inputHandler.call(this, e));
      }, i.prototype._keyPressHandler = function(e) {
        if (!b.isFirefox || !e.ctrlKey && e.charCode !== 0) {
          var t = !0, o = String.fromCharCode(e.keyCode || e.charCode);
          (!this._regx.test(o) || e.target.value && e.target.value.indexOf(this._decSep) >= 0 && o == this._decSep) && (this._multipleChar && o === this._multipleChar || (t = !1, (!this.blankWhenSpace || o !== " ") && e.preventDefault()));
          var r = e.target.selectionStart, n = e.target.selectionEnd, s = e.target.value, l = new RegExp("\\" + this._groupSep, "g"), h = s ? s.split("") : [];
          if (h.splice(r, n - r, o === this._multipleChar ? this._addString : o), h = h.join("").replace(l, ""), this.maxLength > 0 && t && this.maxLengthExceptComma && s) {
            var u = h && h[0] === "-";
            u && (h = h.substr(1)), h.length > this.maxLength && e.preventDefault(), h = u ? "-" + h : h;
          }
          if (this._maxIntegerLength > 0 && o !== this._decSep) {
            var c = Math.floor(this.$_strToNum(h));
            if (!isNaN(c)) {
              var d = Math.abs(c).toString().length;
              this._maxIntegerLength < d && e.preventDefault();
            }
          }
          this._isMultiple = o == this._multipleChar, a.prototype._keyPressHandler.call(this, e);
        } else
          a.prototype._keyPressHandler.call(this, e);
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled()) {
          var t = e.keyCode || e.charCode;
          if (this._isMultiple = !1, (t === 8 || t === 46) && this.editing && this._editFormat) {
            var o = e.target, r = o.value, n = r.length, s = r && r.split(""), l = o.selectionStart, h = o.selectionEnd;
            if (l !== h)
              return a.prototype._keyDownHandler.call(this, e);
            var u = r[t === 8 ? l - 1 : l];
            if ((u === this._groupSep || u === this._decSep) && !(u === this._decSep && l === (t === 8 ? r.length : r.length - 1))) {
              s.splice(t === 8 ? l - 2 : l + 1, 1), o.value = s.join(""), this.$_editFormatting(e), r = o.value;
              var c = n - (t === 8 ? r.length : n);
              o.setSelectionRange(l - c, h - c), this._doChanged(), e.preventDefault();
            }
          }
          return a.prototype._keyDownHandler.call(this, e);
        }
      }, i.prototype._compositionstartHandler = function(e) {
        this.isDisabled() || this._requestStart();
      }, i.prototype._dispatchChange = function() {
        this.visible && (this.$_resetValue(), a.prototype._dispatchChange.call(this));
      }, i.prototype.setEditValue = function(e) {
        var t = parseFloat(e);
        isNaN(t) ? this._editor.value = "" : this._editFormat && typeof t == "number" ? this._editor.value = this.$_formatNum(t, this._decimalFormatter.minDigits, this._decimalFormatter._maxDigits) : this._editor.value = t;
      }, i.prototype.getEditValue = function(e, t) {
        e === void 0 && (e = !0), this.$_resetValue();
        var o = this._emptyValue;
        try {
          var r = this._editor.value;
          if (r = r && r.trim()) {
            var n = new RegExp("\\" + this._groupSep, "g"), s = new RegExp("[\\" + this._decSep + "]+", "g");
            r = (r = (r = (r = (r = (r = r.replace(n, "")).replace(s, ".")).replace(/\++/g, "+")).replace(/\-+/g, "-")).replace(/\+\-/g, "+")).replace(/\-\+/g, "-");
          }
          o = r ? parseFloat(r) : o ?? void 0;
        } catch (l) {
          if (e)
            throw l;
        }
        return o;
      }, i.prototype.setCellEditValue = function(e) {
        !this.readOnly && this._requestStart() && (typeof e != "string" && typeof e != "number" || (e = this.$_strToNum(e), this.setEditValue(e), this._doChanged()));
      }, i.prototype.buttonDown = function(e, t) {
        var o, r = t.target;
        b.stopEvent(t), r.$_editButtonType === "up" ? o = this.step : r.$_editButtonType === "down" && (o = -this.step), o && (this.$_changeStepValue(o), this._active = !0, setTimeout(function() {
          this._active && !this._stepTimer && (this._stepTimer = setInterval(function() {
            this.$_changeStepValue(o);
          }.bind(this), this._delay));
        }.bind(this), 300));
      }, i.prototype.buttonUp = function(e, t) {
        this._active = !1, clearInterval(this._stepTimer), this._stepTimer = null;
      }, i.prototype.setButtonStyle = function(e, t, o, r, n) {
        var s = e.style;
        o ? (t === 0 ? s.top = "0px" : s.removeProperty("top"), t === 0 ? s.removeProperty("bottom") : s.bottom = "0px", s.right = r + "px", s.height = "9px") : (s.top = "0px", s.removeProperty("bottom"), s.right = r + n * t + "px", s.height = "100%"), s.width = n + "px";
        var l = t === 0 ? "rg-button-step-up" : "rg-button-step-down";
        return e.className = l, e.$_editButtonType = t === 0 ? "up" : "down", !0;
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype.setFocus = function() {
        !this._stepChanged && a.prototype.setFocus.call(this);
      }, i.prototype.$_strToNum = function(e) {
        e = "" + e;
        var t = new RegExp("\\" + this._decSep, "g"), o = new RegExp("\\" + this._groupSep, "g"), r = e[0] === "-";
        e = e.replace(o, "").replace(t, ".").replace(/\+/g, "");
        var n = parseFloat(e);
        return isNaN(n) ? NaN : r ? -Math.abs(n) : n;
      }, i.prototype.$_formatNum = function(e, t, o) {
        var r = e, n = r < 0 || r == 0 && 1 / r == -1 / 0 ? "-" : "", s = Math.max(t, o);
        s = isNaN(s) ? 2 : s;
        var l = parseInt(r = Math.abs(+r || 0).toFixed(s)) + "", h = l.length > 3 ? l.length % 3 : 0;
        if (r.indexOf(".") >= 0) {
          for (var u = r.split(".")[1].split(""); u.length > 0 && u[u.length - 1] === "0" && u.length > t; )
            u.splice(u.length - 1, 1);
          r = u.join(""), s = u.length;
        }
        return n + (h ? l.substr(0, h) + this._groupSep : "") + l.substr(h).replace(/(\d{3})(?=\d)/g, "$1" + this._groupSep) + (s ? this._decSep + r : "");
      }, i.prototype.$_editFormatting = function(e) {
        var t = e.target.value, o = t && t[0] === "-", r = t && t[t.length - 1] == this._decSep, n = e.target.selectionStart, s = e.target.selectionEnd;
        this._isMultiple && this._addString && (t = t.replace(new RegExp("\\" + this._multipleChar, "gi"), this._addString), n += this._addString.length, s += this._addString.length);
        var l, h = t.split(this._decSep);
        h.length > 1 && (h.length = 2, h[1] = h[1].substr(0, this._decimalFormatter._maxDigits), t = h.join(this._decSep)), l = h.length == 2 ? Math.min(h[1].length, this._decLen != null ? this._decLen : 99) : 0;
        var u = this.$_strToNum(t);
        if (!isNaN(u)) {
          if (this.maxLength > 0 || this.maxIntegerLength > 0) {
            u = Math.abs(u);
            var c = String(u).split(".");
            this.maxIntegerLength > 0 && (c[0] = c[0].substr(0, this.maxIntegerLength));
            var d = c.join(".");
            this.maxLength > 0 && (d = d.substr(0, this.maxLength)), u = parseFloat(d), o && (u = -u);
          }
          t = this.$_formatNum(u, l, this._decimalFormatter.maxDigits);
          var p = (t = r && this._decLen && t.indexOf(this._decSep) < 0 ? t + this._decSep : t).length, _ = e.target.value.length;
          Math.abs(p - _) == 1 && (p > _ ? (n++, s++) : t.indexOf(this._decSep) >= n - 1 && (n--, s--)), e.target.value = t, e.target.setSelectionRange(n, s);
        }
      }, i.prototype.$_resetValue = function() {
        if (this.visible) {
          var e = this._editor, t = e.selectionStart, o = e.selectionEnd, r = e.value ? e.value.length : 0;
          e.value = e.value.replace(bl, "").trim(), (e.value ? e.value.length : 0) == r ? e.setSelectionRange(t, o) : e.setSelectionRange(o, o);
        }
      }, i.prototype.$_resetRistrict = function() {
        this._positiveOnly && this._integerOnly ? this._regx = this._regxPosInt : this._positiveOnly ? this._regx = this._regxPos : this._integerOnly ? this._regx = this._regxInt : this._regx = this._regxAll;
      }, i.prototype.$_changeStepValue = function(e) {
        var t = this.getEditValue();
        t = t == null || t == isNaN(t) ? 0 : t, t += e, this._max != null && (t = Math.min(this._max, t)), this._min != null && (t = Math.max(this._min, t)), this.setEditValue(t), this._stepChanged = !0, this._doChanged(), this._stepChanged = !1;
      }, i.INPUT_CSS = "rg-number-editor", i;
    }(yt), Ld = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-editor-marquee";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), e.style.pointerEvents = "none";
      }, i.prototype._doDraw = function(e) {
      }, i.prototype.spread = function() {
        var e = this._dom, t = e.style, o = e.parentElement.getBoundingClientRect();
        t.left = o.left + "px", t.top = -o.top + "px", t.width = o.width + "px", t.height = o.height + "px", this._setClassName(e);
      }, i;
    }(qt), is = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        if (o._isMobile) {
          var r = te(t);
          o._marquee = new Ld(r);
        }
        return o;
      }
      return w(i, a), i.prototype.hasButton = function(e, t) {
        return !0;
      }, Object.defineProperty(i.prototype, "buttonCount", { get: function() {
        return 1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hasList", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype._showMarquee = function(e) {
        this._marquee && (e.appendChild(this._marquee._dom), this._marquee.spread());
      }, i.prototype._centerPopup = function(e, t) {
        var o = t.getBoundingClientRect(), r = e.getBoundingClientRect(), n = be(e).innerHeight;
        e.appendChild(t), t.style.left = (r.width - o.width) / 2 + "px", t.style.top = (n - o.height) / 2 - r.top + "px";
      }, i.prototype._closeMarquee = function() {
        this._marquee && b.detach(this._marquee._dom);
      }, i.prototype._isMarquee = function(e) {
        return this._marquee && e === this._marquee._dom;
      }, Object.defineProperty(i.prototype, "textReadOnly", { get: function() {
        return this._textReadOnly;
      }, set: function(e) {
        this._setTextReadOnly(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "allowEmpty", { get: function() {
        return this._allowEmpty;
      }, set: function(e) {
        this._setAllowEmpty(e);
      }, enumerable: !1, configurable: !0 }), i;
    }(yt);
    f.DropDownPosition = void 0, (fl = f.DropDownPosition || (f.DropDownPosition = {})).BUTTON = "button", fl.EDITOR = "editor", f.DropDownSortStyle = void 0, (Jn = f.DropDownSortStyle || (f.DropDownSortStyle = {})).NONE = "none", Jn.ASCENDING = "ascending", Jn.DESCENDING = "descending", f.DropDownValueLabel = void 0, (vr = f.DropDownValueLabel || (f.DropDownValueLabel = {})).VALUE = "value", vr.LABEL = "label", vr.VALUE_LABEL = "valueLabel", vr.LABEL_VALUE = "labelValue";
    var os = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._minWidth = 0, t._maxWidth = 0, t._dropDownCount = 8, t._caseSensitive = !1, t._partialMatch = !1, t._sortStyle = f.DropDownSortStyle.NONE, t._items = null, t._itemIndex = -1, t._dropDownPosition = f.DropDownPosition.BUTTON, t._dropDownWidth = -1, t._displayLabels = null, t._separator = null, t._itemColumned = !1, t._viewGridInside = !1, t._trimLabelText = !0, t._initCount = 0, t._moreItemCount = 25, t._moreText = null, t._selected = !1, t._clickHandler = function(o) {
          var r = o.currentTarget, n = b.getChildIndex(r);
          n >= 0 && (this._itemIndex = n, this._selected = !0, this.fireEvent(i.CLOSE_UP, !0));
        }.bind(t), t._nextClickHandler = function(o) {
          var r = o.currentTarget;
          this.$_addMoreItems(r);
        }.bind(t), t._container = e, t._element = t._createList(e.doc), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._container = null, this._containerElement = null, this._items = null, b.clearElements(this._element), this._element.parentNode && this._element.parentNode.removeChild(this._element), this._element = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "minWidth", { get: function() {
        return this._minWidth;
      }, set: function(e) {
        e != this._minWidth && (this._minWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxWidth", { get: function() {
        return this._maxWidth;
      }, set: function(e) {
        e != this._maxWidth && (this._maxWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownCount", { get: function() {
        return this._dropDownCount;
      }, set: function(e) {
        e != this._dropDownCount && (this._dropDownCount = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "caseSensitive", { get: function() {
        return this._caseSensitive;
      }, set: function(e) {
        e != this._caseSensitive && (this._caseSensitive = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "partialMatch", { get: function() {
        return this._partialMatch;
      }, set: function(e) {
        e != this._partialMatch && (this._partialMatch = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortStyle", { get: function() {
        return this._sortStyle;
      }, set: function(e) {
        e != this._sortStyle && (this._sortStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "items", { get: function() {
        return this._items;
      }, set: function(e) {
        if (this._items = [], e)
          for (var t = 0, o = e.length; t < o; t++)
            this._items.push({ label: e[t].label, value: e[t].value, index: t });
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemIndex", { get: function() {
        return this._itemIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownPosition", { get: function() {
        return this._dropDownPosition;
      }, set: function(e) {
        e != this._dropDownPosition && (this._dropDownPosition = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownWidth", { get: function() {
        return this._dropDownWidth;
      }, set: function(e) {
        e != this._dropDownWidth && (this._dropDownWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayLabels", { get: function() {
        return this._displayLabels;
      }, set: function(e) {
        e !== this._displayLabels && (this._displayLabels = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "separator", { get: function() {
        return this._separator;
      }, set: function(e) {
        e != this._separator && (this._separator = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemColumned", { get: function() {
        return this._itemColumned;
      }, set: function(e) {
        e != this._itemColumned && (this._itemColumned = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "viewGridInside", { get: function() {
        return this._viewGridInside || b.isSlotMode();
      }, set: function(e) {
        e != this._viewGridInside && (this._viewGridInside = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "trimLabelText", { get: function() {
        return this._trimLabelText;
      }, set: function(e) {
        e != this._trimLabelText && (this._trimLabelText = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "initCount", { get: function() {
        return this._initCount;
      }, set: function(e) {
        e != this._initCount && (this._initCount = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "moreItemCount", { get: function() {
        return this._moreItemCount;
      }, set: function(e) {
        e != this._moreItemCount && (this._moreItemCount = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "moreText", { get: function() {
        return this._moreText;
      }, set: function(e) {
        e != this._moreText && (this._moreText = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "listing", { get: function() {
        return this._containerElement && this._containerElement.contains(this._element);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemCount", { get: function() {
        return this.initCount == 0 ? this._items && this._items.length : this._element.children.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueIndex", { get: function() {
        var e = this._items, t = this._itemIndex;
        return e && t >= 0 && t < e.length ? e[t].index : -1;
      }, set: function(e) {
        if (e = Math.max(-1, e), this._itemIndex = -1, e >= 0) {
          for (var t = 0, o = this._items.length; t < o; t++)
            if (this._items[t].index == e) {
              this._itemIndex = e;
              break;
            }
        }
        this.listing && this._refreshItems();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selected", { get: function() {
        return this._selected;
      }, enumerable: !1, configurable: !0 }), i.prototype.setItemIndex = function(e, t, o) {
        var r = this._element.childNodes;
        if ((e = Math.max(-1, e)) < this._items.length && (t || e != this._itemIndex || e >= r.length - 1)) {
          if (o && e >= r.length - 1) {
            var n = r[r.length - 1];
            if (n.isMoreButton) {
              var s = e - (r.length - 1);
              s = (Math.floor(s / this.moreItemCount) + 1) * this.moreItemCount, this.$_addMoreItems(n, s);
            }
          }
          this._itemIndex = e, this.listing && this._refreshItems(), this._selected = e >= 0;
        }
      }, i.prototype.setZIndex = function(e) {
        this._element.style.zIndex = String(e);
      }, i.prototype.show = function(e, t, o, r, n) {
        this._containerElement = this.viewGridInside ? this._container._container : e, this._sortStyle != f.DropDownSortStyle.NONE && this.$_sortItems(), this._show(t, o, r, n);
      }, i.prototype.hide = function() {
        b.detach(this._element), this._containerElement = null;
      }, i.prototype.currentIsMore = function(e) {
        var t = this._element.childNodes[e ?? this._itemIndex];
        return t && t.isMoreButton;
      }, i.prototype.addMoreItems = function() {
        if (this.currentIsMore(null)) {
          var e = this._element.childNodes[this._itemIndex];
          this.$_addMoreItems(e, 0);
        }
      }, i.prototype._changed = function() {
      }, i.prototype._createList = function(e) {
        var t = e.createElement("div");
        return t.className = "rg-dropdownlist", t.id = "rg-dropdown-list-" + so.$$_LIST_ID++, t.setAttribute("role", "listbox"), t;
      }, i.prototype.$_sortItems = function() {
        this._sortStyle == f.DropDownSortStyle.ASCENDING ? this._items.sort(function(e, t) {
          return e.label < t.label ? -1 : e.label > t.label ? 1 : 0;
        }) : this._items.sort(function(e, t) {
          return e.label > t.label ? -1 : e.label < t.label ? 1 : 0;
        });
      }, i.prototype._show = function(e, t, o, r) {
        var n = this._element;
        if (n) {
          var s = n.style;
          s.position = "absolute", s.cssFloat = "none", s.clear = "both", s.boxSizing = "border-box", s.minWidth = "20px", s.minHeight = "10px", s.overflow = "auto", this._firstChild = null, b.clearChildren(n), b.disableSelection(n), this._containerElement.appendChild(n), this._cellWidth = o, this._editBounds = r, s.width = "10px", this._buildItems(), this.$_resetHeight(), this._resetWidth(o), this.$_resetPosition(e, t, o, r), this._selected = !1;
        }
      }, i.prototype._getListElement = function() {
        return this._element;
      }, i.prototype.$_resetHeight = function() {
        var e = this._getListElement();
        if (this._firstChild) {
          var t = be(this._firstChild), o = b.getClientRect(this._firstChild), r = this._firstChild.currentStyle || t.getComputedStyle(this._firstChild), n = parseInt(r.marginTop.replace("px", ""));
          n = isNaN(n) ? 0 : n;
          var s = parseInt(r.marginBottom.replace("px", ""));
          s = isNaN(s) ? 0 : s;
          var l = this._dropDownCount > 0 ? Math.min(this._dropDownCount, this._items.length) : this._items.length;
          e.style.height = (o.height + n) * l + 4 + s + "px";
        } else
          e.style.height = "10px";
      }, i.prototype._resetWidth = function(e) {
        var t = this._element, o = b.getClientRect(t), r = this._dropDownWidth, n = r, s = t.offsetWidth ? t.offsetWidth + (b.ieOld && t.style.boxSizing === "border-box" ? 17 : 0) : 0;
        n < 0 ? n = e : n == 0 && (n = 10), t.style.width = n + "px";
        var l = 0;
        if (this._firstChild) {
          var h = be(this._firstChild), u = this._firstChild.currentStyle || h.getComputedStyle(this._firstChild), c = parseInt(u.marginLeft.replace("px", ""));
          c = isNaN(c) ? 0 : c;
          var d = parseInt(u.marginRight.replace("px", ""));
          d = isNaN(d) ? 0 : d;
          for (var p = t.childNodes, _ = 0; _ < p.length; _++)
            l = Math.max(l, p[_].scrollWidth);
          l += t.offsetWidth - t.clientWidth + c + d + 2;
        }
        r < 0 && (l = Math.max(l, n));
        var g = b.getBrowserSize();
        n = l = Math.min(l, g.width), b.ieOld && (r >= 0 || l > n) && (n += 20), n < o.width ? t.style.overflowX = "hidden" : t.style.overflowX = "auto", t.style.width = Math.max(n, s) + "px";
      }, i.prototype.$_resetPosition = function(e, t, o, r) {
        var n = te(this._element), s = be(this._element), l = b.getBrowserSize(), h = b.getClientRect(this._containerElement), u = b.getClientRect(this._container._container), c = l.width, d = l.height, p = b.getClientRect(this._element), _ = s.pageXOffset || n.documentElement.scrollLeft, g = s.pageYOffset || n.documentElement.scrollTop;
        n.documentElement.scrollWidth > n.documentElement.clientWidth && (d -= 18), n.documentElement.scrollHeight > n.documentElement.clientHeight && (c -= 18), e += u.left - h.left, t += u.top - h.top, (b.ieTen || b.ieOld || b.ieLeg) && (e += n.documentElement.scrollLeft, t += n.documentElement.scrollTop), t + p.height > d + g && r && (t = t - r.height - p.height) < 0 && (t = d - p.height - 2), this._dropDownPosition != f.DropDownPosition.EDITOR ? e = Math.max(0, e + o - p.width) : e + p.width > c + _ && (e = c - p.width), !b.isMobile() && this.viewGridInside && r && (t = r.bottom - h.top + 2, (h.bottom < r.bottom + p.height || d + g < r.bottom + p.height) && (t = r.top - p.height - h.top - 2)), b.isMobile() && !b.isTablet() || this._element.offsetParent || (e += n.documentElement.offsetLeft, t += n.documentElement.offsetTop), b.move(this._element, Math.max(0, e), Math.max(0, t));
      }, i.prototype._resetItems = function(e, t, o, r) {
        b.clearChildren(this._element), this._firstChild = null, this._buildItems(), this.$_resetHeight(), this._resetWidth(o), this.$_resetPosition(e, t, o, r);
      }, i.prototype._buildItems = function(e, t) {
        e === void 0 && (e = 0), t === void 0 && (t = 0);
        var o, r = te(this._element), n = 0, s = function(I, E) {
          var O = E && E.value ? E.value.toString() : "", P = r.createElement("span");
          return P.style.whiteSpace = "pre", P.innerHTML = O ? b.htmlEncode(O) : "&nbsp;", P.tabIndex = -1, P.className = "rg-dropdown-value", b.disableSelection(P), I.appendChild(P), P;
        }, l = function(I, E) {
          var O = E && E.label ? E.label.toString() : "";
          O = this._trimLabelText ? O.trim() : O;
          var P = r.createElement("span");
          return !this._trimLabelText && (P.style.whiteSpace = "pre"), P.innerHTML = O ? b.htmlEncode(O) : "&nbsp;", P.tabIndex = -1, P.className = "rg-dropdown-label", b.disableSelection(P), I.appendChild(P), P;
        }.bind(this), h = function(I, E) {
          var O = r.createElement("span");
          O.style.whiteSpace = "pre", O.innerHTML = E ? b.htmlEncode(E) : "&nbsp;", O.tabIndex = -1, O.className = "rg-dropdown-seperator", b.disableSelection(O), I.appendChild(O);
        }, u = function(I) {
          var E = b.getTextLength(I.textContent);
          E > n && (o = I, n = E);
        }, c = this._items, d = t || (this._element.children.length > 0 ? this.moreItemCount : this.initCount);
        if (c && !(c.length < 1)) {
          for (var p = e, _ = c.length; p < _; p++) {
            if (this._initCount && p - e >= d && p < _) {
              var g = r.createElement("div"), y = g.style;
              y.position = "relative", y.cssFloat = "none", y.paddingTop = "1px", y.paddingBottom = "1px", y.paddingLeft = "2px", y.paddingRight = "2px", y.whiteSpace = "nowrap", y.cursor = "pointer", y.textAlign = "center", b.disableSelection(g), g.nextIndex = p, g.onclick = this._nextClickHandler, g.isMoreButton = !0, g.className = "rg-dropdown-more", l(g, { label: this.moreText }), this._element.appendChild(g);
              break;
            }
            var m = c[p], v = r.createElement("div");
            v.setAttribute("role", "option"), v.id = this._element.id + "-" + p.toString();
            var C = v.style;
            C.position = "relative", C.cssFloat = "none", C.paddingTop = "1px", C.paddingBottom = "1px", C.paddingLeft = "2px", C.paddingRight = "2px", C.whiteSpace = "nowrap", C.cursor = "default", v.className = p == this._itemIndex ? "rg-dropdown-select rg-dropdown-item" : "rg-dropdown-item", p === this._itemIndex ? v.setAttribute("aria-selected", "true") : v.removeAttribute("aria-selected"), b.disableSelection(v), this._element.appendChild(v), p == 0 && (this._firstChild = v), v.onclick = this._clickHandler;
            var x = null;
            switch (this.displayLabels) {
              case f.DropDownValueLabel.LABEL:
                l(v, m);
                break;
              case f.DropDownValueLabel.VALUE:
                s(v, m);
                break;
              case f.DropDownValueLabel.LABEL_VALUE:
                x = l(v, m), h(v, this._separator), s(v, m);
                break;
              case f.DropDownValueLabel.VALUE_LABEL:
                x = s(v, m), h(v, this._separator), l(v, m);
            }
            x && this._itemColumned && u(x);
          }
          if (this._itemColumned && o) {
            var S = Math.ceil(o.getBoundingClientRect().width);
            for (p = 0, _ = this._element.childNodes.length; p < _; p++)
              (x = this._element.childNodes[p].firstChild).style.display = "inline-block", x.style.width = S + "px";
          }
        }
      }, i.prototype.$_addMoreItems = function(e, t) {
        var o = e.nextIndex;
        e.parentNode && e.parentNode.removeChild(e), this._buildItems(o, t), this._resetWidth(this._cellWidth), this.fireEvent(i.EDITOR_FOCUS);
      }, i.prototype._refreshItems = function() {
        for (var e = this._element.childNodes, t = 0; t < e.length; t++)
          (o = e[t]).className = t == this._itemIndex ? "rg-dropdown-select rg-dropdown-item" : "rg-dropdown-item", t == this._itemIndex ? o.setAttribute("aria-selected", "true") : o.removeAttribute("aria-selected"), t == this._itemIndex && this.fireEvent(i.ACTIVE_DESCENDENT, o.id);
        var o, r = this._itemIndex;
        if (r >= 0 && r < e.length)
          if ((o = e[r]).offsetTop < this._element.scrollTop)
            this._element.scrollTop = o.offsetTop;
          else {
            var n = o.offsetTop + b.getSize(o).height;
            n >= this._element.scrollTop + this._element.clientHeight && (this._element.scrollTop = n - this._element.clientHeight);
          }
      }, i.prototype.$_search = function(e, t) {
        t === void 0 && (t = !1);
        try {
          if (this._items && this._items.length > 0 && e) {
            for (var o = this._items, r = o.length, n = this._caseSensitive ? e : e.toLowerCase(), s = [], l = 0; l < r; l++) {
              if (d = o[l].label.toString()) {
                if (d = this._caseSensitive ? d : d.toLowerCase(), this._partialMatch) {
                  for (var h = "", u = 0; u < d.length; u++) {
                    var c = b.hangulToChosung(d[u]);
                    h += b.hangulToChosung(n[u]).org ? c.org : c.cho;
                  }
                  if (h == n)
                    return void this.setItemIndex(l, t, !0);
                } else if (d == n)
                  return void this.setItemIndex(l, t, !0);
              }
              s.push(d);
            }
            for (l = 0; l < r; l++) {
              var d = s[l];
              if (this._partialMatch) {
                var p = !1;
                for (u = 0; u < n.length; u++) {
                  var _ = b.hangulToChosung(d[u]);
                  if (!(_.org && _.org == n[u] || _.cho && _.cho == n[u])) {
                    p = !1;
                    break;
                  }
                  p = !0;
                }
                if (p)
                  return void this.setItemIndex(l, t, !0);
              } else if (d && d.indexOf(n) == 0)
                return void this.setItemIndex(l, t, !0);
            }
            for (l = 0; l < r; l++)
              if (d = s[l], this._partialMatch) {
                var g = b.hangulToChosungAll(d), y = b.hangulToChosungAll(n), m = g.indexOf(y);
                if (h = d.substr(0, m), ~m) {
                  u = 0;
                  for (var v = m, C = n.length; u < C; u++, v++)
                    c = b.hangulToChosung(d[v]), h += b.hangulToChosung(n[u]).org ? c.org : c.cho;
                }
                if (h && h.indexOf(n) > 0)
                  return void this.setItemIndex(l, t, !0);
              } else if (d && d.indexOf(n) > 0)
                return void this.setItemIndex(l, t, !0);
          }
          this.setItemIndex(-1);
        } finally {
          t && (this._selected = !0);
        }
      }, i.CLOSE_UP = "onDropDownListCloseUp", i.EDITOR_FOCUS = "onDropDownListEditorFocus", i.ACTIVE_DESCENDENT = "onDropDownListActiveDescendant", i;
    }(Be), so = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        o._values = null, o._items = null, o._labels = null, o._displayLabels = f.DropDownValueLabel.LABEL, o._domainOnly = !1, o._dropDownWidth = -1, o._dropDownPosition = f.DropDownPosition.BUTTON, o._dropDownCount = 8, o._itemSortStyle = f.DropDownSortStyle.NONE, o._caseSensitive = !1, o._partialMatch = !1, o._commitOnSelect = !0, o._dropDownWhenClick = !1, o._trimLabelText = !0, o._separator = null, o._itemColumned = !1, o._lookup = !1, o._labeling = !1, o._domain = null, o._closing = !1, o._selectedIndex = -1, o._globalMouseHandler = function(n) {
          var s = n.target;
          if (this._isMarquee(s))
            this.closeUp(!1);
          else {
            for (; s; ) {
              if (s == this._list._element)
                return;
              s = s.parentElement;
            }
            this.closeUp(!0);
          }
        }.bind(o);
        var r = o._list = o._createDropDown(e.container);
        return o._setEditorAria("aria-owns", r._element.id), o._setEditorAria("aria-expanded", "false"), o._setEditorAria("aria-haspopup", "true"), o._setEditorAria("role", "combobox"), o._list.addListener(o), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._globalMouseHandler = null, this._list.removeListener(this), this._list.dispose(), this._list = this._items = this._values = this._labels = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "values", { get: function() {
        return this._values;
      }, set: function(e) {
        (e = b.makeArray(e, !0)) ? this._values = e.map(function(t) {
          return t != null ? String(t) : t;
        }) : this._values = [];
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "labels", { get: function() {
        return this._labels;
      }, set: function(e) {
        this._labels = e ? e.slice() : [];
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayLabels", { get: function() {
        return this._displayLabels;
      }, set: function(e) {
        e != this._displayLabels && (this._displayLabels = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "domainOnly", { get: function() {
        return this._domainOnly;
      }, set: function(e) {
        e != this._domainOnly && (this._domainOnly = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownWidth", { get: function() {
        return this._dropDownWidth;
      }, set: function(e) {
        e != this._dropDownWidth && (this._dropDownWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownPosition", { get: function() {
        return this._dropDownPosition;
      }, set: function(e) {
        e != this._dropDownPosition && (this._dropDownPosition = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownCount", { get: function() {
        return this._dropDownCount;
      }, set: function(e) {
        e != this._dropDownCount && (this._dropDownCount = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemSortStyle", { get: function() {
        return this._itemSortStyle;
      }, set: function(e) {
        e != this.itemSortStyle && (this._itemSortStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "caseSensitive", { get: function() {
        return this._caseSensitive;
      }, set: function(e) {
        e != this._caseSensitive && (this._caseSensitive = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "partialMatch", { get: function() {
        return this._partialMatch;
      }, set: function(e) {
        e != this._partialMatch && (this._partialMatch = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitOnSelect", { get: function() {
        return this._commitOnSelect;
      }, set: function(e) {
        e != this._commitOnSelect && (this._commitOnSelect = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownWhenClick", { get: function() {
        return this._dropDownWhenClick;
      }, set: function(e) {
        e != this._dropDownWhenClick && (this._dropDownWhenClick = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "trimLabelText", { get: function() {
        return this._trimLabelText;
      }, set: function(e) {
        e != this._trimLabelText && (this._trimLabelText = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "separator", { get: function() {
        return this._separator;
      }, set: function(e) {
        e != this._separator && (this._separator = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemColumned", { get: function() {
        return this._itemColumned;
      }, set: function(e) {
        e != this._itemColumned && (this._itemColumned = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "listing", { get: function() {
        return this._list.listing;
      }, enumerable: !1, configurable: !0 }), i.prototype.dropDown = function(e) {
        if (e === void 0 && (e = !1), !this.readOnly && !this.listing && !this._closing) {
          this._refreshItems();
          var t = te(this._container), o = be(this._container);
          if (this._grid, e || this._items && this._items.length > 0) {
            var r = this._list, n = this._options, s = t.documentElement, l = b.getClientRect(this._container);
            r.viewGridInside = n.viewGridInside, r.displayLabels = this.displayLabels, r.separator = this.separator, r.itemColumned = this.itemColumned, r.items = this._items, this._saveIndex = this._selectedIndex, this._saveText = this._editor.value, r.caseSensitive = this._caseSensitive, r.partialMatch = this._partialMatch, r.dropDownCount = this._dropDownCount, r.dropDownWidth = this._dropDownWidth, r.dropDownPosition = this._dropDownPosition, r.sortStyle = this._itemSortStyle, r.valueIndex = this._selectedIndex, r.trimLabelText = this._trimLabelText;
            var h = this._grid.displayOptions;
            return r.setZIndex(h.baseZindex + 3), this._isMobile && !this._isTablet ? (this._showMarquee(s), r.viewGridInside = !1, r.show(s, 0, 0, 0, null), this._centerPopup(s, r._element)) : r.show(t.documentElement, l.cx + 1, l.cy + l.height, this._cellBounds.width, b.getClientRect(this._editor)), r.$_search(this._editor.value, !0), this._setEditorAria("aria-expanded", "true"), !b.isSlotMode() && o.addEventListener("pointerdown", this._globalMouseHandler), !0;
          }
        }
        return !1;
      }, i.prototype.closeUp = function(e, t) {
        if (this.listing) {
          this._closing = !0;
          var o = this._isMobile && !this._isTablet;
          try {
            var r = be(this._container);
            !b.isSlotMode() && r.removeEventListener("pointerdown", this._globalMouseHandler), this._closeMarquee(), this._list.hide();
            var n = void 0;
            if (e && this._list.selected && (n = this._list.valueIndex) >= 0 && this._items && this._items.length > n) {
              this._selectedIndex = this._list.valueIndex;
              var s = this._items[n].value, l = this._labeling ? this._items[n].label : this._items[n].value;
              this._editor.value = l, o ? this._commitListValue(s) : (n == this._saveIndex && l == this._saveText || this._dispatchChange(), t && this._commitOnSelect && this._dispatchCommit());
            } else
              this._selectedIndex = -1;
          } finally {
            this._closing = !1, this._setEditorAria("aria-expanded", "false"), this.setActiveDescendant(null);
          }
          return !0;
        }
      }, i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this), this._values = [], this._labels = [], this._displayLabels = f.DropDownValueLabel.LABEL, this._separator = " - ", this._itemColumned = !1, this._domainOnly = !1, this._textReadOnly = !1, this._dropDownWidth = -1, this._dropDownPosition = f.DropDownPosition.BUTTON, this._dropDownCount = 8, this._itemSortStyle = f.DropDownSortStyle.NONE, this._caseSensitive = !1, this._partialMatch = !1, this._commitOnSelect = !0, this._dropDownWhenClick = !1, this._viewGridInside = !1, this._initCount = 0, this._moreItemCount = 25, this._moreText = window.RG_CONST && window.RG_CONST.MORETEXT || "더보기", this._setEditorAria("aria-activedescendant", null);
      }, i.prototype.setEditIndex = function(e) {
        a.prototype.setEditIndex.call(this, e), this._lookup = !1, this._labeling = !1, this._domain = null, this._items = null, this._refreshItems();
      }, i.prototype.setEditValue = function(e) {
        var t = this, o = -1, r = function(c, d) {
          var p;
          a.prototype.setEditValue.call(t, c ? ((p = {})[c] = d, p) : d);
        };
        this._value = e;
        var n = this._editIndex.dataColumn, s = n.getField(), l = n.objectKey || s.objectKey;
        if (e = l && e ? e[l] : e, this._lookup) {
          var h = this._domain;
          if (h) {
            var u = o = h.keys ? h.keys.indexOf(e) : -1;
            u >= 0 && h.values && h.values.length > u && h.values[u];
          } else
            o = this._editIndex.dataColumn.getLookupIndex(e);
          this._labeling ? r(l, h ? o >= 0 && h.values && h.values.length > o ? h.values[o] : e : o >= 0 ? this._editIndex.dataColumn.getLookupLabel(e) : e) : r(l, e);
        } else
          this._values && this._labeling && this._labels ? r(l, this._labels[this._values.indexOf(e)] || e) : r(l, e);
        this._selectedIndex = o;
      }, i.prototype.isEdited = function() {
        var e = a.prototype.isEdited.call(this);
        return e && this.domainOnly && (e = this.$_getEditValue(!1) !== void 0), e;
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype._setEditorAria = function(e, t) {
        t ? this._editor.setAttribute(e, t) : this._editor.removeAttribute(e);
      }, i.prototype._createDropDown = function(e) {
        return new os(e);
      }, i.prototype.setCellEditValue = function(e, t) {
        a.prototype.setCellEditValue.call(this, e, t);
      }, i.prototype.getEditValue = function(e, t) {
        return e === void 0 && (e = !0), !this.isEdited() && this._selectedIndex < 0 ? this._value : this.$_getEditValue(e, t);
      }, i.prototype.setBounds = function(e, t, o, r, n) {
        a.prototype.setBounds.call(this, e, t, o, r, n);
      }, i.prototype._createEditor = function(e) {
        return a.prototype._createEditor.call(this, e);
      }, i.prototype._textHandler = function() {
        this._requestStart();
      }, i.prototype._compositionstartHandler = function(e) {
        a.prototype._compositionstartHandler.call(this, e);
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled()) {
          var t = this._list, o = t.itemIndex;
          switch (e.keyCode) {
            case 8:
            case 46:
              if (!(!e.ctrlKey && !e.shiftKey && this.domainOnly && this.allowEmpty)) {
                if (!e.ctrlKey && !e.shiftKey && this.textReadOnly)
                  return this._requestStart(), e.preventDefault(), !0;
              }
              break;
            case 32:
              if (this.listing && t.currentIsMore(o))
                return t.addMoreItems(), e.preventDefault(), !0;
              break;
            case 13:
              if (this.listing && t.currentIsMore(o))
                return t.addMoreItems(), e.preventDefault(), !0;
              if (this.closeUp(!0, !1))
                return !this._sendToParent(e);
              break;
            case 27:
              if (this.closeUp(!1, !1))
                return e.preventDefault(), !0;
              break;
            case 40:
              if (!e.shiftKey && e.altKey && !this.listing)
                return this._requestStart(), e.preventDefault(), !0;
              if (this.listing)
                return this._list.setItemIndex(Math.min(t.itemCount - 1, o + 1)), e.preventDefault(), !0;
              break;
            case 34:
              if (this.listing)
                return this._list.setItemIndex(Math.min(t.itemCount - 1, o + t.dropDownCount)), e.preventDefault(), !0;
              break;
            case 38:
              if (e.altKey && this.listing)
                return this.closeUp(!1, !1), e.preventDefault(), !0;
              if (this.listing)
                return this._list.setItemIndex(Math.max(0, o - 1)), e.preventDefault(), !0;
              break;
            case 33:
              if (this.listing)
                return this._list.setItemIndex(Math.max(0, o - t.dropDownCount)), e.preventDefault(), !0;
          }
          return a.prototype._keyDownHandler.call(this, e);
        }
      }, i.prototype._keyPressHandler = function(e) {
        this.isDisabled() || (a.prototype._keyPressHandler.call(this, e), e.keyCode && this.textReadOnly && e.preventDefault());
      }, i.prototype._inputHandler = function(e) {
        this.isDisabled() || (this.textReadOnly && (e.target.value = this._oldValue || ""), a.prototype._inputHandler.call(this, e));
      }, i.prototype._pasteHandler = function(e) {
        this.isDisabled() || a.prototype._pasteHandler.call(this, e);
      }, i.prototype._copyHandler = function(e) {
        this.isDisabled() || a.prototype._copyHandler.call(this, e);
      }, i.prototype._requestStart = function(e) {
        return !!a.prototype._requestStart.call(this, e) && (this._isMobile ? e && this.dropDown() : e !== !1 && this.dropDown(), !0);
      }, i.prototype._doChanged = function() {
        this._selectedIndex = -1, a.prototype._doChanged.call(this), this.listing && this._list.$_search(this._editor.value);
      }, i.prototype.dropDownList = function(e) {
        this.dropDown(e) && this._setEditorAria("aria-expanded", "true");
      }, i.prototype.closeList = function(e) {
        this.closeUp(e, !1), this._setEditorAria("aria-expanded", "false");
      }, i.prototype.buttonClicked = function(e) {
        this.listing ? this.closeUp(!1, !1) : this.dropDown();
      }, i.prototype.$_setItems = function(e, t) {
        this._items = [];
        for (var o = 0, r = e.length; o < r; o++)
          this._items.push({ value: e[o], label: t && t.length > o ? t[o] : e[o] });
      }, i.prototype._refreshItems = function(e, t) {
        e === void 0 && (e = !1), t === void 0 && (t = !1);
        var o = this.editIndex, r = o.item;
        if (this._values && (this._values.length > 0 || t))
          this.$_setItems(this._values, this._labels), this._labeling = this.displayLabels !== f.DropDownValueLabel.VALUE && this._labels && this._labels.length >= this._values.length;
        else if (o.dataColumn && o.item && (o.dataRow >= 0 || nt(r.itemState))) {
          var n = o.dataColumn;
          if (n.lookupSource) {
            for (var s = n.lookupKeyFieldIds, l = [], h = 0; h < s.length - 1; h++)
              l.push(r.getData(s[h]));
            var u = n.lookupSource.getTextDomain(l);
            u && u.values && u.values.length > 0 && (this.$_setItems(u.keys, u.values), this._labeling = !0, this._lookup = !0, this._domain = u);
          } else
            n.values && n.values.length > 0 && (this.$_setItems(n.values, n.labels), this._labeling = this.displayLabels !== f.DropDownValueLabel.VALUE && n.labels && n.labels.length >= n.values.length, this._lookup = !0);
        }
        if (e && this.listing) {
          this._list.items = this._items;
          var c = b.getClientRect(this._container);
          this._list._resetItems(c.cx - 1, c.cy + c.height, this._cellBounds.width, b.getClientRect(this._editor));
        }
      }, i.prototype.$_getEditValue = function(e, t) {
        e === void 0 && (e = !0), t === void 0 && (t = !1);
        var o = this.text, r = yt.prototype.getEditValue.call(this, e, t), n = this._editIndex.dataColumn, s = this._selectedIndex, l = s >= 0, h = n.getField(), u = h.dataType === f.ValueType.OBJECT && (n.objectKey || h.objectKey), c = u && r ? r[u] : r;
        if (this._lookup) {
          if (this._domain) {
            if (this._labeling && (c = (d = l ? s : this._domain.values ? this._domain.values.indexOf(o) : -1) >= 0 && this._domain.keys && this._domain.keys.length > d ? this._domain.keys[d] : c), this.domainOnly && c && (!this._domain.keys || this._domain.keys.indexOf(c) < 0))
              return $e.Unselected;
          } else if (this._labeling && (c = l ? n.getLookupValue(s) : n.getSourceValue(o) || (u ? r[u] : r)), this.domainOnly && c && (!n.values || n.values.indexOf(c) < 0))
            return $e.Unselected;
        } else {
          var d;
          if (this._labeling && (d = l ? s : this._labels ? this._labels.indexOf(o) : -1) >= 0 && d < this._values.length && (c = this._values[d]), this.domainOnly && c && (!this._values || this._values.indexOf(c) < 0))
            return $e.Unselected;
        }
        return u ? (r[u] = c, r) : c;
      }, i.prototype.setActiveDescendant = function(e) {
        this._setEditorAria("aria-activedescendant", e);
      }, i.prototype.onDropDownListCloseUp = function(e, t) {
        this.closeUp(t, !0), !b.isMobile() && this.setFocus();
      }, i.prototype.onDropDownListEditorFocus = function() {
        this.setFocus();
      }, i.prototype.onDropDownListActiveDescendant = function(e, t) {
        this.setActiveDescendant(t);
      }, i.INPUT_CSS = "rg-list-editor", i.$$_LIST_ID = 0, i;
    }(is), Fd = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._selectItemIndices = [], t._acceptText = null, t._cancelText = null, t._showButtons = !1, t._showAllCheck = !1, t._acceptClickHandler = function(o) {
          this.fireEvent(i.CLOSE_UP_2, !0);
        }.bind(t), t._cancelClickHandler = function(o) {
          this.fireEvent(i.CANCEL, !1);
        }.bind(t), t._checkClickHandler = function(o) {
          o.stopImmediatePropagation();
          var r = o.currentTarget, n = r.parentElement;
          if (n) {
            var s = b.getChildIndex(n), l = r.checked;
            this.$_changeCheckIndex(n, s, l, !0);
          }
        }.bind(t), t._allCheckClickHandler = function(o) {
          if (o.stopImmediatePropagation(), o.eventPhase == 2 && o.currentTarget == this._allCheckElement)
            this._allCheck.checked = !this._allCheck.checked, this.$_toggleAllCheck();
          else if (o.eventPhase == 2 && o.currentTarget == this._allCheck)
            return void this.$_toggleAllCheck();
        }.bind(t), t._divClickHandler = function(o) {
          b.stopEvent(o, !0), o.currentTarget.firstElementChild.click();
        }.bind(t), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "valueIndices", { get: function() {
        return this._selectItemIndices.slice();
      }, set: function(e) {
        this._selectItemIndices = [], e != null && (this._selectItemIndices = e.slice(), this.listing && this._refreshItems(), this._selected = !1);
      }, enumerable: !1, configurable: !0 }), i.prototype.changeCheckIndex = function(e, t, o) {
        var r = this._listElement.childNodes;
        if (e >= 0 && e < r.length) {
          for (var n = r[e], s = n.getElementsByTagName("input"), l = void 0, h = 0, u = s.length; h < u; h++)
            if (s[h].type == "checkbox") {
              l = s[h];
              break;
            }
          l && (l.checked = t ?? !l.checked, this.$_changeCheckIndex(n, e, l.checked, o));
        }
      }, i.prototype.$_changeCheckIndex = function(e, t, o, r) {
        var n = this._selectItemIndices;
        if (!(t < 0 || t >= this._items.length)) {
          var s = this._items[t].index;
          o ? n.indexOf(s) < 0 && n.push(s) : n.indexOf(s) >= 0 && n.splice(n.indexOf(s), 1), e.className = "rg-multicheck-item" + (o ? " rg-multicheck-select" : ""), e.setAttribute("aria-selected", o ? "true" : "false"), this._selected = !0, this.$_changeAllCheck(), r && this.fireEvent(i.CHECK_CLICK);
        }
      }, i.prototype._createList = function() {
        var e = this._container.doc, t = e.createElement("div");
        t.className = "rg-multicheck", t.id = "rg-dropdown-list-" + so.$$_LIST_ID++, t.setAttribute("role", "listbox");
        var o = e.createElement("div");
        o.className = "rg-multicheck-allcheck", this._allCheckElement = o, o.style.paddingLeft = "2px", b.disableSelection(o), t.appendChild(o);
        var r = e.createElement("div");
        r.className = "rg-multicheck-list", this._listElement = r, t.appendChild(r);
        var n = e.createElement("div");
        return n.style.textAlign = "center", n.style.whiteSpace = "nowrap", n.className = "rg-multicheck-button", this._buttonElement = n, n.style.margin = "2px", b.disableSelection(n), t.appendChild(n), t;
      }, i.prototype._getListElement = function() {
        return this._listElement;
      }, i.prototype.setZIndex = function(e) {
        var t = this._element.style;
        t.zIndex = String(e), (t = this._listElement.style).zIndex = String(e);
      }, i.prototype.$_toggleAllCheck = function() {
        for (var e = this._listElement.childElementCount, t = this._allCheck.checked, o = 0; o < e; o++)
          this.changeCheckIndex(o, t, !1);
        this.fireEvent(i.CHECK_CLICK);
      }, i.prototype.$_changeAllCheck = function() {
        if (this._showAllCheck) {
          for (var e = !0, t = this._listElement.children, o = 0; o < t.length; o++) {
            var r = t[o].firstElementChild;
            e = e && r.checked;
          }
          this._allCheck.checked = e;
        }
      }, i.prototype._show = function(e, t, o, r) {
        var n = this._element;
        if (n) {
          var s = n.style;
          s.position = "absolute", s.cssFloat = "none", s.clear = "both", s.boxSizing = "border-box", s.minWidth = "20px", s.minHeight = "10px", s.overflow = "visible", (s = this._listElement.style).position = "relative", s.cssFloat = "none", s.clear = "both", s.boxSizing = "border-box", s.minWidth = "20px", s.minHeight = "10px", s.overflow = "auto", (s = this._buttonElement.style).position = "relative", s.cssFloat = "none", s.clear = "both", s.boxSizing = "border-box", s.marginLeft = "0px", s.marginRight = "0px", this._firstChild = null, b.clearChildren(this._listElement), b.disableSelection(this._listElement), this._containerElement.appendChild(n), this._buildItems(), this.$_buildButtons(), this.$_resetHeight(), this._resetWidth(o), this.$_resetPosition(e, t, o, r), this._itemIndex = -1, this._selectItemIndices.length && this.setItemIndex(this._selectItemIndices.slice().sort(function(l, h) {
            return l - h;
          })[0]), this._selected = !1;
        }
      }, i.prototype._resetWidth = function(e) {
        a.prototype._resetWidth.call(this, e);
        var t = this._element, o = Math.floor(this._buttonElement.getBoundingClientRect().width), r = t.getBoundingClientRect().width;
        isNaN(o) || (r = Math.max(r, o)), t.style.width = r + "px";
      }, i.prototype._resetItems = function(e, t, o, r) {
        b.clearChildren(this._listElement), this._firstChild = null, this._buildItems(), this.$_buildButtons(), this.$_resetHeight(), this._resetWidth(o), this.$_resetPosition(e, t, o, r);
      }, i.prototype._buildItems = function() {
        var e, t = this._container.doc, o = 0, r = function(C, x, S) {
          var I = x ? x.value.toString() : "", E = t.createElement("label");
          return E.style.whiteSpace = "pre", E.innerHTML = I ? b.htmlEncode(I) : "&nbsp;", E.htmlFor = S && S.id, E.tabIndex = -1, E.className = "rg-dropdown-value", b.disableSelection(E), C.appendChild(E), E;
        }.bind(this), n = function(C, x, S) {
          var I = x ? x.label.toString() : "";
          I = this._trimLabelText ? I.trim() : I;
          var E = t.createElement("label");
          return !this._trimLabelText && (E.style.whiteSpace = "pre"), E.innerHTML = I ? b.htmlEncode(I) : "&nbsp;", E.htmlFor = S && S.id, E.tabIndex = -1, E.className = "rg-dropdown-label", b.disableSelection(E), C.appendChild(E), E;
        }.bind(this), s = function(C, x) {
          var S = t.createElement("span");
          S.style.whiteSpace = "pre", S.style.pointerEvents = "none", S.innerHTML = x ? b.htmlEncode(x) : "&nbsp;", S.tabIndex = -1, S.className = "rg-dropdown-separator", b.disableSelection(S), C.appendChild(S);
        }.bind(this), l = function(C) {
          var x = b.getTextLength(C.textContent);
          x > o && (e = C, o = x);
        }.bind(this), h = this._items;
        if (h && !(h.length < 1)) {
          for (var u = 0, c = h.length; u < c; u++) {
            var d = h[u], p = t.createElement("div");
            p.setAttribute("role", "option"), p.id = this._element.id + "-" + u.toString();
            var _ = p.style;
            _.position = "relative", _.cssFloat = "none", _.paddingTop = "1px", _.paddingBottom = "1px", _.paddingLeft = "2px", _.paddingRight = "2px", _.whiteSpace = "nowrap", _.cursor = "default";
            var g = this._selectItemIndices.indexOf(h[u].index) >= 0;
            p.className = "rg-multicheck-item" + (g ? " rg-multicheck-select" : ""), b.disableSelection(p), this._listElement.appendChild(p), u == 0 && (this._firstChild = p), p.onclick = this._divClickHandler;
            var y = t.createElement("input");
            y.id = "$multiCheck_item_" + i.$_checkId++, y.type = "checkBox", y.onclick = this._checkClickHandler, y.checked = g, p.setAttribute("aria-selected", g ? "true" : "false"), p.appendChild(y);
            var m = null;
            switch (this.displayLabels) {
              case f.DropDownValueLabel.LABEL:
                n(p, d, y);
                break;
              case f.DropDownValueLabel.VALUE:
                r(p, d, y);
                break;
              case f.DropDownValueLabel.LABEL_VALUE:
                m = n(p, d, y), s(p, this.separator), r(p, d, y);
                break;
              case f.DropDownValueLabel.VALUE_LABEL:
                m = r(p, d, y), s(p, this.separator), n(p, d, y);
            }
            m && this.itemColumned && (l(m), p._span = m);
          }
          if (this.itemColumned && e) {
            var v = Math.ceil(e.getBoundingClientRect().width);
            if (v > 0)
              for (u = 0, c = this._listElement.childNodes.length; u < c; u++)
                (m = this._listElement.childNodes[u]._span) && (m.style.display = "inline-block", m.style.width = v + "px");
          }
        }
      }, i.prototype.setButtonOptions = function(e, t, o, r, n) {
        this._acceptText = e, this._cancelText = t, this._showButtons = o, this._showAllCheck = r, this._allCheckText = n, this.$_buildButtons();
      }, i.prototype.$_buildButtons = function() {
        var e = this._container.doc;
        if (this._buttonElement) {
          this._buttonElement.style.display = this._showButtons ? "" : "none", b.clearChildren(this._buttonElement);
          var t = e.createElement("label"), o = t.style;
          t.innerHTML = this._acceptText, t.onclick = this._acceptClickHandler, t.className = "rg-multicheck-accept", o.cursor = "pointer", b.disableSelection(t), this._buttonElement.appendChild(t), o = (t = e.createElement("label")).style, t.innerHTML = this._cancelText, t.onclick = this._cancelClickHandler, t.className = "rg-multicheck-cancel", o.marginLeft = "2px", o.cursor = "pointer", b.disableSelection(t), this._buttonElement.appendChild(t);
          var r = this._allCheckElement;
          if (r.onclick = this._allCheckClickHandler, b.clearChildren(r), this._showAllCheck) {
            r.style.display = "";
            var n = e.createElement("input");
            n.type = "checkbox", n.id = "$multiCheck_item_" + i.$_checkId++, n.onclick = this._allCheckClickHandler, this._allCheck = n, r.appendChild(n);
            var s = e.createElement("label");
            s.innerHTML = this._allCheckText, s.htmlFor = n.id, s.tabIndex = -1, b.disableSelection(s), r.appendChild(s), this.$_changeAllCheck();
          } else
            r.style.display = "none";
        }
      }, i.prototype._refreshItems = function() {
        for (var e = this._listElement.childNodes, t = -1, o = 0; o < e.length; o++) {
          t = o < this._items.length ? this._items[o].index : -1;
          var r = e[o];
          o === this._itemIndex ? (b.addClassName(r, "rg-multicheck-selectitem"), this.fireEvent(os.ACTIVE_DESCENDENT, r.id)) : b.removeClassName(r, "rg-multicheck-selectitem");
        }
        if ((t = this._itemIndex) >= 0 && t < e.length)
          if ((r = e[t]).offsetTop < this._listElement.scrollTop)
            this._listElement.scrollTop = r.offsetTop;
          else {
            var n = r.offsetTop + b.getSize(r).height;
            n >= this._listElement.scrollTop + this._listElement.clientHeight && (this._listElement.scrollTop = n - this._listElement.clientHeight);
          }
      }, i.CLOSE_UP_2 = "onMultiCheckListCloseUp", i.CANCEL = "onMultiCheckListCancel", i.CHECK_CLICK = "onMultiCheckListCheckClick", i.$_checkId = 0, i;
    }(os), Bd = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._showButtons = !0, o._showAllCheck = !1, o._setEditorAria("aria-multiselectable", "true"), o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "showButtons", { get: function() {
        return this._showButtons;
      }, set: function(e) {
        this._showButtons = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "acceptText", { get: function() {
        return this._acceptText;
      }, set: function(e) {
        this._acceptText = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cancelText", { get: function() {
        return this._cancelText;
      }, set: function(e) {
        this._cancelText = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "allCheckText", { get: function() {
        return this._allCheckText;
      }, set: function(e) {
        this._allCheckText = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showAllCheck", { get: function() {
        return this._showAllCheck;
      }, set: function(e) {
        this._showAllCheck = e;
      }, enumerable: !1, configurable: !0 }), i.prototype._createDropDown = function(e) {
        return new Fd(e);
      }, i.prototype.setMask = function(e) {
        this._mask = null;
      }, i.prototype.dropDown = function(e) {
        if (e === void 0 && (e = !1), !this.readOnly && !this.listing && !this._closing) {
          this._refreshItems();
          var t = te(this._container), o = be(this._container);
          if (e || this._items && this._items.length > 0) {
            this._grid;
            var r = this._list, n = this._options;
            this._selectedIndices = this._selectedIndices || [], r.viewGridInside = n.viewGridInside, r.displayLabels = this.displayLabels, r.separator = this.separator, r.itemColumned = this.itemColumned, r.items = this._items;
            var s = b.getClientRect(this._container);
            this._saveIndices = this._selectedIndices.slice(), this._saveText = this._editor.value, r.caseSensitive = this.caseSensitive, r.dropDownCount = this.dropDownCount, r.dropDownWidth = this.dropDownWidth, r.dropDownPosition = this.dropDownPosition, r.setButtonOptions(this.acceptText, this.cancelText, this.showButtons, this.showAllCheck, this.allCheckText), r.sortStyle = this.itemSortStyle, r.valueIndices = this._selectedIndices.slice(), r.trimLabelText = this.trimLabelText;
            var l = this._grid.displayOptions;
            if (r.setZIndex(l.baseZindex + 3), this._isMobile && !this._isTablet) {
              var h = t.documentElement;
              r.viewGridInside = !1, this._showMarquee(h), r.show(h, 0, 0, 0, null), this._centerPopup(h, r._element);
            } else
              r.show(t.documentElement, s.cx + 1, s.cy + s.height, this._cellBounds.width, b.getClientRect(this._editor));
            return !b.isSlotMode() && o.addEventListener("pointerdown", this._globalMouseHandler), !0;
          }
        }
        return !1;
      }, i.prototype.getCheckValues = function(e, t, o) {
        for (var r = [], n = 0, s = e.length; n < s; n++)
          e[n] >= 0 && e[n] < t.length && r.push(this._labeling && !o ? t[e[n]].label : t[e[n]].value);
        return r;
      }, i.prototype.closeUp = function(e, t) {
        if (this.listing) {
          this._closing = !0;
          try {
            var o = this._list, r = this.editIndex && this.editIndex.dataColumn, n = be(this._container);
            if (!b.isSlotMode() && n.removeEventListener("pointerdown", this._globalMouseHandler), this._closeMarquee(), o.hide(), e && o.selected) {
              if (this._selectedIndices = o.valueIndices.slice(), this._editor.value = this.getCheckValues(this._selectedIndices, this._items).join(r.valueSeparator), !b.equalArrays(this._saveIndices, this._selectedIndices) || this._editor.value != this._saveText)
                if (this._isMobile) {
                  var s = this.getCheckValues(this._selectedIndices, this._items, !0).join(r.valueSeparator);
                  this._commitListValue(s);
                } else
                  this._dispatchChange(), t && this.commitOnSelect && this._dispatchCommit();
            } else
              this._selectedIndices = this._saveIndices.slice();
          } finally {
            this._closing = !1;
          }
          return !0;
        }
        return !1;
      }, i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this), this._showButtons = !0, this._showAllCheck = !1, this._acceptText = window.RG_CONST && window.RG_CONST.MULTICHECKACCEPT ? window.RG_CONST.MULTICHECKACCEPT : "Accept", this._cancelText = window.RG_CONST && window.RG_CONST.MULTICHECKCANCEL ? window.RG_CONST.MULTICHECKCANCEL : "Cancel", this._allCheckText = window.RG_CONST && window.RG_CONST.MULTICHECKALLCHECK ? window.RG_CONST.MULTICHECKALLCHECK : "Check All";
      }, i.prototype.applyOptions = function(e) {
        a.prototype.applyOptions.call(this, e);
      }, i.prototype.setEditValue = function(e) {
        var t, o = [], r = [], n = -1, s = this._editIndex.dataColumn, l = s.getField(), h = s.objectKey || l.objectKey;
        h && e && (e = e[h]);
        var u = b.isArray(e) ? e : e ? e.split(this._editIndex.dataColumn.valueSeparator) : [];
        if (this._value = e, this._lookup) {
          var c = this._domain;
          if (c)
            for (var d = 0, p = u.length; d < p; d++)
              (n = c.keys.indexOf(u[d])) >= 0 && (o.push(n), r.push(n < c.values.length ? c.values[n] : u[d]));
          else
            o = this._editIndex.dataColumn.getLookupIndices(e);
          this._labeling ? (t = c ? r.join(this._editIndex.dataColumn.valueSeparator) : o.length > 0 ? this._editIndex.dataColumn.getLookupLabel(e) : e, yt.prototype.setEditValue.call(this, t)) : yt.prototype.setEditValue.call(this, e);
        } else if (this._values) {
          for (d = 0, p = u.length; d < p; d++)
            (n = this._values.indexOf(u[d])) >= 0 && (o.push(n), r.push(this._labels && n >= 0 && this._labels.length > n ? this._labels[n] : u[d]));
          this._labeling && this._labels ? (t = r.join(this._editIndex.dataColumn.valueSeparator), yt.prototype.setEditValue.call(this, t)) : yt.prototype.setEditValue.call(this, e);
        } else
          yt.prototype.setEditValue.call(this, e);
        this._selectedIndices = o;
      }, i.prototype.setCellEditValue = function(e, t) {
        a.prototype.setCellEditValue.call(this, e, t);
      }, i.prototype.getEditValue = function(e, t) {
        return e === void 0 && (e = !0), t === void 0 && (t = !1), this.isEdited() || this._list.selected ? this.$_getEditValue(e, t) : this._value;
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled()) {
          var t = this._list;
          return e.ctrlKey && e.keyCode == 65 && this.listing ? (e.preventDefault(), t._allCheck.checked = !t._allCheck.checked, t.$_toggleAllCheck(), !0) : e.keyCode === 32 && this.listing ? (t.changeCheckIndex(t.itemIndex, null, !0), e.preventDefault(), !0) : a.prototype._keyDownHandler.call(this, e);
        }
      }, i.prototype._keyPressHandler = function(e) {
        a.prototype._keyPressHandler.call(this, e), this._list._selected = !1;
      }, i.prototype._inputHandler = function(e) {
        a.prototype._inputHandler.call(this, e), this._list._selected = !1;
      }, i.prototype.$_getEditValue = function(e, t) {
        function o(y, m, v, C, x) {
          var S = [], I = m && m.split(x.valueSeparator);
          if (I && I.length > 0)
            for (var E = 0, O = I.length; E < O; E++)
              C.indexOf(I[E]) >= 0 && C.indexOf(I[E]) < v.length ? S.push(v[C.indexOf(I[E])]) : (v.indexOf(I[E]) >= 0 || !y.domainOnly) && S.push(I[E]);
          return S;
        }
        e === void 0 && (e = !1), t === void 0 && (t = !1);
        var r = this._strToVal(this.text), n = yt.prototype.getEditValue.call(this, e, t), s = this._editIndex.dataColumn, l = s.getField(), h = l.dataType === f.ValueType.OBJECT && (s.objectKey || l.objectKey), u = h ? n[h] : n, c = this._selectedIndices.slice(), d = [], p = this._list.selected;
        if (this._lookup) {
          if (this._domain) {
            if (this._labeling) {
              if (p)
                for (var _ = 0, g = c.length; _ < g; _++)
                  c[_] < this._domain.keys.length && d.push(this._domain.keys[c[_]]);
              else
                r && (d = o(this, r, this._domain.keys, this._domain.values, s));
              u = d.join(s.valueSeparator);
            }
          } else if (this._labeling && (u = p ? s.getLookupValues(c) : s.getSourceValues(r)) === void 0 && (u = n), this.domainOnly && u) {
            if (!s.values)
              return $e.Unselected;
            for (_ = (u = b.isArray(u) ? u : u && u.split ? u.split(s.valueSeparator) : [u]).length - 1; _ >= 0; _--)
              s.values.indexOf(u[_]) < 0 && u.splice(_, 1);
          }
        } else {
          if (this._labeling) {
            if (p)
              for (_ = 0, g = c.length; _ < g; _++)
                c[_] < this._values.length && d.push(this._values[c[_]]);
            else
              r && (d = o(this, r, this._values, this._labels, s));
            u = d.join(s.valueSeparator);
          }
          if (this.domainOnly && u) {
            if (!this._values)
              return $e.Unselected;
            for (_ = (u = b.isArray(u) ? u : u && u.split ? u.split(s.valueSeparator) : [u]).length - 1; _ >= 0; _--)
              this._values.indexOf(u[_]) < 0 && u.splice(_, 1);
          }
        }
        return u = b.isArray(u) ? u.join(s.valueSeparator) : u, h ? (n[h] = u, n) : u;
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype.onMultiCheckListCloseUp = function(e, t) {
        this.closeUp(t, !0), !this._isMobile && this.setFocus();
      }, i.prototype.onMultiCheckListCheckClick = function(e) {
        this._editor.value = this.getCheckValues(e._selectItemIndices, this._items).join(this.editIndex.dataColumn.valueSeparator), this._selectedIndices = e._selectItemIndices.slice(), this._saveIndices = e._selectItemIndices.slice(), this._modified = !0, this._dispatchChange(), !this._isMobile && this._editor.focus();
      }, i.prototype.onMultiCheckListCancel = function() {
        this._isMobile ? this._controller.closeList(!1) : this._controller.cancelEditor(!0);
      }, i.INPUT_CSS = "rg-multicheck-editor", i;
    }(so), wl = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._searchLength = 1, o._searchDelay = 1e3, o._useCtrlEnterKey = !1, o._useEnterKey = !1, o._initCount = 0, o._moreItemCount = 25, o._reInquery = !0, o._timer = void 0, o._editor.setAttribute("aria-autocomplate", "list"), o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "searchLength", { get: function() {
        return this._searchLength;
      }, set: function(e) {
        e != this._searchLength && (this._searchLength = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "searchDelay", { get: function() {
        return this._searchDelay;
      }, set: function(e) {
        e != this._searchDelay && (this._searchDelay = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "useCtrlEnterKey", { get: function() {
        return this._useCtrlEnterKey;
      }, set: function(e) {
        e != this._useCtrlEnterKey && (this._useCtrlEnterKey = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "useEnterKey", { get: function() {
        return this._useEnterKey;
      }, set: function(e) {
        e != this._useEnterKey && (this._useEnterKey = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "initCount", { get: function() {
        return this._initCount;
      }, set: function(e) {
        e != this._initCount && (this._initCount = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "moreItemCount", { get: function() {
        return this._moreItemCount;
      }, set: function(e) {
        e != this._moreItemCount && (this._moreItemCount = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "moreText", { get: function() {
        return this._moreText;
      }, set: function(e) {
        e != this._moreText && (this._moreText = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "reInquery", { get: function() {
        return this._reInquery;
      }, set: function(e) {
        e != this._reInquery && (this._reInquery = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.fillItems = function(e, t, o) {
        return !(!this.listing || e != this.getEditText()) && (this.values = t, this.labels = o, this._refreshItems(!0, !0), this._list.$_search(this._editor.value, !0), !0);
      }, i.prototype.$_setItems = function(e, t) {
        a.prototype.$_setItems.call(this, e, t), (!this.values || this.values.length <= 0) && (this.values = e, this.labels = t);
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled()) {
          var t = e.keyCode == 13;
          if (t && (t = e.ctrlKey ? this.useCtrlEnterKey : this.useEnterKey && (!this._items || this._items.length < 1)), t && this.editing) {
            e.preventDefault(), e.stopImmediatePropagation(), this.$_stopTimer();
            var o = this.getEditText();
            return o && o != this._searchKey && (this._searchKey = o, this._dispatchSearch(o)), !0;
          }
          return a.prototype._keyDownHandler.call(this, e);
        }
      }, i.prototype._inputHandler = function(e) {
        this.isDisabled() || (a.prototype._inputHandler.call(this, e), this.$_search());
      }, i.prototype._doEndEdit = function() {
        a.prototype._doEndEdit.call(this), this.$_stopTimer(), this._searchKey = null;
      }, i.prototype.$_getEditValue = function(e, t) {
        e === void 0 && (e = !0), t === void 0 && (t = !1);
        var o = this.text, r = yt.prototype.getEditValue.call(this, e, t), n = this._selectedIndex, s = n >= 0;
        if (this._labeling) {
          var l = s ? n : this._labels ? this._labels.indexOf(o) : -1;
          l >= 0 && l < this._values.length && (r = this._values[l]);
        }
        return this.domainOnly && r && (!this._values || this._values.indexOf(r) < 0) ? $e.Unselected : r;
      }, i.prototype.dropDown = function(e) {
        var t = this._list;
        return t && (t.initCount = this.initCount, t.moreItemCount = this.moreItemCount, t.moreText = this.moreText), a.prototype.dropDown.call(this, !0);
      }, i.prototype.buttonClicked = function(e) {
        if (this.listing)
          this.closeUp(!1, !1);
        else {
          this.dropDown();
          var t = this.getEditText(), o = this._dispatchSearchCellButtonClick(t);
          o && typeof o == "object" && o.values && this.fillItems(t, o.values, o.labels);
        }
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype.$_search = function() {
        var e = this.getEditText();
        e && e.length >= this._searchLength ? this.$_startTimer() : this.$_stopTimer();
      }, i.prototype.$_startTimer = function() {
        this.$_stopTimer(), !this.reInquery && this.listing && this._list._items.length > 0 || (this._timer = setTimeout(function() {
          var e = this.getEditText();
          e && e != this._searchKey && (this._searchKey = e, this.$_stopTimer(), this._dispatchSearch(e, !0));
        }.bind(this), this._searchDelay));
      }, i.prototype.$_stopTimer = function() {
        this._timer && clearTimeout(this._timer);
      }, i.INPUT_CSS = "rg-search-editor", i;
    }(so), Nd = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._values = null, o._items = null, o._labels = null, o._sortStyle = f.DropDownSortStyle.NONE, o._itemIndex = -1, o._displayLabels = null, o._separator = null, o._itemColumned = !1, o._trimLabelText = !0, o.$_selectChanged = null, o._handled = !1, o._globalKeyDownHandler = function(r) {
          var n = be(this._container);
          if (!(r.target instanceof n.HTMLTableCellElement))
            return this._keyDownHandler(r);
        }.bind(o), o;
      }
      return w(i, a), i.prototype._dodispose = function() {
        this._editor && this._editor.removeEventListener("change", this.$_selectChanged), this._values = null, this._labels = null, this._items = null, a.prototype.dispose.call(this);
      }, Object.defineProperty(i.prototype, "native", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "buttonCount", { get: function() {
        return 1;
      }, enumerable: !1, configurable: !0 }), i.prototype.hasButton = function(e, t) {
        return e == null || e;
      }, i.prototype._createEditor = function(e) {
        var t = te(e);
        this._container = this._createContainer(t), e.appendChild(this._container);
        var o = t.createElement("select"), r = o.style;
        return o.setAttribute("aria-hidden", "true"), r.position = "absolute", r.boxSizing = "border-box", r.margin = "0px", r.padding = "0px", r.wordWrap = "normal", r.overflow = "hidden", r.resize = "none", r.border = "none", r.outline = "none", r.left = "0px", r.top = "0px", r.width = "100%", r.height = "100%", this.$_selectChanged = function(n) {
          var s = n.target;
          this._itemIndex !== s.selectedIndex && (this._dispatchChange(), this._dispatchCommit());
        }.bind(this), o.addEventListener("change", this.$_selectChanged), this._container.appendChild(o), o;
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this), this._values = [], this._labels = [], this._items = [], this._itemIndex = -1;
      }, i.prototype.setEditIndex = function(e) {
        a.prototype.setEditIndex.call(this, e), this._refreshItems(), this._resetPosition();
      }, i.prototype.setEditValue = function(e) {
        a.prototype.setEditValue.call(this, e), this._itemIndex = -1;
        for (var t = this._editor.options, o = 0, r = t.length; o < r; o++)
          t[o].value === e ? (this._itemIndex = o, t[o].selected = !0) : t[o].selected = !1;
      }, i.prototype.prepare = function() {
        var e = be(this._container);
        this._handled || (!b.isSlotMode() && e.addEventListener("keydown", this._globalKeyDownHandler), this._handled = !0);
      }, i.prototype.unprepare = function() {
        var e = be(this._container);
        !b.isSlotMode() && e.removeEventListener("keydown", this._globalKeyDownHandler), this._handled = !1;
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled()) {
          var t = e.keyCode, o = b.isIE && this.visible;
          switch (t) {
            case 40:
              if (e.altKey)
                return this._requestStart(), !0;
              if (o)
                return !1;
              break;
            case 13:
            case 38:
            case 33:
            case 34:
            case 36:
            case 35:
              if (o)
                return !1;
          }
          return a.prototype._keyDownHandler.call(this, e);
        }
      }, i.prototype._resetPosition = function() {
        var e = this._grid.getEditCellBounds(this, this._editIndex);
        e.x--, e.y--, this.setBounds(e.x, e.y, 0, 0, 0);
      }, i.prototype._refreshItems = function(e, t) {
        t === void 0 && (t = !1);
        var o = this.editIndex, r = o.item;
        if (this._values && (this._values.length > 0 || t))
          this.$_setItems(this._values, this._labels);
        else if (o.dataColumn && o.item && (o.dataRow >= 0 || nt(r.itemState))) {
          var n = o.dataColumn;
          if (n.lookupSource) {
            for (var s = n.lookupKeyFieldIds, l = [], h = 0; h < s.length - 1; h++)
              l.push(r.getData(s[h]));
            var u = n.lookupSource.getTextDomain(l);
            u && u.values && u.values.length > 0 && this.$_setItems(u.keys, u.values);
          } else
            n.values && n.values.length > 0 && this.$_setItems(n.values, n.labels);
        }
      }, i.prototype.$_setItems = function(e, t) {
        this._items = [];
        for (var o = this._editor, r = o.options, n = te(o), s = r.length - 1; s >= 0; s--)
          r.remove(s);
        s = 0;
        for (var l = e.length; s < l; s++) {
          var h = n.createElement("option");
          h.value = e[s], h.text = t && t.length > s ? t[s] : e[s], this._items.push({ value: h.value, label: h.text }), o.options.add(h, null);
        }
      }, i.prototype.getEditValue = function() {
        return this.$_getEditValue();
      }, i.prototype.$_getEditValue = function() {
        return this._editor.value;
      }, i.INPUT_CSS = "rg-nlist-editor", i;
    }(yt), Vd = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.lastLayout = function() {
        throw new Error("Method not implemented.");
      }, i.prototype.getText = function(e, t, o, r) {
        throw new Error("Method not implemented.");
      }, i.prototype.getCellText = function(e, t) {
        throw new Error("Method not implemented.");
      }, i.prototype.getRows = function(e, t, o) {
        throw new Error("Method not implemented.");
      }, i.prototype.getCell = function(e, t, o) {
        throw new Error("Method not implemented.");
      }, i;
    }(J), Cl = function(a) {
      function i(e, t, o) {
        var r = a.call(this) || this;
        return r._colCount = 0, r._blockPaste = !1, r._lines = [], r._colCount = 0, r._blockPaste = !1, r._parse(e, t, o), r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._lines.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "colCount", { get: function() {
        return this._colCount;
      }, set: function(e) {
        this._colCount = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "empty", { get: function() {
        return this._lines.length == 0 || this._colCount == 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "single", { get: function() {
        return this._lines.length == 1 && this._colCount == 1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "blockPaste", { get: function() {
        return this._blockPaste;
      }, set: function(e) {
        this._blockPaste = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startIndex", { get: function() {
        return this._startIndex;
      }, enumerable: !1, configurable: !0 }), i.prototype.get = function(e) {
        return this._lines[e];
      }, i.prototype._parse = function(e, t, o) {
        var r, n, s, l, h, u = this._lines, c = [], d = e.length, p = 0, _ = "";
        if (e === "")
          c.push(e), u.push(c), this._colCount = 1;
        else {
          for (; p < d; )
            h = !1, r = e.charAt(p), n = p < d - 1 ? e.charAt(p + 1) : "", r == '"' ? l ? s && n == '"' ? (_ += r, p++) : s ? s = !1 : _ += r : (l = !0, s = !0) : s || r != "\r" && r != `
` && r != "	" ? (l = !0, _ += r) : (r == "	" && (c.push(_), h = !0), r != "\r" && r != `
` || (c.push(_), this._colCount = Math.max(this._colCount, c.length), u.push(c), c = [], r == "\r" && n == `
` && p++), _ = "", l = !1), p++;
          s && (_ = '"' + _), (_.length > 0 || h) && c.push(_), c.length > 0 && (this._colCount = Math.max(this._colCount, c.length), u.push(c));
        }
        if (t && t instanceof oi && !t.single && (!o || this._colCount === 1 && u.length === 1)) {
          var g = t.startIndex, y = t.endIndex;
          if (g && y) {
            var m = t.grid, v = g.layout, C = y.layout, x = g.itemIndex, S = y.itemIndex;
            if (v.col > C.col) {
              var I = v;
              v = C, C = I;
            }
            if (x > S) {
              var E = x;
              x = S, S = E;
            }
            v = m.activeCellLayout.getTopOf(v);
            var O = (C = m.activeCellLayout.getBottomOf(C, !0)).col - v.col + 1, P = (C.row - v.row + 1) * (S - x + 1);
            p = 0;
            for (var R = 0, T = u.length; R < T; R++) {
              for (var D = u[R].slice(), M = D.length; M < O; M++)
                u[R].push(D[p]), p = p >= D.length ? 0 : p;
              this._colCount = Math.max(this._colCount, u[R].length);
            }
            for (p = 0, R = u.length; R < P; R++)
              u.push(u[p++]), p = p >= u.length ? 0 : p;
            this._blockPaste = !0, this._startIndex = W.temp(m, x, v);
          }
        }
      }, i;
    }(J), $d = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._lastLayout = null, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        return a.prototype._doDispose.call(this);
      }, i.prototype.lastLayout = function() {
        return this._lastLayout;
      }, i.prototype.getText = function(e, t, o, r) {
        var n, s, l, h, u = e.grid, c = this._rangeToCells(e, null, t, r), d = [];
        if (u.copyOptions.includeHeaderText)
          for (l = 0; l < c.length; l++) {
            var p = [];
            for (h = 0; h < c[l].length; h++)
              (n = b.cast(c[l][h], re)) ? p.push(b.addQuot(n.header.displayText)) : p.push("");
            d.push(p.join("	"));
          }
        if (!o) {
          o = [];
          for (var _ = t.r1, g = t.r2; _ <= g; _++)
            o.push(_);
        }
        return o.forEach(function(y) {
          var m = u.getItem(y);
          if (m.dataRow >= 0 || wt(m.itemState))
            for (l = 0; l < c.length; l++) {
              var v = [];
              for (h = 0; h < c[l].length; h++)
                (n = b.cast(c[l][h], re)) && !n.blankWhenCopy ? (s = W.temp(u, y, n).clone(), v.push(e.getData(s))) : v.push("");
              d.push(v.join("	"));
            }
        }), d.join(`\r
`) + `\r
`;
      }, i.prototype.getCellText = function(e, t) {
        var o = "";
        return e.grid.copyOptions.includeHeaderText && (o = t.dataColumn.header.displayText + `\r
`), o += e.getData(t);
      }, i.prototype.getRows = function(e, t, o) {
        if (t == null)
          return null;
        var r, n = o.grid, s = n.pasteOptions, l = n.getSelection(), h = o.dataColumn;
        if (l && l.single && !n.isTree() && h.mergeEdit && n.editOptions.commitByCell) {
          var u = n.getMergedItems(o.itemIndex, h, !0, !0), c = new W(n, u[0], h), d = new W(n, u[u.length - 1], h);
          l = new oi(n.selections, f.SelectionStyle.BLOCK, c, d), r = !0;
        } else {
          if (s.selectBlockPaste && n.selections.count > 1)
            return void alert("multi selection paste not supported");
          l = s.selectBlockPaste && l;
        }
        var p = new Cl(t, l, r);
        if (p.empty)
          return null;
        if (p.single)
          return p.get(0)[0];
        p.blockPaste && p.startIndex && o.assign(p.startIndex);
        for (var _ = n.activeCellLayout._dataCells, g = _[0][o.layout.col], y = _[_.length - 1][Math.min(_[0].length - 1, o.layout.col + p.colCount - 1)], m = new W(n, o.itemIndex, g), v = new W(n, o.itemIndex, y), C = Ot.create(m, v), x = this._rangeToCells(e, p, C, null), S = void 0, I = void 0, E = void 0, O = void 0, P = [], R = 0, T = p.rowCount; R < T; ) {
          var D = { columns: [], values: [] };
          for (S = 0; S < x.length && R < T; S++, R++) {
            var M = x[S], V = p.get(R);
            for (D.columns.push(M), D.values.push(O = []), E = Math.min(V.length, M.length), I = 0; I < E; I++)
              M[I] ? O.push(V[I]) : O.push("");
          }
          P.push(D);
        }
        return P;
      }, i.prototype.getCell = function(e, t, o) {
        if (!t)
          return null;
        var r = new Cl(t);
        return r.empty ? null : r.get(0)[0];
      }, i.prototype._rangeToCells = function(e, t, o, r) {
        o.normalizeData(), this._lastLayout = null;
        var n = o.c1, s = o.c2, l = e.grid.activeCellLayout._dataCells, h = n === s ? n.row : 0, u = n === s ? n.row : l.length - 1, c = [];
        if (r) {
          for (var d = [], p = h; p <= u; p++) {
            for (var _ = [], g = 0; g < l[0].length; g++) {
              var y = l[p][g];
              r.indexOf(y) >= 0 ? (_.push(y.firstColumn), d[g] = d[g] || y) : _.push(null);
            }
            c.push(_);
          }
          for (g = l[0].length - 1; g >= 0; g--)
            for (p = h; p <= u; p++)
              !d[g] && c[p].splice(g, 1);
        } else
          for (p = h; p <= u; p++) {
            _ = [];
            var m = n.source, v = s.source, C = m.col, x = v.col + v._defColSpan - 1;
            for (g = C; g <= x; g++)
              (y = l[p][g]) instanceof de ? _.push(y.firstColumn) : _.push(null);
            c.push(_);
          }
        return this._lastLayout = l[u][s.col], c;
      }, i;
    }(Vd), xl = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._values = null, t._dataRow = -1, t._grid = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "isLeaf", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataSource", { get: function() {
        return this._grid.dataSource;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checked", { get: function() {
        return (1 & this._getExtents()) != 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return f.ItemType.ROW;
      }, enumerable: !1, configurable: !0 }), i.prototype._getExtents = function() {
        return 0;
      }, i.prototype._setExtents = function(e) {
      }, Object.defineProperty(i.prototype, "values", { set: function(e) {
        this._values = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataRow", { get: function() {
        return this._dataRow;
      }, set: function(e) {
        this._dataRow = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataId", { get: function() {
        return this.dataSource.getRowId(this._dataRow);
      }, enumerable: !1, configurable: !0 }), i.prototype.getRowObject = function() {
        for (var e = {}, t = this.dataSource, o = this._dataRow >= 0 && t.getRow(this._dataRow), r = 0, n = t.fieldCount; r < n; r++) {
          var s = t.getOrgFieldName(r), l = this._values.hasOwnProperty(r) ? this._values[r] : o && o[r];
          e[s] = l;
        }
        return e;
      }, i.prototype.getRowData = function() {
        for (var e = [], t = this.dataSource, o = this._dataRow >= 0 && t.getRow(this._dataRow), r = 0, n = t.fieldCount; r < n; r++) {
          var s = this._values.hasOwnProperty(r) ? this._values[r] : o && o[r];
          e[r] = s;
        }
        return e;
      }, i.prototype.getData = function(e) {
        return e = this.dataSource.getFieldIndex(e), this._values.hasOwnProperty(e) || this._dataRow < 0 ? this._values[e] : this.dataSource.getRow(this._dataRow)[e];
      }, i.prototype.setIndex = function(e) {
        this._setIndex(e);
      }, i;
    }(Le), Ad = function(a) {
      function i(e, t) {
        var o = a.call(this, e) || this;
        return o._item = t, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        return a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "item", { get: function() {
        return this._item;
      }, enumerable: !1, configurable: !0 }), i;
    }(W), jd = function() {
      function a(i) {
        this._grid = i, this._data = new $d(), this._appendingItem = new xl(i), this._appendingIndex = new Ad(i, this._appendingItem);
      }
      return a.prototype.dispose = function() {
        return null;
      }, Object.defineProperty(a.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "appendingIndex", { get: function() {
        return this._appendingIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "isPasting", { get: function() {
        return this._pasting;
      }, enumerable: !1, configurable: !0 }), a.prototype.getDataRoots = function() {
        var i = this._grid._activeCellLayout._dataCells, e = [];
        if (!i.length || !i[0].length)
          return e;
        for (var t = 0, o = i[0].length; t < o; t++)
          e.push(i[0][t].dataRoot);
        return e;
      }, a.prototype.getData = function(i) {
        var e, t, o, r = this.grid, n = i.layout.firstColumn, s = r.getItem(i.itemIndex), l = r.copyOptions, h = l.datetimeFormat ? Ne.getFormatter(l.datetimeFormat) : null, u = l.booleanFormat ? Ht.getFormatter(l.booleanFormat) : null, c = l.copyTextCallback;
        if (!s || !(wt(s.itemState) || s.dataRow >= 0))
          return "";
        if (o = s.getData(n.dataIndex), n && (e = r.dataSource.getField(n.dataIndex)) != null) {
          if ((t = c ? c.call(this, r, i.itemIndex, i.dataColumn, o) : void 0) == null)
            if (l.copyDisplayText)
              t = r.getDisplayText(i);
            else
              switch (e.dataType) {
                case f.ValueType.DATETIME:
                case f.ValueType.DATE:
                  t = o ? h ? h.getText(o) : String(o) : "";
                  break;
                case f.ValueType.BOOLEAN:
                  t = o != null ? u ? u.formatValue(o) : String(o) : "";
                  break;
                case f.ValueType.NUMBER:
                  t = o == null || isNaN(o) ? "" : String(o);
                  break;
                case f.ValueType.OBJECT:
                  t = o && typeof o == "object" ? JSON.stringify(o) : "";
                  break;
                default:
                  t = l.lookupDisplay && (n.lookupDisplay || n.labelField) ? Wt.getText(s, n) : o != null ? String(o) : "";
              }
          return b.addQuot(t);
        }
        return "";
      }, a.prototype.copyEmtpyToClipboard = function() {
        return "";
      }, a.prototype.copyToClipboard = function(i, e, t) {
        return this._data.getText(this, i, e, t);
      }, a.prototype.copyCellToClipboard = function(i) {
        return this._data.getCellText(this, i);
      }, a.prototype.pasteCellFromClipboard = function(i, e) {
        if ((i = this._correctIndex(i)) && this._grid.isValid(i) && e != null) {
          var t = this._data.getCell(this, e, i);
          this._pasteSingleCell(i, t);
        }
      }, a.prototype.pasteFromClipboard = function(i, e) {
        var t = i.clone(), o = this.grid.pasteOptions.forceAppend;
        if ((i = this._correctIndex(i)) && this._grid.isValid(i)) {
          if (e != null) {
            var r = this._data.getRows(this, e, i);
            r != null && (typeof r == "string" ? this._pasteSingleCell(i, r) : r.length != 1 || o ? (r.length > 1 || r.length === 1 && o) && this._pasteMultiLines(i, r) : this._pasteSingleLine(i, r[0]));
          }
          W.areEquals(i, t) || this._grid.setFocusedIndex(t, !1, !1);
        }
      }, a.prototype._correctIndex = function(i) {
        if (i) {
          var e = this._grid;
          if (i.normalize(e), this._grid.isValid(i) && e.pasteOptions.selectionBase && e.selections.count > 0) {
            var t = e.selections.getItem(0).getBounds().firstCell;
            i.column = t.column, i.itemIndex = t.itemIndex;
          }
        }
        return i;
      }, a.prototype._convertValue = function(i, e, t, o, r, n) {
        var s = void 0, l = t.dataIndex, h = i.getField(l), u = this._grid;
        switch (h.dataType) {
          case f.ValueType.NUMBER:
            var c = u.delegate.getCellEditor($e.getEditorType(t.editor));
            s = NaN;
            var d = void 0;
            if (o) {
              var p = void 0;
              if (e.applyNumberFormat || e.applyMaxLength) {
                var _ = u.body.getCell(n, !1);
                typeof (p = t.getCellStyle(_)) != "object" && (p = void 0);
                var g = p && p.editor || t.editor;
                $e.getEditorType(g) === "number" && ((c = u.delegate.getCellEditor("number")).initOptions(), c.applyOptions(g));
              }
              var y = t.name;
              if (e.applyNumberFormat) {
                var m = c && c.editFormat || p && p.numberFormat || t.numberFormat || u.formatOptions.numberFormat;
                m && (d = new Pt(m));
              }
              var v = e.numberCharExpOfCol(y);
              v && (o = o.replace(v, ""));
              var C = e.numberSeparatorOfCol(y);
              if (C && (o = o.replace(C, ".")), s = d ? +parseFloat(o).toFixed(d.maxDigits) : parseFloat(o), e.applyMaxLength) {
                var x = String(s).split(".");
                c && c.maxIntegerLength > 0 && (x[0] = x[0].substr(0, c.maxIntegerLength)), o = x.join("."), c && c.maxLength > 0 && (o = o.substr(0, c.maxLength)), s = parseFloat(o);
              }
            } else
              o == "" && (s = null);
            break;
          case f.ValueType.DATETIME:
            s = null;
            var S = e.dateReaders;
            if (o && S)
              for (var I = 0; I < S.length && !(s = S[I].toDate(o, !1)); I++)
                ;
            s === null && (s = new Date(o), isNaN(s.getTime()) && (s = null)), s === null && (s = h.readValue(o));
            break;
          case f.ValueType.BOOLEAN:
            s = void 0;
            var E = e.boolReader;
            o && E && (s = E.toBoolStrict(o)), s === void 0 && (s = h.readValue(o));
            break;
          default:
            if (o = String(o)) {
              var O = u.delegate.getCellEditor($e.getEditorType(t.editor));
              if (O instanceof so) {
                O.initOptions(), O.applyOptions(t.editor);
                var P = e.checkDomainOnly && O.domainOnly, R = e.convertLookupLabel, T = -1, D = [], M = [];
                if (P || R)
                  if (O.values && O.values.length > 0)
                    M = O.values, D = O.labels;
                  else if (t.lookupSource) {
                    var V = t.lookupSource, B = t.lookupKeyFieldIds, N = [];
                    for (I = 0; I < B.length - 1; I++)
                      N.push(r[B[I]]);
                    var A = V.getTextDomain(N);
                    M = A && A.keys, D = A && A.values;
                  } else
                    t.values && t.values.length > 0 && (M = t.values, D = t.labels);
                o = R && M && D && M.indexOf(o) < 0 && (T = D.indexOf(o)) >= 0 ? M[T] : o, o = M && M.indexOf(o) >= 0 ? o : P ? "" : o;
              } else
                e.applyMaxLength && O && O instanceof yt && O.maxLength > 0 && (o = o.substr(0, O.maxLength)), t.textInputCase == f.TextInputCase.LOWER ? o = o.toLocaleLowerCase() : t.textInputCase == f.TextInputCase.UPPER && (o = o.toLocaleUpperCase());
            }
            s = o;
        }
        return s;
      }, a.prototype._fireRowsPasted = function(i) {
        for (var e = this._grid, t = [], o = 0; o < i.length; o++)
          t.push(e.getItemIndexOfRow(i[o]));
        t.length > 0 && e._fireItemsPasted(t);
      }, a.prototype._cellWritable = function(i, e, t) {
        var o = this._grid, r = o._fireCellPasting(i, t);
        if (typeof r == "boolean")
          return r;
        if (!o.pasteOptions.checkReadOnly)
          return !0;
        var n = o.body.getIndexCellStyle(i);
        if (n && (n.readOnly != null || n.editable != null))
          return n.editable != null ? n.editable && !n.readOnly : !n.readOnly;
        var s = o.body.getRowStyle(i.item, i.itemIndex < o.fixedOptions.rowCount);
        if (typeof s == "object" && (s.readOnly != null || s.editable != null))
          return s.editable != null ? s.editable && !s.readOnly : !s.readOnly;
        var l = o.fixedOptions;
        if ((i.colFixed || i.rightFixed) && !l.editable || i.rowFixed && !l.rowEditable)
          return !1;
        var h, u = i.item && i.item.itemState;
        switch (e || u) {
          case f.ItemState.NORMAL:
          case f.ItemState.FOCUSED:
          case f.ItemState.UPDATING:
            h = o.canUpdate(i.item, i.dataField);
            break;
          default:
            h = !0;
        }
        var c = this.grid.getBodyCellAt(i, !1);
        if (c && c.renderer2 && c.renderer2.canEdit())
          return h && !i.dataColumn.readOnly;
        if (!c) {
          var d = i.dataColumn.renderer;
          if (d && d.type === "check" && d.editable != null)
            return h && d.editable && !i.dataColumn.readOnly;
        }
        return h && i.dataColumn.isWritable();
      }, a.prototype._applyMaskValue = function(i, e) {
        var t, o = this.grid.body.getIndexCellStyle(i);
        if (o.editor && o.editor.mask ? t = o.editor.mask : o.editor || (t = i.dataColumn.editor && i.dataColumn.editor.mask), t) {
          var r = new yl(null, t);
          return r.clearBuffer(), r.writeBuffer(e, !0), r.checkValid() ? r.getStripValue() : null;
        }
        return e;
      }, a.prototype._applyInputChars = function(i, e) {
        if (!this.grid.pasteOptions.applyInputChars)
          return e;
        var t, o, r = this.grid.body.getIndexCellStyle(i).editor || i.dataColumn.editor;
        return r && ((o = r.inputCharacters) && (t = new RegExp("[^" + o + "]", "g")).test(e) && (e = e.replace(t, "")), (o = r.ignoreCharacters) && (t = new RegExp("[" + o + "]", "g")).test(e) && (e = e.replace(t, ""))), e;
      }, a.prototype._pasteSingleCell = function(i, e) {
        var t, o = this._grid, r = o.dataSource, n = i.dataColumn, s = o.pasteOptions;
        if (e != null && r && n && !o.editOptions.readOnly && i.item.canEdit()) {
          e.lastIndexOf(`\r
`) == e.length - 1 && (e = e.substr(0, e.length - 2)), e.lastIndexOf(`
`) == e.length - 1 && (e = e.substr(0, e.length - 1));
          var l = this._convertValue(r, s, n, e, i.item && i.item.getRowData(), i);
          if (l = s.applyEditMask ? this._applyMaskValue(i, l) : l, l = this._applyInputChars(i, l), this._cellWritable(i, null, l))
            if (o.isItemEditing() || /*!grid.editOptions.commitByCell &&*/
            s.startEdit && o.edit(i)) {
              t = i.item;
              var h = [], u = [];
              u[i.dataField] = l, h[i.dataField] = t.getData(i.dataField), o.setCellUpdateEventLock(s.noEditEvent);
              try {
                t.setData(n.dataIndex, l);
              } finally {
                o.setCellUpdateEventLock(!1);
              }
              o.validateCellCommit(i, i.item.getData(i.dataField)), o.editOptions.commitByCell && o.commit(!1, !1, !0), o._fireEditItemPasted(t, [i.dataField], h, u), o.refreshView();
            } else {
              this._pasting = !0;
              try {
                var c = o.validationManager, d = s.forceRowValidation, p = s.forceColumnValidation;
                t = i.item;
                var _ = this._appendingItem.values = d || p ? t.getRowData() : [];
                _[n.dataIndex] = l;
                var g = wt(t.itemState);
                if (this._appendingItem.dataRow = t.dataRow, this._appendingItem.setIndex(t.index), this._appendingIndex.column = null, this._appendingIndex.itemIndex = i.itemIndex, d && c.validateRow(this._appendingItem, g, !0, !0), p) {
                  this._appendingIndex.column = n;
                  try {
                    c.validateCell(this._appendingIndex, g, !0);
                  } catch (y) {
                    if (!(y instanceof Me) || Hi(y.level, o.editOptions.commitLevel) < 0)
                      throw y;
                  }
                }
                c.clearInvalidCell(this._appendingIndex), o.updatePastedRow(t, _, !d);
              } finally {
                this._pasting = !1;
              }
            }
        }
      }, a.prototype._pasteSingleLine = function(i, e) {
        var t, o, r, n, s, l, h, u = this._grid, c = u.dataSource, d = u.pasteOptions, p = u.editOptions, _ = !1;
        if (c && !p.readOnly && c) {
          if (u.isItemEditing() || /*!editOptions.commitByCell && */
          d.startEdit && u.edit(i)) {
            var g = [], y = [], m = [], v = i.column;
            for (o = i.item, r = Math.min(e.columns.length, e.values.length), n = 0; n < r; n++) {
              var C = e.columns[n], x = e.values[n];
              for (s = 0; s < x.length; s++) {
                h = C[s];
                var S = x[s];
                if (h) {
                  var I = W.temp(u, i.itemIndex, h), E = o.getData(h.dataIndex);
                  t = this._convertValue(c, d, h, S, o && o.getRowData(), I), t = d.applyEditMask ? this._applyMaskValue(I, t) : t, t = this._applyInputChars(I, t), u.setCellUpdateEventLock(d.noEditEvent);
                  try {
                    (l = this._cellWritable(I, null, t)) && o.setData(h.dataIndex, t);
                  } finally {
                    u.setCellUpdateEventLock(!1);
                  }
                  l && (i.column = h, u.validateCellCommit(i, o.getData(h.dataIndex)), g.push(h.dataIndex), y[h.dataIndex] = E, m[h.dataIndex] = t, _ = !0);
                }
              }
            }
            _ && (p.commitByCell && u.commit(!1), u._fireEditItemPasted(o, g, y, m), i.column = v, u.refreshView());
          } else {
            this._pasting = !0;
            try {
              var O = u.validationManager, P = d.forceRowValidation, R = d.forceColumnValidation, T = this._appendingItem;
              for (o = i.item, T.setIndex(o.index), T.dataRow = o.dataRow, this._appendingIndex.column = null, this._appendingIndex.itemIndex = i.itemIndex, m = T.values = P || R ? o.getRowData() : [], r = Math.min(e.columns.length, e.values.length), C = void 0, x = void 0, n = 0; n < r; n++)
                for (C = e.columns[n], x = e.values[n], s = 0; s < x.length; s++)
                  (h = C[s]) && (I = gt.tempItem(u, T, h), t = this._convertValue(c, d, h, x[s], T && T.getRowData(), I), t = d.applyEditMask ? this._applyMaskValue(I, t) : t, t = this._applyInputChars(I, t), (l = this._cellWritable(I, null, t)) && (m[h.dataIndex] = t, _ = !0));
              if (_) {
                var D = wt(o.itemState);
                if (P && O.validateRow(T, D, !0, !0), R)
                  for (n = 0; n < r; n++)
                    for (C = e.columns[n], x = e.values[n], s = 0; s < x.length; s++) {
                      this._appendingIndex.column = C[s];
                      try {
                        O.validateCell(this._appendingIndex, D, !0);
                      } catch (M) {
                        if (!(M instanceof Me) || Hi(M.level, p.commitLevel) < 0)
                          throw M;
                      }
                    }
                O.clearInvalidCells(o.dataId), u.updatePastedRow(o, m, !P);
              }
            } finally {
              this._pasting = !1;
            }
          }
          u.selections.clear(), u.selections.add(i, new W(u, i.itemIndex, this._data.lastLayout()), f.SelectionStyle.BLOCK);
        }
      }, a.prototype._pasteMultiLines = function(i, e) {
        var t = this._grid, o = t.dataSource;
        if (o) {
          var r = t.pasteOptions, n = r.forceAppend, s = r.checkReadOnly;
          if (s && t.editOptions.readOnly)
            return;
          var l = r.noDataEvent, h = e.length, u = i.itemIndex, c = o.fieldCount, d = t.getDataColumns(!1), p = d.length, _ = t.validationManager, g = r.forceRowValidation, y = r.forceColumnValidation, m = this._appendingItem, v = this._appendingIndex, C = void 0, x = void 0, S = void 0, I = void 0, E = r.eventEachRow, O = [];
          r.commitEdit && t.commit(!1) || t.cancel();
          var P = t.itemCount;
          l && o.beginUpdate();
          var R = void 0, T = void 0;
          if (!t.isTree()) {
            var D = t.itemSource;
            R = D.filterMode, T = D.sortMode, D.filterMode = f.FilterMode.EXPLICIT, D.sortMode = f.SortMode.EXPLICIT;
          }
          try {
            for (this._pasting = !0, C = 0; C < h && u < P && !n; C++)
              try {
                if ((ne = t.getItem(u)).itemState == f.ItemState.APPENDING)
                  break;
                for (; ne && ne.dataRow < 0; )
                  u++, ne = t.getItem(u);
                if (ne == null)
                  break;
                var M = e[C], V = m.values = g || y ? ne.getRowData() : [], B = g || y ? ne.getRowData() : [], N = !1, A = [];
                for (m.setIndex(ne.index), m.dataRow = ne.dataRow, S = Math.min(M.columns.length, M.values.length), x = 0; x < S; x++) {
                  var z = M.columns[x], Z = M.values[x];
                  for (I = 0; I < Z.length; I++)
                    if ((G = z[I]) && G instanceof re) {
                      var ee = gt.tempItem(t, m, G), Y = this._convertValue(o, r, G, Z[I], m && m.getRowData(), ee);
                      Y = r.applyEditMask ? this._applyMaskValue(ee, Y) : Y, Y = this._applyInputChars(ee, Y), (ce = this._cellWritable(ee, null, Y)) && (N = N || ce || !s, A.push(G.dataIndex), B[G.dataIndex] = ne.getData(G.dataIndex), V[G.dataIndex] = Y);
                    }
                }
                if (N)
                  try {
                    v.column = null, v.itemIndex = ne.index;
                    var q = wt(ne.itemState);
                    if (g && _.validateRow(m, q, !0, !0), y)
                      for (I = 0; I < p; I++) {
                        var G = d[I];
                        v.column = G;
                        try {
                          _.validateCell(v, q, !0);
                        } catch (K) {
                          if (!(K instanceof Me) || Hi(K.level, t.editOptions.commitLevel) < 0)
                            throw K;
                        }
                      }
                    t.updatePastedRow(ne, V, !g), _.clearInvalidCells(m.dataId), E && t._fireEditItemPasted(ne, A, B, V), O.push(ne.dataRow);
                  } catch (K) {
                    if (r.stopOnError)
                      throw K;
                  }
                u++;
              } catch (K) {
                throw u = Math.max(i.itemIndex, u - 1), t.setFocusedIndex(i, !1), t.selections.clear(), t.selections.add(i, new W(t, u, this._data.lastLayout()), f.SelectionStyle.BLOCK), K;
              }
            if (C < h && r.enableAppend) {
              for (; C < h; C++) {
                M = e[C], V = m.values = [], B = [], m.dataRow = -1, m.setIndex(-1);
                try {
                  for (A = [], S = Math.min(M.columns.length, M.values.length), x = 0; x < S; x++)
                    for (z = M.columns[x], Z = M.values[x], I = 0; I < Z.length; I++)
                      if (G = z[I]) {
                        var ce;
                        ee = gt.tempItem(t, m, G), Y = this._convertValue(o, r, G, Z[I], V, ee), Y = r.applyEditMask ? this._applyMaskValue(ee, Y) : Y, Y = this._applyInputChars(ee, Y), (ce = this._cellWritable(ee, f.ItemState.APPENDING, Y)) && (A.push(G.dataIndex), V[G.dataIndex] = Y, B[G.dataIndex] = void 0);
                      }
                  if (r.fillColumnDefaults)
                    for (I = 0; I < p; I++)
                      (G = d[I]).dataIndex > -1 && V[G.dataIndex] === void 0 && G.defaultValue !== void 0 && (V[G.dataIndex] = G.defaultValue);
                  if (r.fillFieldDefaults) {
                    for (I = 0; I < c; I++)
                      if (V[I] === void 0) {
                        var fe = o.getField(I);
                        fe.defaultValue !== void 0 && (V[I] = fe.defaultValue);
                      }
                  }
                  try {
                    if (this._appendingIndex.column = null, this._appendingIndex.itemIndex = -1, g && _.validateRow(m, !0, !0, !0), r.forceColumnValidation)
                      for (I = 0; I < p; I++) {
                        G = d[I], this._appendingIndex.column = G;
                        try {
                          _.validateCell(this._appendingIndex, !0, !0);
                        } catch (K) {
                          if (!(K instanceof Me) || Hi(K.level, t.editOptions.commitLevel) < 0)
                            throw K;
                        }
                      }
                    var le = t.appendPastedRow(V);
                    if (E) {
                      var ne = t.getItem(t.getItemIndexOfRow(le));
                      t._fireEditItemPasted(ne, A, B, V);
                    }
                    O.push(le);
                  } catch (K) {
                    if (r.stopOnError)
                      throw K;
                  }
                } catch (K) {
                  throw u = Math.max(i.itemIndex, t.itemCount - 1), t.setFocusedIndex(i, !1), t.selections.clear(), t.selections.add(i, new W(i.grid, u, this._data.lastLayout()), f.SelectionStyle.BLOCK), K;
                }
              }
              u = l ? -1 : t.itemCount;
            }
            this._fireRowsPasted(O);
          } catch (K) {
            throw this._fireRowsPasted(O), K;
          } finally {
            if (this._pasting = !1, l && (o.endUpdate(), u < 0 && (u = o.rowCount)), !t.isTree()) {
              var he = t.itemSource;
              (he.isFiltered(null) && he.filterMode !== R || he.sorted && he.sortMode !== T) && (he.filterMode = R, he.sortMode = T, he._refreshItems());
            }
          }
          n && O.length > 0 && ((i = i.clone()).itemIndex = u - O.length), t.setFocusedIndex(i, !1), t.selections.clear(), t.selections.add(i, new W(i.grid, u - 1, this._data.lastLayout()), f.SelectionStyle.BLOCK);
        }
      }, a;
    }(), Cr = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._cellButtonWidth = 16, t._cellButtonHeight = 16, t._editButtonWidth = 16, t._editButtonHeight = 16, t._errorIconWidth = 16, t._errorIconHeight = 16, t._showChangeMarker = !1, t._formatter = { numberFormatter: null, datetimeWriter: null, booleanFormatter: null, textFormatter: null, prefix: "", suffix: "" }, t._buttonHeight = 16, t._dataCell = new Wt(), t._hiddenCell = new Dc(), t._literalCell = new Dn(), t._seriesCell = new _r(), t._mergedCell = new Mc(), t._cs = new Lo(), t._rowCs = new Sc(), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._dataCell = this._dataCell.dispose(), this._hiddenCell = this._hiddenCell.dispose(), this._literalCell = this._literalCell.dispose(), this._seriesCell = this._seriesCell.dispose(), this._mergedCell = this._mergedCell.dispose(), this._cs = null, this._rowCs = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "cellStyleCallback", { get: function() {
        return this._cellStyleCallback;
      }, set: function(e) {
        e !== this._cellStyleCallback && (this._cellStyleCallback = e, this.refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowStyleCallback", { get: function() {
        return this._rowStyleCallback;
      }, set: function(e) {
        e !== this._rowStyleCallback && (this._rowStyleCallback = e, this.refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "ariaLabelCallback", { get: function() {
        return this._ariaLabelCallback;
      }, set: function(e) {
        this._ariaLabelCallback = e, this.refreshOwner();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellButtonWidth", { get: function() {
        return this._cellButtonWidth;
      }, set: function(e) {
        e != this._cellButtonWidth && (this._cellButtonWidth = e, this.refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellButtonHeight", { get: function() {
        return this._cellButtonHeight;
      }, set: function(e) {
        e != this._cellButtonHeight && (this._cellButtonHeight = e, this.$_resetButtonHeight(), this.refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editButtonWidth", { get: function() {
        return this._editButtonWidth;
      }, set: function(e) {
        e != this._editButtonWidth && (this._editButtonWidth = e, this.refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editButtonHeight", { get: function() {
        return this._editButtonHeight;
      }, set: function(e) {
        e != this._editButtonHeight && (this._editButtonHeight = e, this.$_resetButtonHeight(), this.refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "errorIconWidth", { get: function() {
        return this._errorIconWidth;
      }, set: function(e) {
        e != this._errorIconWidth && (this._errorIconWidth = e, this.refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "errorIconHeight", { get: function() {
        return this._errorIconHeight;
      }, set: function(e) {
        e != this._errorIconHeight && (this._errorIconHeight = e, this.$_resetButtonHeight(), this.refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "buttonHeight", { get: function() {
        return this._buttonHeight;
      }, enumerable: !1, configurable: !0 }), i.prototype.$_resetButtonHeight = function() {
        this._buttonHeight = Math.max(this._cellButtonHeight, this._editButtonHeight, this._errorIconHeight);
      }, i.prototype.getCell = function(e, t) {
        return this.getCellAt(e.item, e.column, t);
      }, i.prototype.getCellAt = function(e, t, o) {
        var r, n = this._grid;
        if (o ? r = this._mergedCell : t instanceof re ? e.index < 0 || e instanceof xl ? (r = this._hiddenCell, this._hiddenCell.setItem(e)) : r = this._dataCell : r = t instanceof Bt ? this._seriesCell : t instanceof Dn ? this._literalCell : this._dataCell, r.setIndex2(n, e ? e.index : -1, t), t instanceof re) {
          var s = n.validationManager.getError(r.index);
          s ? (r.error = s.message, r.errorLevel = s.level) : (r.error = null, r.errorLevel = f.ValidationLevel.IGNORE);
        }
        return r;
      }, i.prototype.getHidden = function(e, t) {
        return this._hiddenCell.setIndex(e), this._hiddenCell.setItem(t), this._hiddenCell;
      }, i.prototype.getCellSimple = function(e, t) {
        var o = e.column, r = t ? this._mergedCell : o instanceof Bt ? this._seriesCell : o instanceof Dn ? this._literalCell : this._dataCell;
        return r.setIndex(e), r;
      }, i.prototype.getIndexCellStyle = function(e, t) {
        var o = this.getCell(e, !1);
        return this.getCellStyle(o, this._cs.clear(), !1, t);
      }, i.prototype.getCellStyle = function(e, t, o, r) {
        r === void 0 && (r = !0);
        var n, s = e.valueColumn, l = this._cellStyleCallback;
        l && (n = l(this._grid.handler, e), t.assign(n)), s && (n = s.getCellStyle(e), t.assign(n));
        var h = this.getUserCellStyle(e.index.dataRow, e.valueColumn.name);
        h && t.assign(h);
        var u = t.styleName || s && s.styleName || "";
        return r && (t.styleName = "rg-data-cell " + (o ? "rg-merged-cell " : "") + u), t;
      }, i.prototype.getCellFormatters = function(e, t, o, r) {
        if (t ? (t.numberFormatter = t.numberFormatter || e.numberFormatter, t.datetimeWriter = t.datetimeWriter || e.datetimeWriter, t.booleanFormatter = t.booleanFormatter || e.boolFormatter, t.textFormatter = t.textFormatter || e.textFormatter, t.prefix = t.prefix || e.prefix, t.suffix = t.suffix || e.suffix) : ((t = this._formatter).numberFormatter = e.numberFormatter, t.datetimeWriter = e.datetimeWriter, t.booleanFormatter = e.boolFormatter, t.textFormatter = e.textFormatter, t.prefix = e.prefix, t.suffix = e.suffix), o) {
          var n = o.grid, s = n.body.getCell(o, !1);
          t = (r = n.body.getCellStyle(s, r)).toFormatter(t);
        }
        return t;
      }, i.prototype.getRowStyle = function(e, t, o, r) {
        o === void 0 && (o = !1), r === void 0 && (r = !0);
        var n = this._grid, s = this._rowCs;
        if (s.clear(), r) {
          var l = this._rowStyleCallback;
          if (l) {
            var h = l(n.handler, e, t) || {};
            s.assign(h);
          }
          var u = this.getUserCellStyle(e.dataRow, -1);
          u && s.assign(u);
        }
        if (!s.styleName) {
          var c = i.ROW_STYLE;
          e.index % 2 && n.displayOptions.useAlternateRowStyle && (c += i.ALTERNATE_ROW_STYLE), t && (c += i.FIXED_ROW_STYLE), o || (c += i.STATE_ROW_STYLES[e.rowState] || ""), e.checked && (c += i.CHECKED_ROW_STYLE), s.styleName = c;
        }
        return s;
      }, i.prototype.addUserCellStyle = function(e, t, o) {
        var r = this._grid, n = r.getItemOfRow(e, !0);
        n && r.itemSource.addCellStyle(n.dataId, t, o) && r.refreshView();
      }, i.prototype.removeUserCellStyle = function(e, t) {
        var o = this._grid, r = e != null ? o.getItemOfRow(e, !0) : null;
        (r || e == null) && o.itemSource.removeCellStyle(r ? r.dataRowId : null, t) && o.refreshView();
      }, i.prototype.getUserCellStyle = function(e, t) {
        var o = this._grid, r = o.getItemOfRow(e, !0);
        if (r)
          return o.itemSource.getUserCellStyle(r.dataId, t);
      }, i.prototype._prepareUpdate = function() {
        var e = this._grid = this.owner;
        this._ds = e.dataSource, this._showChangeMarker = e.displayOptions.showChangeMarker;
      }, i.ROW_STYLE = " rg-data-row", i.ALTERNATE_ROW_STYLE = " rg-alternate-row", i.FIXED_ROW_STYLE = " rg-fixed-row", i.CHECKED_ROW_STYLE = " rg-checked-row", i.STATE_ROW_STYLES = { created: " rg-created-row", deleted: " rg-deleted-row", createAndDeleted: " rg-deleted-row", updated: " rg-updated-row" }, i;
    }(_i), lt = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._grid = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        return this._grid = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), i.prototype._changed = function() {
        this._grid && this._grid.optionsChanged(this);
      }, i.prototype._invalidateOwner = function() {
        this._grid && this._grid.invalidate();
      }, i.prototype._layoutOwner = function() {
        this._grid && this._grid.invalidateLayout();
      }, i.prototype._refreshOwner = function() {
        this._grid && this._grid.refreshView();
      }, i;
    }(J), ri = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._colCount = 0, t._rightCount = 0, t._rowCount = 0, t._rightFixed = !0, t._exceptFromFiltering = !0, t._exceptFromSorting = !0, t._editable = !0, t._rowEditable = !0, t._resizable = !1, t._rowResizable = !1, t._movable = !1, t._colBarWidth = 3, t._rightBarWidth = 3, t._rowBarHeight = 3, t._mergeRows = !1, t._blankRows = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "colCount", { get: function() {
        return this._colCount;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._colCount && (this._colCount = e, this.grid && this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightCount", { get: function() {
        return this._rightCount;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._rightCount && (this._rightCount = e, this.grid && this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._rowCount;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._rowCount && (this._rowCount = e, this.$_resetItemSource());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightFixed", { get: function() {
        return this._rightFixed;
      }, set: function(e) {
        e != this._rightFixed && (this._rightFixed = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exceptFromFiltering", { get: function() {
        return this._exceptFromFiltering;
      }, set: function(e) {
        e != this._exceptFromFiltering && (this._exceptFromFiltering = e, this.$_resetItemSource());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exceptFromSorting", { get: function() {
        return this._exceptFromSorting;
      }, set: function(e) {
        e != this._exceptFromSorting && (this._exceptFromSorting = e, this.$_resetItemSource());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editable", { get: function() {
        return this._editable;
      }, set: function(e) {
        e != this._editable && (this._editable = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowEditable", { get: function() {
        return this._rowEditable;
      }, set: function(e) {
        e != this._rowEditable && (this._rowEditable = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "resizable", { get: function() {
        return this._resizable;
      }, set: function(e) {
        e != this._resizable && (this._resizable = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowResizable", { get: function() {
        return this._rowResizable;
      }, set: function(e) {
        e != this._rowResizable && (this._rowResizable = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "movable", { get: function() {
        return this._movable;
      }, set: function(e) {
        e != this._movable && (this._movable = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "colBarWidth", { get: function() {
        return this._colBarWidth;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._colBarWidth && (this._colBarWidth = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightBarWidth", { get: function() {
        return this._rightBarWidth;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._rightBarWidth && (this._rightBarWidth = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowBarHeight", { get: function() {
        return this._rowBarHeight;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._rowBarHeight && (this._rowBarHeight = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeRows", { get: function() {
        return this._mergeRows;
      }, set: function(e) {
        e != this._mergeRows && (this._mergeRows = e, this.grid._columnMergeRuleChanged(null));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "blankRows", { get: function() {
        return this._blankRows;
      }, set: function(e) {
        e != this._blankRows && (this._blankRows = e, this.$_resetItemSource(!0));
      }, enumerable: !1, configurable: !0 }), i.prototype._refreshOwner = function() {
        a.prototype._refreshOwner.call(this), this.grid && this.grid.invalidateColumns();
      }, i.prototype.$_resetItemSource = function(e) {
        var t, o = this.grid;
        o && (t = o.itemSource) && t.setFixed(this._rowCount, !this._exceptFromSorting, !this._exceptFromFiltering, e);
      }, i.ROW_BAR_STYLE = "rg-fixed-row-bar", i.ROW_BAR_CELL_STYLE = "rg-fixed-row-bar-cell", i.COLUMN_BAR_STYLE = "rg-fixed-column-bar", i;
    }(lt), xr = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._refreshMode = f.RefreshMode.ALL, t._columnResizable = !0, t._columnMovable = !0, t._minCellWidth = 8, t._defaultColumnWidth = 100, t._fitStyle = f.GridFitStyle.NONE, t._rowResizable = !1, t._eachRowResizable = !1, t._autoClearHeights = !0, t._rowHeight = 0, t._refCalcHeights = !0, t._dataHeights = null, t._minTableRowHeight = 23, t._minRowHeight = 23, t._maxRowHeight = 0, t._hscrollBar = !0, t._vscrollBar = !0, t._liveScroll = !0, t._scrollDuration = 0, t._hscrollDuration = 0, t._hintDelay = 0, t._showTooltip = !1, t._rowChangeDelay = 0, t._horzPageScroll = !1, t._emptyMessage = "이 곳에 표시할 메시지를 DisplayOptions.emptyMessage 속성으로 설정합니다.", t._showEmptyMessage = !1, t._focusVisible = !0, t._focusType = "layer", t._rowFocusType = f.RowMaskType.NONE, t._groupFocusVisible = !1, t._wheelEnabled = !0, t._wheelScrollLines = 3, t._wheelScrollHorz = 16, t._wheelAccelDelay = 0, t._wheelAccelScroll = null, t._wheelDeltaY = 0, t._wheelEventPropagate = !0, t._rightClickable = !0, t._remergeWhenColumnMoved = !0, t._editItemMerging = !1, t._showInnerFocus = !0, t._toastZIndex = 3e3, t._popupDropdownCount = 0, t._selectionMode = f.SelectionMode.SINGLE, t._selectionStyle = f.SelectionStyle.BLOCK, t._selectionDisplay = f.SelectionDisplay.CELL, t._selectAndImmediateDrag = !1, t._selectAtSingleRow = !1, t._rowHoverType = f.RowMaskType.NONE, t._rowBlockType = f.RowMaskType.NONE, t._showEmptyTooltip = !1, t._showChangeMarker = !0, t._showNativeEditButton = !1, t._baseZindex = 2e3, t._useAlternateRowStyle = !0, t._useFocusClass = !1, t._watchDisplayChange = !0, t._syncGridHeight = f.SyncGridHeight.NONE, b.isMobile() && (t._selectionStyle = f.SelectionStyle.NONE), (b.ieNine || b.ieTen) && (t._focusType = "line"), e.setWatchTimer(t._watchDisplayChange), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "refreshMode", { get: function() {
        return this._refreshMode;
      }, set: function(e) {
        e != this._refreshMode && (this._refreshMode = e, this.grid.setNeedRefresh(!0), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "columnResizable", { get: function() {
        return this._columnResizable;
      }, set: function(e) {
        this._columnResizable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "columnMovable", { get: function() {
        return this._columnMovable;
      }, set: function(e) {
        this._columnMovable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "defaultColumnWidth", { get: function() {
        return this._defaultColumnWidth;
      }, set: function(e) {
        e != this._defaultColumnWidth && (this._defaultColumnWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fitStyle", { get: function() {
        return this._fitStyle;
      }, set: function(e) {
        e != this._fitStyle && (this._fitStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fitStyleIncludeFixed", { get: function() {
        return this._fitStyleIncludeFixed;
      }, set: function(e) {
        e != this._fitStyleIncludeFixed && (this._fitStyleIncludeFixed = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowResizable", { get: function() {
        return this._rowResizable;
      }, set: function(e) {
        this._rowResizable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "eachRowResizable", { get: function() {
        return this._eachRowResizable;
      }, set: function(e) {
        this._eachRowResizable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "autoClearHeights", { get: function() {
        return this._autoClearHeights;
      }, set: function(e) {
        e != this._autoClearHeights && (this._autoClearHeights = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "refCalcHeights", { get: function() {
        return this._refCalcHeights;
      }, set: function(e) {
        e != this._refCalcHeights && (this._refCalcHeights = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowHeight", { get: function() {
        return this._rowHeight;
      }, set: function(e) {
        e != this._rowHeight && (this._rowHeight = e, this._autoClearHeights && this.grid && this.grid.clearRowHeights(!1), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataHeights", { get: function() {
        return this._dataHeights;
      }, set: function(e) {
        e && e.length > 0 ? this._dataHeights = e.slice() : this._dataHeights = null, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minTableRowHeight", { get: function() {
        return this._minTableRowHeight;
      }, set: function(e) {
        (e = Math.max(i.MIN_TABLE_ROW_HEIGHT, e)) != this._minTableRowHeight && (this._minTableRowHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minRowHeight", { get: function() {
        return this._minRowHeight;
      }, set: function(e) {
        (e = Math.max(i.MIN_TABLE_ROW_HEIGHT, e)) != this._minRowHeight && (this._minRowHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxRowHeight", { get: function() {
        return this._maxRowHeight;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._maxRowHeight && (this._maxRowHeight = e, this._autoClearHeights && this.grid && this.grid.clearRowHeights(!1), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minCellWidth", { get: function() {
        return this._minCellWidth;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._minCellWidth && (this._minCellWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hscrollBar", { get: function() {
        return this._hscrollBar;
      }, set: function(e) {
        e != this._hscrollBar && (this._hscrollBar = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "vscrollBar", { get: function() {
        return this._vscrollBar;
      }, set: function(e) {
        e != this._vscrollBar && (this._vscrollBar = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "liveScroll", { get: function() {
        return this._liveScroll;
      }, set: function(e) {
        e != this._liveScroll && (this._liveScroll = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollDuration", { get: function() {
        return this._scrollDuration;
      }, set: function(e) {
        this._scrollDuration = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hscrollDuration", { get: function() {
        return this._hscrollDuration;
      }, set: function(e) {
        this._hscrollDuration = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hintDelay", { get: function() {
        return this._hintDelay;
      }, set: function(e) {
        this._hintDelay = Math.max(e, 0);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showTooltip", { get: function() {
        return this._showTooltip;
      }, set: function(e) {
        this._showTooltip = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowChangeDelay", { get: function() {
        return this._rowChangeDelay;
      }, set: function(e) {
        this._rowChangeDelay = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "horzPageScroll", { get: function() {
        return this._horzPageScroll;
      }, set: function(e) {
        this._horzPageScroll = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "emptyMessage", { get: function() {
        return this._emptyMessage;
      }, set: function(e) {
        e != this._emptyMessage && (this._emptyMessage = e, this.grid.setEmptyMessage(e));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showEmptyMessage", { get: function() {
        return this._showEmptyMessage;
      }, set: function(e) {
        e != this._showEmptyMessage && (this._showEmptyMessage = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focusVisible", { get: function() {
        return this._focusVisible;
      }, set: function(e) {
        e != this._focusVisible && (this._focusVisible = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focusType", { get: function() {
        return this._focusType;
      }, set: function(e) {
        e !== this.focusType && (this._focusType = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowFocusType", { get: function() {
        return this._rowFocusType;
      }, set: function(e) {
        e != this._rowFocusType && (this._rowFocusType = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupFocusVisible", { get: function() {
        return this._groupFocusVisible;
      }, set: function(e) {
        e !== this._groupFocusVisible && (this._groupFocusVisible = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "wheelEnabled", { get: function() {
        return this._wheelEnabled;
      }, set: function(e) {
        this._wheelEnabled = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "wheelScrollLines", { get: function() {
        return this._wheelScrollLines;
      }, set: function(e) {
        this._wheelScrollLines = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "wheelScrollHorz", { get: function() {
        return this._wheelScrollHorz;
      }, set: function(e) {
        this._wheelScrollHorz = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "wheelAccelDelay", { get: function() {
        return this._wheelAccelDelay;
      }, set: function(e) {
        this._wheelAccelDelay = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "wheelAccelScroll", { get: function() {
        return this._wheelAccelScroll;
      }, set: function(e) {
        this._wheelAccelScroll = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "wheelDeltaY", { get: function() {
        return this._wheelDeltaY;
      }, set: function(e) {
        this._wheelDeltaY = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "wheelEventPropagate", { get: function() {
        return this._wheelEventPropagate;
      }, set: function(e) {
        this._wheelEventPropagate = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightClickable", { get: function() {
        return this._rightClickable;
      }, set: function(e) {
        this._rightClickable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "remergeWhenColumnMoved", { get: function() {
        return this._remergeWhenColumnMoved;
      }, set: function(e) {
        this._remergeWhenColumnMoved = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editItemMerging", { get: function() {
        return this._editItemMerging;
      }, set: function(e) {
        e != this._editItemMerging && (this._editItemMerging = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showInnerFocus", { get: function() {
        return this._showInnerFocus;
      }, set: function(e) {
        e != this._showInnerFocus && (this._showInnerFocus = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "toastZIndex", { get: function() {
        return this._toastZIndex;
      }, set: function(e) {
        this._toastZIndex = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupDropdownCount", { get: function() {
        return this._popupDropdownCount;
      }, set: function(e) {
        this._popupDropdownCount = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectionMode", { get: function() {
        return this._selectionMode;
      }, set: function(e) {
        e != this._selectionMode && (this._selectionMode = e, this.grid.clearAddSelection());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectionStyle", { get: function() {
        return this._selectionStyle;
      }, set: function(e) {
        e != this._selectionStyle && (this.grid.selections.clear(), this._selectionStyle = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectionDisplay", { get: function() {
        return this._selectionDisplay;
      }, set: function(e) {
        e != this._selectionDisplay && (this._selectionDisplay = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectAndImmediateDrag", { get: function() {
        return this._selectAndImmediateDrag;
      }, set: function(e) {
        this._selectAndImmediateDrag = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectAtSingleRow", { get: function() {
        return this._selectAtSingleRow;
      }, set: function(e) {
        this._selectAtSingleRow = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowHoverType", { get: function() {
        return this._rowHoverType;
      }, set: function(e) {
        e != this._rowHoverType && (this._rowHoverType = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowBlockType", { get: function() {
        return this._rowBlockType;
      }, set: function(e) {
        e != this._rowBlockType && (this._rowBlockType = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowBlockCallback", { get: function() {
        return this._rowBlockCallback;
      }, set: function(e) {
        e !== this._rowBlockCallback && (this._rowBlockCallback = e, this._rowBlockType != f.RowMaskType.NONE && this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showEmptyTooltip", { get: function() {
        return this._showEmptyTooltip;
      }, set: function(e) {
        this._showEmptyTooltip = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showChangeMarker", { get: function() {
        return this._showChangeMarker;
      }, set: function(e) {
        e != this._showChangeMarker && (this._showChangeMarker = e, this._refreshOwner());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollMessageCallback", { get: function() {
        return this._scrollMessageCallback;
      }, set: function(e) {
        this._scrollMessageCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showNativeEditButton", { get: function() {
        return this._showNativeEditButton;
      }, set: function(e) {
        e != this._showNativeEditButton && (this._showNativeEditButton = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "baseZindex", { get: function() {
        return this._baseZindex;
      }, set: function(e) {
        this._baseZindex = Math.max(e, 0);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "useAlternateRowStyle", { get: function() {
        return this._useAlternateRowStyle;
      }, set: function(e) {
        e != this._useAlternateRowStyle && (this._useAlternateRowStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "useFocusClass", { get: function() {
        return this._useFocusClass;
      }, set: function(e) {
        e != this._useFocusClass && (e || (this.grid.setFocusedClass(this.grid.focusedIndex, !1), this.grid.setFocusedRowClass(this.grid.focusedIndex, !1)), this._useFocusClass = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editButtonHeight", { get: function() {
        return this.grid.body.editButtonHeight;
      }, set: function(e) {
        this.grid.body.editButtonHeight = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "watchDisplayChange", { get: function() {
        return this._watchDisplayChange;
      }, set: function(e) {
        e != this._watchDisplayChange && (this._watchDisplayChange = e, this.grid.setWatchTimer(e));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "syncGridHeight", { get: function() {
        return this._syncGridHeight;
      }, set: function(e) {
        e != this._syncGridHeight && (this._syncGridHeight = e, e !== f.SyncGridHeight.ALWAYS && this.grid.recallHeight(), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowHeightCallback", { get: function() {
        return this._rowHeightCallback;
      }, set: function(e) {
        this._rowHeightCallback = e, this.grid.clearRowHeights(!1), this._changed();
      }, enumerable: !1, configurable: !0 }), i.MIN_TABLE_ROW_HEIGHT = 15, i;
    }(lt), Xt = function() {
      function a(i, e) {
        i === void 0 && (i = 0), e === void 0 && (e = 0), this.width = i, this.height = e;
      }
      return a.empty = function() {
        return new a();
      }, a.create = function(i, e) {
        return i === void 0 && (i = 0), e === void 0 && (e = 0), new a(i, e);
      }, Object.defineProperty(a.prototype, "isEmpty", { get: function() {
        return this.width === 0 || this.height === 0;
      }, enumerable: !1, configurable: !0 }), a.prototype.clone = function() {
        return new a(this.width, this.height);
      }, a.prototype.equals = function(i) {
        return i === this || i && this.width === i.width && this.height === i.height;
      }, a.prototype.setEmpty = function() {
        return this.width = this.height = 0, this;
      }, a.prototype.set = function(i, e) {
        return this.width = i, this.height = e, this;
      }, a.prototype.round = function() {
        var i = this.clone();
        return i.width >>>= 0, i.height >>>= 0, i;
      }, a.prototype.toString = function() {
        return "{width: " + this.width + ", height: " + this.height + "}";
      }, a.EMPTY = new a(), a;
    }(), Li = function(a) {
      function i(e, t) {
        return t === void 0 && (t = null), a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        for (var e = this.parent; e; ) {
          if (e instanceof li)
            return e;
          e = e.parent;
        }
        return null;
      }, enumerable: !1, configurable: !0 }), i.prototype.measure = function(e, t, o) {
        return this._setClassName(this._dom), this._doMeasure(e, t, o);
      }, i.prototype.layoutContent = function(e) {
        (this.grid._loading || this.visible) && (this._doPrepareContent(e), this._doLayoutContent(e));
      }, i.prototype._getCssSelector = function() {
        return "";
      }, i.prototype._getCssDisplay = function() {
        return "table";
      }, i.prototype._doDraw = function(e) {
        this._doRender(e);
      }, i.prototype._doMeasure = function(e, t, o) {
        return new Xt(t, o);
      }, i.prototype._doPrepareContent = function(e) {
      }, i.prototype._doLayoutContent = function(e) {
      }, i.prototype._doRender = function(e) {
      }, i;
    }(qt), Ir = function(a) {
      function i(e, t, o) {
        o === void 0 && (o = null);
        var r = a.call(this, e, o) || this;
        return r._ff = b.isFirefox, r._chromium = b.isChromium, r._textProp = b.TextProp, r._cursor = "default", r._model = t, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._model = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "model", { get: function() {
        return this._model;
      }, enumerable: !1, configurable: !0 }), i.prototype.setCursor = function(e) {
        e !== this._cursor && (this._cursor = e, this._dom.style.cursor = e);
      }, i;
    }(Li), rs = function(a) {
      function i(e) {
        return a.call(this, e, "emptyGridView") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.setMessage = function(e) {
        this._span[b.TextProp] = e;
      }, i.prototype._createDom = function(e) {
        var t = a.prototype._createDom.call(this, e), o = this._span = e.createElement("span");
        return t.appendChild(o), t;
      }, i.prototype._getCssSelector = function() {
        return "rg-empty-grid";
      }, i.prototype._doDraw = function(e) {
        this.setMessage(this.grid.displayOptions.emptyMessage);
      }, i;
    }(Li), ns = function(a) {
      function i(e, t, o) {
        o === void 0 && (o = null);
        var r = a.call(this, e, t, o) || this;
        return r._explicitWidth = NaN, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._tbody = this._thead = this._table = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "tableRowCount", { get: function() {
        return this._tbody.childElementCount;
      }, enumerable: !1, configurable: !0 }), i.prototype.getCellPoint = function(e, t) {
        return (t = t || new wi()).x += e.offsetLeft, t.y += e.offsetTop, t;
      }, i.prototype._getTableHidden = function() {
        return !0;
      }, i.prototype._getTableCaption = function() {
        return "";
      }, i.prototype._createDom = function(e) {
        var t = e.createElement("div"), o = this._table = e.createElement("table");
        this._getTableHidden() && o.setAttribute("aria-hidden", "true"), o.setAttribute("role", "grid");
        var r = o.createCaption();
        r.textContent = "grid table ";
        var n = r.style;
        return n.width = n.height = "0px", n.overflow = "hidden", n.setProperty("padding", "0px", "important"), n.boxSizing = "border-box", (n = o.style).setProperty("table-layout", "fixed", "important"), n.setProperty("width", "100%", "important"), o.className = "rg-table", t.appendChild(o), this._thead = e.createElement("thead"), o.appendChild(this._thead), this._tbody = e.createElement("tbody"), o.appendChild(this._tbody), t;
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), e[Pi] = this[zs], e.style.overflow = "hidden";
      }, i.prototype._doPrepareContent = function(e) {
        var t = this._getExplicitWidth(e);
        b.equalNumbers(t, this._explicitWidth) || (this._table.style.width = t > 0 ? t + "px" : "100%", this._explicitWidth = t), this._doPrepareTableExtents(e), this._doPrepareTable(e);
      }, i.prototype._doDraw = function(e) {
        this._doRender(e), this._doRenderTable(this._tbody);
      }, i.prototype._getExplicitWidth = function(e) {
        return NaN;
      }, i.prototype._doPrepareTableExtents = function(e) {
      }, i.prototype._doPrepareTable = function(e) {
        this._doPrepareTableHead(e, this._thead), this._doPrepareTableRows(e, this._tbody);
      }, i.prototype._doPrepareTableHead = function(e, t) {
        var o, r = te(t);
        t.childElementCount == 0 ? ((o = r.createElement("tr")).setAttribute("role", "row"), t.appendChild(o), this._getTableHidden() && o.setAttribute("aria-hidden", "true"), (u = o.style).setProperty("border", "0px none", "important")) : o = t.lastElementChild;
        for (var n = this._getCellCount(e); o.childElementCount < n; )
          (h = r.createElement("th")).scope = "col", (u = h.style).setProperty("margin", "0px", "important"), u.setProperty("padding", "0px", "important"), u.setProperty("font-size", "0px", "important"), u.setProperty("line-height", "0px", "important"), u.height = "0px", o.appendChild(h);
        for (; o.childElementCount > n; )
          o.removeChild(o.lastChild);
        for (var s = o.children, l = 0; l < s.length; l++) {
          var h, u;
          (u = (h = s[l]).style).width = this._getCellWidth(e, l) + "px";
        }
      }, i.prototype._prepareTableRowCells = function(e, t) {
        for (var o = this._getCellCount(e), r = te(t), n = t.childElementCount; n < o; ) {
          var s = r.createElement("td");
          s.setAttribute("role", "gridcell"), t.appendChild(s);
          var l = this._prepareCellContent(s, n++);
          s.appendChild(l);
        }
        for (; t.childElementCount > o; )
          l = t.lastElementChild, this._cleanCellContent(l), t.removeChild(t.lastElementChild);
        return t.childElementCount;
      }, i.prototype._isFixedHeight = function(e) {
        return !0;
      }, i.prototype._getMinRowHeight = function(e) {
        return e.minRowHeight;
      }, i.prototype._doPrepareTableRow = function(e, t, o, r) {
        this._prepareTableRowCells(e, r);
        var n = this._isFixedHeight(e), s = r.children, l = this._isDataTable(), h = n ? this._getTableRowHeight(e, o) : this._getMinRowHeight(e), u = isNaN(h) || h < 2 ? "0px" : h - 2 + "px", c = r.style;
        r[Pi] = this[zs], r.$_fix = n, r.$_hei = n ? h : 0, l || n ? c.setProperty("height", h + "px") : c.removeProperty("height"), c.display = "";
        for (var d = this._getStartCell(e) - this._getFirstCell(e), p = s.length; d < p && d <= this._getEndCell(e); d++) {
          var _ = s[d];
          this._ff && (_.style.height = "100%");
          var g = _.firstElementChild;
          g || (g = this._prepareCellContent(_, d), _.appendChild(g));
          var y = g.style, m = n ? u : "";
          !n && l && y.removeProperty("height"), m != y.maxHeight && (y.maxHeight = m), y.overflow !== "hidden" && (y.overflow = "hidden");
        }
      }, i.prototype._doRenderTable = function(e) {
        for (var t = e.children, o = 0; o < t.length; o++) {
          var r = t[o];
          this._renderRow(r, o);
        }
      }, i.prototype._renderRow = function(e, t) {
        this._doDrawRow(t, e);
        for (var o = e.children, r = 0; r < o.length; r++) {
          var n = o[r];
          this._renderCell(n.lastElementChild, t, r);
        }
      }, i.prototype._renderCell = function(e, t, o) {
        this._doDrawCell(t, o, e);
      }, i.prototype._prepareCellContent = function(e, t) {
        return te(e).createElement("div");
      }, i.prototype._cleanCellContent = function(e) {
      }, i.prototype._doDrawRow = function(e, t) {
      }, i.prototype._doDrawCell = function(e, t, o) {
      }, i.prototype._getTableRow = function(e, t) {
        return this._tbody.children[t];
      }, i.prototype._getTableRows = function(e, t, o) {
        for (var r = [], n = 0; n < o; n++)
          r.push(this._tbody.children[t + n]);
        return r;
      }, i.prototype._getTableCell = function(e, t) {
        return this._tbody.children[e].children[t];
      }, i.prototype.getCellContent = function(e, t) {
        return this._tbody.children[e].children[t].firstElementChild;
      }, i.prototype.getContentAt = function(e) {
        var t, o = e.grid.layoutManager, r = o.fixedItemCount, n = e.column ? e.column.index : 0;
        return t = r > 0 ? e.itemIndex < r ? e.itemIndex : e.itemIndex - o.topIndex + 1 : e.itemIndex - o.topIndex, this.getCellContent(t, n);
      }, i.prototype._getFirstCell = function(e) {
        return e.firstCell;
      }, i.prototype._getStartCell = function(e) {
        return e.startCell;
      }, i.prototype._getLastCell = function(e) {
        return e.lastCell;
      }, i.prototype._getEndCell = function(e) {
        return e.endCell;
      }, i;
    }(Ir), xi = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._isDataTable = function() {
        return !1;
      }, i.prototype._doPrepareTableRows = function(e, t) {
        for (var o = Math.max(0, this._getTableRowCount(e)), r = te(t); t.childElementCount < o; )
          (l = r.createElement("tr")).setAttribute("role", "row"), t.appendChild(l);
        for (; t.childElementCount > o; )
          t.removeChild(t.lastChild);
        for (var n = t.children, s = 0; s < o; s++) {
          var l;
          (l = n[s]).style.height = this._getTableRowHeight(e, s) + "px", this._doPrepareTableRow(e, s, s, l);
        }
      }, i.prototype._getTableRowCount = function(e) {
        return 1;
      }, i;
    }(ns), ss = function(a) {
      function i() {
        var e = a !== null && a.apply(this, arguments) || this;
        return e._trCount = 0, e._trs = 1, e;
      }
      return w(i, a), i.prototype._isDataTable = function() {
        return !0;
      }, i.prototype._getTrs = function(e) {
        return 1;
      }, i.prototype._getTableRowCount = function(e) {
        var t = e.fixedItemCount, o = t + e.itemCount;
        return o *= this._trs, o += t > 0 ? 1 : 0;
      }, i.prototype.$_getTableIndex = function(e, t) {
        var o = e.fixedItemCount, r = t * this._trs;
        return o > 0 && t >= o ? r + 1 : r;
      }, i.prototype._getTableRow = function(e, t) {
        var o = this.$_getTableIndex(e, t);
        return this._tbody.children[o];
      }, i.prototype._doPrepareTableRows = function(e, t) {
        for (var o = e.$_getItems(), r = this._trs = this._getTrs(e), n = e.fixedItemCount, s = e.itemCount + n, l = this._trCount = Math.max(0, this._getTableRowCount(e)), h = te(t); t.childElementCount < l; ) {
          var u = h.createElement("tr");
          u.setAttribute("role", "row"), t.appendChild(u);
        }
        for (; t.childElementCount > l; )
          t.removeChild(t.lastChild);
        var c = t.children, d = 0, p = 0;
        if (n > 0) {
          for (d = 0; d < n; d++)
            for (var _ = 0; _ < r; _++, p++)
              this._doPrepareTableRow(e, d, p, c[p]);
          this.$_prepareFixedBar(e, c[p++]);
        }
        for (; d < s && p < l; d++) {
          var g = o[d].isData ? r : 1;
          for (_ = 0; _ < g && p < l; _++, p++)
            this._doPrepareTableRow(e, d, p, c[p]);
        }
      }, i.prototype.$_prepareFixedBar = function(e, t) {
        var o = be(t), r = this._prepareTableRowCells(e, t), n = e.fixedBarHeight, s = t.style;
        n > 0 ? s.height = e.fixedBarHeight + "px" : s.display = "none";
        for (var l = t.children, h = 0; h < r; h++) {
          var u = l[h];
          u instanceof o.HTMLTableCellElement && (u.rowSpan = 1, u.style.display = ""), (u = l[h].firstElementChild) && (u.style.maxHeight = "0px", u.style.overflow = "hidden");
        }
        return n;
      }, i.prototype._getTableRowHeight = function(e, t) {
        return e.getTableRowHeight(t, 1);
      }, i.prototype._getCellContent = function(e) {
        return e.firstElementChild;
      }, i.prototype._updateCellContent = function(e, t, o) {
        this._doUpdateCellContent(e, t, this._getCellContent(o));
      }, i.prototype._doUpdateCellContent = function(e, t, o) {
      }, i;
    }(ns), ni = function(a) {
      function i(e, t) {
        t === void 0 && (t = null);
        var o = a.call(this, e, t) || this;
        return o._fixed = !1, o._index = new W(), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._index && this._index.dispose(), this._index = null, this._cellDom = b.detach(this._cellDom), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "fixed", { get: function() {
        return this._fixed;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "index", { get: function() {
        return this._index;
      }, set: function(e) {
        W.areEquals(this._index, e) || (this._index.assignFrom(e), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "item", { get: function() {
        return this._index.item;
      }, enumerable: !1, configurable: !0 }), i.prototype.updateCell = function(e, t, o) {
        o != this._cellDom && (o && this._clearCellDom(o), this._clearCellCache(), this._cellDom = o), this.index = t.index, this._doPrepareValue(e, t), this._doUpdateContent(e, t, this._cellDom);
      }, i.prototype.removeCellDom = function(e) {
        e === void 0 && (e = !1), e && this._cellDom && this._clearCellDom(this._cellDom), this._cellDom = null, this._clearCellCache();
      }, i.prototype._createDom = function(e) {
        return null;
      }, i.prototype._clearCellDom = function(e) {
        e.innerHTML = "";
      }, i.prototype._clearCellCache = function() {
      }, Object.defineProperty(i.prototype, "valueColumn", { get: function() {
        return this._index.valueColumn;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataColumn", { get: function() {
        return this._index.dataColumn;
      }, enumerable: !1, configurable: !0 }), i.prototype._changed = function() {
        this.invalidate();
      }, i.prototype._doPrepareValue = function(e, t) {
      }, i.prototype._doUpdateContent = function(e, t, o) {
      }, i.prototype._doLayoutContent = function(e) {
      }, i;
    }(Li), Hd = function(a) {
      function i(e, t) {
        return t === void 0 && (t = null), a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype._doPrepareValue = function(e, t) {
      }, i;
    }(ni), Sr = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._valueSeparator = ",", e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "valueSeparator", { get: function() {
        return this._valueSeparator;
      }, set: function(e) {
        this._valueSeparator = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.SERIES_TYPE;
      }, enumerable: !1, configurable: !0 }), i.prototype._makeText = function(e, t) {
        return t.getDisplayText(e, this._valueSeparator) || "";
      }, i.SERIES_TYPE = "series", i;
    }(Qi), Vo = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._baseValue = NaN, e.$_render = function(t, o, r, n) {
          var s = this._values;
          if (s && s.length) {
            for (var l = s.length, h = s[0], u = s[0], c = 1; isNaN(h) && c < l; )
              u = h = s[c++];
            for (; c < l; c++) {
              var d = s[c];
              isNaN(d) || (d < h && (h = d), d > u && (u = d));
            }
            var p = isNaN(this._baseValue) ? h : this._baseValue;
            isNaN(h) || this._renderChart(o, s, h, u, p);
          }
        }.bind(e), e;
      }
      return w(i, a), i.interfaced = function(e) {
        return b.included(e.type, Ii.TYPE, Si.TYPE, Er.TYPE);
      }, Object.defineProperty(i.prototype, "baseValue", { get: function() {
        return this._baseValue;
      }, set: function(e) {
        this._baseValue = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstStyle", { get: function() {
        return this._firstStyle;
      }, set: function(e) {
        this._firstStyle = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lastStyle", { get: function() {
        return this._lastStyle;
      }, set: function(e) {
        this._lastStyle = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "highStyle", { get: function() {
        return this._highStyle;
      }, set: function(e) {
        this._highStyle = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lowStyle", { get: function() {
        return this._lowStyle;
      }, set: function(e) {
        this._lowStyle = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "belowStyle", { get: function() {
        return this._belowStyle;
      }, set: function(e) {
        this._belowStyle = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pointStyle", { get: function() {
        return this._pointStyle;
      }, set: function(e) {
        this._pointStyle = e;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = te(e), o = this._div = t.createElement("div");
        o.style.position = "relative", o.style.height = "100%", e.appendChild(o);
        var r = (this._svg = Ut.createSVG(o)).style;
        r.position = "absolute", r.left = r.top = "0px", r.width = r.height = "100%";
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = this._svg;
        s.setAttribute("class", this._getChartStyle()), this._values = this._getValues(t), Ut.renderSVG2(e, s, this.$_render);
      }, i.prototype._getPoints = function(e, t, o) {
        for (var r = e.length, n = [], s = o - t, l = 0; l < r; l++) {
          var h = e[l], u = 5 + l / (r - 1) * 90, c = 10 + (isNaN(h) || s == 0 ? 80 : 80 * (1 - (h - t) / s));
          n.push(u, c);
        }
        return n;
      }, i.prototype._getBasePoint = function(e, t, o) {
        var r = t - e;
        return 0 + (isNaN(o) || r == 0 ? 100 : 100 * (1 - (o - e) / r));
      }, i;
    }(function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._getValues = function(e) {
        return e.value || [];
      }, i;
    }(Ct)), Ii = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._chartStyle = i.CHART_STYLE, e.lastStyle = i.LAST_STYLE, e.highStyle = i.HIGH_STYLE, e.lowStyle = i.LOW_STYLE, e;
      }
      return w(i, a), i.interfaced = function(e) {
        return e.type == i.TYPE;
      }, Object.defineProperty(i.prototype, "chartStyle", { get: function() {
        return this._chartStyle;
      }, set: function(e) {
        this._chartStyle = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._getChartStyle = function() {
        return this._chartStyle;
      }, i.prototype._renderChart = function(e, t, o, r, n) {
        for (var s, l = isNaN(n) ? r : Math.max(r, n), h = isNaN(n) ? o : Math.min(o, n), u = this._getPoints(t, h, l), c = t.length, d = 0; d < c - 1; d++)
          if (e.sline(null, u[2 * d] + "%", u[2 * d + 1] + "%", u[2 * (d + 1)] + "%", u[2 * (d + 1) + 1] + "%"), s = this.pointStyle) {
            var p = u[2 * d], _ = u[2 * d + 1];
            e.scircle(s, p + "%", _ + "%", "2");
          }
        if ((s = this.firstStyle) && (p = u[0], _ = u[1], e.scircle(s, p + "%", _ + "%", "2")), (s = this.lastStyle) && (p = u[2 * (c - 1)], _ = u[2 * (c - 1) + 1], e.scircle(s, p + "%", _ + "%", "2")), s = this.highStyle)
          for (d = 0; d < c; d++)
            t[d] >= r && (p = u[2 * d], _ = u[2 * d + 1], e.scircle(s, p + "%", _ + "%", "2"));
        if (s = this.lowStyle)
          for (d = 0; d < c; d++)
            t[d] <= o && (p = u[2 * d], _ = u[2 * d + 1], e.scircle(s, p + "%", _ + "%", "2"));
      }, i.TYPE = "sparkline", i.STYLE = "rg-sparkline-renderer", i.CHART_STYLE = "rg-sparkline-renderer-chart", i.LAST_STYLE = "rg-sparkline-renderer-last", i.HIGH_STYLE = "rg-sparkline-renderer-high", i.LOW_STYLE = "rg-sparkline-renderer-low", i.STYLE_NAME = "rg-renderer " + i.STYLE, i;
    }(Vo), Si = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._chartStyle = i.CHART_STYLE, e._barWidth = 0.8, e.lastStyle = i.LAST_STYLE, e.highStyle = i.HIGH_STYLE, e.lowStyle = i.LOW_STYLE, e;
      }
      return w(i, a), i.interfaced = function(e) {
        return e.type === i.TYPE;
      }, Object.defineProperty(i.prototype, "chartStyle", { get: function() {
        return this._chartStyle;
      }, set: function(e) {
        this._chartStyle = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "barWidth", { get: function() {
        return this._barWidth;
      }, set: function(e) {
        this._barWidth = Math.min(1, Math.max(0, e));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._getChartStyle = function() {
        return this._chartStyle;
      }, i.prototype._renderChart = function(e, t, o, r, n) {
        for (var s, l = isNaN(n) ? r : Math.max(r, n), h = isNaN(n) ? o : n, u = t.length, c = this._getBasePoint(h, l, n), d = 100 / u, p = 0 + d / 2, _ = l - h, g = d * this._barWidth, y = 0; y < u; y++) {
          var m = t[y];
          if (!isNaN(m))
            if (s = m <= o && this.lowStyle ? this.lowStyle : m >= r && this.highStyle ? this.highStyle : m < n && this.belowStyle ? this.belowStyle : y == 0 && this.firstStyle ? this.firstStyle : y == u - 1 && this.lastStyle ? this.lastStyle : null, isNaN(this.baseValue) && h < 0)
              if (l < 0) {
                var v = 0, C = _ === 0 ? 100 : Math.max(1, Math.floor(Math.abs(m - l) / _ * 100));
                e.pbounds(s, p - g / 2, v, g, C);
              } else
                v = _ === 0 ? 100 : Math.floor(Math.abs(h) / _ * 100), C = Math.max(1, Math.floor(Math.abs(m) / _ * 100)), m > 0 ? e.pbounds(s, p - g / 2, 100 - v - C, g, C) : e.pbounds(s, p - g / 2, 100 - v, g, C);
            else
              C = _ == 0 ? 100 : Math.max(1, Math.floor(100 * (m - h) / _)), e.pbounds(s, p - g / 2, c, g, -C);
          p += d;
        }
      }, i.TYPE = "sparkcolumn", i.STYLE = "rg-sparkcolumn-renderer", i.CHART_STYLE = "rg-sparkcolumn-renderer-chart", i.LAST_STYLE = "rg-sparkcolumn-renderer-last", i.HIGH_STYLE = "rg-sparkcolumn-renderer-high", i.LOW_STYLE = "rg-sparkcolumn-renderer-low", i.STYLE_NAME = "rg-renderer " + i.STYLE, i;
    }(Vo), Er = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._chartStyle = i.CHART_STYLE, e._barWidth = 0.8, e._belowHeight = 0.4, e.belowStyle = i.BELOW_STYLE, e;
      }
      return w(i, a), i.interfaced = function(e) {
        return e.type === i.TYPE;
      }, Object.defineProperty(i.prototype, "chartStyle", { get: function() {
        return this._chartStyle;
      }, set: function(e) {
        this._chartStyle = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "barWidth", { get: function() {
        return this._barWidth;
      }, set: function(e) {
        this._barWidth = Math.min(1, Math.max(0, e));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "belowHeight", { get: function() {
        return this._belowHeight;
      }, set: function(e) {
        this._belowHeight = Math.min(1, Math.max(0, e));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._getChartStyle = function() {
        return this._chartStyle;
      }, i.prototype._renderChart = function(e, t, o, r, n) {
        for (var s = t.length, l = 100 / s, h = 0 + l / 2, u = l * this._barWidth, c = 0 + 100 * (1 - this._belowHeight), d = 0; d < s; d++) {
          var p = t[d];
          if (!isNaN(p) && p != n) {
            var _ = null;
            p < n && this.belowStyle && (_ = this.belowStyle);
            var g = p < n ? 100 : 0;
            e.pbounds(_, Math.floor(h - u / 2), Math.floor(g), Math.floor(u), Math.floor(c - g));
          }
          h += l;
        }
      }, i.TYPE = "sparkwinloss", i.STYLE = "rg-sparkwinloss-renderer", i.CHART_STYLE = "rg-sparkwinloss-renderer-chart", i.BELOW_STYLE = "rg-sparkwinloss-renderer-below", i.STYLE_NAME = "rg-renderer " + i.STYLE, i;
    }(Vo);
    (function(a) {
      function i(e, t) {
        return a.call(this, e, t || "dataCellView") || this;
      }
      w(i, a), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, enumerable: !1, configurable: !0 }), i.prototype._doUpdateContent = function(e, t, o) {
        o[b.TextProp] = this._text;
      };
    })(Hd);
    var Il, Or, Rr = function(a) {
      function i(e, t) {
        t === void 0 && (t = null);
        var o = a.call(this, e, t) || this;
        return o._domIndex = -1, o._trs = 1, o._fixedHeight = !1, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._item = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "itemIndex", { get: function() {
        return this._item.index;
      }, enumerable: !1, configurable: !0 }), i.prototype.updateItem = function(e, t, o, r) {
        this._item = e, this._domIndex = t, this._trs = o, this._fixedHeight = r;
      }, i.prototype.clearContent = function(e, t) {
      }, i.prototype._createDom = function() {
        return null;
      }, i.prototype.$_getDefaultRenderer = function(e, t) {
        return Qi.TYPE;
      }, i.prototype._changed = function() {
        this.invalidate();
      }, i.prototype._getTableRow = function(e, t) {
        return this.parent._getTableRow(e, this._domIndex);
      }, i.prototype._getTableRows = function(e) {
        return this.parent._getTableRows(e, this._domIndex, this._trs);
      }, i.prototype._getCellContent = function(e) {
        return this.parent.getCellContent(this._domIndex, e);
      }, i;
    }(Li), Sl = "rg-expander-expanded", El = "rg-expander-collapsed", mt = function(a) {
      function i(e, t) {
        return t === void 0 && (t = null), a.call(this, e, t) || this;
      }
      return w(i, a), i.isExpander = function(e) {
        var t = e.className;
        return typeof t == "string" && (t == Sl || t == El || t.indexOf("rg-tree-expanded") >= 0 || t.indexOf("rg-tree-collapsed") >= 0);
      }, i.prototype.resetButtons = function(e, t, o) {
        for (var r = e.layoutManager, n = this._trs, s = this.parent._cells, l = this._getFirstCell(r), h = this._getStartCell(r) - l, u = this._getEndCell(r) - l, c = t && o && t.head === o.head && e.canMergeEditing(o), d = 0; d < n; d++)
          for (var p = s[this._domIndex + d], _ = h; _ <= u; _++) {
            var g = p[_], y = g.layout, m = y.firstColumn;
            !y.isProxy && this._item.isDataRow && m instanceof Et && !c && this.$_setButtons(e, g, g.cell.firstElementChild);
          }
      }, i.prototype.moveCellButtons = function(e, t, o) {
        var r = Math.min(o - t.item.index, t.rowSpan - 1);
        if (!this.grid.canMergeEditing(t) && r != t.buttonsOffset) {
          var n = t.rowIndex, s = n + r, l = e.getTableItemBounds(n), h = e.getTableItemBounds(s), u = e.grid.body.buttonHeight, c = h.y - l.y;
          c = Math.floor(c + (h.height - u) / 2), t.buttons.style.top = c + "px", t.buttonsOffset = r;
        }
      }, i.prototype.cellRefresh = function(e, t, o, r, n) {
        var s = e.layoutManager;
        this._updateDataCell(e, s, t, o, r, n);
      }, i.prototype.clearContent = function(e, t) {
        for (var o = this.parent, r = this._getFirstCell(e), n = this._getStartCell(e) - r, s = this._getEndCell(e) - r, l = 0; l < t; l++)
          for (var h = o._cells[this._domIndex + l], u = n; u <= s; u++) {
            var c = h[u], d = c.renderer2;
            d && d.clearContent(), c.setBorderBottom(1), c.changedMarker && (b.detach(c.changedMarker), c.valueChanged = !1);
          }
      }, i.prototype._doLayoutContent = function(e) {
        var t, o = e.grid, r = this._trs, n = o.body, s = this.parent, l = s._cells, h = this._getFirstCell(e), u = this._getStartCell(e) - h, c = this._getEndCell(e) - h, d = o.focusedIndex, p = d && d.itemIndex == this._item.index, _ = d.column, g = this._item.index;
        this._item instanceof Qe && (c = Math.min(c, this._item.parent.level - 1), (g = (t = this._item.parent.firstDataItem).index) >= 0 && (t = null));
        for (var y = W.temp(o, g), m = s._tbody.rows, v = 0; v < r; v++)
          for (var C = l[this._domIndex + v], x = m[this._domIndex + v], S = u; S <= c; S++) {
            var I = C[S], E = I.layout;
            if (!E.isProxy) {
              var O = E.firstColumn;
              if (!(E instanceof de && o.isRecycleMode() && x.recycle) || I.merged || E.blanked) {
                I.focused = p && _ === O, I.mouseEntered = !1, y.layout = E;
                var P = t ? n.getHidden(y, t) : n.getCellAt(this._item, O, !1);
                I.visible ? (I.width = e.getCellWidth(S), I.height = e.getTableRowHeightFixed(I.trow, I.rowSpan), O instanceof Et ? this._updateDataCell(o, e, n, P, O, I) : this._clearDataCell(I)) : O instanceof Et && this._updateDataCell(o, e, n, P, O, I, !1);
              }
            }
          }
      }, i.prototype._getFirstCell = function(e) {
        return e._firstCell;
      }, i.prototype._getLastCell = function(e) {
        return e._lastCell;
      }, i.prototype._getStartCell = function(e) {
        return e.getStartCell(!1);
      }, i.prototype._getEndCell = function(e) {
        return this._item instanceof _t ? Math.min(e.getStartCell(!1) + this._item.groupLevel, e.getEndCell(!1)) : e.getEndCell(!1);
      }, i.prototype._createRenderer = function(e, t, o, r, n) {
        return e.delegate.createRenderer(o, r, n);
      }, i.prototype.$_getRenderer = function(e, t, o, r, n) {
        var s, l, h, u, c = t.valueColumn.renderer, d = o.renderer;
        typeof d == "string" ? h = d : d && (h = d.type, u = d), typeof c == "string" ? s = c : c && (s = c.type, l = c);
        var p = h || s || (r instanceof Bt ? Sr.SERIES_TYPE : this.$_getDefaultRenderer(e, t));
        if (!n.renderer2 || n.rendererChanged || n.renderer2.type != p)
          return this._createRenderer(e, t, p, l, u);
        n.renderer2 && d && n.renderer2.assignFrom(d);
      }, i.prototype.$_getCellWidth2 = function(e, t, o) {
        return e.getCellWidth2(t, o);
      }, i.prototype.$_clearAriaProperty = function(e) {
        e.removeAttribute("aria-activedescendant"), e.removeAttribute("aria-haspopup");
      }, i.prototype._renderDataCell = function(e, t, o, r, n, s) {
        var l = n.cell, h = e.doc, u = !1, c = this.$_getRenderer(e, o, r, s, n);
        c && (n.renderer2 && n.renderer2.clearAndDispose(), n.renderer2 = c, n.rendererChanged = !1, u = !0);
        var d = l.firstElementChild, p = n.renderer2;
        (n.heighted = this._fixedHeight) && (d.style.maxHeight = n.height - 2 + "px"), !u && p && p._dom != d && (p.clearContent(), u = !0), e.accessibility && this.$_clearAriaProperty(l), this.$_setButtons(e, n, d);
        var _ = !1, g = n.merged && e.findGroupItem(n.item, s.dataIndex);
        if (g && s.mergeGrouped && e.rowGroup.$_isExpanderVisible(g)) {
          var y = n.expander;
          y || ((y = n.expander = h.createElement("span")).style.position = "absolute", y.style.display = "inline-block", y.style.top = "2px", y.style.left = "2px", l.appendChild(y)), _ = g.expanded, y.className = _ ? Sl : El;
        } else
          n.clearExpander();
        var m = p.styleName;
        n.expander && (m += " " + (_ ? "rg-expanded-cell" : "rg-collapsed-cell")), u ? p.initContent(o._index, d, m) : p.checkClassName(m) ? (p.clearContent(), p.initContent(o._index, d, m)) : p.index.assign(o._index), p.renderCell(e, o, n);
        var v = t._showChangeMarker && o.isValueChanged();
        if (v != n.valueChanged) {
          if (v) {
            var C = n.changedMarker;
            C || ((C = n.changedMarker = h.createElement("div")).className = "rg-changed-marker", C.style.position = "absolute", C.style.display = "block", C.style.top = "0px", n.changedMarker = C), l.appendChild(C);
          } else
            n.changedMarker && n.valueChanged && b.detach(n.changedMarker);
          n.valueChanged = v;
        }
        Fi.addEdgeMark(r.edgeMark || s.edgeMark, n, h);
      }, i.prototype._clearDataCell = function(e) {
        e.setClassName(""), e.setEditor(null, null), e.button = f.CellButton.NONE, e.error = void 0, e.editable = !1, e.readonly = !0, e.setBorderBottom(1);
        var t = e.cell.firstElementChild;
        this._fixedHeight && (t.style.maxHeight = e.height - 2 + "px"), e.renderer2 && e.renderer2.clearContent(), e.valueChanged = !1;
      }, i.prototype._updateDataCell = function(e, t, o, r, n, s, l) {
        l === void 0 && (l = !0);
        var h = o.getCellStyle(r, s.style.clear(), s.merged);
        (r.value == null || r.value == "") && n instanceof re && n.placeHolder && (h.styleName += " " + (r.dataColumn.placeHolderStyleName || "rg-data-empty-cell"));
        var u = e.cellGhostStyle;
        if (b.setStyle(u, s.cell), h.style) {
          for (var c in h.style)
            u[c] = void 0;
          h.style && b.setStyle(h.style, s.cell);
        }
        s.refreshFormatters(h), o.getCellFormatters(n, s), s.setEditor(h.editor, n.editor), s.button = n.button, s.error = r.error, s.errorLevel = r.errorLevel;
        var d = W.temp(e, s.item.index, s.dataColumn);
        if (s.editable = e.getEditableAt(d, s.style), s.readonly = e.getReadOnlyAt(d, s.style), s.editable && !s.readonly || (h.styleName += " rg-data-readonly-cell"), s.setClassName(h.styleName), !s.merged && n instanceof re && n.layout.blanked && !n.equalBlankLine)
          switch (r.getBlankState()) {
            case tt.HEAD:
            case tt.BODY:
              s.setBorderBottom(0);
              break;
            case tt.TAIL:
            case tt.NONE:
              s.setBorderBottom(1);
          }
        else
          s.setBorderBottom(1);
        l ? this._renderDataCell(e, o, r, h, s, n) : s.renderer2 && (s.renderer2 = s.renderer2 && s.renderer2.clearAndDispose());
      }, i.prototype.$_getButtonVisible = function(e, t, o, r) {
        if (r) {
          var n = e.getIndex(t.item.index, t.dataColumn);
          return r(e.handler, n.proxy(), t.focused, t.mouseEntered);
        }
        var s = !0, l = t && t.item, h = e.getIndex(e.focusedRow, t.dataColumn), u = t.merged ? t.head.contains(e.focusedIndex) : l.index === e.focusedRow && t.dataColumn === e.focusedColumn, c = l.index === e.focusedRow, d = t.mouseEntered && t.item.isDataRow, p = e.focusedItem && e.focusedItem.isDataRow;
        switch (o) {
          case f.ButtonVisibility.ALWAYS:
            s = !t.mouseEntered && !t.focused || t.item.isDataRow;
            break;
          case f.ButtonVisibility.HIDDEN:
            s = !1;
            break;
          case f.ButtonVisibility.VISIBLE:
            s = u && p;
            break;
          case f.ButtonVisibility.ROWFOCUSED:
            s = c ? p : d;
            break;
          case f.ButtonVisibility.DEFAULT:
          default:
            s = u ? p : d;
        }
        return !c && t.merged && o === f.ButtonVisibility.ROWFOCUSED ? t.head.contains(e.focusedIndex) ? p : t.head.contains(h) ? t.mouseEntered ? t.item.isDataRow : p : t.mouseEntered && t.item.isDataRow : s;
      }, i.prototype.$_buttonWidth = function(e, t) {
        var o = 0;
        if (t.button != f.CellButton.NONE) {
          var r = t.layout.getDataColumn();
          this.$_getButtonVisible(e, t, r.buttonVisibility, r.buttonVisibleCallback) && (o = e.body.cellButtonWidth);
        }
        return o;
      }, i.prototype.$_editButtonWidth = function(e, t) {
        var o = 0;
        if (t.editable && !t.readonly) {
          var r = t.layout, n = r.getDataColumn(), s = t.editorType, l = e.delegate.getCellEditor(s), h = t.editor || n.editor;
          if (l.hasButton(e.displayOptions.showNativeEditButton, h)) {
            var u = !1;
            W.equalsTo(e.focusedIndex, t.item.index, r) && (u = !!l && l.listing), e.isEditing() && t.contains(e.focusedIndex) && e.canMergeEditing(t) && t.editWidth > 0 && (u = !0), (u || this.$_getButtonVisible(e, t, n.editButtonVisibility, null)) && (o = e.body.editButtonWidth);
          }
        }
        return o;
      }, i.prototype.$_editButtonCount = function(e, t) {
        var o = t.editorType, r = e.delegate.getCellEditor(o);
        return r ? r.buttonCount : 0;
      }, i.prototype.$_editButtonVerti = function(e, t) {
        if (t.editorType === "number") {
          var o = t.editor || t.dataColumn.editor || {};
          return o.direction == null || o.direction !== "horizontal";
        }
      }, i.prototype.$_errorWidth = function(e, t) {
        return t.error ? e.body.errorIconWidth : 0;
      }, i.prototype.$_setButtons = function(e, t, o, r) {
        var n, s, l = t.cell, h = e.doc, u = e.layoutManager, c = t.dataColumn, d = this.$_buttonWidth(e, t), p = this.$_editButtonWidth(e, t), _ = this.$_errorWidth(e, t), g = p && this.$_editButtonCount(e, t), y = p && this.$_editButtonVerti(e, t), m = e.canMergeEditing(t), v = c && (c.buttonVisibility === f.ButtonVisibility.ROWFOCUSED || c.editButtonVisibility === f.ButtonVisibility.ROWFOCUSED), C = 0, x = 0, S = void 0;
        if (d > 0 && x++, p > 0 && (x += g), _ > 0 && x++, t.merged && (l = (t = t.head).cell, o = t.cell.firstElementChild), x > 0) {
          (S = t.buttons) || ((S = t.buttons = h.createElement("div")).className = "rg-cell-buttons", S.style.position = "absolute", S.style.overflow = "hidden", l.appendChild(S));
          var I = e.body.buttonHeight, E = t.height, O = -100;
          if ((n = S.style).height = I + "px", n.right = "0px", t.merged) {
            var P = t.rowIndex, R = u.getTableItemBounds(P), T = P, D = e.getIndex(e.focusedRow, t.dataColumn);
            if (!m && (t.contains(e.focusedIndex) || v && t.contains(D) || r))
              if (e.focusedRow < e.topIndex)
                O = -100, t.buttonsOffset = -1;
              else if (e.focusedRow > e.topIndex + u.itemCount)
                O = 1e4, t.buttonsOffset = -1;
              else {
                T = P + (e.focusedRow - t.item.index);
                var M = u.getTableItemBounds(T);
                O = M.y - R.y, O = Math.floor(O + (M.height - I) / 2), t.buttonsOffset = T - P;
              }
            else
              O = t.cell.getBoundingClientRect().height, O = Math.floor((O - I) / 2), t.buttonsOffset = m ? 0 : -1;
          } else
            O = Math.floor((E - I) / 2), t.buttonsOffset = 0;
          n.top = Math.floor(O) + "px", C = S.childElementCount;
        } else
          t.buttons && (t.clearButtons(), o.style.maxWidth = "");
        for (var V = C; V < x; V++) {
          var B = h.createElement("span");
          (s = B.style).position = "absolute", s.display = "inline-block", s.height = "100%", s.top = "0px", S.appendChild(B);
        }
        for (V = C; V > x; V--)
          S.removeChild(S.lastElementChild);
        var N = x > 0 ? S.children : null;
        if (x = 0, d > 0) {
          if (t.cellButton = N[x++], (s = t.cellButton.style).right = "0px", s.width = d + "px", t.resetButtonClass(), e.accessibility) {
            l.removeAttribute("aria-haspopup");
            var A = t.renderer2;
            A && t.button == f.CellButton.POPUP && !A.itemClickable && l.setAttribute("aria-haspopup", "true");
          }
          t.buttonWidth = d;
        } else
          t.cellButton = null, t.buttonWidth = 0;
        if (p > 0) {
          t.editButtons = [];
          var z = t.editorType, Z = e.delegate.getCellEditor(z);
          for (V = 0; V < g; V++) {
            var ee = N[x++];
            Z.setButtonStyle(ee, V, y, d, p) || ((s = ee.style).right = d + p * V + "px", s.width = p + "px", t.resetEditClass(ee, V)), t.editButtons.push(ee);
          }
          t.editWidth = p * (y ? 1 : g);
          var Y = W.equalsTo(e.editController.editIndex, t.item.index, t.layout), q = e.canMergeEditing(t) && t.contains(e.editController.editIndex);
          this.$_setButtonZIndex(e, t, e.isEditing() && (Y || q), Z);
        } else
          t.editButtons = null, t.editWidth = 0;
        if (_ > 0 ? (t.errorIcon = N[x], (s = t.errorIcon.style).right = d + t.editWidth + "px", s.width = _ + "px", t.resetErrorClass(), t.errorWidth = _) : (t.errorIcon = null, t.errorWidth = 0), S) {
          var G = t.buttonWidth + t.editWidth + t.errorWidth, ce = this.$_getCellWidth2(u, t.tcol, t.colSpan);
          n.width = G + "px", o.style.maxWidth = ce - G + "px";
        } else
          o.style.maxWidth = "";
      }, i.prototype.$_setButtonZIndex = function(e, t, o, r) {
        var n = t.merged ? t.head : t, s = e.displayOptions.baseZindex;
        function l(h) {
          !o || r && r.native ? h.removeProperty("z-index") : h.zIndex = String(s + 1);
        }
        n.editButtons && n.editButtons.forEach(function(h) {
          l(h.style);
        }), n.cellButton && l(n.cellButton.style), n.errorIcon && l(n.errorIcon.style);
      }, i;
    }(Rr), Gd = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return 0;
      }, i.prototype._getEndCell = function(e) {
        return e.fixedCellCount - 1;
      }, i.prototype.$_getCellWidth2 = function(e, t, o) {
        return e.getFixedCellWidth2(t, o);
      }, i;
    }(mt), Wd = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return e.cellCount - e.rightCellCount;
      }, i.prototype._getEndCell = function(e) {
        return e.cellCount - 1;
      }, i.prototype.$_getCellWidth2 = function(e, t, o) {
        return e.getRightCellWidth2(t, o);
      }, i;
    }(mt), Pr = "rowspan", kr = "colspan", Fi = function() {
      function a(i) {
        this.cell = null, this.layout = null, this.visible = void 0, this.spanned = !1, this.rowSpan = 1, this.colSpan = 1, this.className = "", this.width = 0, this.height = 0, this.text = void 0, this.cell = i;
      }
      return a.addEdgeMark = function(i, e, t) {
        if (i !== e.edgeMark) {
          var o = e.cell;
          if (i) {
            var r = e.edgeMarker;
            switch (r || (r = e.edgeMarker = t.createElement("div")), i) {
              case "leftTop":
                r.className = "rg-edgemarker-lefttop";
                break;
              case "leftBottom":
                r.className = "rg-edgemarker-leftbottom";
                break;
              case "rightTop":
                r.className = "rg-edgemarker-righttop";
                break;
              case "rightBottom":
                r.className = "rg-edgemarker-rightbottom";
                break;
              default:
                r.className = i;
            }
            o.appendChild(r);
          } else
            e.edgeMarker && o.removeChild(e.edgeMarker);
          e.edgeMark = i;
        }
      }, a.prototype.dispose = function() {
        this.cell = null;
      }, a.prototype.setColSpan = function(i) {
        return this.colSpan != i && (this.colSpan = i, i > 1 ? this.cell.colSpan = i : this.cell.removeAttribute(kr)), this;
      }, a.prototype.setRowSpan = function(i) {
        return this.rowSpan != i && (this.rowSpan = i, i > 1 ? this.cell.rowSpan = i : this.cell.removeAttribute(Pr)), this;
      }, a.prototype.setVisible = function(i) {
        return i !== this.visible && (this.visible = i, this.cell.style.display = i ? "" : "none"), this;
      }, a.prototype.set = function(i, e, t) {
        return this.colSpan != i && (this.colSpan = i, i > 1 ? this.cell.colSpan = i : this.cell.removeAttribute(kr)), this.rowSpan != e && (this.rowSpan = e, e > 1 ? this.cell.rowSpan = e : this.cell.removeAttribute(Pr)), this.visible !== t && (this.visible = t, this.cell.style.display = t ? "" : "none"), this;
      }, a.prototype.clear = function(i) {
        return this.colSpan > 1 && (this.colSpan = 1, this.cell.removeAttribute(kr)), this.rowSpan > 1 && (this.rowSpan = 1, this.cell.removeAttribute(Pr)), this.visible !== i && (this.visible = i, this.cell.style.display = i ? "" : "none"), this;
      }, a.prototype.isClickableElt = function(i) {
        return !1;
      }, a;
    }(), Ud = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t.cellButton = null, t.editButtons = null, t.errorIcon = null, t.buttons = null, t.changedMarker = null, t.expander = null, t.item = null, t.grouped = !1, t.rowIndex = -1, t.rows = 0, t.trow = -1, t.tcol = -1, t.head = null, t.merged = !1, t.spanHead = null, t.heighted = !1, t.buttonsOffset = 0, t.template = void 0, t.marginRight = -1, t.style = new Lo(), t.rendererChanged = !1, t.valueChanged = !1, t.mouseEntered = !1, t.focused = !1, t.borderBottom = 1, t.readonly = void 0, t.editable = void 0, t.error = void 0, t.errorLevel = f.ValidationLevel.IGNORE, t.errorWidth = 0, t.button = f.CellButton.NONE, t.buttonWidth = 0, t.editWidth = 0, t.edgeMarker = null, t.text = e[b.TextProp], t;
      }
      return w(i, a), i.prototype.dispose = function() {
        a.prototype.dispose.call(this), this.renderer2 = this.renderer2 && this.renderer2.clearAndDispose(), this.item = null, this.editButtons && this.editButtons.forEach(function(e) {
          b.detach(e);
        }), this.buttons = this.cellButton = this.editButtons = this.errorIcon = null, this.changedMarker = this.expander = null, this.layout = null;
      }, Object.defineProperty(i.prototype, "dataColumn", { get: function() {
        return this.layout.getDataColumn();
      }, enumerable: !1, configurable: !0 }), i.prototype.reset = function(e) {
        return this.renderer2 = this.renderer2 && this.renderer2.clearAndDispose(), this.editButtons && this.editButtons.forEach(function(t) {
          b.detach(t);
        }), this.buttons = this.cellButton = this.editButtons = this.errorIcon = null, this.changedMarker = this.expander = null, this.cell = e, this;
      }, i.prototype.span = function(e) {
        this.spanned = !0, this.spanHead = e, this.clear(!1);
      }, i.prototype.refreshFormatters = function(e) {
        var t;
        this.textFormatter = null, this.numberFormatter = null, this.datetimeWriter = null, this.booleanFormatter = null, (t = e.textFormat) && (this.textFormatter && this.textFormatter.format == t || (this.textFormatter = io.getFormatter(t))), (t = e.numberFormat) && (this.numberFormatter && this.numberFormatter.format == t || (this.numberFormatter = Pt.getFormatter(t))), (t = e.datetimeFormat) && (this.datetimeWriter && this.datetimeWriter.format == t || (this.datetimeWriter = Ne.getFormatter(t))), (t = e.booleanFormat) && (this.booleanFormatter && this.booleanFormatter.format == t || (this.booleanFormatter = Ht.getFormatter(t))), this.prefix = e.prefix, this.suffix = e.suffix;
      }, i.prototype.setClassName = function(e) {
        return e != this.className && (this.cell.className = this.className = e, !0);
      }, i.prototype.setEditor = function(e, t) {
        this.editor = e, this.editorType = $e.getEditorType2(e, t);
      }, i.prototype.setBorderBottom = function(e) {
        e != this.borderBottom && (this.borderBottom = e, this.cell.style.borderBottom = e == 0 ? "0" : "");
      }, i.prototype.setMarginRight = function(e, t) {
        t != this.marginRight && (this.marginRight = t, e.style.marginRight = t <= 0 ? "" : t + "px");
      }, i.prototype.isCellButton = function(e) {
        return e === this.cellButton;
      }, i.prototype.isEditButton = function(e) {
        return this.editButtons && this.editButtons.some(function(t) {
          return t === e;
        });
      }, i.prototype.isButton = function(e) {
        return e === this.cellButton || this.isEditButton(e);
      }, i.prototype.resetButtonClass = function() {
        var e = this.button == f.CellButton.POPUP ? "rg-button-popup" : "rg-button-action";
        this.cellButton.className = e;
      }, i.prototype.resetEditClass = function(e, t) {
        var o;
        switch (this.editorType) {
          case "date":
          case "btdate":
          case "ndate":
            o = "rg-button-calendar";
            break;
          default:
            o = "rg-button-list";
        }
        e.className = o;
      }, i.prototype.resetErrorClass = function() {
        var e;
        switch (this.errorLevel) {
          case f.ValidationLevel.ERROR:
            e = "rg-validation-error";
            break;
          case f.ValidationLevel.WARNING:
            e = "rg-validation-warning";
            break;
          case f.ValidationLevel.INFO:
            e = "rg-validation-info";
            break;
          default:
            e = "";
        }
        this.errorIcon.className = e;
      }, i.prototype.clearExpander = function() {
        this.expander && (this.cell.removeChild(this.expander), this.expander = null);
      }, i.prototype.clearButtons = function() {
        this.buttons && (this.cell.removeChild(this.buttons), this.buttons = null, this.errorWidth = this.buttonWidth = this.editWidth = 0);
      }, i.prototype.getEditIndex = function(e) {
        var t = this.item.index;
        return this.merged && (t += this.buttonsOffset), e.set(t, this.layout.firstColumn);
      }, i.prototype.contains = function(e) {
        if (e.layout === this.layout) {
          var t = e.itemIndex, o = this.item.index, r = o + this.rowSpan / this.layout._dspan;
          return o <= t && t < r;
        }
        return !1;
      }, i.prototype.toString = function() {
        return "Body Cell(" + this.layout.col + ", " + this.item.index + ", " + this.layout.row + ")";
      }, i;
    }(Fi), xt = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t, "bodyView") || this;
        return o._itemViews = [], o._cells = [], o._spanned = !1, o._ghostStyle = {}, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        for (var e = 0; e < this._cells.length; e++)
          for (var t = this._cells[e], o = 0; o < t.length; o++)
            t[o].dispose(), t[o] = null;
        this._cells = this._ghostStyle = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "fixed", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightFixed", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstCell", { get: function() {
        return this._cells[0][0];
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lastCell", { get: function() {
        return this._cells[this.tableRowCount - 1][0];
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "spanned", { get: function() {
        return this._spanned;
      }, enumerable: !1, configurable: !0 }), i.prototype.bodyCellByCell = function(e) {
        for (var t = e.parentElement[De], o = 0; o < this._cells.length; o++) {
          var r = this._cells[o], n = r[0].item;
          if (n && n.index == t)
            for (var s = 0; s < r.length; s++) {
              var l = r[s];
              if (l && l.cell === e)
                return l;
            }
        }
      }, i.prototype.bodyCellAt = function(e) {
        for (var t = 0; t < this._cells.length; t++) {
          var o = this._cells[t], r = o[0].item;
          if (r && r.index == e.itemIndex)
            for (var n = 0; n < o.length; n++) {
              var s = o[n];
              if (s && s.layout === e.layout)
                return s;
            }
        }
      }, i.prototype.layoutByCell = function(e) {
        var t = this.bodyCellByCell(e);
        return t && t.layout;
      }, i.prototype.columnByCell = function(e) {
        var t = this.bodyCellByCell(e);
        return t && t.layout && t.layout._columnObj;
      }, i.prototype.cellByLayout = function(e, t, o) {
        t === void 0 && (t = 0), o === void 0 && (o = 0);
        for (var r = t; r < this._cells.length; r++)
          for (var n = this._cells[r], s = o; s < n.length; s++) {
            var l = n[s];
            if (l && l.layout === e)
              return l;
          }
      }, i.prototype.getCellRectAt = function(e, t, o) {
        var r = this.getCellAt(e, t);
        return r && this.getCellRect(e, r, o);
      }, i.prototype.getCellRect = function(e, t, o) {
        o && t.merged && (t = t.head);
        var r = t.layout, n = t.trow, s = t.rowSpan, l = o || s > 1 && s == r.getDataSpan() ? s : t.item.isData ? r._dspan : 1, h = e.getTableRowBounds(n, l), u = t.tcol, c = t.colSpan;
        return this.fixed ? (h.x = e.getFixedCellPoint(u), h.width = e.getFixedCellWidth2(u, c)) : this.rightFixed ? (h.x = e.getRightCellPoint(u), h.width = e.getRightCellWidth2(u, c)) : (h.x = e.getCellPoint(u), h.width = e.getCellWidth2(u, c)), h;
      }, i.prototype.getRowView = function(e) {
        for (var t = 0, o = this.childCount; t < o; t++) {
          var r = this.getChild(t);
          if (r._item === e)
            return r;
        }
      }, i.prototype.getRowIndex = function(e) {
        return this._cells[e][0].item.index;
      }, i.prototype.getViewIndex = function(e) {
        return this._cells[e][0].rowIndex;
      }, i.prototype.cleanRows = function(e, t) {
        this.$_cleanRowViews(e), this.$_cutTailBodyCells(t), this.$_cleanTableRows(t);
      }, i.prototype.getCheckedLayout = function(e) {
        return e.spanned && (e = this.getUpperOf(e)), e;
      }, i.prototype.getLowerOf = function(e) {
        for (var t = this._cells, o = e.trow, r = e.tcol, n = o + 1; n < t.length; n++) {
          var s = t[n][r];
          if (!s.spanned)
            return s;
          if (s.spanHead.trow === s.trow)
            return s.spanHead;
        }
      }, i.prototype.isBottomCell = function(e) {
        for (var t = this._cells, o = e.rowIndex, r = e.trow, n = e.tcol, s = r + 1; s < t.length; s++) {
          var l = t[s][n];
          if (l.rowIndex != o)
            break;
          if (!l.spanned || l.spanHead.trow === l.trow)
            return !1;
        }
        return !0;
      }, i.prototype.getUpperOf = function(e) {
        for (var t = this._cells, o = e.trow, r = e.tcol, n = o - 1; n >= 0; n--) {
          var s = t[n][r];
          if (!s.spanned)
            return s;
          if (s.spanHead.trow === s.trow)
            return s.spanHead;
        }
      }, i.prototype.isTopCell = function(e) {
        for (var t = this._cells, o = e.rowIndex, r = e.trow, n = e.tcol, s = r - 1; s >= 0; s--) {
          var l = t[s][n];
          if (l.rowIndex != o)
            break;
          if (!l.spanned || l.rowIndex === e.rowIndex && l.trow !== e.trow && l.layout.source)
            return !1;
        }
        return !0;
      }, i.prototype.getNextVisibleCell = function(e) {
        for (var t = this.bodyCellAt(e); t && t.spanned; ) {
          if (!e.next())
            return !1;
          t = this.bodyCellAt(e);
        }
        return t != null;
      }, i.prototype.getPrevVisibleCell = function(e) {
        for (var t = this.bodyCellAt(e); t && t.spanned; ) {
          if (!e.prev())
            return !1;
          t = this.bodyCellAt(e);
        }
        return t != null;
      }, i.prototype.tdClone = function(e) {
        var t = this.grid, o = e && t.isValid(e) && this.getCellAt(t.layoutManager, e);
        if (o) {
          var r = (o = o.merged ? o.head : o).cell, n = r.parentElement;
          if (n) {
            var s = r.cloneNode(!1);
            s.appendChild(r.firstElementChild.cloneNode(!1)), s.style.display = "none", o.rendererChanged = !0, n.insertBefore(s, r.nextElementSibling), o.reset(s), s.setAttribute("tabindex", "0");
            var l = [];
            if (n = this._table, b.isIE)
              for (; n && n !== t.container._containerDom; )
                l.push({ top: n.scrollTop, left: n.scrollLeft }), n = n.parentElement;
            if (s.style.display = "", s.focus({ preventScroll: !0 }), b.detach(r), n = this._table, b.isIE)
              for (; n && n !== t.container._containerDom; ) {
                var h = l.shift();
                h && h.top !== n.scrollTop && (n.scrollTop = h.top), h && h.left !== n.scrollLeft && (n.scrollLeft = h.left), n = n.parentElement;
              }
          } else
            r.focus();
        }
      }, i.prototype.refreshTdFocused = function(e, t) {
        var o = this.grid, r = e && o.isValid(e) && this.getCellAt(o.layoutManager, e);
        if (r) {
          r = r.merged ? r.head : r;
          var n = this._tbody, s = Array.prototype.slice.call(n.querySelectorAll("td"));
          t ? l.call(this, r) : setTimeout(function() {
            l.call(this, r);
          }.bind(this), 15);
        }
        function l(h) {
          var u = h.cell;
          u && (s.forEach(function(c) {
            c !== u && c.removeAttribute("tabindex");
          }), u.setAttribute("tabindex", "0"), u.focus({ preventScroll: !0 }));
        }
      }, i.prototype.cleanRecycle = function() {
        for (var e = this._tbody, t = 0; t < e.rows.length; t++)
          e.rows[t].recycle = !1;
      }, i.prototype.reArrangeRows = function(e, t) {
        for (var o = this.grid, r = this._tbody, n = this._cells, s = o.itemSource, l = 0, h = e.topIndex + e.fixedItemCount, u = 0; u < r.rows.length; u++)
          r.rows[u].recycle = !0;
        var c = e.fixedTableRowCount === 0 ? 0 : e.fixedTableRowCount + 1;
        if (t < 0) {
          for (; t++ < 0; )
            l += s.getItem(h + t + e.itemCount - 1).isData ? this._trs : 1;
          for (; l-- > 0; )
            r.rows[r.rows.length - 1].recycle = !1, r.insertBefore(r.rows[r.rows.length - 1], r.rows[c]), n.splice.apply(n, ze([c, 0], n.splice(-1), !1));
        } else {
          for (; t-- > 0; )
            l += s.getItem(h + t).isData ? this._trs : 1;
          for (; l-- > 0; ) {
            var d = r.removeChild(r.rows[c]);
            d.recycle = !1, r.appendChild(d), n.push.apply(n, n.splice(c, 1));
          }
        }
      }, i.prototype._doAttached = function(e) {
        var t = this._table;
        t && t.setAttribute("role", this.grid.isTree() ? "treegrid" : "grid");
      }, i.prototype._getCssSelector = function() {
        return "rg-body";
      }, i.prototype._getTableHidden = function() {
        return !1;
      }, i.prototype._getTableCaption = function() {
        var e = this.grid;
        return e && e.accessibility && e.WaiOptions && e.WaiOptions.getDescription() || "";
      }, i.prototype._isFixedHeight = function(e) {
        return !e.isAutoRowHeights();
      }, i.prototype._getTrs = function(e) {
        return e.trs;
      }, i.prototype._getTableRowCount = function(e) {
        var t = e.fixedItemCount, o = this.grid, r = this._trs;
        if (e.syncHeight()) {
          for (var n = 0, s = 0, l = this.grid.itemCount; s < l; s++)
            n += o.getItem(s).isData ? r : 1;
          return n + (t ? 1 : 0);
        }
        if (e.isAutoRowHeights())
          return (l = Math.max(0, Math.ceil(e._itemsBounds / e.grid.displayOptions.minTableRowHeight) + this._trs - 1)) + (e.grid.displayOptions.refCalcHeights ? 5 : 0);
        if (e.isRowGrouped()) {
          for (var h = t + e.itemCount, u = (n = 0, 0); u < h; u++)
            n += e.getItem(u).isData ? r : 1;
          return n += t ? 1 : 0;
        }
        return a.prototype._getTableRowCount.call(this, e);
      }, i.prototype.$_getTableIndex = function(e, t) {
        var o = e.fixedItemCount;
        if (t >= o && e.isRowGrouped()) {
          var r = this._trs, n = o * r;
          o > 0 && n++;
          for (var s = o; s < t; s++)
            e.getItem(s).isData ? n += r : n++;
          return n;
        }
        return n = t * this._trs, o > 0 && t >= o ? n + 1 : n;
      }, i.prototype._prepareCellContent = function(e, t) {
        return this.grid.doc.createElement("div");
      }, i.prototype._doPrepareTableHead = function(e, t) {
        if (this.grid._columnsDirty || e.syncHeight()) {
          a.prototype._doPrepareTableHead.call(this, e, t), this._table.caption.innerHTML = this._getTableCaption();
          for (var o = this._getFirstCell(e), r = this._getLastCell(e) - o + 1, n = e.cellLayouts._dataCells, s = 0; s < 1; s++)
            for (var l = n[s], h = t.children[s], u = 0; u < r; u++) {
              var c = l[u + o];
              c = c.isProxy ? c.source : c;
              var d = h.children[u];
              c && d && (d[b.TextProp] = c.header.getDisplayText() || c.firstColumn.header.displayText);
            }
        }
      }, i.prototype._doMeasure = function(e, t, o) {
        return this._spanned = !1, new Xt();
      }, i.prototype.$_refreshRowCells = function(e, t, o, r, n, s, l) {
        for (var h = this._cells, u = l.children, c = this._getFirstCell(e), d = this._getLastCell(e) - c + 1, p = h.length, _ = r + s; p < _; p++)
          h.push([]);
        for (var g = 0; g < s; g++) {
          var y = h[r], m = u[r];
          this.grid.accessibility && (t ? (m.removeAttribute("aria-hidden"), m.setAttribute("aria-rowindex", (t.index + 2).toString())) : (m.setAttribute("aria-hidden", "true"), m.removeAttribute("aria-rowindex"))), this._ghostStyle && b.setStyle(this._ghostStyle, m);
          for (var v = m.children, C = n[g], x = 0; x < d; x++) {
            var S = v[x], I = C[x + c], E = y[x];
            E ? E.cell !== S ? E.reset(S) : E.layout !== I && (E.rendererChanged = !0, E.layout = I, E.clear(!0)) : (E = y[x] = new Ud(S)).layout = I, E.spanned = !1, E.item = t, E.rowIndex = o, E.trow = r, E.tcol = x;
          }
          for (r++, x = d; x < y.length; x++)
            b.isDebugging() && y[x], y[x].dispose();
          y.length = d;
        }
      }, i.prototype.layoutRow = function(e, t, o, r, n) {
        function s(I, E) {
          var O = this._ghostStyle = this._ghostStyle || {};
          for (var P in I)
            O[P] = void 0;
          b.setStyle(I, E);
        }
        var l, h = e.lm, u = e.fixedItemCount, c = this.model, d = h.cellLayouts._dataCells, p = this._tbody.rows, _ = n.isData ? this._trs : 1;
        this.$_refreshRowCells(h, n, o, r, d, _, this._tbody), this.childCount <= o ? (l = this.$_borrowView(n), this.addChild(l)) : l = this.getChild(o), this.$_setRowCellsDisplay(h, e, t, this._cells, n, o, r, _);
        var g = n.index, y = p[r];
        if (y.style.display = "", y[De] = g, y[ji] = r, l.updateItem(n, r, _, this._isFixedHeight(h)), n.isDataRow || n instanceof _t) {
          var m = h.getItemBounds(o);
          m.width = this.width, l.setRect(m);
          var v = c.getRowStyle(n, g < u), C = v.styleName;
          if (n.isDataRow) {
            n.setEditable(v.editable, v.readOnly);
            for (var x = 1; x < this._trs; x++)
              (S = p[r + x])[ji] = r + x, S[De] = g, b.setClassName(S, C), v.style && s.call(this, v.style, S);
          }
          l.layoutContent(h), b.setClassName(y, C), v.style && s.call(this, v.style, y);
        } else if (n.isData) {
          for (x = 1; x < this._trs; x++) {
            var S;
            (S = p[r + x])[ji] = r + x, S[De] = g;
          }
          this.grid.isRecycleMode() && p[r].recycle || l.clearContent(h, this._trs), n instanceof Qe && l.layoutContent(h);
        } else
          l.clearContent(h, 1);
      }, i.prototype.layoutFixedBar = function(e, t) {
        var o = e.cellLayouts._dataCells, r = this._tbody, n = r.rows[t], s = this.$_prepareFixedBar(e, n), l = e.grid.hoveredCell;
        l && l.trow == t && l.rowIndex == e.fixedItemCount && e.grid.$_setHoveredCell(null, -1), n[ji] = t, n[De] = -99, n.style.display = "", b.setClassName(n, ri.ROW_BAR_STYLE), this.$_refreshRowCells(e, null, -1, t, o, 1, r), this.$_setFixedBarCellsDisplay(e, this._cells, t);
        for (var h = 0, u = this._cells[t]; h < u.length; h++) {
          var c = u[h];
          c.className = "", c.clearExpander(), c.clearButtons();
        }
        return s;
      }, i.prototype._doRender = function(e) {
      }, i.prototype._getCellCount = function(e) {
        return e.cellCount - e.fixedCellCount - e.rightCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getCellWidth(t);
      }, i.prototype._getTableRowHeight = function(e, t) {
        return e.getTableRowHeight(t, 1);
      }, i.prototype._doDrawCell = function(e, t, o) {
      }, i.prototype.getCellAt = function(e, t) {
        var o = t.layout, r = e.fixedItemCount, n = e.topIndex, s = t.itemIndex;
        if ((r > 0 && s < r || s >= n && s - n >= r && s - n < r + e.itemCount) && (s >= r && (s -= n), (s = this.$_getTableIndex(e, s)) < this._cells.length))
          for (var l = 0; l < this._trs; l++) {
            var h = this._cells[s + l];
            if (h)
              for (var u = 0; u < h.length; u++) {
                var c = h[u];
                if (c && c.layout === o)
                  return c;
              }
          }
        return null;
      }, i.prototype.getCellView = function(e, t) {
        var o = this.getCellAt(e, t);
        return o && o.cell;
      }, i.prototype.spanRight = function(e, t) {
        if (t) {
          var o = this.getCellAt(e, t);
          o && (o.spanned && (o = o.spanHead), o && (t.layout = this._cells[o.trow][o.tcol + o.colSpan - 1].layout));
        }
      }, i.prototype.spanHead = function(e, t) {
        if (t) {
          var o = this.getCellAt(e, t);
          o && (o.spanned && (o = o.spanHead), o && (t.layout = o.layout));
        }
      }, i.prototype._getStartCell = function(e) {
        return e.getStartCell(!1);
      }, i.prototype._getEndCell = function(e) {
        return e.getEndCell(!1);
      }, i.prototype.$_removeView = function(e) {
        var t = this.removeChildAt(e);
        t.validate(), this._itemViews.push(t);
      }, i.prototype.$_borrowView = function(e) {
        var t = this._itemViews.pop();
        return t || (t = this.createRowElement()), t;
      }, i.prototype.createRowElement = function() {
        return new mt(this.doc);
      }, i.prototype.$_setFixedBarCellsDisplay = function(e, t, o) {
        for (var r = this._getFirstCell(e), n = this._getFirstCell(e) - r, s = this._getLastCell(e) - r, l = t[o], h = ri.ROW_BAR_CELL_STYLE, u = n; u <= s; u++) {
          var c = l[u];
          c.clear(!0), b.setClassName(c.cell, h);
        }
      }, i.prototype.$_setRowCellsDisplay = function(e, t, o, r, n, s, l, h) {
        var u = this._getFirstCell(e), c = this._getFirstCell(e) - u, d = this._getLastCell(e) - u, p = t.grid, _ = t.fixedItemCount, g = o, y = n.isData, m = n.level;
        if (y || t.mergedRowGrouped)
          for (var v = 0; v < h; v++)
            for (var C = (se = r[l + v]).length, x = c; x <= d; x++) {
              var S = (H = se[x]).layout, I = S.getDataColumn(), E = S.parent, O = E && E.vertical;
              if (H.merged = !1, H.head = null, H.grouped = !1, !H.spanned)
                if (S.isProxy) {
                  for (var P = void 0, R = l; R < l + h; R++) {
                    var T = r[R];
                    if (!T)
                      break;
                    for (var D = 0; D < T.length; D++)
                      if (T[D].layout === S.source) {
                        P = T[D];
                        break;
                      }
                    if (P)
                      break;
                  }
                  P ? H.span(P) : H.clear(!1);
                } else if (!y && x + u >= m)
                  H.grouped = !0, H.clear(!0);
                else {
                  var M = !0, V = void 0, B = 1;
                  I && I.mergeGrouped && I.groupLevel <= n.parent.level || n.isDataRow && ((B = (V = S.spanCallback) ? V(p.handler, S, H.item.index) : void 0) === void 0 && (B = S.dataSpan), B === void 0 && (M = !1, B = S.cellSpan));
                  var N = 0;
                  if (B > 1) {
                    var A = 0, z = S.vindex + 1;
                    if (O)
                      for (B--; A++ < B && A < h && (le = E.getVisible(z++)); )
                        N += le._dspan, this._cells[l + v + A][x].span(H), this._spanned = !0;
                    else {
                      for (var Z = S._dspan, ee = [], Y = 0; Y < Z; Y++)
                        ee.push(0);
                      for (var q = 0; q < Z; q++) {
                        ee[q] += S._defColSpan;
                        for (var G = 1; G < B && x - c + G < C; G++) {
                          var ce = this._cells[l + v + q][x + G].layout;
                          ce && !ce.isProxy && (ee[q] += ce._defColSpan);
                        }
                      }
                      var fe = Math.max.apply(Math, ee);
                      for (M = M && fe === B; A++ < B - 1 && x - c + A < C && (M || z < E.visibleCount); ) {
                        var le;
                        if (!(le = M ? se[x + A].layout : E.getVisible(z++)))
                          break;
                        !le.isProxy && (N += le._defColSpan);
                      }
                      for (S._defColSpan + N !== B && (N = 0), A = 1; A < S._defColSpan + N; A++) {
                        if (Z > 1 && M)
                          for (G = 1; G < h && Z > G; G++)
                            this._cells[l + v + G][x + A].span(H);
                        se[x + A].span(H);
                      }
                    }
                  }
                  var ne = S._defColSpan, he = S._dspan, K = S.merged && S.merges;
                  if (K && n instanceof Qe && x >= n.parent.level && (K = null), K)
                    if (H.merged = K.isMerged(s, _), K.isHidden(s, _))
                      H.set(ne + N, he, !1), H.head = g[x - c];
                    else {
                      var ye = void 0;
                      ye = n.isData ? (H.rows = K.getMerged(s, _)) * he : K.getMerged2(p, n.index, s - _, he), H.set(ne + N, ye, !0), g[x - c] = H.head = H;
                    }
                  else
                    O ? H.set(ne, he + N, !0) : H.set(ne + N, he, !0);
                }
            }
        else {
          var se = r[l];
          for (x = c; x <= d; x++) {
            var H;
            (H = se[x]).clear(!1), H.merged = !1, H.grouped = !0;
          }
        }
      }, i.prototype.$_refreshSpans = function(e, t, o) {
      }, i.prototype.$_cleanRowViews = function(e) {
        for (; this.childCount > e; )
          this.$_removeView(this.childCount - 1);
      }, i.prototype.$_cutTailBodyCells = function(e) {
        for (var t = this._cells, o = e; o < t.length; o++)
          for (var r = t[o], n = 0; n < r.length; n++)
            r[n].dispose(), r[n] = null;
        t.length = e;
      }, i.prototype.$_cleanTableRows = function(e) {
        var t = this._tbody.rows;
        if (this.grid.isRecycleMode())
          for (var o = t.length - 1; o >= e; o--) {
            var r = t[o];
            b.detach(r);
          }
        else {
          for (o = t.length - 1; o >= this._cells.length; o--)
            for (var n = t[o].cells, s = n.length; s--; ) {
              for (var l = n[s]; l.childElementCount > 1; )
                l.removeChild(l.lastElementChild);
              l.removeAttribute(Pr), l.removeAttribute(kr);
            }
          for (o = t.length - 1; o >= e; o--)
            (r = t[o]).childElementCount > 0 ? (r[ji] = -1, r.style.display = "none") : b.detach(r);
        }
      }, i.prototype.$_resetHeights = function(e, t) {
        var o = this._tbody.children, r = 0;
        if (e.length > 0) {
          for (var n = 1; n < e.length; n++)
            o[r++].style.height = e[n] - e[n - 1] + "px";
          r++;
        }
        for (n = 1; n < t.length; n++)
          o[r++].style.height = t[n] - t[n - 1] + "px";
      }, i.prototype.$_resetCellStyleHeights = function(e, t) {
        var o = this._tbody.children, r = 0;
        if (e.length > 0) {
          for (var n = 1; n < e.length; n++)
            for (var s = e[n] - e[n - 1], l = o[r++].cells, h = 0; h < l.length; h++)
              l[h].style.height = s + "px";
          r++;
        }
        for (n = 1; n < t.length; n++)
          for (s = t[n] - t[n - 1], l = o[r++].cells, h = 0; h < l.length; h++)
            l[h].style.height = s + "px";
      }, i.prototype.$_resetCellHeights2 = function(e, t) {
        for (var o = e.grid.body.buttonHeight, r = 0, n = this._cells.length; r < n; r++)
          for (var s = this._cells[r], l = 0, h = s.length; l < h; l++) {
            var u = s[l], c = u.height, d = e.getTableRowHeightFixed(u.trow, u.rowSpan);
            if (c != d && (u.height = d, (u.buttonWidth > 0 || u.editWidth > 0) && u.buttons && (u.buttons.style.top = Math.floor((d - o) / 2) + "px")), t && !u.heighted) {
              var p = Math.max(0, u.height - 2);
              u.cell.firstElementChild.style.maxHeight = p + "px", b.ieTen && (u.cell.firstElementChild.style.height = p + "px");
            }
          }
      }, i.prototype.$_focusChanged = function(e, t, o) {
        this.$_cellStateChanged(e, t, "focused", o);
      }, i.prototype.$_mouseEnteredChanged = function(e, t, o) {
        this.$_cellStateChanged(e, t, "mouseEntered", o);
      }, i.prototype.$_cellStateChanged = function(e, t, o, r) {
        var n = e.canMergeEditing(t);
        if (t && t.item, t && r != t[o]) {
          var s = this.getRowView(t.item);
          if (s instanceof Rr) {
            var l = this.model, h = t.dataColumn;
            if (t[o] = r, h && e.getCellType(t.cell) === "data") {
              var u = l.getCellAt(t.item, h, !1);
              if (s.$_setButtons(e, t, t.cell.firstElementChild), t.merged && t.head) {
                var c = t.head, d = e.layoutManager, p = this.getCellRect(d, t, !1), _ = this.getCellRect(d, t, !0), g = c.renderer2;
                if (t.focused) {
                  var y = p.top - _.top + p.height / 2 - _.height / 2;
                  g.moveClickElement(y, n);
                } else
                  t.mouseEntered || c.contains(e.focusedIndex) || g.moveClickElement(0, n);
              }
              s instanceof mt && t.renderer2 && o === "focused" && t.renderer2.refreshFocusChanged && s.cellRefresh(e, l, u, h, t);
            }
          }
        }
      }, i.prototype.$_buttonZIndexChanged = function(e, t, o, r) {
        var n = t && t.item;
        if (n && n.isDataRow) {
          var s = this.getRowView(n);
          s instanceof Rr && t.dataColumn && s.$_setButtonZIndex(e, t, o, r);
        }
      }, i.prototype.$_rendererChanged = function(e) {
        for (var t = this._cells, o = 0; o < t.length; o++)
          for (var r = t[o], n = 0; n < r.length; n++)
            r[n].layout === e && (r[n].rendererChanged = !0);
      }, i;
    }(ss), Ol = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "fixed", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
        return "rg-fixed-body";
      }, i.prototype._getExplicitWidth = function(e) {
        return e.fixedWidth - e.fixedBarWidth;
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return 0;
      }, i.prototype._getEndCell = function(e) {
        return e.fixedCellCount - 1;
      }, i.prototype._getCellCount = function(e) {
        return e.fixedCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getFixedCellWidth(t);
      }, i.prototype.createRowElement = function() {
        return new Gd(this.doc);
      }, i;
    }(xt), Rl = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "rightFixed", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
        return "rg-fixed-body";
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return e.cellCount - e.rightCellCount;
      }, i.prototype._getEndCell = function(e) {
        return e.cellCount - 1;
      }, i.prototype.createRowElement = function() {
        return new Wd(this.doc);
      }, i.prototype._getCellCount = function(e) {
        return e.rightCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getRightCellWidth(t);
      }, i;
    }(xt), zd = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t.check = null, t.sort = null, t.filter = null, t.popup = null, t.textSpan = null, t.expander = null, t.rendererClass = "", t.html = void 0, t.tooltip = "", t.sortWidth = 0, t.filterWidth = 0, t.checkWidth = 0, t.popupWidth = 0, t.expanderWidth = 0, t.marginLeft = 0, t.marginRight = 0, t.marginTop = 0, t.marginBottom = 0, t.edgeMarker = null, t.textSpan = e.firstElementChild.firstElementChild, t;
      }
      return w(i, a), i.prototype.dispose = function() {
        a.prototype.dispose.call(this), this.textSpan = this.cell = this.check = this.sort = this.filter = this.expander = null, this.layout = null;
      }, i.prototype.span = function() {
        this.spanned = !0, this.clear(!1);
      }, i.prototype.clear = function(e) {
        a.prototype.clear.call(this, e);
        var t = this.cell.firstElementChild, o = this.textSpan, r = t.style;
        return this.checkWidth > 0 && (t.removeChild(this.check), this.check = null, this.checkWidth = 0), this.filterWidth > 0 && (t.removeChild(this.filter), this.filter = null, this.filterWidth = 0), this.sortWidth > 0 && (t.removeChild(this.sort), this.sort = null, this.sortWidth = 0), this.popupWidth > 0 && (t.removeChild(this.popup), this.popup = null, this.popupWidth = 0), this.expander && (t.removeChild(this.expander), this.expander = null), this.className && (this.cell.className = this.className = ""), this.rendererClass && (t.className = this.rendererClass = ""), this.marginLeft != 0 && (r.marginLeft = "", this.marginLeft = 0), this.marginRight != 0 && (r.marginRight = "", this.marginRight = 0), this.marginTop != 0 && (r.marginTop = "", this.marginTop = 0), this.marginBottom != 0 && (r.marginBottom = "", this.marginBottom = 0), this.text && (o[b.TextProp] = this.text = ""), this.html && (o.innerHTML = this.html = ""), this;
      }, i.prototype.setText = function(e, t) {
        t != this.text && (e[b.TextProp] = this.text = t, this.html = "");
      }, i.prototype.setHtml = function(e, t) {
        t != this.html && (e.innerHTML = this.html = t, this.text = "");
      }, i.prototype.setClassName = function(e) {
        return e != this.className && (this.cell.className = this.className = e, !0);
      }, i.prototype.setRendererClassName = function(e, t) {
        t != this.rendererClass && (e.className = this.rendererClass = t);
      }, i.prototype.setDivMarigns = function(e, t, o, r, n) {
        t != this.marginLeft && (e.marginLeft = t ? t + "px" : "", this.marginLeft = t), o != this.marginRight && (e.marginRight = o ? o + "px" : "", this.marginRight = o), r != this.marginTop && (e.marginTop = r ? r + "px" : "", this.marginTop = r), n != this.marginBottom && (e.marginBottom = n ? n + "px" : "", this.marginBottom = n);
      }, i.prototype.getIndex = function(e) {
        return e.set(-1, this.layout.firstColumn);
      }, i.prototype.isClickableElt = function(e) {
        return e === this.filter || e === this.popup || e === this.check || e === this.expander;
      }, i;
    }(Fi), Ei = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t, "headerView") || this;
        return o._fixedHeight = !0, o._rowPoints = [], o._cells = [], o._pointerEnterHandler = o.$_pointerEnter.bind(o), o._pointerLeaveHandler = o.$_pointerLeave.bind(o), o;
      }
      return w(i, a), i.renderCell = function(e, t) {
        t[b.TextProp] = e.text || "";
      }, i.prototype._doDispose = function() {
        for (var e = 0; e < this._cells.length; e++)
          for (var t = this._cells[e], o = 0; o < t.length; o++)
            t[o].cell.removeEventListener("pointerenter", this._pointerEnterHandler), t[o].cell.removeEventListener("pointerleave", this._pointerLeaveHandler), t[o].dispose(), t[o] = null;
        this._cells = null, a.prototype._doDispose.call(this);
      }, i.prototype.tableCellByCell = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          for (var o = this._cells[t], r = 0; r < o.length; r++) {
            var n = o[r];
            if (n && n.cell === e)
              return n;
          }
      }, i.prototype.tableCellByLayout = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          for (var o = this._cells[t], r = 0; r < o.length; r++)
            if (o[r].layout === e)
              return o[r];
      }, i.prototype.tableCellByLayout2 = function(e, t) {
        var o = this._cells, r = o.length;
        if (!(r < 1)) {
          for (var n = o[0].length, s = this._getFirstCell(e), l = this._getStartCell(e) - s, h = this._getEndCell(e) - s, u = l; u <= h; u++)
            for (var c = 0; c < r; c++)
              if (o[c][u].layout === t)
                return o[c][u];
          for (u = l - 1; u >= 0; u--)
            for (c = 0; c < r; c++)
              if (o[c][u].layout === t)
                return o[c][u];
          for (u = h + 1; u < n; u++)
            for (c = 0; c < r; c++)
              if (o[c][u].layout === t)
                return o[c][u];
        }
      }, i.prototype.layoutByCell = function(e) {
        var t = this.tableCellByCell(e);
        return t && t.layout;
      }, i.prototype.columnByCell = function(e) {
        var t = this.layoutByCell(e);
        return t && t._columnObj;
      }, i.prototype.getSpanRoot = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          for (var o = this._cells[t], r = 0; r < o.length; r++) {
            var n = o[r];
            if (n.layout === e) {
              if (n.spanned) {
                if (n.layout.parent.vertical) {
                  for (var s = t - 1; s >= 0; s--)
                    if (!this._cells[s][r].spanned)
                      return this._cells[s][r].layout;
                } else
                  for (s = r - 1; s >= 0; s--)
                    if (!o[s].spanned)
                      return o[s].layout;
              }
              return e;
            }
          }
      }, i.prototype.refresh = function(e) {
        for (var t = e.focusedColumn, o = e.layoutManager, r = this._getFirstCell(o), n = this._getLastCell(o) - r + 1, s = 0; s < this._cells.length; s++)
          for (var l = this._cells[s], h = 0; h < n; h++) {
            var u = l[h], c = u.layout;
            if (u.visible && c instanceof de) {
              var d = u.cell;
              d[ki] = c.isColumn(t), u.setClassName(this.$_getCellSelector(c, d));
            }
          }
      }, i.prototype.getRowAt = function(e) {
        for (var t = 1; t < this._rowPoints.length - 1; t++)
          if (e < this._rowPoints[t])
            return t - 1;
        return this._rowPoints.length - 2;
      }, i.prototype.getLayoutHeight = function(e, t, o) {
        var r, n;
        return e instanceof Ie ? (r = e.hrow, n = o ? e.hlen : e.hspan) : (r = e.hrow, n = o ? t.rowSpan : e.hspan), this._rowPoints[r + n] - this._rowPoints[r];
      }, i.prototype.getMeasureHeights = function() {
        var e = new Array(this._cells.length);
        return e.forEach(function(t, o, r) {
          r[o] = 0;
        }), this._cells.forEach(function(t, o) {
          t.forEach(function(r) {
            if (r.visible) {
              var n = r.textSpan.getBoundingClientRect();
              e[o] = Math.max(e[o], n.height + 5);
            }
          });
        }), e;
      }, i.prototype.getLayoutPos = function(e) {
        return this._rowPoints[e.hrow];
      }, i.prototype._getCssSelector = function() {
        return "rg-header";
      }, i.prototype._isFixedHeight = function() {
        return this._fixedHeight;
      }, i.prototype._getMinRowHeight = function(e) {
        return this._minRowHeight;
      }, i.prototype._prepareCellContent = function(e, t) {
        var o = te(e), r = o.createElement("div"), n = o.createElement("span");
        return e.addEventListener("pointerenter", this._pointerEnterHandler, !1), e.addEventListener("pointerleave", this._pointerLeaveHandler, !1), r.appendChild(n), r;
      }, i.prototype._cleanCellContent = function(e) {
        e.removeEventListener("pointerenter", this._pointerEnterHandler, !1), e.removeEventListener("pointerleave", this._pointerLeaveHandler, !1);
      }, i.prototype._doMeasure = function(e, t, o) {
        var r = this.model, n = e.layoutManager.headerRows, s = r.height, l = r.heights, h = [];
        if (this._minRowHeight = r.minRowHeight, l && l.length > 0) {
          for (var u = 0, c = 0; c < n; c++)
            u += h[c] = Math.max(l[c] || this._minRowHeight, this._minRowHeight);
          s = u;
        }
        return s = s <= 0 ? Math.max(this._minRowHeight, e.heightMeasurer.headerHeight) * n : Math.max(this._minRowHeight * n, s), this._fixedHeight = s >= 0, s = Math.max(this._minRowHeight * n, r.minHeight, s), r.setCalcHeights(h), Xt.create(t, s);
      }, i.prototype._doPrepareTableExtents = function(e) {
        var t = this.model, o = this._rowPoints, r = this.height, n = t.getCalcHeights(), s = Math.floor(r / e.headerRows);
        if (o.length = this._getTableRowCount(e) + 1, o[0] = 0, o.length > 0) {
          for (var l = 1; l < o.length - 1; l++)
            o[l] = o[l - 1] + (n[l - 1] || s);
          o[l] = r;
        }
      }, i.prototype.$_refreshHeadTitle = function(e, t) {
        for (var o = this._cells[0], r = t.children[0], n = 0; r && n < o.length; n++) {
          var s = o[n].layout.source, l = r.children[n];
          l && s && (l[b.TextProp] = s.header.getDisplayText() || s.firstColumn.header.displayText);
        }
      }, i.prototype._doLayoutContent = function(e) {
        var t = e.grid, o = t.focusedColumn, r = this.model, n = e.cellLayouts._headerCells, s = n.length, l = this._getFirstCell(e), h = this._getStartCell(e) - l, u = this._getEndCell(e) - l;
        this.$_refreshCells(e, n, this._tbody), this.$_refreshSpans(e, s), this.$_refreshHeadTitle(e, this._thead);
        for (var c = 0; c < s; c++)
          for (var d = this._cells[c], p = h; p <= u; p++) {
            var _ = d[p];
            if (_.visible || p === h) {
              var g = void 0;
              _.layout.isProxy ? (g = _.layout.source, _ = this.tableCellByLayout(g)) : g = _.layout;
              var y = _.cell;
              if (y[ki] = g.isColumn(o), _.setClassName(this.$_getCellSelector(g, y)), g.isNull)
                _.setText(_.textSpan, g.header.getDisplayText());
              else if (g instanceof Ie) {
                var m = r.getCell(g);
                this._updateGroupCell(t, r, m, _);
              } else
                m = r.getCell(g), this._updateCell(t, r, m, _);
            }
          }
      }, i.prototype._doRender = function(e) {
      }, i.prototype._getTableRowCount = function(e) {
        return e.headerRows;
      }, i.prototype._getTableRowHeight = function(e, t) {
        return this._rowPoints[t + 1] - this._rowPoints[t];
      }, i.prototype.$_getCellHeight = function(e) {
        var t = e.layout.hrow, o = this._rowPoints[t];
        return this._rowPoints[t + e.rowSpan] - o;
      }, i.prototype._getCellCount = function(e) {
        return e.cellCount - e.fixedCellCount - e.rightCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getCellWidth(t);
      }, i.prototype._getCellWidth2 = function(e, t, o) {
        return e.getCellWidth2(t, o);
      }, i.prototype._doDrawCell = function(e, t, o) {
      }, i.prototype._doPrepareTableRow = function(e, t, o, r) {
        a.prototype._doPrepareTableRow.call(this, e, t, o, r);
        var n = this.model;
        b.setClassName(r, n.getStyleName());
      }, i.prototype.$_getCellSelector = function(e, t) {
        var o, r = "";
        if (e instanceof Ie)
          r = "rg-header-group-cell", (o = e.header.styleName) && (r += " " + o);
        else {
          r = "rg-header-cell", t[ki] ? r += " rg-header-focus" : this.grid.isSelectedLayout(e) && (r += " rg-header-select");
          var n = e.firstColumn;
          (o = o || n && n.header.styleName) && (r += " " + o);
        }
        return r;
      }, i.prototype.$_hoverChanged = function(e, t) {
        var o = this.grid.getTableCell(e.target), r = this.tableCellByCell(o), n = this.model, s = r.layout, l = n.getCell(s);
        r.hovered = t, s instanceof de && this._updateCell(this.grid, n, l, r);
      }, i.prototype.$_pointerEnter = function(e) {
        this.$_hoverChanged(e, !0);
      }, i.prototype.$_pointerLeave = function(e) {
        this.$_hoverChanged(e, !1);
      }, i.prototype._getStartCell = function(e) {
        return e.getStartCell();
      }, i.prototype._getEndCell = function(e) {
        return e.getEndCell();
      }, i.prototype.$_refreshCells = function(e, t, o) {
        for (var r = this._cells, n = o.children, s = n.length, l = this._getFirstCell(e), h = this._getLastCell(e) - l + 1, u = r.length; u < s; u++)
          r.push([]);
        for (var c = 0; c < s; c++) {
          for (var d = r[c], p = n[c].children, _ = t[c], g = 0; g < h; g++) {
            var y = p[g], m = _[g + l], v = d[g];
            v ? v.cell !== y || v.layout != m && (v.layout = m, v.clear(!0)) : (v = d[g] = new zd(p[g])).layout = m, v.height = this.$_getCellHeight(v), v.width = this._getCellWidth(e, g), v.spanned = !1;
          }
          for (g = h; g < d.length; g++)
            d[g].dispose();
          d.length = h;
        }
        for (c = s; c < r.length; c++) {
          var C = r[c];
          for (g = 0; g < C.length; g++)
            C[g].dispose(), C[g] = null;
        }
        r.length = s;
      }, i.prototype.$_refreshSpans = function(e, t) {
        for (var o = this._getFirstCell(e), r = this._getFirstCell(e) - o, n = this._getLastCell(e) - o, s = 0; s < t; s++)
          for (var l = this._cells[s], h = l.length, u = r; u <= n; u++) {
            var c = l[u], d = c.layout, p = d.parent, _ = p && p.vertical;
            if (!c.spanned)
              if (d.isProxy)
                c.clear(!1);
              else {
                var g = 0, y = d.getHeaderSpan() - 1;
                if (y > 0) {
                  var m = 0, v = d.vindex + 1;
                  if (_)
                    for (; m++ < y && m < t; )
                      g += p.getVisible(v++)._hspan, this._cells[s + m][u].span();
                  else
                    for (; m++ < y && u - r + m < h && v < p.visibleCount; )
                      g += p.getVisible(v++)._cspan, l[u + m].span();
                }
                (d instanceof Ie || d.isNull) && c.clear(!0), _ ? c.set(d._cspan, d._hspan + g, !0) : c.set(d._cspan + g, d._hspan, !0), c.width = this._getCellWidth2(e, u, c.colSpan);
              }
          }
      }, i.prototype._updateCell = function(e, t, o, r) {
        var n = e.doc, s = e.sortingOptions, l = e.filteringOptions, h = r.layout.firstColumn, u = o.checkLocation, c = u && u != f.ColumnHeaderItemLocation.NONE ? t.checkWidth : 0, d = c > 0 ? t.checkWidth : 0, p = h && this.$_canSortHandleVisible(s, h, r), _ = h && h.sortDirection || f.SortDirection.NONE, g = p ? t.sortWidth : 0, y = h && this.$_canFilterHandleVisible(l, h, r) ? t.filterWidth : 0, m = h && this.$_canPopupHandleVisible(t, h, r) ? t.popupWidth : 0, v = r.cell.firstElementChild, C = r.textSpan, x = r.width, S = this.$_getCellHeight(r), I = 0, E = 0, O = 0, P = 0, R = v.style;
        r.setRendererClassName(v, i.RENDERER_STYLE), R.maxHeight = Math.max(S - 2, 0) + "px";
        var T = r.check;
        if (c > 0) {
          var D = C.style;
          T ? R = T.style : (T = n.createElement("input"), r.check = T, T.type = "checkbox", T.className = "rg-header-check", (R = T.style).position = "absolute", R.display = "inline-block", R.verticalAlign = "middle"), r.checkWidth <= 0 && (v.appendChild(T), r.checkWidth = c), T.checked = h.checked, T.title = o.text + " " + h.checked ? "checked" : "unchecked";
          var M = -1, V = -1;
          switch (D.removeProperty("display"), u) {
            case f.ColumnHeaderItemLocation.LEFT:
            case f.ColumnHeaderItemLocation.LEFT_EDGE:
              v.insertBefore(T, r.textSpan), u === f.ColumnHeaderItemLocation.LEFT ? (R.position = "relative", R.removeProperty("left"), R.removeProperty("top")) : (R.position = "absolute", I += c, M = 0, V = Math.floor((S - t.checkHeight) / 2));
              break;
            case f.ColumnHeaderItemLocation.RIGHT:
            case f.ColumnHeaderItemLocation.RIGHT_EDGE:
              v.insertBefore(r.textSpan, T), u === f.ColumnHeaderItemLocation.RIGHT ? (R.position = "relative", R.removeProperty("left"), R.removeProperty("top")) : (R.position = "absolute", E += c, M = x - c, V = Math.floor((S - t.checkHeight) / 2));
              break;
            case "top":
            case "topEdge":
              v.insertBefore(T, r.textSpan), u === f.ColumnHeaderItemLocation.TOP ? (D.display = "block", R.position = "relative", R.removeProperty("left"), R.removeProperty("top")) : (R.position = "absolute", O += d, M = Math.floor((x - g - y - t.checkWidth) / 2), V = 0);
              break;
            case "bottom":
            case "bottomEdge":
              v.insertBefore(r.textSpan, T), u === f.ColumnHeaderItemLocation.BOTTOM ? (D.display = "block", R.position = "relative", R.removeProperty("left"), R.removeProperty("top")) : (R.position = "absolute", P += d, M = Math.floor((x - g - y - t.checkWidth) / 2), V = S - t.checkHeight);
          }
          M > -1 && (R.left = M + "px"), V > -1 && (R.top = V + "px");
        } else
          r.checkWidth > 0 && (v.removeChild(T), r.checkWidth = 0);
        var B = r.filter;
        y > 0 ? (B ? R = B.style : (B = n.createElement("span"), r.filter = B, (R = B.style).position = "absolute", R.display = "inline-block"), r.filterWidth <= 0 && (v.appendChild(B), r.filterWidth = y), B.className = "rg-header-filtering" + (h.isFiltered() ? " filter-activated" : ""), E += y, R.left = x - E + "px", R.top = Math.floor((S - t.filterHeight) / 2) + "px", R.width = y + "px", R.height = t.filterWidth + "px") : r.filterWidth > 0 && (v.removeChild(B), r.filterWidth = 0);
        var N = r.sort;
        if (p) {
          switch (N ? R = N.style : (N = n.createElement("span"), r.sort = N, (R = N.style).position = "absolute", R.display = "inline-block"), r.sortWidth <= 0 && (v.appendChild(N), r.sortWidth = g), _) {
            case f.SortDirection.DESCENDING:
              N.className = "rg-header-sort-descending";
              break;
            case f.SortDirection.ASCENDING:
              N.className = "rg-header-sort-ascending";
              break;
            default:
              N.className = "rg-header-sort-none";
          }
          E += g, R.left = x - E + "px", R.width = g + "px", s.showSortOrder && h.sortOrder >= 0 ? (N[b.TextProp] = (h.sortOrder + 1).toString(), R.top = Math.max(0, Math.floor((S - t.sortHeight - 10) / 2)) + "px", R.height = Math.min(r.height, t.sortHeight + 10) + "px", R.backgroundPositionY = b.isIE ? "5px" : "70%", R.lineHeight = b.isIE ? "1.5em" : "1em") : (N[b.TextProp] = "", R.backgroundPositionY = "center", R.top = Math.floor((S - t.sortHeight) / 2) + "px", R.height = t.sortHeight + "px");
        } else
          r.sortWidth > 0 && (v.removeChild(N), r.sortWidth = 0);
        var A = r.popup;
        m > 0 ? (A ? R = A.style : (A = n.createElement("span"), r.popup = A, (R = A.style).position = "absolute", R.display = "inline-block"), r.popupWidth <= 0 && (v.appendChild(A), r.popupWidth = m), A.className = "rg-header-popup", E += m, R.left = x - E + "px", R.top = Math.floor((S - t.popupHeight) / 2) + "px", R.width = m + "px", R.height = t.popupWidth + "px") : r.popupWidth > 0 && (v.removeChild(A), r.popupWidth = 0), R = v.style, r.showTooltip = o.showTooltip, r.tooltip = o.tooltip, r.setDivMarigns(R, I, E, O, P);
        var z = o.template;
        z ? r.setHtml(C, z) : r.setText(C, o.text || ""), Fi.addEdgeMark(o.edgeMark, r, n);
      }, i.prototype._updateGroupCell = function(e, t, o, r) {
        var n = e.doc, s = r.cell.firstElementChild, l = r.textSpan, h = this.$_getCellHeight(r), u = r.layout, c = 0, d = s.style;
        d.maxHeight = Math.max(h - 2, 0) + "px";
        var p = this.$_canExpanderHandleVisible(u), _ = r.expander;
        if (p) {
          r.expander || ((_ = r.expander = n.createElement("span")).style.position = "absolute", _.style.display = "inline-block"), _.className = u.expanded ? "rg-column-expanded" : "rg-column-collapsed";
          var g = _.style;
          g.left = "2px", g.top = Math.floor((h - t.expanderHeight) / 2) + "px", g.width = t.expanderWidth + "px", g.height = t.expanderHeight + "px", c += t.expanderWidth + 2, s.appendChild(r.expander);
        } else
          r.expander && s.removeChild(r.expander);
        r.showTooltip = o.showTooltip, r.tooltip = o.tooltip, r.setDivMarigns(d, c, 0, 0, 0);
        var y = o.template;
        y ? r.setHtml(l, y) : r.setText(l, o.text || ""), Fi.addEdgeMark(o.edgeMark, r, n);
      }, i.prototype.$_canPopupHandleVisible = function(e, t, o) {
        if (t.header.popupMenuName == null)
          return !1;
        switch (e.showPopupMenu) {
          case f.HandleVisibility.VISIBLE:
          case f.HandleVisibility.ALWAYS:
            return !0;
          case f.HandleVisibility.HOVERED:
            return o.hovered;
          case f.HandleVisibility.HIDDEN:
            return !1;
        }
      }, i.prototype.$_canFilterHandleVisible = function(e, t, o) {
        var r = e.enabled && t.hasFilters && t.filterable && t.filterIconVisible;
        if (r)
          switch (e.handleVisibility) {
            case f.HandleVisibility.HIDDEN:
              r = !1;
              break;
            case f.HandleVisibility.HOVERED:
              r = r && o.hovered;
          }
        return r;
      }, i.prototype.$_canSortHandleVisible = function(e, t, o) {
        switch (e.handleVisibility) {
          case f.HandleVisibility.VISIBLE:
            return t.sortOrder >= 0;
          case f.HandleVisibility.HOVERED:
            return o.hovered && t.sortOrder >= 0;
          case f.HandleVisibility.ALWAYS:
            return t.sortable || t.sortOrder >= 0;
          case f.HandleVisibility.HIDDEN:
            return !1;
        }
      }, i.prototype.$_canCheckHandleVisible = function(e, t) {
        return !1;
      }, i.prototype.$_canExpanderHandleVisible = function(e) {
        return e.isExpandable();
      }, i.prototype.$_checkHeight = function() {
        return this._dirty && this._table.offsetHeight != this._rowPoints[this._rowPoints.length - 1];
      }, i.prototype.$_getHeights = function(e) {
        var t = this._tbody.rows;
        if (e.length == 0)
          for (var o = 0, r = this._rowPoints.length - 1; o < r; o++)
            e[o] = 0;
        for (o = 0; o < e.length; o++)
          e[o] = Math.max(e[o], t[o] ? t[o].offsetHeight : 0);
      }, i.prototype.$_adjustHeights = function(e) {
        var t = this._tbody.rows, o = this._rowPoints;
        o[0] = 0;
        for (var r = 0, n = o.length - 1; r < n; r++)
          t[r].style.height = e[r] + "px", o[r + 1] = o[r] + e[r];
        return o[o.length - 1];
      }, i.prototype.$_distributeHeights = function(e, t) {
        for (var o = t.length, r = 0, n = 0; n < o; n++)
          r += t[n];
        if (e > r) {
          var s = this._tbody.rows, l = e - r, h = l;
          for (n = 0; n < o - 1; n++) {
            var u = Math.floor(l * t[n] / r);
            t[n] += u, s[n].style.height = t[n] + "px", h -= u;
          }
          t[n] += h, s[n] && (s[n].style.height = t[n] + "px");
        }
      }, i.RENDERER_STYLE = "rg-header-renderer", i;
    }(xi), Yd = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getExplicitWidth = function(e) {
        return e.fixedWidth - e.fixedBarWidth;
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return 0;
      }, i.prototype._getEndCell = function(e) {
        return e.fixedCellCount - 1;
      }, i.prototype._getCellCount = function(e) {
        return e.fixedCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getFixedCellWidth(t);
      }, i.prototype._getCellWidth2 = function(e, t, o) {
        return e.getFixedCellWidth2(t, o);
      }, i.prototype.tableCellByLayout2 = function(e, t) {
        return this.tableCellByLayout(t);
      }, i;
    }(Ei), qd = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return e.cellCount - e.rightCellCount;
      }, i.prototype._getEndCell = function(e) {
        return e.cellCount - 1;
      }, i.prototype._getCellCount = function(e) {
        return e.cellCount - 1;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getRightCellWidth(t);
      }, i.prototype._getCellWidth2 = function(e, t, o) {
        return e.getRightCellWidth2(t, o);
      }, i.prototype.tableCellByLayout2 = function(e, t) {
        return this.tableCellByLayout(t);
      }, i;
    }(Ei), as = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._refreshMode = f.RefreshMode.ALL, t._leftPos = 0, t._rightFixed = !0, t._footerCount = 0, t._headerSummaryCount = 0, t._layoutCount = 0, t._fixedLayoutCount = 0, t._rightLayoutCount = 0, t._firstLayout = 0, t._lastLayout = 0, t._layoutsLength = 0, t._layouts = [], t._layoutPoints = [], t._fixedLayoutPoints = [], t._rightLayoutPoints = [], t._cellCount = 0, t._fixedCellCount = 0, t._rightCellCount = 0, t._firstCell = 0, t._lastCell = 0, t._startCell = 0, t._endCell = 0, t._cellPoints = [], t._fixedCellPoints = [], t._rightCellPoints = [], t._trs = 1, t._rowGrouped = !1, t._items = [], t._topIndex = 0, t._itemCount = 0, t._fixedItemCount = 0, t._fullItemCount = 0, t._fixedItemPoints = [], t._itemPoints = [], t._fixedTableRowCount = 0, t._tableRowCount = 0, t._fixedTableRowPoints = [], t._tableRowPoints = [], t._fixedTableItemPoints = [], t._tableItemPoints = [], t._fixedDataHeight = 0, t._dataRowHeights = [], t._dataHeight = 0, t._fixedBarWidth = 0, t._rightBarWidth = 0, t._fixedBarHeight = 0, t._itemsBounds = 0, t._fixedWidth = 0, t._rightWidth = 0, t._fixedHeight = 0, t._autoRowHeights = !1, t._minRowHeight = xr.MIN_TABLE_ROW_HEIGHT, t._minItemHeight = xr.MIN_TABLE_ROW_HEIGHT, t._maxHeight = xr.MIN_TABLE_ROW_HEIGHT, t._itemHeight = 0, t._hscrolled = !1, t._vscrolled = !1, t._hscrollBar = !1, t._vscrollBar = !1, t._scrollBarWidth = 0, t._scrollBarHeight = 0, t._scrollWidth = 0, t._fitStyle = void 0, t._grid = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, this._rs = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerCount", { get: function() {
        return this._footerCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerSummaryCount", { get: function() {
        return this._headerSummaryCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "vscrollBar", { get: function() {
        return this._vscrollBar;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hscrollBar", { get: function() {
        return this._hscrollBar;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollBarWidth", { get: function() {
        return this._scrollBarWidth;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollBarHeight", { get: function() {
        return this._scrollBarHeight;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataBounds", { get: function() {
        return this._dataBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bodyBounds", { get: function() {
        return this._bodyBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedBodyBounds", { get: function() {
        return this._fixedBodyBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "gridBounds", { get: function() {
        return this._gridBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerBounds", { get: function() {
        return this._headerBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summaryBounds", { get: function() {
        return this._summaryBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerBounds", { get: function() {
        return this._footerBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterPanelBounds", { get: function() {
        return this._filterPanelBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topContentBounds", { get: function() {
        return this._topContentBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "leftContentBounds", { get: function() {
        return this._leftContentBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowBarBounds", { get: function() {
        return this._rowBarBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sideContentBounds", { get: function() {
        return this._sideContentBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "contentBounds", { get: function() {
        return this._contentBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedContentBounds", { get: function() {
        return this._fixedContentBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "nonFixedBounds", { get: function() {
        return this._nonFixedBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightContentBounds", { get: function() {
        return this._rightContentBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headBounds", { get: function() {
        return this._headBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sumBounds", { get: function() {
        return this._sumBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footBounds", { get: function() {
        return this._footBounds;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedWidth", { get: function() {
        return this._fixedWidth;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightWidth", { get: function() {
        return this._rightWidth;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "defaultItemHeight", { get: function() {
        return this._itemHeight;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topIndex", { get: function() {
        return this._topIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemCount", { get: function() {
        return this._itemCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedItemCount", { get: function() {
        return this._fixedItemCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fullItemCount", { get: function() {
        return this._fullItemCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedTableRowCount", { get: function() {
        return this._fixedTableRowCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tableRowCount", { get: function() {
        return this._tableRowCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "trs", { get: function() {
        return this._cellLayouts.dataRows;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "leftPos", { get: function() {
        return this._leftPos;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellLayouts", { get: function() {
        return this._cellLayouts;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "layoutCount", { get: function() {
        return this._layoutCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedLayoutCount", { get: function() {
        return this._fixedLayoutCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightLayoutCount", { get: function() {
        return this._rightLayoutCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstLayout", { get: function() {
        return this._firstLayout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lastLayout", { get: function() {
        return this._lastLayout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightFirstLayout", { get: function() {
        return this._layoutCount - this._rightLayoutCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "layoutsLength", { get: function() {
        return this._layoutsLength;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellCount", { get: function() {
        return this._cellCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedCellCount", { get: function() {
        return this._fixedCellCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightCellCount", { get: function() {
        return this._rightCellCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstCell", { get: function() {
        return this._firstCell;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lastCell", { get: function() {
        return this._lastCell;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startCell", { get: function() {
        return this._startCell;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "endCell", { get: function() {
        return this._endCell;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isColumnFitted", { get: function() {
        return !!this._fitStyle;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollWidth", { get: function() {
        return this._scrollWidth;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedBarWidth", { get: function() {
        return this._fixedBarWidth;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightBarWidth", { get: function() {
        return this._rightBarWidth;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedHeight", { get: function() {
        return this._fixedHeight;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedBarHeight", { get: function() {
        return this._fixedBarHeight;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGrouped", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergedRowGrouped", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGroupFields", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGroupLevels", { get: function() {
        return 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "clientRect", { get: function() {
        return this._clientRect;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerRows", { get: function() {
        return this._cellLayouts.headerRows;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataRows", { get: function() {
        return this._cellLayouts.dataRows;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topPanelVisible", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minRowHeight", { get: function() {
        return this._minRowHeight;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minItemHeight", { get: function() {
        return this._minItemHeight;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fitStyle", { get: function() {
        return this._fitStyle;
      }, enumerable: !1, configurable: !0 }), i.prototype.syncHeight = function() {
        return this.grid.displayOptions.syncGridHeight !== f.SyncGridHeight.NONE;
      }, i.prototype.fitSyncHeight = function() {
        return this._fitSyncHeight;
      }, i.prototype.getStartCell = function(e) {
        if (e === void 0 && (e = !0), e)
          return this._firstCell;
        var t = this.grid, o = t.isRecycleMode();
        switch (this._refreshMode) {
          case f.RefreshMode.VISIBLE_ONLY:
            return this._startCell;
          case f.RefreshMode.RECYCLE:
            return o ? t._needRefresh && t._horzScrolled ? this._firstCell : this._startCell : this._firstCell;
          default:
            return this._firstCell;
        }
      }, i.prototype.getEndCell = function(e) {
        if (e === void 0 && (e = !0), e)
          return this._lastCell;
        var t = this.grid, o = t.isRecycleMode();
        switch (this._refreshMode) {
          case f.RefreshMode.VISIBLE_ONLY:
            return this._endCell;
          case f.RefreshMode.RECYCLE:
            return o ? t._needRefresh && t._horzScrolled ? this._lastCell : this._endCell : this._lastCell;
          default:
            return this._lastCell;
        }
      }, i.prototype.getLayout = function(e) {
        return this._layouts[e];
      }, i.prototype.getLayoutBounds = function(e) {
        return new ue(this._layoutPoints[e], 0, this._layoutPoints[e + 1] - this._layoutPoints[e], 0);
      }, i.prototype.getLayoutWidth = function(e) {
        return this._layoutPoints[e + 1] - this._layoutPoints[e];
      }, i.prototype.getPositionToVIndex = function(e) {
        for (var t = this._layoutPoints, o = 0; o < t.length - 1; o++)
          if (e >= t[o] && e < t[o + 1])
            return o;
        return -1;
      }, i.prototype.getFixedLayoutWidth = function(e) {
        return this._fixedLayoutPoints[e + 1] - this._fixedLayoutPoints[e];
      }, i.prototype.getRightLayoutWidth = function(e) {
        return this._rightLayoutPoints[e + 1] - this._rightLayoutPoints[e];
      }, i.prototype.getCellIndex = function(e) {
        for (var t = this._cellPoints, o = 0; o < t.length - 1; o++)
          if (e >= t[o] && e < t[o + 1])
            return o;
        return -1;
      }, i.prototype.getHorzColumnIndex = function(e) {
        for (var t = e, o = 0; t; )
          o += !t.group || t.group.horizontal ? t.vindex : 0, t = t.group;
        return o;
      }, i.prototype.getLeftCell = function() {
        return this.getCellIndex(this._leftPos);
      }, i.prototype.getCellPoint = function(e) {
        return this._cellPoints[e];
      }, i.prototype.getCellWidth = function(e) {
        return this._cellPoints[e + 1] - this._cellPoints[e];
      }, i.prototype.getCellWidth2 = function(e, t) {
        var o = this._cellPoints;
        return o[Math.min(o.length - 1, e + t)] - o[e];
      }, i.prototype.getFixedCellPoint = function(e) {
        return this._fixedCellPoints[e];
      }, i.prototype.getFixedCellWidth = function(e) {
        return this._fixedCellPoints[e + 1] - this._fixedCellPoints[e];
      }, i.prototype.getFixedCellWidth2 = function(e, t) {
        var o = this._fixedCellPoints;
        return o[Math.min(o.length - 1, e + t)] - o[e];
      }, i.prototype.getRightCellPoint = function(e) {
        return this._rightCellPoints[e];
      }, i.prototype.getRightCellWidth = function(e) {
        return this._rightCellPoints[e + 1] - this._rightCellPoints[e];
      }, i.prototype.getRightCellWidth2 = function(e, t) {
        var o = this._rightCellPoints;
        return o[Math.min(o.length - 1, e + t)] - o[e];
      }, i.prototype.$_getItems = function() {
        return this._items;
      }, i.prototype.getItem = function(e) {
        return this._items[e];
      }, i.prototype.getDataRowHeights = function(e) {
        var t = this.grid.displayOptions, o = [], r = t.dataHeights;
        if (r && r.length > 0)
          for (var n = 0; n < e; n++) {
            var s = Math.floor(Math.max(t.minTableRowHeight, r[n] || t.minTableRowHeight));
            o.push(s);
          }
        return o.slice();
      }, i.prototype._calcDefaultRowHeight = function(e) {
        var t = this.grid.displayOptions.rowHeight, o = this._dataRowHeights = this.getDataRowHeights(this._trs);
        return o && o.length > 0 && (t = o.reduce(function(r, n) {
          return r + n;
        }, 0)), t <= 0 && (t = e.heightMeasurer.rowHeight * this._trs), o.length > 0 && this._maxHeight > 0 && (t > this._maxHeight || t < this._minItemHeight) && (this._dataRowHeights = []), this._maxHeight > 0 && (t = Math.min(this._maxHeight, t)), t = Math.max(this._minItemHeight, t);
      }, i.prototype.measure = function(e, t, o, r, n) {
        var s = this._grid;
        this._rs = s.itemSource, this._cellLayouts = s._activeCellLayout, this._footerCount = s.footers.visibleCount, this._headerSummaryCount = s.headerSummaries.visibleCount, this._leftPos = t, this._topIndex = o, this._focusIndex && !s.isValid(this._focusIndex) && this._focusIndex.normalize(s), this._prevVscrolled = this._vscrolled, this._prevHscrolled = this._hscrolled, this._doMeasure(e, r, n), this._prevVscrolled === this._vscrolled && this._prevHscrolled === this._hscrolled || (s._columnsDirty = !0);
      }, i.prototype.layout = function(e) {
        var t = this._grid;
        t.invalidateGridObject(), this._doLayout(t, e), this._adjustLayout(t, this._gridBounds.clone()), this._prevFocused = this._focusIndex, this._focusIndex = null, this._oldSyncHeight = t.displayOptions.syncGridHeight;
      }, i.prototype.getItemHeight = function(e) {
        var t = e.index;
        return t < this._fixedItemCount ? this._fixedItemPoints[t + 1] - this._fixedItemPoints[t] : (t -= this._fixedItemCount - this._topIndex, this._itemPoints[t + 1] - this._itemPoints[t]);
      }, i.prototype.getTableItemHeight = function(e) {
        return e < this._fixedItemCount ? this._fixedTableItemPoints[e + 1] - this._fixedTableItemPoints[e] : (e -= this._fixedItemCount, this._tableItemPoints[e + 1] - this._tableItemPoints[e]);
      }, i.prototype.getTableItemIndex = function(e) {
        for (var t = 0; t < this._fixedItemCount; t++)
          if (e <= this._fixedTableItemPoints[t + 1])
            return t;
        for (t = 0; t < this._itemCount; t++)
          if (e <= this._tableItemPoints[t + 1])
            return t + this._fixedItemCount;
        return -1;
      }, i.prototype.getTableItemTop = function(e) {
        return e < this._fixedItemCount ? this._fixedTableItemPoints[e] : (e -= this._fixedItemCount, this._tableItemPoints[e]);
      }, i.prototype.getTableItemBottom = function(e) {
        return e < this._fixedItemCount ? this._fixedTableItemPoints[e + 1] : (e -= this._fixedItemCount, this._tableItemPoints[e + 1]);
      }, i.prototype.getItemBounds = function(e) {
        var t, o;
        return this._fixedItemCount > 0 && e < this._fixedItemCount ? (t = this._fixedItemPoints[e], o = this._fixedItemPoints[e + 1] - t) : (e -= this._fixedItemCount, t = this._itemPoints[e], o = this._itemPoints[e + 1] - t), new ue(0, t, 1e3, o);
      }, i.prototype.getItemRect = function(e, t) {
        t === void 0 && (t = !1);
        var o, r, n = (t ? this._fixedContentBounds : this._bodyBounds).y;
        return this._fixedItemCount > 0 && e < this._fixedItemCount ? (o = this._fixedItemPoints[e] + n, r = this._fixedItemPoints[e + 1] + n - o) : (e -= this._fixedItemCount, o = this._itemPoints[e] + n, r = this._itemPoints[e + 1] + n - o), new ue(0, o, 1e3, r);
      }, i.prototype.getTableItemBounds = function(e) {
        var t, o;
        return this._fixedItemCount > 0 && e < this._fixedItemCount ? (t = this._fixedTableItemPoints[e], o = this._fixedTableItemPoints[e + 1] - t) : (e -= this._fixedItemCount, t = this._tableItemPoints[e], o = this._tableItemPoints[e + 1] - t), new ue(0, t, 1e3, o);
      }, i.prototype.getTableRowHeightFixed = function(e, t) {
        var o = this._fixedTableRowPoints.length;
        return e < o - 1 ? this._fixedTableRowPoints[Math.min(e + t, o - 1)] - this._fixedTableRowPoints[e] : (o > 1 && (e -= o), this._tableRowPoints[Math.min(e + t, this._tableRowPoints.length - 1)] - this._tableRowPoints[e]);
      }, i.prototype.getTableRowHeight = function(e, t) {
        return e < this._fixedTableRowCount ? this._fixedTableRowPoints[Math.min(e + t, this._fixedTableRowPoints.length - 1)] - this._fixedTableRowPoints[e] : (this._fixedItemCount > 0 && (e -= this._fixedItemCount * this._trs + 1), this._tableRowPoints[Math.min(e + t, this._tableRowPoints.length - 1)] - this._tableRowPoints[e]);
      }, i.prototype.getTableRowBounds = function(e, t) {
        var o, r;
        return this._fixedTableRowCount > 0 && e < this._fixedTableRowCount ? (o = this._fixedTableRowPoints[e], r = this._fixedTableRowPoints[Math.min(e + t, this._fixedTableRowCount)] - o) : (this._fixedTableRowCount > 0 && (e -= this._fixedTableRowCount + 1), o = this._tableRowPoints[e], r = this._tableRowPoints[Math.min(e + t, this._tableRowCount)] - o), new ue(0, o, 1e3, r);
      }, i.prototype.getTableRowIndex = function(e) {
        e -= this.contentBounds.y + this.bodyBounds.y;
        for (var t = 0; t < this._fixedTableRowCount; t++)
          if (e <= Math.round(this._fixedTableRowPoints[t + 1]))
            return t;
        for (t = 0; t < this._tableRowCount; t++)
          if (e <= Math.round(this._tableRowPoints[t + 1]))
            return t + (this._fixedTableRowCount > 0 ? this._fixedTableRowCount + 1 : 0);
        return -1;
      }, i.prototype.setLeftPos = function(e, t) {
        var o = this._grid;
        this._leftPos = t, this.$_calcLeftPos(), o.contentPane.x = this._contentBounds.x = this.fixedContentBounds.right - this._leftPos;
      }, i.prototype.isMergedCell = function(e) {
        return !1;
      }, i.prototype.getMergeRoom = function(e) {
        var t = e.layout;
        if (t instanceof de && t.canMerge()) {
          var o = t.merges;
          return o && o.getRoom(e);
        }
        return null;
      }, i.prototype.getHeaderCellAt = function(e, t, o) {
        o === void 0 && (o = !1);
        var r, n = this._grid, s = this._cellLayouts._headerCells, l = -1;
        if (e < this._fixedContentBounds.right) {
          r = n.fixedHeaderView, e -= this._fixedContentBounds.x;
          for (var h = 0; h < this._fixedCellCount; h++)
            if (e >= this._fixedCellPoints[h] && e < this._fixedCellPoints[h + 1]) {
              l = h;
              break;
            }
        } else if (e > this._rightContentBounds.x) {
          for (r = n.rightHeaderView, e -= this._rightContentBounds.x, h = 0; h < this._rightCellCount; h++)
            if (e >= this._rightCellPoints[h] && e < this._rightCellPoints[h + 1]) {
              l = h + this._cellCount - this._rightCellCount;
              break;
            }
        } else
          for (r = n.headerView, e -= this._contentBounds.x, h = 0; h < this._cellPoints.length; h++)
            if (e >= this._cellPoints[h] && e < this._cellPoints[h + 1]) {
              l = h + this._fixedCellCount;
              break;
            }
        if (l >= 0) {
          var u = s[r.getRowAt(t - this._headerBounds.y - this._contentBounds.y)][l];
          return (u = r.getSpanRoot(u)) && !o ? u.source : u;
        }
      }, i.prototype.getHeaderCellRect = function(e, t) {
        t === void 0 && (t = !1);
        var o, r, n = this.grid, s = e.hcol, l = this.cellCount - this.rightCellCount;
        if (s < this._fixedCellCount) {
          var h = this._fixedContentBounds.x, u = s, c = (r = n.fixedHeaderView.tableCellByLayout(e)) ? r.colSpan : e.cols;
          o = new ue(this._fixedCellPoints[u] + h, 0, this._fixedCellPoints[u + c] - this._fixedCellPoints[u], 0);
        } else
          s >= l ? (h = this._rightContentBounds.x + this._grid.fixedOptions.colBarWidth, u = s - l, c = (r = n.rightHeaderView.tableCellByLayout(e)) ? r.colSpan : e.cols, o = new ue(this._rightCellPoints[u] + h, 0, this._rightCellPoints[u + c] - this._rightCellPoints[u], 0)) : (h = this._contentBounds.x, u = s - this._fixedCellCount, c = (r = n.headerView.tableCellByLayout(e)) ? r.colSpan : e.cols, o = new ue(this._cellPoints[u] + h, 0, this._cellPoints[u + c] - this._cellPoints[u], 0));
        return o.y = this._contentBounds.y + n.headerView.getLayoutPos(e), o.height = n.headerView.getLayoutHeight(e, r, t), o;
      }, i.prototype.getDataRect = function(e) {
        var t, o = (e = e.source).col, r = e instanceof Ie ? e._clen : e._defColSpan, n = this.cellCount - this.rightCellCount;
        if (o < this._fixedCellCount) {
          var s = this._fixedContentBounds.x, l = o;
          t = new ue(this._fixedCellPoints[l] + s, 0, this._fixedCellPoints[l + r] - this._fixedCellPoints[l], 0);
        } else
          o >= n ? (s = this._rightContentBounds.x + this._grid.fixedOptions.colBarWidth, l = o - n, t = new ue(this._rightCellPoints[l] + s, 0, this._rightCellPoints[l + r] - this._rightCellPoints[l], 0)) : (s = this._contentBounds.x, l = o - this._fixedCellCount, t = new ue(this._cellPoints[l] + s, 0, this._cellPoints[l + r] - this._cellPoints[l], 0));
        return t;
      }, i.prototype.getBodyView = function(e) {
        var t = this.rightFirstLayout, o = (e instanceof Oe ? e : e.layout).root.vindex;
        return o < this._fixedLayoutCount ? this._grid.fixedBodyView : o >= t ? this._grid.rightBodyView : this._grid.bodyView;
      }, i.prototype.mouseToIndex = function(e, t, o, r) {
        if (r.set(-1, null), this._layoutCount < 1)
          return r;
        var n = this.grid, s = this._summaryBounds.bottom, l = -1;
        if ((o -= this._contentBounds.y) >= s && o < this._footerBounds.y) {
          for (var h = 0; h < this._fixedItemCount; h++)
            if (o >= s + this._fixedItemPoints[h] && o < s + this._fixedItemPoints[h + 1]) {
              l = h, o -= s + this._fixedItemPoints[h];
              break;
            }
          if (l < 0 && this._itemCount > 0) {
            for (h = 0; h < this._itemCount; h++)
              if (o >= s + this._itemPoints[h] && o < s + this._itemPoints[h + 1]) {
                l = h;
                break;
              }
            l >= 0 && (l += n.topItem);
          }
        } else
          o >= this._footerBounds.y ? l = -2 : o < this._headerBounds.y && (l = -3);
        if (r.itemIndex = l, e) {
          var u = n.getCellViewOf(e), c = u && n.getBodyView(u), d = c instanceof xt && c.layoutByCell(u);
          if (d)
            return r.layout = d, r;
        }
        return r;
      }, i.prototype.mouseToIndexEx = function(e, t, o, r) {
        if (this._layoutCount < 1)
          return r;
        var n = this.grid, s = this._topIndex + this._fixedItemCount, l = this._summaryBounds.bottom, h = 0;
        if ((o -= this._contentBounds.y) < l)
          h = -1;
        else if (o >= this._bodyBounds.bottom && o < this._footerBounds.y)
          h = s + this._fullItemCount;
        else if (o >= this._footerBounds.y)
          h = s + this._fullItemCount;
        else {
          h = -1, o -= l;
          for (var u = 0; u < this._fixedItemCount; u++)
            if (o >= this._fixedItemPoints[u] && o < this._fixedItemPoints[u + 1]) {
              h = u;
              break;
            }
          if (h < 0 && this._itemCount > 0) {
            for (u = 0; u < this._itemCount; u++)
              if (o >= this._itemPoints[u] && o < this._itemPoints[u + 1]) {
                h = u;
                break;
              }
            h >= 0 && (h += s);
          }
        }
        r.itemIndex = h;
        var c = -1, d = this._gridBounds.x;
        if (t < d)
          c = Math.max(0, this._firstLayout - 1);
        else if (t >= this._bodyBounds.right && t < this._clientRect.right)
          c = n.visibleLayoutCount - 1;
        else {
          for (t -= d, u = 0; u < this._fixedLayoutCount; u++)
            if (t >= this._fixedLayoutPoints[u] && t < this._fixedLayoutPoints[u + 1]) {
              c = u;
              break;
            }
          if (c < 0 && this._rightLayoutCount > 0) {
            var p = t - this._rightContentBounds.x + this._grid.fixedOptions.colBarWidth + d;
            for (u = 0; u < this._rightLayoutCount; u++)
              if (p >= this._rightLayoutPoints[u] && p < this._rightLayoutPoints[u + 1]) {
                c = u + this.rightFirstLayout;
                break;
              }
          }
          if (c < 0) {
            for (t = t - this._fixedWidth + this._leftPos, u = this._firstLayout; u <= this._lastLayout; u++)
              if (t >= this._layoutPoints[u - this._fixedLayoutCount] && t < this._layoutPoints[u - this._fixedLayoutCount + 1]) {
                c = u;
                break;
              }
          }
        }
        return c >= 0 && c < n.visibleLayoutCount ? r.layout = n.getVisibleLayout(c) : r.layout = null, r;
      }, i.prototype.cellIsVisible = function(e) {
        var t = e.itemIndex, o = this._fixedItemCount;
        if (t >= o) {
          if (t < this._topIndex + o)
            return !1;
          if (this._fullItemCount == 0 && t == this._topIndex + o)
            return !0;
          if (t >= this._topIndex + o + this._fullItemCount)
            return !1;
        }
        var r = e.layout, n = r.col;
        return !(n >= (o = this._fixedLayoutCount) && (n = r.col - this._fixedCellCount, this._cellPoints[n] < this._leftPos || this._cellPoints[n + r.cols] - this._leftPos > this._nonFixedBounds.width));
      }, i.prototype.clearFocusRequest = function() {
        this._focusIndex = null;
      }, i.prototype.focusIsVisible = function(e) {
        return (e = e || this._focusIndex) && this.cellIsVisible(e);
      }, i.prototype.makeCellVisible = function(e) {
        this._focusIndex = e.clone();
      }, i.prototype.isAutoRowHeights = function() {
        return this._autoRowHeights;
      }, i.prototype.isRowGrouped = function() {
        return this._rowGrouped;
      }, i.prototype.scrollToNextCell = function() {
        for (var e = 0; e < this._cellCount; e++)
          if (this._cellPoints[e] > this._leftPos)
            return this._cellPoints[e];
        return this._leftPos;
      }, i.prototype.scrollToPrevCell = function() {
        for (var e = this._cellCount - 1; e >= 0; e--)
          if (this._cellPoints[e] < this._leftPos)
            return this._cellPoints[e];
        return this._leftPos;
      }, i.prototype.needRelayout = function() {
        return this._autoRowHeights && this._fitStyleChanged && this._fitStyle == f.GridFitStyle.EVEN_FILL || this.syncHeight() && this._fitSyncChanged;
      }, i.prototype.$_calcFixedCellPoints = function(e, t) {
        var o = this._layoutCount = t.visibleCount, r = t._cellWidths, n = this._fixedLayoutCount = Math.min(e.colCount, o);
        if (this._rightLayoutCount = Math.max(0, Math.min(e.rightCount, o - n - 1)), this._rightFixed = e.rightFixed, this._cellCount = 0, this._fixedCellCount = 0, this._rightCellCount = 0, this._layouts = [], this._fixedLayoutPoints = [], this._fixedWidth = 0, this._rightWidth = 0, this._rightBarWidth = 0, this._fixedCellPoints = [], n > 0) {
          var s = this._layouts, l = this._fixedLayoutPoints, h = this._fixedCellPoints, u = 0, c = 0;
          l.push(u), h.push(u);
          for (var d = 0; d < n; d++) {
            for (var p = t.getVisible(d), _ = p.cols, g = 0; g < _; g++)
              u += r[c++], h.push(u);
            s.push(p), l.push(u);
          }
          this._fixedCellCount = this._cellCount = c, this._fixedWidth = l[n] + (this._fixedBarWidth = e.colBarWidth);
        }
      }, i.prototype.$_calcCellPoints = function(e) {
        var t = e.visibleCount - this._fixedLayoutCount - this._rightLayoutCount, o = e._cellWidths, r = this._layoutPoints = [], n = this._cellPoints = [], s = this._fixedLayoutCount, l = this._layouts;
        if (this._firstCell = this._lastCell = this._cellCount, this._layoutsLength = 0, t > 0) {
          var h = 0, u = this._cellCount;
          r.push(h), n.push(h);
          for (var c = 0; c < t; c++) {
            for (var d = e.getVisible(c + s), p = d.cols, _ = 0; _ < p; _++)
              h += o[u++], n.push(h);
            l.push(d), r.push(h);
          }
          this._layoutsLength = h, this._cellCount = u, this._lastCell = u - 1;
        }
      }, i.prototype.$_calcRightCellPoints = function(e, t) {
        var o = t._cellWidths, r = this._layoutCount, n = this._rightLayoutPoints = [], s = this._rightCellPoints = [], l = this._layouts;
        if (this._rightLayoutCount > 0) {
          var h = 0, u = this._cellCount;
          n.push(h), s.push(h);
          for (var c = r - this._rightLayoutCount; c < r; c++) {
            for (var d = t.getVisible(c), p = 0; p < d.cols; p++)
              h += o[u++], s.push(h);
            l.push(d), n.push(h);
          }
          this._rightCellCount = u - this._cellCount, this._cellCount = u, this._rightWidth = n[this._rightLayoutCount] + (this._rightBarWidth = e.rightBarWidth);
        }
      }, i.prototype.$_calcScrollWidth = function(e) {
        this._scrollWidth = e.width - this._leftContentBounds.width - this._sideContentBounds.width - this._fixedContentBounds.width - this._rightContentBounds.width;
      }, i.prototype.$_calcLeftPos = function() {
        var e = this._focusIndex && this._focusIndex.layout, t = this._leftPos;
        if (e) {
          var o = e.root.vindex, r = this._cellPoints, n = this.grid, s = n.editOptions.focusMoveStep === f.FocusMoveStep.GROUP;
          if (!n.isSwiping && o >= this._fixedLayoutCount && o < this.rightFirstLayout) {
            var l = e.col - this._fixedCellCount, h = r[l], u = n.displayOptions.horzPageScroll && n._eventFrom === "keydown" && n._prevTop === this._topIndex;
            if (h < this._leftPos)
              u && this._leftPos >= r[l + 1] && (h = h - (this.gridBounds.width + r[l] - r[l + 1]) + (this._fixedContentBounds.width + this._rightContentBounds.width)), t = h;
            else {
              var c = r[l + (s ? e.root.cols : e.cols)] - this._leftPos - this._scrollWidth;
              u && r[l] - this._leftPos >= this._scrollWidth && (c = Math.max(r[l] - r[this.getLeftCell()], c)), c > 0 && (t = Math.min(h, this._leftPos + c));
            }
          }
        }
        (t = Math.max(0, Math.min(t, this._layoutsLength - this._scrollWidth))) !== this._leftPos && (this.grid._horzScrolled = !0, this._leftPos = t), this._firstLayout = this._fixedLayoutCount, this._lastLayout = this._layoutCount > 0 ? this._layoutCount - this._rightLayoutCount - 1 : -1;
      }, i.prototype.$_checkFitting = function(e, t) {
        var o = e.fitStyle;
        if (o != f.GridFitStyle.NONE) {
          var r = this._cellPoints, n = r.length;
          if (n > 0)
            return o == f.GridFitStyle.EVEN_FILL || t - r[n - 1] > 0 ? o : void 0;
        }
      }, i.prototype.$_fitColumns = function(e, t, o) {
        var r = this;
        if (e.fitStyleIncludeFixed && this._fixedCellCount + this._rightCellCount > 0) {
          var n = [this._fixedLayoutPoints, this._layoutPoints, this._rightLayoutPoints], s = 0;
          n.forEach(function(Z) {
            Z.length > 0 && (s += Z[Z.length - 1]);
          });
          var l = this._clientRect.width - this._leftContentBounds.width - this._sideContentBounds.width - this._scrollBarWidth;
          l = l - (this._fixedCellCount ? this._fixedBarWidth : 0) - (this._rightCellCount ? this._rightBarWidth : 0), n.forEach(function(Z) {
            for (var ee = 1; ee < Z.length; ee++)
              Z[ee] = Math.round(Z[ee] * (l / s));
          });
          var h = 0;
          n.forEach(function(Z, ee) {
            var Y = ee === 0 ? r._fixedCellPoints : ee === 1 ? r._cellPoints : r._rightCellPoints, q = Z.length, G = t._cellWidths, ce = 0;
            Y.length = 0, Y.push(ce);
            for (var fe = 0; fe < q - 1; fe++) {
              var le = r._cellLayouts.getVisible(h++), ne = le._cellWidth, he = Z[fe + 1] - Z[fe], K = he / ne, ye = le.hcol, se = le.cols, H = ce;
              le._setFitWidth(he);
              for (var pe = 0; pe < se - 1; pe++)
                H += G[ye + pe] * K, Y.push(Math.round(H));
              ce += he, Y.push(Math.round(ce));
            }
            Y[Y.length - 1] = Z[q - 1];
          }), this._layoutsLength = b.getLast(this._layoutPoints), this._fixedWidth = this._fixedCellCount ? b.getLast(this._fixedLayoutPoints) + this._fixedBarWidth : 0, this._rightWidth = this._rightCellCount ? b.getLast(this._rightLayoutPoints) + this._rightBarWidth : 0, this._fixedContentBounds.width = this._fixedWidth, this.$_measureFixedPane(this.grid), this._contentBounds.left = this._fixedContentBounds.right, this._contentBounds.width = this._layoutsLength, this.$_measureContentPane(this.grid), this._rightContentBounds.left = this._contentBounds.right + this._scrollBarWidth, this._rightContentBounds.width = this._rightWidth, this.$_measureRightPane(this.grid), this._nonFixedBounds = new ue(this._fixedContentBounds.right, this._fixedContentBounds.y, this._layoutsLength, this._fixedContentBounds.height);
        } else {
          for (var u = 0; u < this._layoutCount; u++)
            (T = this._cellLayouts.getVisible(u)).isFixed && T._clearFitWidth();
          var c = this._layoutsLength, d = this._layoutPoints, p = d.length, _ = this._fixedLayoutCount, g = [];
          for (u = 1; u < d.length; u++)
            g.push(d[u] - d[u - 1]);
          if (p > 0) {
            var y = e.fitStyle, m = this._layouts;
            if (y == f.GridFitStyle.EVEN || y == f.GridFitStyle.EVEN_FILL)
              for (u = 1; u < p; u++)
                d[u] = d[u] * o / c;
            else if (y == f.GridFitStyle.FILL) {
              var v = 0, C = 0;
              for (u = 0; u < p - 1; u++) {
                var x = m[u + _].fillWidth;
                x > 0 ? C += x : v += g[u];
              }
              if (C > 0)
                for (v = o - v, u = 1; u < p; u++) {
                  var S = (T = m[u - 1 + _]).fillWidth;
                  d[u] = S > 0 ? d[u - 1] + S * v / C : d[u - 1] + g[u - 1];
                }
              else
                for (u = 1; u < p; u++)
                  d[u] = d[u] * o / c;
            }
            var I = 0;
            for (u = 0; u < p - 1; u++)
              d[u] = Math.round(d[u]);
            for (u = 1; u < p - 1; u++) {
              var E = d[u] - d[u - 1];
              E < 2 ? (I = 2 - E, d[u] += 2 - E) : I > 0 && E > 2 + I && (d[u] -= I, I = 0);
            }
            var O = this._cellPoints = [], P = t._cellWidths, R = 0;
            for (O.push(R), u = 0; u < p - 1; u++) {
              var T, D = (T = this._cellLayouts.getVisible(u + _))._cellWidth, M = d[u + 1] - d[u], V = M / D, B = T.hcol, N = T.cols, A = R;
              T._setFitWidth(M);
              for (var z = 0; z < N - 1; z++)
                A += P[B + z] * V, O.push(Math.round(A));
              R += M, O.push(Math.round(R));
            }
            O[O.length - 1] = d[p - 1];
          }
          this._layoutsLength = d[p - 1] = o;
        }
      }, i.prototype.$_measureTopPane = function(e) {
        this._doMeasureTopPane(e, this._topContentBounds);
      }, i.prototype._doMeasureTopPane = function(e, t) {
        t.height = 0;
      }, i.prototype.$_measureViewHeights = function(e, t) {
        var o;
        o = 0, e.header.visible ? (this._headerBounds = t.clone(), o = e.headerView.measure(e, t.width, t.height).height, this._headerBounds.height = o) : this._headerBounds ? this._headerBounds.setEmpty() : this._headerBounds = new ue(), this._fixedHeaderBounds = this._headerBounds.clone(), this._rightHeaderBounds = this._headerBounds.clone(), this._headBounds.y = t.y, this._headBounds.height = o, t.topBy(o), o = 0, e.filterPanel.visible ? (this._filterPanelBounds = t.clone(), o = e.filterPanelView.measure(e, t.width, t.height).height, this._filterPanelBounds.height = o) : (this._filterPanelBounds = this._filterPanelBounds || new ue(), this._filterPanelBounds.setEmpty()), this._fixedFilterBounds = this._filterPanelBounds.clone(), this._rightFilterBounds = this._filterPanelBounds.clone(), this._filterBounds.y = t.y, this._filterBounds.height = o, t.topBy(o), o = 0, e.headerSummaries.canShow ? (this._summaryBounds = t.clone(), o = e.headerSummaryView.measure(e, t.width, t.height).height, e.fixedHeaderSummaryView, this._summaryBounds.height = o) : this._summaryBounds ? this._summaryBounds.setEmpty() : this._summaryBounds = new ue(), this._fixedSummaryBounds = this._summaryBounds.clone(), this._rightSummaryBounds = this._summaryBounds.clone(), this._sumBounds.y = t.y, this._sumBounds.height = o, t.topBy(o), o = 0, e.footers.canShow ? (this._footerBounds = t.clone(), o = e.footerView.measure(e, t.width, t.height).height, this._footerBounds.height = o) : this._footerBounds ? this._footerBounds.setEmpty() : this._footerBounds = new ue(), this._fixedFooterBounds = this._footerBounds.clone(), this._rightFooterBounds = this._footerBounds.clone(), this._footBounds.y = t.bottom - this._footerBounds.height, this._footBounds.height = o;
        var r = this._sumBounds.bottom;
        o = this._footBounds.y - r, this._rowBarBounds.y = r, this._rowBarBounds.height = o;
      }, i.prototype.$_sortSections = function(e) {
        var t = [e.rowIndicator, e.stateBar, e.checkBar];
        return t.sort(function(o, r) {
          var n = o.displayOrder, s = r.displayOrder;
          return n == s ? o.staticOrder - r.staticOrder : n - s;
        }), t;
      }, Object.defineProperty(i.prototype, "sectionObjects", { get: function() {
        return this._sectionObjects;
      }, enumerable: !1, configurable: !0 }), i.prototype.$_measureLeftPane = function(e) {
        this._sectionObjects = this.$_sortSections(e);
        var t, o = this._leftContentBounds.clone().move();
        this._headBounds = o.clone(), this._sumBounds = o.clone(), this._footBounds = o.clone(), this._filterBounds = o.clone(), t = e.rowBarContainer.measure(e, o.width, o.height), this._rowBarBounds = o.clone(), this._rowBarBounds.width = t.width, this._leftContentBounds.width = t.width, o.leftBy(t.width), this._headBounds.width = this._sumBounds.width = this._footBounds.width = this._filterBounds.width = this._leftContentBounds.width;
      }, i.prototype._measureSidePane = function(e) {
        if (e.isSidePaneVisible()) {
          var t = this._sideContentBounds.clone(), o = e.sideContentPane.measure(e, t.width, t.height);
          this._sideContentBounds.width = o.width;
        } else
          this._sideContentBounds.width = 0;
      }, i.prototype.$_measureFixedPane = function(e) {
        var t = this._fixedContentBounds.width = this._fixedWidth, o = this._fixedContentBounds.clone().move();
        this._fixedHeaderBounds.x = o.x, this._fixedHeaderBounds.y = o.y, this._fixedHeaderBounds.width = o.width, o.topBy(this._fixedHeaderBounds.height), this._fixedFilterBounds.x = o.x, this._fixedFilterBounds.y = o.y, this._fixedFilterBounds.width = o.width, o.topBy(this._fixedFilterBounds.height), t > 0 && (e.fixedFilterView._rowPoints = e.filterPanelView._rowPoints.slice()), this._fixedSummaryBounds.x = o.x, this._fixedSummaryBounds.y = this._fixedFilterBounds.bottom, this._fixedSummaryBounds.width = o.width, o.topBy(this._fixedSummaryBounds.height), t > 0 && (e.fixedHeaderSummaryView._rowPoints = e.headerSummaryView._rowPoints.slice()), this._fixedFooterBounds.x = o.x, this._fixedFooterBounds.y = o.bottom - this._fixedFooterBounds.height, this._fixedFooterBounds.width = o.width, o.bottomBy(-this._fixedFooterBounds.height), t > 0 && (e.fixedFooterView._rowPoints = e.footerView._rowPoints.slice()), this._fixedBodyBounds = o;
      }, i.prototype.$_measureRightPane = function(e) {
        var t = this._rightWidth;
        this._rightContentBounds.width = t;
        var o = this._rightContentBounds.clone();
        o.x = this._rightBarWidth, o.y = 0, o.width -= o.x, this._rightHeaderBounds.x = o.x, this._rightHeaderBounds.y = o.y, this._rightHeaderBounds.width = o.width, o.topBy(this._rightHeaderBounds.height), this._rightFilterBounds.x = o.x, this._rightFilterBounds.y = o.y, this._rightFilterBounds.width = o.width, o.topBy(this._rightFilterBounds.height), t > 0 && (e.rightFilterView._rowPoints = e.filterPanelView._rowPoints.slice()), this._rightSummaryBounds.x = o.x, this._rightSummaryBounds.y = this._rightFilterBounds.bottom, this._rightSummaryBounds.width = o.width, o.topBy(this._rightSummaryBounds.height), t > 0 && (e.rightHeaderSummaryView._rowPoints = e.headerSummaryView._rowPoints.slice()), this._rightFooterBounds.x = o.x, this._rightFooterBounds.y = o.bottom - this._rightFooterBounds.height, this._rightFooterBounds.width = o.width, o.bottomBy(-this._rightFooterBounds.height), t > 0 && (e.rightFooterView._rowPoints = e.footerView._rowPoints.slice()), this._rightBodyBounds = o;
      }, i.prototype.$_measureContentPane = function(e) {
        var t = this._layoutsLength;
        this._contentBounds.width = t;
        var o = this._contentBounds.clone();
        o.x = o.y = 0, this._headerBounds && (this._headerBounds.x = o.x, this._headerBounds.y = o.y, this._headerBounds.width = o.width, o.topBy(this._headerBounds.height)), this._filterPanelBounds && (this._filterPanelBounds.x = o.x, this._filterPanelBounds.y = o.y, this._filterPanelBounds.width = o.width, o.topBy(this._filterPanelBounds.height)), this._summaryBounds && (this._summaryBounds.x = o.x, this._summaryBounds.y = this._filterPanelBounds.bottom, this._summaryBounds.width = o.width, o.topBy(this._summaryBounds.height)), this._dataBounds = o.clone(), this._footerBounds && (this._footerBounds.x = o.x, this._footBounds.y = this._footerBounds.y = o.bottom - this._footerBounds.height, this._footerBounds.width = o.width, o.bottomBy(-this._footerBounds.height)), this._bodyBounds = o;
      }, i.prototype.getRowHeightOfCallback = function(e, t) {
        var o = e.getItem(t), r = e.displayOptions.rowHeightCallback;
        if (r) {
          var n = r.call(this, e.handler, o.type, t), s = [], l = void 0, h = this.trs;
          if (n != null) {
            if (Array.isArray(n))
              for (s = n.slice(0, h), u = n.length; u < h; u++)
                s.push(this.minRowHeight);
            else {
              l = 0;
              for (var u = 1; u < h; u++) {
                var c = Math.max(this.minRowHeight, u % 2 ? Math.floor(n / h) : Math.round(n / h));
                s.push(c), l += c;
              }
              s.push(Math.max(n - l, this.minRowHeight));
            }
            var d = s.reduce(function(p, _) {
              return p + _;
            }, 0);
            return o.heights = s.slice(), d;
          }
        }
      }, i.prototype.$_getItemHeight = function(e, t) {
        var o = e.getItem(t), r = o.height;
        if (!isNaN(r))
          return r;
        if (this._autoRowHeights)
          return this._minItemHeight;
        if (e.displayOptions.rowHeightCallback && b.included(o.type, f.ItemType.ROW, f.ItemType.TREE)) {
          var n = this.getRowHeightOfCallback(e, t);
          if (n)
            return n;
          o.heights = null;
        } else
          o.heights = null;
        return this._itemHeight;
      }, i.prototype.$_calcItemPoints = function(e) {
        var t = this.grid;
        if (!(t._eventFrom === "mousedown" && this._focusIndex && this._topIndex < this._focusIndex.itemIndex - this._fixedItemCount - Math.max(0, this._fullItemCount - 1))) {
          e = e == null || e;
          var o = t.itemSource, r = this.syncHeight(), n = r ? 1 / 0 : this._itemsBounds;
          this._topIndex = r ? 0 : this._topIndex;
          var s = 0, l = o ? Math.min(o.fixedCount, o.itemCount) : 0;
          if (this._fixedItemCount = 0, this._fixedBarHeight = 0, this._fixedHeight = 0, this._fixedItemPoints = [], l > 0) {
            this._fixedItemPoints.push(s);
            for (var h = 0; h < l && s < n; h++)
              s += this.$_getItemHeight(t, h), this._fixedItemPoints.push(s), this._fixedItemCount++;
            this._fixedHeight = s, s += this._fixedBarHeight = t.fixedOptions.rowBarHeight;
          }
          var u = t.itemCount - this._fixedItemCount;
          if (this._itemPoints = [s], this._itemCount = 0, this._fullItemCount = 0, u > 0 && s < n) {
            var c = this._topIndex, d = -1;
            if (this._focusIndex && (d = this._focusIndex.itemIndex) >= this._fixedItemCount && d < c + this._fixedItemCount) {
              var p = d - this._fixedItemCount;
              (_ = t.topIndexChanging(c, d - this._fixedItemCount - c, !0, !1)) == null || isNaN(_) || (p = this._topIndex + _), c = this._topIndex = p;
            }
            for (h = c; h < u && s < n; h++)
              s += this.$_getItemHeight(t, h + this._fixedItemCount), this._itemCount++, this._itemPoints.push(s);
            if (this._fullItemCount = this._itemCount - (s > n ? 1 : 0), e && d >= this._topIndex + this._fixedItemCount + this._fullItemCount) {
              s = this.fixedItemCount > 0 ? this._fixedHeight + t.fixedOptions.rowBarHeight : 0;
              var _, g = d - this._fixedItemCount - Math.max(0, this._fullItemCount - 1) - this._topIndex;
              for ((_ = t.topIndexChanging(this._topIndex, g, e, !1)) == null || isNaN(_) || (g = _), this._topIndex += g, this._itemPoints = [s], this._itemCount = 0, this._fullItemCount = 0, h = this._topIndex; h < t.itemCount - this._fixedItemCount && s < n; h++)
                s += this.$_getItemHeight(t, h + this._fixedItemCount), this._itemCount++, this._itemPoints.push(s);
              this._fullItemCount = this._itemCount - (s >= n ? 1 : 0);
            }
          } else
            this._topIndex = 0;
        }
      }, i.prototype.$_updateScrollInfo = function(e, t, o) {
        var r = this._reqScrollBarWidth, n = this._reqScrollBarHeight, s = o ? this._tableItemPoints : this._itemPoints, l = s[s.length - 1], h = this._layoutsLength, u = t.fitStyle == f.GridFitStyle.EVEN_FILL, c = this.syncHeight();
        this._hscrolled = h > this._scrollWidth, this._vscrolled = !c && (this._topIndex > 0 || e.itemCount > this._itemCount + this._fixedItemCount || l > this._bodyBounds.height);
        var d = n > 0 && this._hscrolled && !u, p = r > 0 && this._vscrolled;
        d != p && (d ? r > 0 && !c && (p = l > this._bodyBounds.height - n) : n > 0 && !u && (d = h > this._scrollWidth - r)), this._hscrollBar = d, this._vscrollBar = p, this._hscrolled = this._hscrolled || d, this._vscrolled = this._vscrolled || p, this._scrollBarWidth = p ? r : 0, this._scrollBarHeight = d ? n : 0, this._scrollWidth -= this._scrollBarWidth;
      }, i.prototype.$_recalcScrollInfo = function(e) {
        this._scrollWidth += this._scrollBarWidth, this._bodyBounds.height += this._scrollBarHeight, this._gridBounds.height += this._scrollBarHeight, this._clientRect.height += this._scrollBarHeight, this.$_updateScrollInfo(e, e.displayOptions, !0), this._bodyBounds.height -= this._scrollBarHeight, this._gridBounds.height -= this._scrollBarHeight, this._clientRect.height -= this._scrollBarHeight;
      }, i.prototype.$_adjustVerticals = function() {
        var e = this._scrollBarHeight, t = this._itemPoints;
        if (e > 0) {
          this._leftContentBounds.height -= e, this._footBounds.y -= e, this._rowBarBounds.height -= e, this._sideContentBounds.height -= e, this._fixedContentBounds.height -= e, this._fixedFooterBounds.y -= e, this._fixedBodyBounds.height -= e, this._nonFixedBounds.height -= e, this._contentBounds.height -= e, this._footerBounds.y -= e, this._bodyBounds.height -= e, this._rightContentBounds.height -= e, this._rightFooterBounds.y -= e, this._rightBodyBounds.height -= e;
          for (var o = this.syncHeight() ? 1 / 0 : this._bodyBounds.height; t[t.length - 2] > o; )
            this._itemCount--, t.pop();
          this._fullItemCount = Math.max(0, this._itemCount - (t[this._itemCount] >= o ? 1 : 0));
          var r = this._focusIndex ? this._focusIndex.itemIndex : -1;
          if (r >= 0 && this._itemCount > this._fullItemCount && r >= this._topIndex + this._fixedItemCount + this._fullItemCount) {
            for (var n = this.grid, s = t[this._itemCount], l = 0; s > o; )
              s -= t[++l];
            var h = n._prevTop + 1 !== this._topIndex;
            if (l > 0 && n._eventFrom !== "mousedown") {
              var u = n.topIndexChanging(this._topIndex, l, !!this._focusIndex, !0);
              u == null || isNaN(u) || (l = u), t.splice(0, l), this._topIndex += l, this._itemCount -= l, this._fullItemCount -= l, s = t[0];
              for (var c = 0; c < t.length; c++)
                t[c] -= s;
              if (s = t[t.length - 1], n.itemCount < this._topIndex + this._fixedItemCount + this._itemCount)
                this._itemCount--;
              else
                for (; s < o && this._topIndex + this._fixedItemCount + this._itemCount < n.itemCount; )
                  t.push(s += this.$_getItemHeight(n, this._topIndex + this._fixedItemCount + this._itemCount)), this._itemCount++, this._fullItemCount++;
              h && (this._topIndex, this._fixedItemCount, this._fullItemCount);
            }
          }
        }
        if (this._dataBounds.height = t[t.length - 1], this._fullItemCount == this._itemCount) {
          var d = t[t.length - 1];
          this._rowBarBounds.height = d;
        }
      }, i.prototype.$_adjustHorizontals = function(e) {
        this._rightContentBounds.x -= this._scrollBarWidth, this.$_calcLeftPos();
        var t = this._cellPoints, o = t.length, r = this._leftPos, n = r + this._nonFixedBounds.width;
        this._startCell = this._endCell = this._firstCell;
        for (var s = 0; s < o; s++)
          if (t[s] > r) {
            this._startCell += s - 1;
            break;
          }
        for (s = o - 2; s >= 0; s--)
          if (t[s] < n) {
            this._endCell += s;
            break;
          }
      }, i.prototype.$_calcTableRowPoints = function() {
        var e, t, o = this._trs, r = this._items, n = this._fixedItemCount, s = this._itemCount + n, l = this._fixedTableRowPoints = [], h = this._tableRowPoints = [], u = this._dataRowHeights, c = 0;
        if (this._fixedTableRowCount = this._tableRowCount = 0, this._fixedDataHeight = this._dataHeight = 0, n > 0) {
          for (var d = this._fixedItemPoints; c < n; c++) {
            var p = d[c];
            if (e = r[c], l.push(p), this._fixedTableRowCount++, e.isData) {
              t = e.heights || u;
              for (var _ = Math.floor((d[c + 1] - p) / o), g = Math.round(d[c + 1] - p) / o, y = 1; y < o; y++)
                l.push(p += t[y - 1] ? t[y - 1] : y % 2 ? _ : g), this._fixedTableRowCount++;
            }
          }
          l.push(this._fixedDataHeight = this._fixedItemPoints[n]);
        }
        if (this.itemCount > 0) {
          for (d = this._itemPoints; c < s; c++)
            if (p = d[c - n], _ = d[c - n + 1] - p, e = r[c], h.push(p), this._tableRowCount++, e.isData) {
              t = e.heights || u;
              var m = Math.floor(_ / o);
              for (g = Math.round(_ / o), y = 1; y < o; y++)
                h.push(p += t[y - 1] ? t[y - 1] : y % 2 ? m : g), this._tableRowCount++;
            }
          h.push(this._dataHeight = d[this._itemCount]), this._dataHeight += this._fixedDataHeight;
        }
      }, i.prototype._doMeasure = function(e, t, o) {
        var r = this._grid, n = r.displayOptions, s = r.fixedOptions, l = e.clone();
        this._refreshMode = n.refreshMode, this._autoRowHeights = n.rowHeight < 0, this._items = [], this._trs = this._cellLayouts.dataRows, this._rowGrouped = this.rowGrouped || this.mergedRowGrouped, this._hscrolled = this._vscrolled = !1, this._hscrollBar = this._vscrollBar = !1, this._reqScrollBarWidth = t, this._reqScrollBarHeight = o, this._minRowHeight = n.minTableRowHeight, this._maxHeight = n.maxRowHeight, this._minItemHeight = Math.max(this._minRowHeight * this._trs, n.minRowHeight), this._trs == 1 && (this._minRowHeight = this.minItemHeight), r.heightMeasurer.measure(r), this.$_calcFixedCellPoints(s, this._cellLayouts), this.$_calcCellPoints(this._cellLayouts), this.$_calcRightCellPoints(s, this._cellLayouts), this._itemHeight = this._calcDefaultRowHeight(r);
        var h = r.container._containerDiv;
        !this.syncHeight() && this._oldSyncHeight && this._oldSyncHeight !== r.displayOptions.syncGridHeight && h.style.height !== r.container._orgCssHeight && (h.style.height = r.container._orgCssHeight), function() {
          this._topContentBounds = l.clone(), this.$_measureTopPane(r), l.topBy(this.topPanelVisible ? this._topContentBounds.height : 0), this._leftContentBounds = l.clone(), this.$_measureLeftPane(r), l.leftBy(this._leftContentBounds.width), this._sideContentBounds = l.clone(), this._measureSidePane(r), l.leftBy(this._sideContentBounds.width), this.$_measureViewHeights(r, l.clone().move()), this._fixedContentBounds = l.clone(), this.$_measureFixedPane(r), l.leftBy(this._fixedContentBounds.width), this._rightContentBounds = l.clone(), this.$_measureRightPane(r), this._rightContentBounds.x = l.right - this._rightContentBounds.width, l.width -= this._rightContentBounds.width, this._contentBounds = l.clone(), this.$_measureContentPane(r), this._clientRect = e.clone(), this._nonFixedBounds = new ue(this._fixedContentBounds.right, this._fixedContentBounds.y, e.width - this._fixedContentBounds.right - this.rightContentBounds.width, this._fixedContentBounds.height);
        }.call(this), this._itemsBounds = e.height - this._topContentBounds.height - this._headerBounds.height - this._filterPanelBounds.height - this._summaryBounds.height - this._footBounds.height + 1, this.$_calcItemPoints(), this.$_calcScrollWidth(e), this.$_updateScrollInfo(r, n);
        var u = this._fitStyle;
        (this._fitStyle = this.$_checkFitting(n, this._scrollWidth)) ? (this.$_fitColumns(n, this.cellLayouts, this.scrollWidth), this._contentBounds.width = this._layoutsLength) : r._activeCellLayout.$_clearFitWidths(), (this._fitStyleChanged = this._fitStyle != u) && r.clearRowHeights(!1), this.$_adjustVerticals(), this.$_adjustHorizontals(e), this._gridBounds = new ue(this._fixedContentBounds.x, this._fixedContentBounds.y, e.right - this._fixedContentBounds.x - this._scrollBarWidth, this._footerBounds.y - 0), this._clientRect.width -= this._scrollBarWidth, this._clientRect.height -= this._scrollBarHeight, this._nonFixedBounds.width -= this._scrollBarWidth, this._topContentBounds.width -= this._scrollBarWidth;
      }, i.prototype.$_layoutTopPane = function(e, t) {
        var o = this._topContentBounds;
        this.topPanelVisible ? t.setRect(o) : t.setBounds(-10, -10, 1, 1), this._doLayoutTopPane(e, t);
      }, i.prototype._doLayoutTopPane = function(e, t) {
      }, i.prototype.$_layoutLeftPane = function(e, t) {
        var o = this._leftContentBounds;
        function r(n, s, l, h) {
          (n.visible = s.visible) && (n._table.parentElement !== n._dom && n._dom.appendChild(n._table), l && (n.setRect(h), n.layoutContent(this)));
        }
        (t.visible = !o.isEmpty) ? (t.setRect(o), r.call(this, e.headView, e.header, !1, this._headBounds), r.call(this, e.sumView, e.headerSummaries, !0, this._sumBounds), r.call(this, e.footView, e.footers, !0, this._footBounds), r.call(this, e.filterView, e.filterPanel, !0, this._filterBounds), e.rowBarContainer.visible = e.rowIndicator.visible || e.stateBar.visible || e.checkBar.visible) : [e.headView, e.sumView, e.footView].forEach(function(n) {
          n && b.detach(n._table);
        });
      }, i.prototype._layoutSidePane = function(e, t) {
        var o = this._sideContentBounds;
        t.setRect(o), (t.visible = !o.isEmpty) && t.layoutContent(this, o.width, o.height);
      }, i.prototype._prepareItems = function(e) {
        for (var t = this._topIndex + this._fixedItemCount, o = 0; o < this._fixedItemCount; o++) {
          var r = this._rs.getItem(o);
          this._items.push(r);
        }
        var n = this.grid.bodyView, s = e ? n._getTableRowCount(this) : this._itemCount;
        for (o = 0; o < s && (r = this._rs.getItem(o + t)); o++)
          this._items.push(r);
        e && (this._itemCount = this._items.length - this._fixedItemCount);
      }, i.prototype.$_layoutFixedPane = function(e, t) {
        var o, r = this._fixedContentBounds;
        if (t.visible = !r.isEmpty) {
          var n = e._columnsDirty || e._cellLayoutDirty || e._needPosition, s = n || e._dataChanged || e._itemCheckChanged;
          t.setRect(r), ((o = e.fixedHeaderView).visible = e.header.visible) && (o.setRect(this._fixedHeaderBounds), o.layoutContent(this)), ((o = e.fixedHeaderSummaryView).visible = e.headerSummaries.canShow) && (s || e.headerSummaries.dirty) && (o.setRect(this._fixedSummaryBounds), o.layoutContent(this)), ((o = e.fixedFilterView).visible = e.filterPanel.visible) && (n || e.filterPanel.dirty) && (o.setRect(this._fixedFilterBounds), o.layoutContent(this)), ((o = e.fixedFooterView).visible = e.footers.canShow) && (s || e.footers.dirty) && (o.setRect(this._fixedFooterBounds), o.layoutContent(this)), (o = e.fixedBodyView).visible = !0, t.layoutContent(this, r.width, r.height);
        } else
          e.fixedHeaderView.visible = !1, e.fixedHeaderSummaryView.visible = !1, e.fixedFilterView.visible = !1, e.fixedFooterView.visible = !1, e.fixedBodyView.visible = !1;
      }, i.prototype.$_layoutRightPane = function(e, t) {
        var o, r = this._rightContentBounds, n = e._columnsDirty || e._cellLayoutDirty || e._needPosition, s = n || e._dataChanged || e._itemCheckChanged;
        (t.visible = !r.isEmpty) ? (this._rightFixed || this._hscrolled || (r.x = this._contentBounds.right), t.setRect(r), ((o = e.rightHeaderView).visible = e.header.visible) && (o.setRect(this._rightHeaderBounds), o.layoutContent(this)), ((o = e.rightHeaderSummaryView).visible = e.headerSummaries.canShow) && (s || e.headerSummaries.dirty) && (o.setRect(this._rightSummaryBounds), o.layoutContent(this)), ((o = e.rightFilterView).visible = e.filterPanel.visible) && (n || e.filterPanel.dirty) && (o.setRect(this._rightFilterBounds), o.layoutContent(this)), ((o = e.rightFooterView).visible = e.footers.canShow) && (s || e.footers.dirty) && (o.setRect(this._rightFooterBounds), o.layoutContent(this)), (o = e.rightBodyView).visible = !0, t.layoutContent(this, r.width, r.height)) : (e.rightHeaderView.visible = !1, e.rightHeaderSummaryView.visible = !1, e.rightFilterView.visible = !1, e.rightFooterView.visible = !1, e.rightBodyView.visible = !1);
      }, i.prototype.$_layoutContentPane = function(e, t) {
        var o, r = this._contentBounds, n = e._columnsDirty || e._cellLayoutDirty || e._needPosition, s = n || e._dataChanged || e._itemCheckChanged;
        (t.visible = !r.isEmpty) ? (r.x -= this._leftPos, t.setRect(r), ((o = e.headerView).visible = e.header.visible) && (this._headerBounds.width = r.width, o.setRect(this._headerBounds), o.layoutContent(this)), ((o = e.filterPanelView).visible = e.filterPanel.visible) && (n || e.filterPanel.dirty) && (this._filterPanelBounds.width = r.width, o.setRect(this._filterPanelBounds), o.layoutContent(this)), ((o = e.headerSummaryView).visible = e.headerSummaries.canShow) && (s || e.headerSummaries.dirty) && (this._summaryBounds.width = r.width, o.setRect(this._summaryBounds), o.layoutContent(this)), ((o = e.footerView).visible = e.footers.canShow) && (s || e.footers.dirty) && (this._footerBounds.width = r.width, o.setRect(this._footerBounds), o.layoutContent(this)), (o = e.bodyView).visible = !0, this._bodyBounds.width = r.width, t.layoutContent(this, r.width, r.height)) : e.headerView.visible = e.headerSummaryView.visible = e.footerView.visible = e.bodyView.visible = !1;
      }, i.prototype.$_layoutWatingPane = function(e, t) {
        var o = e.bounds.clone();
        t.setRect(o), t.layoutContent(this, o.width, o.height);
      }, i.prototype._doLayout = function(e, t) {
        var o;
        this._prepareItems(this._autoRowHeights), this.$_calcTableRowPoints(), o = e._topContentPane, this.$_layoutTopPane(e, o), o = e._leftContentPane, this.$_layoutLeftPane(e, o), o = e._fixedContentPane, this.$_layoutFixedPane(e, o), o = e._rightContentPane, this.$_layoutRightPane(e, o), o = e._contentPane, this.$_layoutContentPane(e, o);
      }, i.prototype.$_adjustHeader = function(e, t, o, r) {
        var n = e.fixedHeaderView, s = e.rightHeaderView, l = e.headerView, h = e.header.height, u = l.height, c = 0, d = !1;
        if (o && (d = n.$_checkHeight()), !d && r && (d = s.$_checkHeight()), !d && t && (d = l.$_checkHeight()), d) {
          var p = [], _ = 0;
          o && (n.$_getHeights(p), h > 0 ? n.$_distributeHeights(h, p) : _ = Math.max(_, n.$_adjustHeights(p))), r && (s.$_getHeights(p), h > 0 ? s.$_distributeHeights(h, p) : _ = Math.max(_, s.$_adjustHeights(p))), t && (l.$_getHeights(p), h > 0 ? l.$_distributeHeights(h, p) : _ = Math.max(_, l.$_adjustHeights(p))), h < 0 && (c += _ - u, this._headBounds.height = _, o && this._fixedHeaderBounds.height != _ && (this._fixedHeaderBounds.height = _, n.setRect(this._fixedHeaderBounds), n.$_adjustHeights(p)), r && this._rightHeaderBounds.height != _ && (this._rightHeaderBounds.height = _, s.setRect(this._rightHeaderBounds), s.$_adjustHeights(p)), t && this._headerBounds.height != _ && (this._headerBounds.height = _, l.setRect(this._headerBounds), l.$_adjustHeights(p)));
        }
        return c;
      }, i.prototype._adjustLayout = function(e, t) {
        var o, r = this._autoRowHeights, n = e._fixedContentPane, s = e._rightContentPane, l = e._contentPane, h = e.fixedHeaderView, u = e.rightHeaderView, c = e.headerView, d = e.headView.visible, p = n.visible, _ = s.visible, g = l.visible, y = 0, m = 0, v = this.$_adjustHeader(e, g, p && c.visible && h.visible, _ && u.visible);
        if (v != 0 && (m = this._fixedFilterBounds.y = this._rightFilterBounds.y = this._filterPanelBounds.y = this._filterBounds.y += v, p && (e.fixedFilterView.y = m), _ && (e.rightFilterView.y = m), g && (e.filterPanelView.y = m), d && (e.filterView.y = m)), v != 0 && (this._fixedSummaryBounds.y = this._rightSummaryBounds.y = this.summaryBounds.y = this._sumBounds.y = this._filterBounds.bottom), e.headerSummaries.canShow && v != 0 && (p && (e.fixedHeaderSummaryView.y = this._fixedSummaryBounds.y), _ && (e.rightHeaderSummaryView.y = this._rightSummaryBounds.y), g && (e.headerSummaryView.y = this._summaryBounds.y), d && (e.sumView.y = this._sumBounds.y)), t.topBy(this._headBounds.height + this._sumBounds.height + this._filterBounds.height), v != 0 && (m = this._sumBounds.bottom, y = Math.min(t.height, this._rowBarBounds.height), this._fixedBodyBounds.y = this.bodyBounds.y = this._rightBodyBounds.y = m, this._fixedBodyBounds.height = this._bodyBounds.height = this._rightBodyBounds.height = y), (o = e.fixedBodyView).visible && o.setRect(this._fixedBodyBounds), (o = e.bodyView).visible && o.setRect(this._bodyBounds), (o = e.rightBodyView).visible && o.setRect(this._rightBodyBounds), this.$_layoutBodyRows(e, p, g, _, this._bodyBounds.height), this.$_adjustTableRowHeights(), r && this.$_recalcScrollInfo(e), this.syncHeight()) {
          var C = this.topContentBounds.height + this.headerBounds.height + this.footerBounds.height + this.summaryBounds.height + this.scrollBarHeight + this._filterBounds.height, x = e.container._containerDom, S = e.container._containerDiv, I = x.offsetWidth - x.clientWidth, E = S.offsetHeight, O = this._tableItemPoints[this._tableItemPoints.length - 1];
          (this._fitSyncHeight = this.itemCount > 0 && (C + O + I >= E || e.displayOptions.syncGridHeight === f.SyncGridHeight.ALWAYS)) ? S.style.height = C + O + I + "px" : (e.recallHeight(), O = E - C - I + (this.topPanelVisible ? 0 : 1));
          var P = new ue(0, 0, x.clientWidth, x.clientHeight);
          e.setRect(P), this._topContentBounds.width = P.width, this.$_layoutTopPane(e, this.grid._topContentPane), this._bodyBounds.height = this._fixedBodyBounds.height = this._rightBodyBounds.height = O, e.bodyView.setRect(this._bodyBounds), e.fixedBodyView.setRect(this._fixedBodyBounds), e.rightBodyView.setRect(this._rightBodyBounds), this._contentBounds.height = this._fixedContentBounds.height = this._rightContentBounds.height = this._headerBounds.height + this._summaryBounds.height + this._bodyBounds.height + this._footerBounds.height + this._filterBounds.height, this._contentBounds.x = this._leftContentBounds.width + this._sideContentBounds.width + this._fixedContentBounds.width, this.$_layoutContentPane(e, e._contentPane), this.$_layoutFixedPane(e, e._fixedContentPane), this.$_layoutRightPane(e, e._rightContentPane), this._gridBounds.height = this._headerBounds.height + this._summaryBounds.height + this._bodyBounds.height + this._filterBounds.height, this._footBounds.y = this._footerBounds.y = this._fixedFooterBounds.y = this._rightFooterBounds.y = this._bodyBounds.bottom, e.footView.y = e.footerView.y = e.fixedFooterView.y = e.rightFooterView.y = this._bodyBounds.bottom, t = this._gridBounds.clone();
        } else
          this._fitSyncHeight = !1;
        if (this._topIndex > 0) {
          var R = r ? this._minItemHeight : this._itemHeight;
          if (this._contentBounds.y + this._dataBounds.bottom + R <= this._gridBounds.bottom && (r ? this.$_fillBottomAuto(e, p, g, _, this._bodyBounds.height) : this.$_fillBottomFixed(e, p, g, _, this._bodyBounds.height)), this._topIndex == 0) {
            var T = this._vscrollBar;
            this.$_recalcScrollInfo(e), this._vscrollBar != T && this._fitStyle && (this.$_layoutBodyRows(e, p, g, _, this._bodyBounds.height, !1), this.$_adjustTableRowHeights());
          }
        }
        e.fixedBodyView.visible && e.fixedBodyView.$_resetCellHeights2(this, r), e.bodyView.visible && e.bodyView.$_resetCellHeights2(this, r), e.rightBodyView.visible && e.rightBodyView.$_resetCellHeights2(this, r);
        var D = this._tableItemPoints;
        this._dataBounds.height = D[D.length - 1], m = this._sumBounds.bottom, y = Math.min(t.height, this._dataBounds.height), this._rowBarBounds.y = m, this._rowBarBounds.height = y, p && e._fixedContentPane.layoutBars(this, this._fixedContentBounds.width, this._fixedContentBounds.height), _ && e._rightContentPane.layoutBars(this, this._rightContentBounds.width, this._rightContentBounds.height), (o = e.headView).visible && (o.setRect(this._headBounds), o.layoutContent(this)), (o = e.rowBarContainer).visible && (o.setRect(this._rowBarBounds), o.layoutContent(this));
      }, i.prototype.$_layoutBodyRows = function(e, t, o, r, n, s) {
        function l(H, pe, Ce, _e) {
          g._items.push(H), x.forEach(function(ve, ge) {
            ve && ve.layoutRow(pe, S[ge], Ce, _e, H);
          });
        }
        function h(H, pe, Ce, _e) {
          var ve = H.height, ge = [];
          if (!e.displayOptions.refCalcHeights || isNaN(ve)) {
            for (var Te = 0; Te < T; Te++)
              ge[Te] = 0;
            x.forEach(function(ui) {
              for (var Ue = ui && ui._tbody.children, Tt = 0; Ue && Tt < T; Tt++)
                ge[Tt] = Math.round(Math.max(ge[Tt], R, Ue[Ce + Tt].offsetHeight));
            }), H.heights = ge;
          } else if (H.heights)
            ge = H.heights;
          else {
            var Re = 0, Rt = 0;
            for (Te = 0; Te < T; Te++)
              Re += Rt = Te % 2 ? Math.floor(ve / T) : Math.round(ve / T), ge.push(Rt);
            ge.push(E - Re);
          }
          ve = 0;
          var Vt = ge.reduce(function(ui, Ue) {
            return ui + Ue;
          }, 0) + 3;
          if (Vt > D) {
            var ut = D / Vt;
            Vt = D;
            for (var ct = 0; ct < ge.length - 1; ct++)
              Vt -= ge[ct] = Math.max(R, Math.floor(ge[ct] * ut));
            ge[ge.length - 1] = Math.max(R, Vt);
          }
          for (ct = 0; ct < T; ct++)
            ve += ge[ct], _e.push(pe += ge[ct]);
          return y.setRowHeight(H, ve, !1), ve;
        }
        s === void 0 && (s = !0);
        var u, c = t && this._fixedCellCount > 0 ? e.fixedBodyView : null, d = o && this.cellCount > 0 ? e.bodyView : null, p = (r && this._rightCellCount) > 0 ? e.rightBodyView : null, _ = this._dataRowHeights, g = this;
        if (s && this.$_checkColumnMerging(e, this.syncHeight()), u = d || c || p) {
          var y = e.itemSource, m = y ? Math.min(y.fixedCount, y.itemCount) : 0, v = this._autoRowHeights, C = { lm: this, grid: e, topIndex: this._topIndex, fixedItemCount: m, mergeFixed: e.fixedOptions.mergeRows, mergedRowGrouped: this.mergedRowGrouped, rowGroupFields: this.rowGroupFields }, x = [c, d, p], S = [[], [], []];
          x.forEach(function(H) {
            H && H._doPrepareContent(g);
          }), n = this.syncHeight() ? 1 / 0 : n;
          var I, E, O, P, R = this._minRowHeight, T = u._trs, D = this._maxHeight > 0 ? Math.min(Math.max(this._maxHeight, R * T), n) : n, M = Math.floor(x.reduce(function(H, pe) {
            return pe ? Math.max(pe.tableRowCount, H) : H;
          }, 0) / T), V = 0, B = 0, N = 0, A = [], z = [], Z = [];
          this._fixedTableRowCount = 0, this._tableRowCount = 0, this._fixedDataHeight = this._dataHeight = 0, this._items = [];
          var ee = Math.min(m, this._fixedItemCount, Math.ceil(n / R));
          if (this._fixedHeight = 0, m > 0) {
            A.push(B), z.push(N);
            for (var Y = V, q = 0; q < ee; q++)
              l(y.getItem(q), C, q, Y), Y += T;
            for (q = 0; q < m && B < n; q++) {
              P = y.getItem(q);
              var G = T;
              if (this._items.indexOf(P) < 0 && l(P, C, q, V), v)
                N += E = h(P, N, V, z);
              else {
                I = N, E = this._fixedItemPoints[q + 1] - this._fixedItemPoints[q], O = Math.floor(E / G);
                for (var ce = Math.round(E / G), fe = P.heights || _, le = 0; le < G - 1; le++)
                  z.push(N += fe[le] ? fe[le] : le % 2 ? ce : O);
                z.push(N = I + E);
              }
              this._fixedTableRowCount += G, B += E, A.push(B), this._fixedDataHeight = B, V += G;
            }
            this._fixedHeight = B, B < n && (E = 0, x.forEach(function(H) {
              H && (E = H.layoutFixedBar(g, V));
            }), V++, B += E, N += E), M = M - this._fixedItemCount - 1;
          }
          this._fixedItemCount = A.length ? A.length - 1 : 0;
          var ne = e.itemCount - this._fixedItemCount, he = [B];
          if (Z.push(B), ee = Math.min(ne, M, Math.ceil((n - B) / R)), this._itemCount = 0, this._fullItemCount = 0, ne > 0 && B < n) {
            var K = this._topIndex, ye = -1;
            for (this._focusIndex && (ye = this._focusIndex.itemIndex) >= this._fixedItemCount && ye < K + this._fixedItemCount && (K = this._topIndex = ye - this._fixedItemCount), Y = V, q = 0; q < ee && q + K < ne && (P = y.getItem(q + K + m)); q++)
              l(P, C, this._fixedItemCount + q, Y), Y += P.isData ? T : 1;
            for (q = K; q < ne && B < n; q++) {
              if (G = (P = y.getItem(q + m)).isData ? T : 1, this._items.indexOf(P) < 0 && l(P, C, this._fixedItemCount + q - K, V), P.isData)
                if (v)
                  N += E = h(P, N, V, Z);
                else {
                  for (I = N, E = this._itemPoints[q - K + 1] - this._itemPoints[q - K], O = Math.floor(E / G), ce = Math.round(E / G), fe = P.heights || _, le = 0; le < G - 1; le++)
                    Z.push(N += fe[le] ? fe[le] : le % 2 ? ce : O);
                  Z.push(N = I + E);
                }
              else
                E = this._itemPoints[q - K + 1] - this._itemPoints[q - K], Z.push(N += E);
              this._tableRowCount += G, B += E, he.push(B), this._itemCount++, this._dataHeight = B, V += G;
            }
            this._fullItemCount = this._itemCount - (B > n ? 1 : 0);
          }
          v && x.forEach(function(H) {
            H && H.$_resetHeights(z, Z);
          }), b.ieOld && x.forEach(function(H) {
            H && H.$_resetCellStyleHeights(z, Z);
          }), this._fixedItemPoints = A, this._itemPoints = he, this._fixedTableRowPoints = z, this._tableRowPoints = Z, this._dataBounds.height = he[he.length - 1];
          var se = this._items.length = this.fixedItemCount + this._itemCount;
          x.forEach(function(H) {
            H && H.cleanRows(se, V);
          });
        }
      }, i.prototype.$_adjustTableRowHeights = function() {
        if (this.fixedItemCount + this._itemCount != 0) {
          for (var e = this._items, t = this._trs, o = this._fixedTableRowPoints, r = this._fixedTableItemPoints = [0], n = 0, s = 1, l = this._fixedItemCount; s <= l; s++, n++)
            r.push(o[s * t]);
          o = this._tableRowPoints, r = this._tableItemPoints = [o[0]], s = 0;
          var h = 0;
          for (l = this._itemCount; s < l; s++, n++)
            e[n].isData ? r.push(o[h += t]) : r.push(o[++h]);
        } else
          this._tableItemPoints = this._tableRowPoints.slice();
      }, i.prototype.$_fillBottomFixed = function(e, t, o, r, n) {
        for (var s = this._dataBounds.height, l = this._topIndex, h = 0; (s += this.$_getItemHeight(this.grid, l--)) < this._bodyBounds.height && l >= 0; )
          h++;
        this._topIndex = Math.max(0, this._topIndex - h), this.$_calcItemPoints(), this._prepareItems(this._autoRowHeights), this.$_calcTableRowPoints(), this.$_layoutBodyRows(e, t, o, r, n), this.$_adjustTableRowHeights();
      }, i.prototype.$_fillBottomAuto = function(e, t, o, r, n) {
        for (; this._topIndex > 0 && this._gridBounds.bottom - this._contentBounds.y - this._dataBounds.bottom > this._minItemHeight; ) {
          var s = this._tableItemPoints, l = s[1] - s[0];
          if (this._topIndex--, this.$_calcItemPoints(!1), this._prepareItems(this._autoRowHeights), this.$_calcTableRowPoints(), this.$_layoutBodyRows(e, t, o, r, n), this.$_adjustTableRowHeights(), l + (s = this._tableItemPoints)[s.length - 1] + this._contentBounds.y + this._dataBounds.y > this._gridBounds.bottom) {
            this._topIndex++, this.$_calcItemPoints(), this._prepareItems(this._autoRowHeights), this.$_calcTableRowPoints(), this.$_layoutBodyRows(e, t, o, r, n), this.$_adjustTableRowHeights();
            break;
          }
        }
      }, i.prototype.$_prepareColumnMerges = function(e, t, o, r) {
        for (var n = this._fixedItemCount, s = this._itemCount, l = !1, h = 0, u = e.length; h < u; h++) {
          var c = e[h], d = c && c.layout;
          d && d.canMerge() ? ((p = d.merges) || ((p = new mr(d)).clear(), p.initialize(zt.INIT_COUNT)), p.refreshRooms(t, o, r), p.prepareCells(n, s), p.refreshCells(n, this.topIndex), d.$_setMerged(!0), l = !0) : d.$_setMerged(!1);
        }
        var p, _ = this.grid.checkBar;
        return _.canMerge() ? ((p = _.merges) || ((p = new pl(_)).clear(), p.initialize(zt.INIT_COUNT)), p.refreshRooms(t, o, r), p.prepareCells(n, s), p.refreshCells(n, this.topIndex), _._merged = !0) : _._merged = !1, l;
      }, i.prototype.$_checkColumnMerging = function(e, t) {
        t === void 0 && (t = !1);
        var o = e.fixedOptions, r = o.rowCount, n = this._contentBounds.height / this._minItemHeight - r, s = this._topIndex, l = r > 0 && o.mergeRows, h = t ? r : r + s, u = t ? e.itemCount - 1 : Math.min(e.itemCount - 1, r + s + n - 1);
        u >= 0 && this.$_prepareColumnMerges(e.getHorzColumns(), h, u, l);
      }, i;
    }(J), Kd = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t.summaryIndex = 0, t.rowIndex = -1, t.rendererClass = "", t.style = new Xa(), t.html = void 0, t.text = e[b.TextProp], t;
      }
      return w(i, a), i.prototype.dispose = function() {
        a.prototype.dispose.call(this), this.layout = null;
      }, i.prototype.span = function() {
        this.spanned = !0, this.clear(!1);
      }, i.prototype.clear = function(e) {
        a.prototype.clear.call(this, e);
        var t = this.cell.firstElementChild;
        return this.className && (this.cell.className = this.className = ""), this.rendererClass && (t.className = this.rendererClass = ""), this.text && (t[b.TextProp] = this.text = ""), this.html && (t.innerHTML = this.html = ""), this;
      }, i.prototype.refreshFormatters = function(e) {
        var t;
        this.textFormatter = null, this.numberFormatter = null, this.datetimeWriter = null, this.booleanFormatter = null, (t = e.textFormat) && (this.textFormatter && this.textFormatter.format == t || (this.textFormatter = io.getFormatter(t))), (t = e.numberFormat) && (this.numberFormatter && this.numberFormatter.format == t || (this.numberFormatter = Pt.getFormatter(t))), (t = e.datetimeFormat) && (this.datetimeWriter && this.datetimeWriter.format == t || (this.datetimeWriter = Ne.getFormatter(t))), (t = e.booleanFormat) && (this.booleanFormatter && this.booleanFormatter.format == t || (this.booleanFormatter = Ht.getFormatter(t))), this.prefix = e.prefix, this.suffix = e.suffix;
      }, i.prototype.setText = function(e) {
        e !== this.text && (this.cell.firstElementChild[b.TextProp] = (this.text = e) || "");
      }, i.prototype.setHtml = function(e) {
        e !== this.html && (this.cell.firstElementChild.innerHTML = (this.html = e) || "");
      }, i.prototype.setClassName = function(e) {
        return e != this.className && (this.cell.className = this.className = e, !0);
      }, i.prototype.setRendererClassName = function(e) {
        e != this.rendererClass && (this.cell.firstElementChild.className = this.rendererClass = e);
      }, i;
    }(Fi), $o = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, t, o) || this;
        return r._rowPoints = [], r._cells = [], r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.tableCellByCell = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          for (var o = this._cells[t], r = 0; r < o.length; r++) {
            var n = o[r];
            if (n && n.cell === e)
              return n;
          }
        return null;
      }, i.prototype.layoutByCell = function(e) {
        var t = this.tableCellByCell(e);
        return t && t.layout;
      }, i.prototype.columnByCell = function(e) {
        var t = this.layoutByCell(e);
        return t && t._columnObj;
      }, i.prototype._getCellCount = function(e) {
        return e.cellCount - e.fixedCellCount - e.rightCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getCellWidth(t);
      }, i.prototype._doDrawCell = function(e, t, o) {
      }, i.prototype._doRender = function(e) {
      }, i.prototype._getStartCell = function(e) {
        return e.getStartCell();
      }, i.prototype._getEndCell = function(e) {
        return e.getEndCell();
      }, i.prototype._prepareCellContent = function(e, t) {
        return te(e).createElement("div");
      }, i.prototype._doMeasure = function(e, t, o) {
        for (var r = e.layoutManager, n = this._getSummaryRows(r), s = this._getCollection(), l = this._getSummaryHeight(e.heightMeasurer), h = 0, u = this._rowPoints = [h], c = 0, d = e.layoutManager.getDataRowHeights(n), p = d.reduce(function(E, O) {
          return E + O;
        }, 0), _ = 0, g = s.visibleCount; _ < g; _++) {
          var y = s.getVisible(_), m = Math.max(p, y.height);
          m <= 0 && (m = l * n), m = Math.max(y.minHeight, m);
          var v = y.heights;
          if (v && v.length > 0) {
            for (var C = 0; C < n; C++)
              v[C] = isNaN(v[C]) || v == null ? l : v[C];
            m = v.reduce(function(E, O) {
              return E + O;
            }, 0);
          }
          for (var x = Math.floor(m / n), S = 0, I = 0; I < n - 1; I++)
            v && v.length > 0 ? (h += v[I], u.push(h), S += v[I]) : d[I] ? (h += Math.round(d[I] * (m / p)), u.push(h), S += Math.round(d[I] * (m / p))) : (h += x, u.push(h), S += x);
          h += m - S, u.push(h), c += m;
        }
        return Xt.create(t, c);
      }, i.prototype._doPrepareTableExtents = function(e) {
      }, i.prototype.$_refreshHeadTitle = function(e, t) {
        for (var o = this._cells[0], r = t.children[0], n = 0; r && n < o.length; n++) {
          var s = o[n].layout.source, l = r.children[n];
          l && s && (l[b.TextProp] = (s.header.getDisplayText() || s.firstColumn.header.displayText) + " summary");
        }
      }, i.prototype._doLayoutContent = function(e) {
        var t = e.grid, o = this._getCollection(), r = this._getSummaryCount(e), n = e.cellLayouts._dataCells, s = n.length, l = this._getFirstCell(e), h = this._getStartCell(e) - l, u = this._getEndCell(e) - l;
        this._refreshCells(e, r, n, this._tbody), this.$_refreshSpans(e, s * r), this.$_refreshHeadTitle(e, this._thead);
        for (var c = 0; c < r; c++)
          for (var d = o.getVisible(c), p = 0; p < s; p++) {
            var _ = this._cells[c * s + p], g = this._getTableRow(e, c * s + p);
            b.setClassName(g, d.styleName || "");
            for (var y = h; y <= u; y++) {
              var m = _[y];
              if (m.visible) {
                var v = m.layout;
                if (v.isProxy)
                  m.setText(""), m.setClassName(d.getCellStyleName());
                else if (v instanceof Ie)
                  m.setText(""), m.setClassName(d.getCellStyleName());
                else {
                  var C = d.getCell(v);
                  this._updateCell(t, d, C, m);
                }
              }
            }
          }
      }, i.prototype._updateCell = function(e, t, o, r) {
        var n = o, s = n.getSummary(), l = t.getCellStyle(o, r.style.clear());
        if (r.setClassName(l.styleName), r.setRendererClassName(this._getRendererStyle()), r.refreshFormatters(l), s) {
          t.getCellFormatters(s, r);
          var h = n.getTemplate(r);
          h === void 0 ? r.setText(n.getDisplayText(r)) : r.setHtml(h);
        } else
          r.setText("");
      }, i.prototype._getTableRowHeight = function(e, t) {
        return this._rowPoints[t + 1] - this._rowPoints[t];
      }, i.prototype._refreshCells = function(e, t, o, r) {
        for (var n = this._cells, s = r.children, l = s.length, h = o.length, u = this._getFirstCell(e), c = this._getLastCell(e) - u + 1, d = n.length; d < l; d++)
          n.push([]);
        d = 0;
        for (var p = 0; d < t && p < l; d++)
          for (var _ = 0; _ < h; _++) {
            for (var g = n[p], y = s[p].children, m = o[_], v = 0; v < c; v++) {
              var C = m[v + u], x = g[v];
              x ? x.cell !== y[v] || x.layout != C && (x.layout = C, x.clear(!0)) : (x = g[v] = new Kd(y[v])).layout = C, x.spanned = !1, x.summaryIndex = d, x.rowIndex = p;
            }
            for (p++, v = c; v < g.length; v++)
              g[v].dispose();
            g.length = c;
          }
        for (p = l; p < n.length; p++) {
          var S = n[p];
          for (v = 0; v < S.length; v++)
            S[v].dispose(), S[v] = null;
        }
        n.length = l;
      }, i.prototype.$_refreshSpans = function(e, t) {
        for (var o = this._getFirstCell(e), r = this._getFirstCell(e) - o, n = this._getLastCell(e) - o, s = e.cellLayouts._dataCells.length, l = this._rowPoints, h = 0; h < t; h++)
          for (var u = this._cells[h], c = u.length, d = r; d <= n; d++) {
            var p = u[d], _ = p.layout, g = _.parent, y = g && g.vertical;
            if (!p.spanned)
              if (_.isProxy)
                p.clear(!1);
              else {
                var m = 0, v = 0, C = this._getSpanOf(_, p.summaryIndex) - 1, x = this._getUserSpanOf(_, p.summaryIndex);
                if (x) {
                  var S = x.footerCount || 0, I = S > 0 ? S * t : x.rowspan || 1, E = x.colspan || 1;
                  p.set(E, I, !0);
                  for (var O = 0; O < I; O++)
                    for (var P = 0; P < E; P++) {
                      var R = this._cells[O + h] && this._cells[O + h][P + d];
                      R && R !== p && R.span();
                    }
                }
                if (!x && C > 0) {
                  var T = 0, D = _.vindex + 1;
                  if (y)
                    for (; T++ < C && T < s && (M = g.getVisible(D++)); )
                      v += M._dspan, this._cells[h + T][d].span();
                  else
                    for (; T++ < C && d - r + T < c && D < g.visibleCount; ) {
                      var M;
                      if (!(M = g.getVisible(D++)))
                        break;
                      m += M._cspan, u[d + T].span();
                    }
                }
                _.isNull && p.clear(!0), !x && p.set(_._cspan + m, _._dspan + v, !0), p.rowSpan > 1 && (p.height = l[p.rowIndex + p.rowSpan] - l[p.rowIndex], p.cell.firstElementChild.style.maxHeight = p.height - 2 + "px");
              }
          }
      }, i.prototype._doPrepareTableRow = function(e, t, o, r) {
        a.prototype._doPrepareTableRow.call(this, e, t, o, r);
      }, i;
    }(xi), Tr = function(a) {
      function i(e, t) {
        return a.call(this, e, t, "footerView") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._getCssSelector = function() {
        return "rg-footer";
      }, i.prototype._getRendererStyle = function() {
        return "rg-footer-renderer";
      }, i.prototype._getSummaryRows = function(e) {
        return e.dataRows;
      }, i.prototype._getCollection = function() {
        return this.model;
      }, i.prototype._getSummaryHeight = function(e) {
        return e.footerHeight;
      }, i.prototype._getSummaryCount = function(e) {
        return e.footerCount;
      }, i.prototype._getSpanOf = function(e, t) {
        return e.getFooterSpan(t);
      }, i.prototype._getUserSpanOf = function(e, t) {
        return e.getFooterUserSpan(t);
      }, i.prototype._getTableRowCount = function(e) {
        return e.dataRows * e.footerCount;
      }, i.prototype._getSummaryItem = function(e, t) {
        return e.firstColumn.footers.get(t);
      }, i;
    }($o), Xd = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-fixed-footer";
      }, i.prototype._getExplicitWidth = function(e) {
        return e.fixedWidth - e.fixedBarWidth;
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return 0;
      }, i.prototype._getEndCell = function(e) {
        return e.fixedCellCount - 1;
      }, i.prototype._getCellCount = function(e) {
        return e.fixedCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getFixedCellWidth(t);
      }, i;
    }(Tr), Jd = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-fixed-footer";
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return e.cellCount - e.rightCellCount;
      }, i.prototype._getEndCell = function(e) {
        return e.cellCount - 1;
      }, i.prototype._getCellCount = function(e) {
        return e.rightCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getRightCellWidth(t);
      }, i;
    }(Tr), ls = function(a, i) {
      return typeof a == "object" && Object.prototype.toString.call(a).indexOf(i) >= 0;
    }, Pl = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._active = !1, o._completed = !1, o._dragging = !1, o._currentX = 0, o._currentY = 0, o._container = e, o._name = t, o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "container", { get: function() {
        return this._container;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "name", { get: function() {
        return this._name;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "active", { get: function() {
        return this._active;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dragging", { get: function() {
        return this._dragging;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startWhenCreated", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "completed", { get: function() {
        return this._completed;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "linkable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "clickable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), i.prototype.activate = function() {
        this._active || (this._doActivate(), this._active = !0);
      }, i.prototype.deactivate = function() {
        this._active && (this.cancel(), this._doDeactivate(), this._active = !1);
      }, i.prototype.start = function(e, t, o, r) {
        return r === void 0 && (r = null), this.cancel(), !(!this._active || !this._doStart(e, t, o, r)) && (this._currentX = this._startX = t, this._currentY = this._startY = o, this._dragging = !0, this._completed = !1, this._showFeedback(t, o), !0);
      }, i.prototype.drag = function(e, t, o, r) {
        return !(!this._dragging || (this._currentX = t, this._currentY = o, !this._doDrag(e, t, o, r))) && (this._moveFeedback(t, o), !0);
      }, i.prototype.cancel = function() {
        try {
          if (this._dragging)
            try {
              this._dragging = !1, this._doCanceled(this._currentX, this._currentY);
            } finally {
              this._doEnded();
            }
        } finally {
          this._hideFeedback();
        }
      }, i.prototype.drop = function(e, t, o, r) {
        try {
          if (this._dragging)
            try {
              this._currentX = t, this._currentY = o, this._dragging = !1, this._canAccept(e, t, o, r) ? (this._doCompleted(e, t, o, r), this._completed = !0) : this._doCanceled(t, o);
            } finally {
              this._doEnded();
            }
        } finally {
          this._hideFeedback();
        }
      }, i.prototype.getRequest = function() {
        return null;
      }, i.prototype.getNextRequest = function(e, t) {
        return null;
      }, i.prototype.init = function(e, t, o) {
        this._doInit(e, t, o);
      }, Object.defineProperty(i.prototype, "currentX", { get: function() {
        return this._currentX;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "currentY", { get: function() {
        return this._currentY;
      }, enumerable: !1, configurable: !0 }), i.prototype._showFeedback = function(e, t) {
      }, i.prototype._moveFeedback = function(e, t) {
      }, i.prototype._hideFeedback = function() {
      }, i.prototype._doActivate = function() {
      }, i.prototype._doDeactivate = function() {
      }, i.prototype._doStart = function(e, t, o, r) {
        return !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        return !0;
      }, i.prototype._doCanceled = function(e, t) {
      }, i.prototype._canAccept = function(e, t, o, r) {
        return !0;
      }, i.prototype._doCompleted = function(e, t, o, r) {
      }, i.prototype._doEnded = function() {
      }, i.prototype._doInit = function(e, t, o) {
      }, i;
    }(J);
    f.DataDropMode = void 0, (Il = f.DataDropMode || (f.DataDropMode = {})).COPY = "copy", Il.MOVE = "move", f.DragFeedbackStyle = void 0, (Or = f.DragFeedbackStyle || (f.DragFeedbackStyle = {})).LINE = "line", Or.ROW = "row", Or.CELL = "cell", Or.GROUP = "group";
    var We, kl = "${rows}", Tl = "${mode}", Zd = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._dropMode = f.DataDropMode.COPY, t._proxyLabel = kl + "행 " + Tl, t._feedbackStyle = f.DragFeedbackStyle.LINE, t._scroll = !0, t._cursor = "move", t._dropOtherElement = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "dragCallback", { get: function() {
        return this._dragCallback;
      }, set: function(e) {
        this._dragCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "callback", { get: function() {
        return this._callback;
      }, set: function(e) {
        this._callback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropMode", { get: function() {
        return this._dropMode;
      }, set: function(e) {
        this._dropMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "feedbackStyle", { get: function() {
        return this._feedbackStyle;
      }, set: function(e) {
        this._feedbackStyle = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fieldMap", { get: function() {
        return this._fieldMap;
      }, set: function(e) {
        this._fieldMap = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fieldMapCallback", { get: function() {
        return this._fieldMapCallback;
      }, set: function(e) {
        this._fieldMapCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "proxyLabel", { get: function() {
        return this._proxyLabel;
      }, set: function(e) {
        this._proxyLabel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "labelCallback", { get: function() {
        return this._labelCallback;
      }, set: function(e) {
        this._labelCallback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scroll", { get: function() {
        return this._scroll;
      }, set: function(e) {
        this._scroll = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cursor", { get: function() {
        return this._cursor;
      }, set: function(e) {
        this._cursor = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropOtherElement", { get: function() {
        return this._dropOtherElement;
      }, set: function(e) {
        this._dropOtherElement = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.getEnabled = function(e, t, o, r, n, s) {
        if (!this.dropOtherElement && s)
          return !1;
        var l = this._dragCallback;
        if (l)
          return l(e.handler, t, s || this.grid.handler, o.index, o.column) !== !1;
        if (this.grid === e && !s) {
          var h = e.layoutManager;
          return (n -= h.contentBounds.y) <= h.footerBounds.y && n >= h.summaryBounds.bottom;
        }
        return !0;
      }, i.prototype.getLabel = function(e, t, o, r) {
        var n = this._labelCallback, s = void 0;
        return n && (s = n(e.handler, t, r || this.grid.handler, o.index, o.column)), s === void 0 && this._proxyLabel && (s = (s = (s = (s = this._proxyLabel.replace(kl, t.length + "")).replace(Tl, e == this.grid || this.dropMode == f.DataDropMode.MOVE ? "이동" : "복사")).replace("${from}", t[0] + "")).replace("${to}", o.index + "")), s;
      }, i;
    }(lt), si = function(a) {
      function i(e, t) {
        var o = a.call(this, e.container, t) || this;
        return o._grid = e, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startWhenCreated", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), i;
    }(Pl), Qd = function(a) {
      function i(e, t) {
        var o = a.call(this, e.layout.grid, "columnResizeTracker") || this;
        o._request = e, o._feedback = t;
        var r = e.layout;
        return o._layoutX = e.x + e.offset - r.domWidth, o._offset = e.offset, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._request = null, this._feedback = null, a.prototype._doDispose.call(this);
      }, i.prototype.getRequest = function() {
        return this._request;
      }, i.prototype._doStart = function(e, t, o, r) {
        var n = this.grid.layoutManager, s = n.contentBounds.y, l = n.contentBounds.bottom;
        return this._feedback.resize(2, l - s), this._feedback.move(t - this._offset, s), this.grid.addFeedbackElement(this._feedback), !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        this._request.layout;
        var n = this.grid.displayOptions.minCellWidth;
        return (t -= this._offset) >= this._layoutX + n && t < this._layoutX + 1e6 && (this._feedback.x = t, !0);
      }, i.prototype._doEnded = function() {
        var e = this.grid.displayOptions.minCellWidth, t = Math.max(e, this._feedback.x - this._layoutX);
        this.grid.removeFeedbackElement(this._feedback), this._request.layout.changeCellWidth(t, this.grid.layoutManager.isColumnFitted), this.grid.container.setCursor("default");
      }, i;
    }(si), ep = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e.layout.grid, "columnMoveTracker") || this;
        return r._timer = null, r._colLoop = 0, r._colPrevLoop = 0, r._interval = 0, r._request = e, r._layout = e.layout, r._cellFeedback = t, r._feedback = o, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._request = this._layout = this._cellFeedback = this._feedback = this._target = null, a.prototype._doDispose.call(this);
      }, i.prototype.getRequest = function() {
        return this._request;
      }, i.prototype._doStart = function(e, t, o, r) {
        var n = this.grid, s = n.layoutManager, l = this._layout.parent, h = this._request.offset, u = s.getHeaderCellRect(this._layout, !0);
        l.horizontal ? (this._offset = h > 0 ? h : t - u.x, this._feedback.setBounds(u.x, u.y, i.WING_SIZE, u.height)) : (this._offset = h > 0 ? h : o - u.y, this._feedback.setBounds(u.x, u.y, u.width, i.WING_SIZE)), this._request.offset = this._offset, this._feedback.visible = !1, this._cellFeedback.setBounds(u.x, u.y, u.width, u.height), this._cellFeedback.model = n.header.getCell(this._layout), this._cellFeedback.dragging = !1, n.addFeedbackElement(this._cellFeedback), n.addFeedbackElement(this._feedback);
        var c = this._feedback._dom.style;
        return c.borderLeft = c.borderRight = c.borderTop = c.borderBottom = "", !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        var n = this.grid, s = this._layout.parent, l = this.grid.layoutManager;
        if (o < l.contentBounds.y && n.canGrouping())
          return !1;
        if (t < l.gridBounds.x || t > l.clientRect.right)
          this.$_startTimer();
        else {
          this.$_stopTimer();
          var h = l.getHeaderCellAt(t, o), u = this.$_findTarget(h);
          b.log("MOVE: ", this._layout.displayText + " => " + u?.displayText), u && !n.canMoveToLayout(u) && (u = null), this.$_setTarget(u), this._cellFeedback.dragging = !0, s.horizontal ? this._cellFeedback.x = t - this._offset : this._cellFeedback.y = o - this._offset;
        }
        return !0;
      }, i.prototype._doCanceled = function() {
        this.$_stopTimer();
      }, i.prototype._doCompleted = function() {
        this.$_stopTimer(), this._target && (this._layout.vindex = this._target.vindex);
      }, i.prototype._doEnded = function() {
        this.$_stopTimer(), this.grid.removeFeedbackElement(this._feedback), this.grid.removeFeedbackElement(this._cellFeedback);
      }, i.prototype.getNextRequest = function(e, t) {
        return this.grid.activeTool.getNextRequest(this._request, this._cellFeedback, e, t);
      }, i.prototype.$_startTimer = function() {
        this._timer || (this._colLoop = this._colPrevLoop = 0, this._timer = setInterval(this.$_timerHandler.bind(this), 60));
      }, i.prototype.$_stopTimer = function() {
        this._timer && (clearInterval(this._timer), this._timer = null);
      }, i.prototype.$_timerHandler = function() {
        var e = this._grid, t = this.currentX, o = e.layoutManager, r = 0;
        t > o.clientRect.right ? (r = Math.max(0, Math.min(3, (t - o.clientRect.right) / 40)), this._interval = 4 - r, this._colLoop++) : t < o.gridBounds.x && (r = Math.max(0, Math.min(3, (o.gridBounds.x - t) / 40)), this._interval = 4 - r, this._colLoop++), r > 0 && (this._interval = 4 - r), this._colLoop - this._colPrevLoop >= 2 * this._interval && (this._colPrevLoop = this._colLoop, t > o.clientRect.right ? e.leftCell += 1 : t < o.gridBounds.left && e.leftPos > 0 && (e.leftCell -= 1)), this.$_setTarget(null);
      }, i.prototype.$_findTarget = function(e) {
        if (e)
          for (var t = this._layout.parent; e; ) {
            if (e.parent === t)
              return e;
            e = e.parent;
          }
      }, i.prototype.$_setTarget = function(e) {
        var t = this._request.layout, o = t.parent, r = this._feedback, n = r._dom.style, s = this.grid.layoutManager;
        if (this.currentX, this.currentY, this._target = e, r.visible = e != null && e.parent === o && e !== t) {
          var l = s.getHeaderCellRect(e, !0);
          if (o.horizontal) {
            var h = t.hcol;
            n.height = l.height + "px", e.hcol < h ? (n.borderRight = "none", n.borderLeft = "", r.x = l.x) : e.hcol > h && (n.borderLeft = "none", n.borderRight = "", r.x = l.right - r.width);
          } else {
            var u = t.row;
            n.width = l.width + "px", e.row < u ? (n.borderBottom = "none", n.borderTop = "", r.y = l.y) : e.row > u && (n.borderTop = "none", n.borderBottom = "", r.y = l.bottom - r.height);
          }
        }
      }, i.WING_SIZE = 7, i;
    }(si), tp = function(a) {
      function i(e, t) {
        var o = a.call(this, e.grid, "rowResizeTracker") || this;
        return o._request = e, o._feedback = t, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._request = null, this._feedback = null, a.prototype._doDispose.call(this);
      }, i.prototype.getRequest = function() {
        return this._request;
      }, i.prototype._doStart = function(e, t, o, r) {
        var n = this.grid.layoutManager, s = n.leftContentBounds.x, l = n.rightContentBounds.right;
        return this._feedback.resize(l - s, 2), this._feedback.move(s, o - this._request.offset), this.grid.addFeedbackElement(this._feedback), !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        return o - this._request.offset - this._request.rowTop >= this.grid.displayOptions.minRowHeight && (this._feedback.y = o - this._request.offset, !0);
      }, i.prototype._doCompleted = function(e, t, o, r) {
        var n = this.grid, s = n.displayOptions, l = Math.max(s.minRowHeight, o - this._request.offset - this._request.rowTop);
        (l = s.maxRowHeight === 0 ? l : Math.min(s.maxRowHeight, l)) >= n.layoutManager.bodyBounds.height && (l = n.layoutManager.bodyBounds.height - 1), this._request.variable ? n.setRowHeight(this._request.itemIndex, l) : s.rowHeight = l;
      }, i.prototype._doEnded = function() {
        this.grid.removeFeedbackElement(this._feedback);
      }, i;
    }(si), ip = function(a) {
      function i(e, t) {
        var o = a.call(this, e.grid, "rowResizeTracker") || this;
        return o._request = e, o._feedback = t, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._request = null, this._feedback = null, a.prototype._doDispose.call(this);
      }, i.prototype.getRequest = function() {
        return this._request;
      }, i.prototype._doStart = function(e, t, o, r) {
        var n = this.grid.layoutManager, s = n.leftContentBounds.x, l = n.rightContentBounds.right;
        return this._feedback.resize(l - s, 2), this._feedback.move(s, o - this._request.offset), this.grid.addFeedbackElement(this._feedback), !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        return o - this._request.offset - this._request.top >= this.grid.header.minHeight && (this._feedback.y = o - this._request.offset, !0);
      }, i.prototype._doCompleted = function(e, t, o, r) {
        var n = this.grid.header, s = Math.max(n.minHeight, o - this._request.offset - this._request.top);
        n.height = s;
      }, i.prototype._doEnded = function() {
        this.grid.removeFeedbackElement(this._feedback);
      }, i;
    }(si), ao = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e.grid, "rowMoveTracker") || this;
        return r._timer = null, r._request = e, r._proxy = t, r._line = o, r;
      }
      return w(i, a), i.updateLineFeedback = function(e, t, o, r, n, s, l, h, u) {
        var c = { index: -1, position: 0, column: void 0 };
        if (s < 0 || l < 0 || s >= e.width || l >= e.height)
          return n.visible = !1, c;
        var d = n.feedbackStyle = e.dataDropOptions.feedbackStyle, p = e.layoutManager;
        l -= p.contentBounds.y;
        var _ = 0, g = p.contentBounds.right, y = -1, m = -1, v = 0, C = 2, x = e.cellToIndex(u), S = !1, I = b.included(d, f.DragFeedbackStyle.CELL, f.DragFeedbackStyle.GROUP);
        if (l < p.summaryBounds.bottom)
          m = Math.max(0, p.topIndex - 1), y = p.getTableItemTop(0);
        else if (l >= p.footerBounds.y)
          m = p.topIndex + p.fullItemCount, y = p.getTableItemBottom(p.fullItemCount);
        else {
          var E = l - p.summaryBounds.bottom, O = p.getTableItemIndex(E), P = p.getTableItemHeight(O);
          if ((m = O) >= p.fixedItemCount && (m += p.topIndex), m != t || I) {
            var R = p.getTableItemTop(O);
            if (d === f.DragFeedbackStyle.ROW) {
              y = R, C = P;
              var T = Math.floor(P / 3);
              E < R + T ? v = -1 : E > R + 2 * T && (v = 1);
            } else if (d === f.DragFeedbackStyle.GROUP) {
              if (x && e.isValid(x)) {
                var D = p.getDataRect(x.layout.root), M = x.layout.root.first;
                C = P, y = R, g = (_ = D.x) + D.width, c.column = M.getDataColumn().name, S = M !== o;
              }
            } else if (d === f.DragFeedbackStyle.CELL) {
              if (x && e.isValid(x)) {
                var V = p.getBodyView(x);
                y = (D = V.getCellRectAt(p, x, !0)).y, C = (D = V.boundsByContainer(D)).height, g = (_ = D.x) + D.width, S = x.layout !== o, c.column = x.layout.getDataColumn().name;
              }
            } else
              E < R + P / 2 ? (y = R, m > t && (m = Math.max(p.topIndex, m - 1)), v = -1) : ((y = O > -1 ? p.getTableItemBottom(O) : h ? 0 : -1) >= 0 && m < t && m++, v = 1);
          }
        }
        return y += p.contentBounds.y + p.summaryBounds.bottom, n.visible = m > t ? m > t + r - 1 : m >= 0 && (m != t || S), n.visible ? (n.resize(g - _, C), e.itemCount == 0 && (y += p.defaultItemHeight), n.move(_, y)) : m = -1, e.dataDropOptions.scroll && (l < p.summaryBounds.bottom ? e.topIndex-- : l >= p.footerBounds.y && e.topIndex++), c.index = m, c.position = v, c;
      }, i.prototype._doDispose = function() {
        this._request = null, this._proxy = null, this._line = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "request", { get: function() {
        return this._request;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sourceItems", { get: function() {
        return this._sourceItems;
      }, enumerable: !1, configurable: !0 }), i.prototype.setEnabled = function(e) {
        this._proxy.setEnabled(e) && this._proxy.draw();
      }, i.prototype.setLabel = function(e) {
        this._proxy.setLabel(e) && this._proxy.draw();
      }, Object.defineProperty(i.prototype, "startWhenCreated", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "linkable", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype.getRequest = function() {
        return this._request;
      }, i.prototype._doStart = function(e, t, o, r) {
        var n, s, l = this.grid, h = te(e), u = l.selections.count;
        if (this._sourceItems = [], u === 0 || (n = l.selections.getItem(0), (s = n && n.style) == f.SelectionStyle.COLUMNS || s == f.SelectionStyle.SINGLE_COLUMN))
          if (l.displayOptions.selectionStyle === f.SelectionStyle.NONE)
            l.selections.selectBlock(l.focusedIndex, !0);
          else
            switch (l.dataDropOptions.feedbackStyle) {
              case f.DragFeedbackStyle.LINE:
              case f.DragFeedbackStyle.ROW:
                l.selections.selectRow(this._request.itemIndex, !0);
                break;
              case f.DragFeedbackStyle.CELL:
              case f.DragFeedbackStyle.GROUP:
                l.selections.selectBlock(l.focusedIndex, !0);
            }
        if (l.selections.count >= 1) {
          this._sourceItems = l.selections.getItem(0).getItemIndices(), h.body.appendChild(this._proxy._dom), l.addFeedbackElement(this._line);
          var c = this.$_updateLine(t, o, e);
          return this._proxy.setZIndex(l.displayOptions.baseZindex + 6), this.$_updateProxy(t, o, c, e), !0;
        }
        return !1;
      }, i.prototype._doDrag = function(e, t, o, r) {
        var n = this.grid.layoutManager;
        e = this.$_getTarget(r, e);
        var s = this.$_updateLine(t, o, e);
        return this.$_updateProxy(t, o, s, e), (o -= n.contentBounds.y) > n.footerBounds.y || o < n.summaryBounds.bottom ? this.$_startTimer() : this.$_stopTimer(), !0;
      }, i.prototype._doCompleted = function(e, t, o, r) {
        var n = this._targetRow, s = this.grid;
        e = this.$_getTarget(r, e);
        var l, h = s.container.findContainer(null, e);
        if (h ? n.index >= 0 && (l = s.canMoveRow(!0, !1) && s.dataDropOptions.getEnabled(s, this._sourceItems, n, t, o)) : l = s.canMoveRow(!1, !0) && s.dataDropOptions.getEnabled(s, this._sourceItems, n, t, o, e), l) {
          var u = this._request.itemIndex, c = s.dataDropOptions.callback;
          if (c)
            h ? c(s.handler, this._sourceItems, s.handler, n.index, n.column) : c(s.handler, this._sourceItems, e, null, null);
          else if (h === s.container) {
            var d = n.index > u ? n.index - (u + this._sourceItems.length - 1) : n.index - u, p = s.dataDropOptions.feedbackStyle;
            b.included(p, f.DragFeedbackStyle.CELL, f.DragFeedbackStyle.GROUP) || s.moveSelection(d, "mouseup");
          }
        }
      }, i.prototype._doCanceled = function(e, t) {
      }, i.prototype._doEnded = function() {
        var e = this.grid;
        this.$_stopTimer(), e.removeFeedbackElement(this._line), e.doc.body.removeChild(this._proxy._dom);
      }, i.prototype.$_getTarget = function(e, t) {
        var o;
        if (b.isMobile()) {
          var r = te(e.target);
          o = r && r.elementFromPoint(e.clientX, e.clientY);
        }
        return o || t;
      }, i.prototype.$_updateLine = function(e, t, o) {
        return this._targetRow = i.updateLineFeedback(this.grid, this._request.itemIndex, this._request.layout, this._sourceItems.length, this._line, e, t, !1, o);
      }, i.prototype.$_updateProxy = function(e, t, o, r) {
        var n = this.grid, s = n.container.findContainer(null, r), l = s !== n.container, h = b.getOffset(n.container._containerDom);
        h.y += t, h.x += e + 20;
        var u = !0;
        if (!l) {
          for (var c = n.selections.getItem(0).getItems(), d = c[0].level, p = 1, _ = c.length; p < _; p++)
            if (c[p].level !== d) {
              u = !1;
              break;
            }
        }
        if (u = s ? u && n.canMoveRow(!0, l) && (l || n.dataDropOptions.getEnabled(n, this._sourceItems, o, e, t)) : u && n.canMoveRow(!1, !0) && n.dataDropOptions.getEnabled(n, this._sourceItems, o, e, t, r), this._proxy.move(h.x, h.y), this._proxy.setEnabled(u !== void 0 ? u : o.index >= 0), !l || !s) {
          var g = n.dataDropOptions.getLabel(n, this._sourceItems, o, !s && r);
          this._proxy.setLabel(g);
        }
        return this._proxy.draw(), u;
      }, i.prototype.$_startTimer = function() {
        this._timer || (this._timer = setInterval(this.$_timerHandler.bind(this), 100));
      }, i.prototype.$_stopTimer = function() {
        this._timer && (clearInterval(this._timer), this._timer = null);
      }, i.prototype.$_timerHandler = function() {
        var e = this.currentX, t = this.currentY;
        this.$_updateLine(e, t, null);
      }, i;
    }(si), Bi = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this, e.index.grid, t) || this;
        return n._request = e, n._currX = o, n._currY = r, n;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._request.dispose(), this._request = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "startWhenCreated", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "clickable", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollable", { get: function() {
        var e = this._getItem().getBounds();
        return e.top === e.bottom;
      }, enumerable: !1, configurable: !0 }), i.prototype.getRequest = function() {
        return this._request;
      }, i.prototype._doCanceled = function() {
      }, i.prototype._doEnded = function() {
        var e = this._getItem();
        this.grid.selections.$_ended(e);
      }, i.prototype.spanHome = function(e) {
        var t = this.grid;
        t.getBodyViewAt(e).spanHead(t.layoutManager, e);
      }, i.prototype.spanRight = function(e) {
        var t = this.grid;
        t.getBodyViewAt(e).spanRight(t.layoutManager, e);
      }, i;
    }(si), op = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, "blockSelectTracker", t, o) || this;
        return r._timer = null, r._rowPrevLoop = 0, r._rowLoop = 0, r._colPrevLoop = 0, r._colLoop = 0, r._interval = 0, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._getItem = function() {
        return this._item || this.grid.selections.lastItem();
      }, i.prototype._doStart = function(e, t, o, r) {
        var n = this.grid, s = n.selections, l = n.layoutManager, h = r && r.shiftKey, u = r && (r.ctrlKey || r.metaKey), c = this._request.index;
        if (l.isMergedCell(c) && !(c = n.pointToIndex(e, t, o, !0)).layout)
          return !1;
        if (h)
          this._item = s.count > 0 && s.lastItem();
        else {
          var d = void 0;
          u || s.count === 1 && s.lastItem() instanceof oi ? d = s.lastItem() : s.clear(), this._item = d && d instanceof oi ? d : s.add(c, c, f.SelectionStyle.BLOCK);
        }
        return !!this._item;
      }, i.prototype._doDrag = function(e, t, o, r) {
        if (this._item) {
          var n = this.grid;
          if (n.displayOptions.selectAndImmediateDrag)
            return !1;
          var s = n.layoutManager;
          if (this._currX = t, this._currY = o, o - s.contentBounds.y > s.footerBounds.y || o < s.gridBounds.y || t < s.gridBounds.x || t > s.clientRect.right)
            this.$_startTimer();
          else {
            this.$_stopTimer();
            var l = n.pointToIndex(e, t, o, !0);
            l.column && l.itemIndex >= 0 && (W.compareHorz(l, this._item.startIndex) >= 0 ? (this.spanRight(l), this.spanHome(this._item.startIndex)) : this.spanRight(this._item.startIndex), this._item.resizeTo(l));
          }
          return !0;
        }
      }, i.prototype._doEnded = function() {
        this.$_stopTimer(), a.prototype._doEnded.call(this);
      }, i.prototype.getNextRequest = function(e, t) {
        return this.grid.activeTool.getNextRequest(this._request, null, e, t);
      }, i.prototype.$_startTimer = function() {
        this._timer || (this._rowLoop = this._rowPrevLoop = this._colLoop = this._colPrevLoop = 0, this._timer = setInterval(this.$_timerHandler.bind(this), 30), this._grid.selections.lock());
      }, i.prototype.$_stopTimer = function() {
        this._timer && (clearInterval(this._timer), this._timer = null, this._grid.selections.unlock());
      }, i.prototype.$_timerHandler = function() {
        var e = this._grid, t = this._currX, o = this._currY, r = e.layoutManager, n = 0, s = 0;
        o > r.footerBounds.y ? (s = Math.max(0, Math.min(3, (o - r.footerBounds.y) / 40)), this._interval = 4 - s, this._rowLoop++) : o < r.gridBounds.y && (s = Math.max(0, Math.min(3, (r.gridBounds.y - o) / 40)), this._interval = 4 - s, this._rowLoop++), t > r.clientRect.right ? (n = Math.max(0, Math.min(3, (t - r.clientRect.right) / 40)), this._interval = 4 - n, this._colLoop++) : t < r.gridBounds.x && (n = Math.max(0, Math.min(3, (r.gridBounds.x - t) / 40)), this._interval = 4 - n, this._colLoop++);
        var l = !1;
        if (Math.max(n, s) > 0 && (this._interval = 4 - Math.max(n, s)), this._rowLoop - this._rowPrevLoop >= this._interval && (this._rowPrevLoop = this._rowLoop, o > r.footerBounds.y ? e.topItem + r.fullItemCount < e.itemCount && (e.topIndex = e.topIndex + 1, l = !0) : o < r.gridBounds.y && e.topItem > r.fixedItemCount && (e.topIndex = e.topIndex - 1, l = !0)), l || this._colLoop - this._colPrevLoop >= 2 * this._interval && (this._colPrevLoop = this._colLoop, t > r.clientRect.right ? (e.leftPos += t - r.clientRect.right, l = !0) : t < r.gridBounds.left && e.leftPos > 0 && (e.leftPos -= r.gridBounds.left - t, l = !0)), l) {
          var h = e.pointToIndex(null, t, o, !1);
          h.column && (h.itemIndex = Math.min(Math.max(0, h.itemIndex, e.topIndex), e.itemCount - 1), this._item.resizeTo(h));
        }
      }, i;
    }(Bi), rp = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, "rowsSelectTracker", t, o) || this;
        return r._timer = null, r._prevLoop = 0, r._loop = 0, r._colPrevLoop = 0, r._colLoop = 0, r._interval = 0, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._getItem = function() {
        return this._item || this.grid.selections.lastItem();
      }, i.prototype._doStart = function(e, t, o, r) {
        var n = this.grid, s = n.selections, l = n.layoutManager, h = r && r.shiftKey, u = r && (r.ctrlKey || r.metaKey), c = this._request.index;
        if (l.isMergedCell(c) && (c = n.pointToIndex(e, t, o, !0)), h)
          this._item = s.count > 0 && s.lastItem();
        else {
          var d = void 0;
          u || s.count === 1 && s.lastItem() instanceof Kt ? d = s.lastItem() : s.clear(), this._item = d && d instanceof Kt ? d : s.add(c, c, f.SelectionStyle.ROWS);
        }
        return !!this._item;
      }, i.prototype._doDrag = function(e, t, o, r) {
        if (this._item) {
          var n = this.grid;
          if (n.displayOptions.selectAndImmediateDrag)
            return !1;
          var s = n.layoutManager;
          if (this._currX = t, this._currY = o, o > s.footerBounds.y || o < s.gridBounds.y || t < 0 || t > s.clientRect.right)
            this.$_startTimer();
          else {
            this.$_stopTimer();
            var l = this.grid.pointToIndex(e, t, o, !1);
            l.itemIndex >= 0 && this._item.resizeTo(l);
          }
          return !0;
        }
        return !1;
      }, i.prototype._doEnded = function() {
        this.$_stopTimer(), a.prototype._doEnded.call(this);
      }, i.prototype.$_startTimer = function() {
        this._timer || (this._loop = this._prevLoop = this._colLoop = this._colPrevLoop = 0, this._interval = 1, this._timer = setInterval(this.$_timerHandler.bind(this), 30), this._grid.selections.lock());
      }, i.prototype.$_stopTimer = function() {
        this._timer && (clearInterval(this._timer), this._timer = null, this._grid.selections.unlock());
      }, i.prototype.$_timerHandler = function() {
        var e, t, o = this._grid, r = this._currX, n = this._currY, s = o.layoutManager;
        n > s.footerBounds.y ? (e = Math.max(0, Math.min(3, (n - s.footerBounds.y) / 40)), this._interval = 4 - e, this._loop++) : n < s.gridBounds.y && (e = Math.max(0, Math.min(3, (s.gridBounds.y - n) / 40)), this._interval = 4 - e, this._loop++), this._loop - this._prevLoop >= this._interval ? (this._prevLoop = this._loop, n > s.footerBounds.y ? o.topIndex = o.topIndex + 1 : n < s.gridBounds.y && (o.topIndex = o.topIndex - 1), (t = o.pointToIndex(null, this._currX, this._currY, !1)).itemIndex = Math.min(Math.max(0, t.itemIndex, o.topIndex), o.itemCount - 1), this._item.resizeTo(t)) : (r > s.clientRect.right ? (e = Math.max(0, Math.min(3, (r - s.clientRect.right) / 40)), this._interval = 4 - e, this._colLoop++) : r < 0 && (e = Math.max(0, Math.min(3, (s.gridBounds.x - r) / 40)), this._interval = 4 - e, this._colLoop++), this._colLoop - this._colPrevLoop >= 2 * this._interval && (this._colPrevLoop = this._colLoop, r > s.clientRect.right ? o.leftLayout = o.leftLayout + 1 : r < s.gridBounds.x && o.leftPos > 0 && (o.leftLayout = o.leftLayout - 1), (t = o.pointToIndex(null, this._currX, this._currY, !1)).itemIndex >= 0 && (t.itemIndex = Math.min(Math.max(0, t.itemIndex, o.topIndex), o.itemCount - 1), this._item.resizeTo(t))));
      }, i;
    }(Bi), Dl = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, "columnsSelectTracker", t, o) || this;
        return r._timer = null, r._prevLoop = 0, r._loop = 0, r._rowPrevLoop = 0, r._rowLoop = 0, r._interval = 0, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "startWhenCreated", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype._getItem = function() {
        return this._item || this.grid.selections.lastItem();
      }, i.prototype._doStart = function(e, t, o, r) {
        var n, s = this.grid, l = s.selections, h = s.layoutManager, u = r && r.shiftKey, c = r && (r.ctrlKey || r.metaKey), d = this._request.index;
        return h.isMergedCell(d) && (d = s.pointToIndex(e, t, o, !0)), u ? n = l.count > 0 && l.lastItem() : c || l.count === 1 && l.lastItem() instanceof Ci ? n = l.lastItem() : l.clear(), n && n instanceof Ci && n.containsLayout(d.layout) ? this._item = n : this._item = l.add(d, d, f.SelectionStyle.COLUMNS), !!this._item;
      }, i.prototype._doDrag = function(e, t, o, r) {
        if (this._item) {
          var n = this.grid.layoutManager;
          if (this._currX = t, this._currY = o, t < n.gridBounds.x || t > n.clientRect.right || o > n.footerBounds.y || o < 0)
            this.$_startTimer();
          else {
            this.$_stopTimer();
            var s = this.grid.pointToIndex(e, t, o, !0);
            s.column != null && this._item.resizeTo(s);
          }
          return !0;
        }
        return !1;
      }, i.prototype._doEnded = function() {
        this.$_stopTimer(), a.prototype._doEnded.call(this);
      }, i.prototype.$_startTimer = function() {
        this._timer || (this._loop = this._prevLoop = this._rowLoop = this._rowPrevLoop = 0, this._interval = 1, this._timer = setInterval(this.$_timerHandler.bind(this), 30), this._grid.selections.lock());
      }, i.prototype.$_stopTimer = function() {
        this._timer && (clearInterval(this._timer), this._timer = null, this._grid.selections.unlock());
      }, i.prototype.$_timerHandler = function() {
        var e, t, o = this._grid, r = this._currX, n = this._currY, s = o.layoutManager;
        r > s.clientRect.right ? (e = Math.max(0, Math.min(3, (r - s.clientRect.right) / 40)), this._interval = 4 - e, this._loop++) : r < s.gridBounds.x && (e = Math.max(0, Math.min(3, (s.gridBounds.x - r) / 40)), this._interval = 4 - e, this._loop++), this._loop - this._prevLoop >= 2 * this._interval ? (this._prevLoop = this._loop, r > s.clientRect.right ? o.leftLayout = o.leftLayout + 1 : r < s.gridBounds.x && o.leftPos > 0 && (o.leftLayout = o.leftLayout - 1), (t = o.pointToIndex(null, this._currX, this._currY, !1)).column && this._item.resizeTo(t)) : (n > s.footerBounds.y ? (e = Math.max(0, Math.min(3, (n - s.footerBounds.y) / 40)), this._interval = 4 - e, this._rowLoop++) : n < 0 && (e = Math.max(0, Math.min(3, (s.gridBounds.y - n) / 40)), this._interval = 4 - e, this._rowLoop++), this._rowLoop - this._rowPrevLoop >= this._interval && (this._rowPrevLoop = this._rowLoop, n > s.footerBounds.y ? o.topIndex = o.topIndex + 1 : n < s.gridBounds.y && (o.topIndex = o.topIndex - 1), (t = o.pointToIndex(null, this._currX, this._currY, !1)).column && this._item.resizeTo(t)));
      }, i;
    }(Bi), Ml = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._clickX = 0, o._clickY = 0, o._mouseX = 0, o._mouseY = 0, o._longTimerHander = function() {
          o._longPressed = !0;
        }, o._owner = e, o._name = t, o._previous = null, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._dragTracker = null, this._previous = null, this._owner = null, this._mouseEventTarget = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "owner", { get: function() {
        return this._owner;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "name", { get: function() {
        return this._name;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "previous", { get: function() {
        return this._previous;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dragTracker", { get: function() {
        return this._dragTracker;
      }, set: function(e) {
        e !== this._dragTracker && (this._dragTracker && this._dragTracker.deactivate(), this._dragTracker = e, this._dragTracker && this._dragTracker.activate());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dragging", { get: function() {
        return this._dragTracker && this._dragTracker.dragging;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mouseX", { get: function() {
        return this._mouseX;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mouseY", { get: function() {
        return this._mouseY;
      }, enumerable: !1, configurable: !0 }), i.prototype.findElementAt = function(e, t, o) {
        return this._owner.findElementAt(e, t, o);
      }, i.prototype.activate = function(e) {
        this._doActivated(e);
      }, i.prototype.deactivate = function() {
        this._doDeactivated();
      }, i.prototype.keyDown = function(e) {
        return this._doKeyDown(e);
      }, i.prototype.keyUp = function(e) {
        return this._doKeyUp(e);
      }, i.prototype.keyPress = function(e) {
        return this._doKeyPress(e);
      }, i.prototype.pointerDown = function(e) {
        var t = this._mouseX = this._clickX = e.mouseX, o = this._mouseY = this._clickY = e.mouseY;
        this._longPressed = !1, this._touchEvents = [{ x: t, y: o, t: e.timeStamp }], this.dragging && this._stopDragTracker(t, o, !1, e), this._doPointerDown(e);
      }, i.prototype.mouseDown = function(e) {
        var t = this._mouseX = this._clickX = e.mouseX, o = this._mouseY = this._clickY = e.mouseY;
        this._doMouseDown(e), this.dragging && this._stopDragTracker(t, o, !1, e);
      }, i.prototype.pointerCancel = function(e) {
        var t = this._mouseX = e.mouseX, o = this._mouseY = e.mouseY;
        this.dragging ? this._stopDragTracker(t, o, !0, e) : (this._dragTracker instanceof Bi && this._dragTracker._doEnded(), this._dragTracker = null), this._touchEvents = [], this._doPointerCancel(e);
      }, i.prototype.dragFrom = function(e, t) {
      }, i.prototype.dropFrom = function(e, t) {
      }, i.prototype.cancelFrom = function(e) {
      }, i.prototype.pointerMove = function(e) {
        var t = this._mouseX = e.mouseX, o = this._mouseY = e.mouseY, r = this.dragTracker, n = e.buttons;
        if (r) {
          if (r.dragging) {
            if (n === 1) {
              if (!r.drag(this._mouseEventTarget, t, o, e)) {
                var s = r.getNextRequest(t, o);
                s && (this._stopDragTracker(t, o, !0, e), this.dragTracker = this._getDragTracker(s, t, o), this._startDragTracker(t, o, e));
              }
            } else
              this._stopDragTracker(t, o, !0, e);
            return;
          }
          if (Math.abs(t - this._clickX) >= 3 || Math.abs(o - this._clickY) >= 3) {
            if (n === 1)
              return void this._startDragTracker(t, o, e);
            this._stopDragTracker(t, o, !0, e), this._dragTracker = null;
          }
        }
        this._doPointerMove(e);
      }, i.prototype.pointerUp = function(e) {
        var t = this._mouseX = e.mouseX, o = this._mouseY = e.mouseY;
        clearTimeout(this._longTimer), this._longPressed = !1, this._touchEvents && this._touchEvents.push({ x: e.mouseX, y: e.mouseY, t: e.timeStamp }), this.dragging ? (b.isMobile() && e.type === "pointerup" && this._checkSwipe(e), this._stopDragTracker(t, o, !1, e), this._dragTracker.clickable && this._doPointerUp(e)) : (this._dragTracker instanceof Bi && this._dragTracker._doEnded(), this._dragTracker = null, this._doPointerUp(e)), this._touchEvents = [];
      }, i.prototype.mouseEnter = function(e) {
        this._doMouseEnter(e);
      }, i.prototype.mouseLeave = function(e) {
        this._doMouseLeave(e);
      }, i.prototype.mouseOver = function(e) {
        this._doMouseOver(e);
      }, i.prototype.mouseOutside = function() {
        this._doMouseOutside();
      }, i.prototype.mouseWheel = function(e) {
        return this._doMouseWheel(e);
      }, i.prototype.contextMenu = function(e) {
        return this._doContextMenu(e);
      }, i.prototype.click = function(e) {
        this._doClick(e);
      }, i.prototype.dblclick = function(e) {
        this._doDblClick(e);
      }, i.prototype.setFocus = function(e) {
        this._doSetFocus(e);
      }, i.prototype.focusLeave = function(e) {
        this._doFocusLeave(e);
      }, i.prototype.resetFocused = function() {
      }, i.prototype.touchMove = function(e) {
        return this._doTouchMove(e);
      }, i.prototype._checkSwipe = function(e) {
      }, Object.defineProperty(i.prototype, "mouseEventTarget", { get: function() {
        return this._mouseEventTarget;
      }, enumerable: !1, configurable: !0 }), i.prototype.isMouseEventTarget = function(e) {
        return e._dom === this._mouseEventTarget;
      }, i.prototype._doActivated = function(e) {
      }, i.prototype._doDeactivated = function() {
      }, i.prototype._doKeyDown = function(e) {
        return !1;
      }, i.prototype._doKeyUp = function(e) {
        return !1;
      }, i.prototype._doKeyPress = function(e) {
        return !1;
      }, i.prototype._doPointerDown = function(e) {
      }, i.prototype._doPointerCancel = function(e) {
      }, i.prototype._doPointerMove = function(e) {
      }, i.prototype._doPointerUp = function(e) {
      }, i.prototype._doMouseDown = function(e) {
      }, i.prototype._doMouseEnter = function(e) {
      }, i.prototype._doMouseLeave = function(e) {
      }, i.prototype._doMouseOver = function(e) {
      }, i.prototype._doMouseOutside = function() {
      }, i.prototype._doMouseWheel = function(e) {
        return !1;
      }, i.prototype._doContextMenu = function(e) {
      }, i.prototype._doClick = function(e) {
      }, i.prototype._doDblClick = function(e) {
      }, i.prototype._doSetFocus = function(e) {
      }, i.prototype._doFocusLeave = function(e) {
      }, i.prototype._getDragTracker = function(e, t, o) {
        return null;
      }, i.prototype._startDragTracker = function(e, t, o) {
        o === void 0 && (o = null), this._dragTracker && (this._dragTracker.start(this._mouseEventTarget, e, t, o) ? this._doDragTrackerStarted(this._dragTracker) : this._dragTracker = null);
      }, i.prototype._stopDragTracker = function(e, t, o, r) {
        if (this.dragging) {
          var n = this._dragTracker;
          o ? n.cancel() : n.drop(this._mouseEventTarget, e, t, r), this._doDragTrackerFinished(n, o);
        }
      }, i.prototype._doDragTrackerStarted = function(e) {
      }, i.prototype._doDragTrackerFinished = function(e, t) {
      }, i.prototype._findTableCell = function(e) {
        return this.owner.getTableCell(e || this.mouseEventTarget);
      }, i.prototype._doTouchMove = function(e) {
        return !0;
      }, i;
    }(J), hs = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "cursor", { get: function() {
        return "default";
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "source", { get: function() {
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dblClickable", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), i;
    }(J);
    (function(a) {
      a.LINE = "line", a.PAGE = "page", a.THUMB_TRACK = "thumbTrack", a.THUMB_END = "thumbEnd", a.SCROLL_END = "scrollEnd";
    })(We || (We = {}));
    var Dr, Ao = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, o) || this;
        return r._scrollBar = t, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._scrollBar = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "scrollBar", { get: function() {
        return this._scrollBar;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "vertical", { get: function() {
        return this._scrollBar.vertical;
      }, enumerable: !1, configurable: !0 }), i.prototype._doDraw = function(e) {
        this._doRender(e);
      }, i.prototype._doRender = function(e) {
      }, i.prototype._changed = function() {
        this.invalidate();
      }, i;
    }(qt), np = function(a) {
      function i(e) {
        return a.call(this, e, null, "scrollEdgeView") || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-scrolledge";
      }, i;
    }(Ao), us = function(a) {
      function i(e) {
        return a.call(this, e.doc, e, "scrollTrackView") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._getCssSelector = function() {
        return "rg-scrolltrack";
      }, i;
    }(Ao), Mr = function(a) {
      function i(e, t) {
        var o = a.call(this, e.doc, e, "scrollButtonView") || this;
        return o._enabled = !0, o._far = t, o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "enabled", { get: function() {
        return this._enabled;
      }, set: function(e) {
        e != this._enabled && (this._enabled = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "far", { get: function() {
        return this._far;
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
        return this.scrollBar.vertical ? this._far ? "rg-scroll-down" : "rg-scroll-up" : this._far ? "rg-scroll-right" : "rg-scroll-left";
      }, i;
    }(Ao), Ll = function(a) {
      function i(e) {
        return a.call(this, e.doc, e, "scrollThumbView") || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-scrollthumb";
      }, i;
    }(Ao), Lr = function(a) {
      function i(e, t) {
        t === void 0 && (t = !1);
        var o = a.call(this, e.doc, "scrollBarView") || this;
        return o._lineScrollSize = 1, o._pageScrollSize = 1, o._minThumbSize = 20, o._min = 0, o._max = 0, o._pos = 0, o._page = 0, o._maxPosition = 0, o._buttonSize = 20, o._needLayout = !0, o._tipView = null, o._container = e, o._vertical = t, o._track = new us(o), o.addChild(o._track), o._thumb = new Ll(o), o.addChild(o._thumb), o._nearButton = new Mr(o, !1), o.addChild(o._nearButton), o._farButton = new Mr(o, !0), o.addChild(o._farButton), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._track = this._track.dispose(), this._thumb = this._thumb.dispose(), this._nearButton = this._nearButton.dispose(), this._farButton = this._farButton.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "container", { get: function() {
        return this._container;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lineScrollSize", { get: function() {
        return this._lineScrollSize;
      }, set: function(e) {
        (e = Math.max(1, e)) != this._lineScrollSize && (this._lineScrollSize = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pageScrollSize", { get: function() {
        return this._pageScrollSize;
      }, set: function(e) {
        (e = Math.max(1, e)) != this._pageScrollSize && (this._pageScrollSize = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minThumbSize", { get: function() {
        return this._minThumbSize;
      }, set: function(e) {
        (e = Math.max(8, e)) != this._minThumbSize && (this._minThumbSize = e, this.invalidateLayout());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "vertical", { get: function() {
        return this._vertical;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pos", { get: function() {
        return this._pos;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxPosition", { get: function() {
        return this._maxPosition;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "buttonSize", { get: function() {
        return this._buttonSize;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tipView", { set: function(e) {
        this._tipView = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.layoutContent = function() {
        this._needLayout && (this._needLayout = !1, this._doLayoutContent());
      }, i.prototype.setProperties = function(e, t, o) {
        e = Math.max(0, e), t = Math.max(e, t), e == this._min && t == this._max && o == this._page || (this._min = e, this._max = t, this._page = o, this._pos = Math.min(this._max, Math.max(this._min, this._pos)), this._maxPosition = Math.max(0, this._max - this._page), this.invalidate(), this._needLayout = !0);
      }, i.prototype.setPosition = function(e, t) {
        t === void 0 && (t = !0), (e = Math.min(this._maxPosition, Math.max(this._min, e))) != this._pos && (this._pos = e, this.invalidate(), this._needLayout = !0, t && this.layoutContent());
      }, i.prototype.ptInTrack = function(e, t, o) {
        var r = this.containerToElement(e, t);
        if (this._vertical) {
          if (r.y >= this._nearButton.height && r.x < this._farButton.y)
            return !o && r.y < this._thumb.y || o && r.y >= this._thumb.bottom;
        } else if (e >= this._nearButton.width && e < this._farButton.x)
          return !o && r.x < this._thumb.x || o && r.x >= this._thumb.right;
        return !1;
      }, i.prototype.setText = function(e) {
        if (this._tipView && e) {
          this._tipView.show(), this._tipView.setText(e);
          var t = void 0, o = void 0;
          if (this._vertical) {
            var r = this._tipView.width();
            t = this.x - r - 5, o = this._thumb.y;
          } else {
            var n = this._tipView.height();
            t = this._thumb.x, o = this.y - n - 5;
          }
          this._tipView.move(t, o);
        }
      }, i.prototype._getCssSelector = function() {
        return this._vertical ? "rg-vscrollbar" : "rg-hscrollbar";
      }, i.prototype.draw = function() {
        a.prototype.draw.call(this);
      }, i.prototype._doDraw = function(e) {
      }, i.prototype._doSizeChanged = function() {
        this.invalidateLayout();
      }, i.prototype.invalidateLayout = function() {
        this._needLayout = !0, a.prototype.invalidateLayout.call(this);
      }, i.prototype._doLayoutContent = function() {
        var e = this._vertical, t = this._buttonSize, o = this.height, r = this.width, n = (e ? o : r) - 2 * t, s = Math.min(n, Math.max(this._minThumbSize, Math.floor(n * this._page / (this._max - this._min + 1)))), l = t + Math.min(n - s, Math.max(0, Math.floor((n - s) * this._pos / (this._maxPosition - this._min))));
        this._track.setBounds(0, 0, r, o), e ? (this._nearButton.setBounds(0, 0, r, t), this._farButton.setBounds(0, o - t, r, t), s <= n && this._thumb.setBounds(2, l, r - 4, s)) : (this._nearButton.setBounds(0, 0, t, o), this._farButton.setBounds(r - t, 0, t, o), s <= n && this._thumb.setBounds(l, 2, s, o - 4));
      }, i.prototype._doScroll = function(e, t, o) {
        this.fireEvent(i.SCROLLED, e, t, o);
      }, i.SCROLLED = "onScrollBarScrolled", i;
    }(qt), sp = function(a) {
      function i(e) {
        return a.call(this, e, "scrollThumbTracker") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._thumb = this._thumb && this._thumb.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "thumb", { get: function() {
        return this._thumb;
      }, set: function(e) {
        this._thumb = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startWhenCreated", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i.prototype._doStart = function(e, t, o, r) {
        var n = this._thumb.scrollBar, s = n.containerToElement(t, o);
        return n.vertical ? this._offset = s.y - this._thumb.y : this._offset = s.x - this._thumb.x, b.isSlotMode() && r instanceof PointerEvent && e.setPointerCapture(r.pointerId), !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        return this.$_doScroll(t, o, We.THUMB_TRACK);
      }, i.prototype._doCompleted = function(e, t, o, r) {
        return b.isSlotMode() && r instanceof PointerEvent && e.releasePointerCapture(r.pointerId), this.$_doScroll(t, o, We.THUMB_END);
      }, i.prototype._doCanceled = function(e, t) {
      }, i.prototype._doEnded = function() {
      }, i.prototype.$_doScroll = function(e, t, o) {
        var r = this._thumb.scrollBar, n = r._maxPosition - r._min + 1, s = r._buttonSize, l = r.containerToElement(e, t);
        if (r.vertical) {
          if ((h = r.height - 2 * s - this._thumb.height) <= 0)
            return !1;
          l.y -= this._offset, l.y = (l.y - s) * n / h, r._doScroll(o, 0, Math.max(Math.floor(l.y), 0));
        } else {
          var h;
          if ((h = r.width - 2 * s - this._thumb.width) <= 0)
            return !1;
          l.x -= this._offset, l.x = (l.x - s) * n / h, r._doScroll(o, 0, Math.max(Math.floor(l.x), 0));
        }
        return !0;
      }, i;
    }(Pl), ap = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._active = !1, e._timer = void 0, e._ready = !1, e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "active", { get: function() {
        return this._timer !== void 0;
      }, enumerable: !1, configurable: !0 }), i.prototype.start = function(e) {
        this._button = e, this._scrollBar = e.scrollBar, this._active = !0, setTimeout(function() {
          this._ready && (this._ready = !1, clearInterval(this._timer), this._timer = setInterval(function() {
            this._active && this.$_fireEvent();
          }.bind(this), 20));
        }.bind(this), 300), this._ready = !0, this.$_fireEvent();
      }, i.prototype.move = function(e, t) {
        var o = this._button.containerToElement(e, t);
        this._active = this._button.containsInClient(o.x, o.y);
      }, i.prototype.stop = function() {
        this._ready = !1, this._timer && (clearInterval(this._timer), this._timer), this._button;
      }, i.prototype.$_fireEvent = function() {
        var e = this._button.far ? 1 : -1, t = We.LINE;
        this._scrollBar._doScroll(t, this._scrollBar.lineScrollSize * e, 0);
      }, i;
    }(Be), lp = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._active = !1, e._timer = void 0, e._ready = !1, e._mouseX = 0, e._mouseY = 0, e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "active", { get: function() {
        return this._active;
      }, enumerable: !1, configurable: !0 }), i.prototype.start = function(e, t, o, r) {
        this._scrollBar = e, this._far = t, this._active = !0, setTimeout(function() {
          this._ready && (this._ready = !1, this._timer = setInterval(function() {
            this._active && this.$_fireEvent();
          }.bind(this), 50));
        }.bind(this), 300), this._ready = !0;
        var n = this._scrollBar.containerToElement(o, r);
        this._mouseX = n.x, this._mouseY = n.y, this.$_fireEvent();
      }, i.prototype.move = function(e, t) {
        var o = this._scrollBar.containerToElement(e, t);
        this._mouseX = o.x, this._mouseY = o.y, this._active = this._scrollBar.ptInTrack(o.x, o.y, this._far);
      }, i.prototype.stop = function() {
        this._ready = !1, this._timer && clearInterval(this._timer);
      }, i.prototype.$_fireEvent = function() {
        var e = null, t = 0, o = this._scrollBar._thumb;
        if (this._scrollBar.vertical) {
          var r = this._mouseY;
          this._far && r > o.bottom ? (e = We.PAGE, t = 1) : !this._far && r < o.y && (e = We.PAGE, t = -1);
        } else {
          var n = this._mouseX;
          this._far && n > o.right ? (t = 1, e = We.PAGE) : n < o.x && (e = We.PAGE, t = -1);
        }
        t != 0 && this._scrollBar._doScroll(e, this._scrollBar.pageScrollSize * t, 0);
      }, i;
    }(J), Fl = function(a) {
      function i(e) {
        var t = a.call(this, e, "scrollTool") || this;
        return t._buttonTimer = new ap(), t._trackTimer = new lp(), t._thumbTracker = new sp(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._thumbTracker.cancel(), this._thumbTracker = this._thumbTracker.dispose(), this._buttonTimer.stop(), this._buttonTimer = this._buttonTimer.dispose(), this._trackTimer.stop(), this._trackTimer = this._trackTimer.dispose(), a.prototype._doDispose.call(this);
      }, i.prototype._doPointerDown = function(e) {
        var t = e.mouseX, o = e.mouseY;
        this._clickElement = null, this.dragTracker = null, this._buttonTimer.stop(), this._trackTimer.stop();
        var r = this.findElementAt(t, o, !1);
        if (r instanceof Ao) {
          if (this._clickElement = r, r instanceof Mr)
            this._buttonTimer.start(r);
          else if (r instanceof Ll)
            this._thumbTracker.thumb = r, this.dragTracker = this._thumbTracker;
          else if (r instanceof us) {
            var n = r.scrollBar.ptInTrack(t, o, !0);
            this._trackTimer.start(r.scrollBar, n, t, o);
          }
        }
      }, i.prototype._doPointerMove = function(e) {
        var t = e.mouseX, o = e.mouseY, r = this._clickElement;
        e.buttons === 1 ? r instanceof Mr && this._buttonTimer.active ? this._buttonTimer.move(t, o) : r instanceof us && this._trackTimer.active && this._trackTimer.move(t, o) : (this._buttonTimer.active && this._buttonTimer.stop(), this._trackTimer.active && this._trackTimer.stop());
      }, i.prototype._doPointerUp = function(e) {
        this._clickElement && this._clickElement.scrollBar._doScroll(We.SCROLL_END, 0, -1), this._clickElement = null, this._buttonTimer.stop(), this._trackTimer.stop();
      }, i;
    }(Ml), Bl = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._container = e, t._element = t.$_createElement(e.doc), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._element = b.detach(this._element), this._container = null, a.prototype._doDispose.call(this);
      }, i.prototype.show = function() {
        this._container._container.appendChild(this._element);
      }, i.prototype.hide = function() {
        b.detach(this._element);
      }, i.prototype.move = function(e, t) {
        b.move(this._element, e, t);
      }, i.prototype.setText = function(e) {
        this._element.innerHTML = e;
      }, i.prototype.width = function() {
        return this._element.offsetWidth;
      }, i.prototype.height = function() {
        return this._element.offsetHeight;
      }, i.prototype.getRect = function() {
        return this._element.getBoundingClientRect();
      }, i.prototype.$_createElement = function(e) {
        var t = e.createElement("div"), o = t.style;
        return o.position = "absolute", o.padding = "4px 4px", o.boxSizing = "border-box", o.display = "lnline-block", o.pointerEvents = "none", o.userSelect = "none", t.className = "rg-scroll-tip-view", t;
      }, i;
    }(J), hp = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, t) || this;
        return r._contaner = o, r;
      }
      return w(i, a), Object.defineProperty(i.prototype, "container", { get: function() {
        return this._contaner;
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
      }, i.prototype._doDraw = function(e) {
      }, i;
    }(qt), lo = function(a) {
      function i(e, t, o) {
        var r = a.call(this) || this;
        return r._disabled = !1, r._updateRequested = !1, r._layoutNeeded = !1, r._invalidated = !1, r._currentX = 0, r._currentY = 0, r._defaultCursor = "default", r._drawing = !1, r._eventHandlers = {}, r._eventNodes = [], r._containerRender = r._render.bind(r), r._scrollTool = new Fl(r), r._cursor = "default", r._testWidth = NaN, r._testHeight = NaN, r.prepareContainer(e, t, o), r.invalidateLayout(), r._registerEventHandlers(r._rootElement._dom, r._containerDom), r.activeTool = r._defaultTool = r._createDefaultTool(), i.$_Containers[r.$_hash] = r, r;
      }
      return w(i, a), i.prototype.getMouseContainer = function() {
        return i.$_Containers[i.$_mouseContainer];
      }, i.prototype.findContainer = function(e, t) {
        for (var o in i.$_Containers) {
          var r = i.$_Containers[o];
          if (r.contains(t || e.target))
            return r;
        }
        return null;
      }, i.getActiveGrid = function() {
        var e = i.$_Containers[i.$_ActiveGrid];
        return e && e._gridView;
      }, i.setActiveGrid = function(e) {
        if (e !== i.$_ActiveGrid) {
          var t = i.$_Containers[e], o = void 0;
          if (t = t && t._gridView, window.RealGrid && (o = window.RealGrid.onActiveGridChanged)) {
            var r = i.$_Containers[i.$_ActiveGrid];
            o((r = r && r._gridView) && r.handler, t && t.handler);
          }
          t._fireGridActivated();
        }
        i.$_ActiveGrid = e;
      }, i.getGridInstance = function(e) {
        if (typeof e == "string" && (e = document.getElementById(e)), ls(e, "HTMLDivElement"))
          for (var t in i.$_Containers) {
            var o = i.$_Containers[t];
            if (o._containerDiv === e)
              return o.gridView;
          }
      }, i.clearContainer = function(e) {
        i[e] && delete i[e], i.$_ActiveGrid === e && (i.$_ActiveGrid = null);
      }, i.disposeStatic = function() {
        this.$_Containers = null, this.$_ActiveGrid = null;
      }, i.prototype._doDispose = function() {
        this._activeTool = null, this._defaultTool = this._defaultTool.dispose(), this._scrollTool = this._scrollTool.dispose(), this.$_removeListenerAll(null), b.detach(this._containerDom), this._containerDom = null, this._container = null, this._doc = null, b.clearElements(this._containerDiv), a.prototype._doDispose.call(this), delete i.$_Containers[this.$_hash];
      }, Object.defineProperty(i.prototype, "doc", { get: function() {
        return this._doc;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "disabled", { get: function() {
        return this._disabled;
      }, set: function(e) {
        e != this._disabled && (this._disabled = e, this._doDisabledChanged());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "activeTool", { get: function() {
        return this._activeTool;
      }, set: function(e) {
        if ((e = e || this._defaultTool) != this._activeTool) {
          var t = this._activeTool;
          t && t.deactivate(), this._activeTool = e, e && e.activate(t);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "defaultTool", { get: function() {
        return this._defaultTool;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "measurer", { get: function() {
        return this._measurer;
      }, enumerable: !1, configurable: !0 }), i.prototype.findElementAt = function(e, t, o) {
        return this._rootElement.findChildAt(e - this._rootElement._x, t - this._rootElement._y, o);
      }, i.prototype.getTableCell = function(e) {
        return null;
      }, i.prototype.setCursor = function(e) {
        e != this._cursor && (this._containerDom.style.cursor = this._cursor = e);
      }, i.prototype.setFocus = function() {
        this._containerDom.focus();
      }, i.prototype.updateNow = function() {
        this._layoutNeeded = !0, this.invalidate(!0), this._render(b.getTimer());
      }, i.prototype.toScreen = function(e) {
        var t = this._containerDom.getBoundingClientRect();
        return e.x += t.left, e.y += t.top, e;
      }, i.prototype.pointToScreen = function(e, t) {
        var o = this._containerDom.getBoundingClientRect();
        return { x: e + o.left, y: t + o.top };
      }, i.prototype.getBound = function() {
        var e = this._containerDom.getBoundingClientRect();
        return new ue(e.left, e.top, e.width, e.height);
      }, i.prototype.getHtml = function() {
        return this._containerDom.outerHTML;
      }, i.prototype.addElement = function(e) {
        return this._rootElement.addChild(e);
      }, i.prototype.removeElement = function(e) {
        return this._rootElement.removeChild(e);
      }, i.prototype.resetSize = function(e) {
        e === void 0 && (e = null), this.updateNow(), e && setTimeout(e, 0);
      }, i.prototype.measureText = function(e, t, o) {
        this._textMeasurer.className = e;
        var r = this._textMeasurer.style;
        return o ? (r.fontSize = o.fontSize, r.fontFamily = o.fontFamily, r.fontWeight = o.fontWeight, r.fontStyle = o.fontStyle) : (r.removeProperty("font-size"), r.removeProperty("font-family"), r.removeProperty("font-weight"), r.removeProperty("font-style")), this._textMeasurer.innerHTML = t, this._textMeasurer.offsetWidth;
      }, i.prototype.$_refreshCheckMeasurer = function() {
        if (!this._checkRect) {
          var e = this._checkMeasurer.getBoundingClientRect(), t = Xe(this._doc).getComputedStyle(this._checkMeasurer);
          this._checkRect = { width: e.width + parseInt(t.marginLeft) + parseInt(t.marginRight), height: e.height + parseInt(t.marginTop) + parseInt(t.marginBottom) };
        }
        return this._checkRect;
      }, i.prototype.measureCheckWidth = function() {
        return this.$_refreshCheckMeasurer().width;
      }, i.prototype.measureCheckHeight = function() {
        return this.$_refreshCheckMeasurer().height;
      }, i.prototype.contains = function(e) {
        var t = e;
        if (t instanceof Xe(this.doc).HTMLElement)
          for (var o = t.parentElement; o; ) {
            if (o === this._containerDom)
              return !0;
            o = o.parentElement;
          }
        return !1;
      }, i.prototype.getDomPosition = function(e) {
        return this.offsetDomPosition(e, { x: 0, y: 0 });
      }, i.prototype.offsetDomPosition = function(e, t) {
        var o = Xe(this._doc), r = this._containerDom.getBoundingClientRect(), n = e.getBoundingClientRect(), s = o.getComputedStyle(this._containerDom);
        return t.x = n.left - r.left - Math.round(parseFloat(s.borderLeftWidth)), t.y = n.top - r.top - Math.round(parseFloat(s.borderTopWidth)), t;
      }, i.prototype.cancelOtherContainer = function(e) {
        for (var t in i.$_Containers) {
          var o = i.$_Containers[t];
          if (o !== this) {
            var r = o._activeTool;
            r && r.cancelFrom(e);
          }
        }
      }, i.prototype.getContainerWidth = function() {
        return this._containerDiv.getBoundingClientRect().width;
      }, i.prototype._doDisabledChanged = function() {
      }, i.prototype.prepareContainer = function(e, t, o) {
        if (!e)
          throw new Error("container is null!");
        if (ls(e, "HTMLDivElement") ? this._containerDiv = e : this._containerDiv = document.getElementById(e), !ls(this._containerDiv, "HTMLDivElement"))
          throw new Error("Invalid grid container element: " + e);
        var r = this._doc = this._containerDiv.ownerDocument, n = Xe(r), s = this._containerDiv.getElementsByClassName("rg-root");
        if (s && s.length > 0)
          throw new Error("Grid is already contained ContainerDiv");
        n.requestAnimationFrame = n.requestAnimationFrame || n.mozRequestAnimationFrame || n.webkitRequestAnimationFrame || n.msRequestAnimationFrame || function(d) {
          return n.setTimeout(d, 10);
        };
        var l = this._containerDom = r.createElement("div");
        this._container = this._containerDom;
        var h = l.style;
        this._cursor = h.cursor, this._containerDiv.appendChild(l), l.setAttribute("tabindex", "0"), h.position = "relative", h.width = "100%", h.height = "100%", h.boxSizing = "border-box", h.overflow = "hidden", h["-webkit-touch-callout"] = "none", h["-webkit-user-select"] = "none", h["user-select"] = "none", h["-webkit-tap-highlight-color"] = "rgba(0, 0, 0, 0)", this._rootElement = this._createRootElement(r), this._measurer = r.createElement("div"), this._measurer.setAttribute("aria-hidden", "true"), this._container.appendChild(this._measurer);
        var u = this._textMeasurer = r.createElement("span");
        u.setAttribute("aria-hidden", "true"), u.style.position = "absolute", u.style.left = "-10000px", u.style.top = "-10000px", u.style.display = "block", this._container.appendChild(u);
        var c = this._checkMeasurer = r.createElement("input");
        c.type = "checkbox", c.title = "grid check measurer", c.tabIndex = -1, c.setAttribute("aria-hidden", "true"), c.style.position = "absolute", c.style.left = "-1000px", c.style.top = "-11000px", c.style.display = "block", this._container.appendChild(c), this._doPrepareContainer(l, t, o);
      }, i.prototype._doPrepareContainer = function(e, t, o) {
      }, i.prototype._createRootElement = function(e) {
        var t = new hp(e, "root", this);
        return this._containerDom.appendChild(t._dom), t;
      }, i.prototype.isLayoutNeeded = function() {
        return this._layoutNeeded;
      }, i.prototype.invalidateLayout = function() {
        this._layoutNeeded || (this._layoutNeeded = !0, this.invalidate(!0));
      }, i.prototype.invalidate = function(e) {
        var t = Xe(this._doc);
        this._updateRequested && this._invalidated || !e && this._drawing || (this._requestTimer || (this._requestTimer = t.requestAnimationFrame(this._containerRender)), this._updateRequested = !0, this._invalidated = !0);
      }, i.prototype.invalidateElement = function(e) {
        var t = Xe(this._doc);
        this._drawing || this._updateRequested || (this._requestTimer || (this._requestTimer = t.requestAnimationFrame(this._containerRender)), this._updateRequested = !0);
      }, i.prototype._render = function(e) {
        if (!this.disposing) {
          this._updateRequested = !1, this._drawing = !0;
          try {
            this._doBeforeRender(), this.$$_render(e);
          } finally {
            this._drawing = !1, this._invalidated = !1, this._requestTimer = null, this._doAfterRender();
          }
        }
      }, i.prototype.$$_render = function(e) {
        var t = this._containerDom, o = isNaN(this._testWidth) ? t.clientWidth : this._testWidth, r = isNaN(this._testHeight) ? t.clientHeight : this._testHeight;
        if (this._layoutChildren(new ue(0, 0, o, r)), this._layoutNeeded)
          try {
            this._doLayout(new ue(0, 0, o, r));
          } finally {
            this._layoutNeeded = !1;
          }
        else
          this._doPrepareRender(new ue(0, 0, o, r));
        this._doRenderHtml(new ue(0, 0, o, r));
      }, i.prototype._doLayout = function(e) {
      }, i.prototype._doAfterRender = function() {
      }, i.prototype._doPrepareRender = function(e) {
      }, i.prototype._doRenderHtml = function(e) {
        this._doDrawContainer(e), this._drawElement(this._rootElement), this._validateChildren(this._rootElement);
      }, i.prototype._doDrawContainer = function(e) {
      }, i.prototype._drawElement = function(e) {
        e.draw();
        for (var t = 0, o = e.childCount; t < o; t++) {
          var r = e.getChild(t);
          r.visible && this._drawElement(r);
        }
      }, i.prototype._validateChildren = function(e) {
        for (var t = 0, o = e.childCount; t < o; t++)
          e.getChild(t).validate();
      }, i.prototype._setFocusAndScroll = function(e) {
        e.setFocus ? e.setFocus() : e.focus && e.focus({ preventScroll: !0 });
      }, i.prototype._registerEventHandlers = function(e, t) {
        var o = b.isSlotMode() ? t.parentElement : be(e);
        e.style.cursor = this._defaultCursor, this.$_addListener(be(e), "resize", this._resizeHandler.bind(this), !1), this.$_addListener(o, "pointermove", this._pointerMoveHandler.bind(this), !1), this.$_addListener(o, "pointerup", this._pointerUpHandler.bind(this), !1), this.$_addListener(o, "focus", this._focusHandlerFireFox.bind(this), !0), this.$_addListener(o, "focusin", this._focusinHandler.bind(this), !0), this.$_addListener(o, "focusout", this._focusoutHandler.bind(this), !0), this.$_addListener(be(e), "pointerdown", this._globalPointerDownHandler.bind(this), !1), t && (this.$_addListener(t, "keydown", this._keyDownHandler.bind(this), !1), this.$_addListener(t, "keyup", this._keyUpHandler.bind(this), !1), this.$_addListener(t, "keypress", this._keyPressHandler.bind(this), !1)), this.$_addListener(e, "click", this._clickHandler.bind(this), !1), !b.isMobile() && this.$_addListener(e, "dblclick", this._dblclickHandler.bind(this), !1), this.$_addListener(e, "pointerdown", this._pointerDownHandler.bind(this), !1), this.$_addListener(e, "pointerenter", this._pointerEnterHandler.bind(this), !1), this.$_addListener(e, "pointerleave", this._pointerLeaveHandler.bind(this), !1), this.$_addListener(e, "pointerover", this._pointerOverHandler.bind(this), !1), this.$_addListener(e, "pointercancel", this._pointerCancelHandler.bind(this), !1), this.$_addListener(e, "focus", this._focusHandler.bind(this), !1), this.$_addListener(e, "contextmenu", this._contextMenuHander.bind(this), !1), this.$_addListener(e, "blur", this._blurHandler.bind(this), !1), this.$_addListener(e, "selectstart", this._selectstartHandler.bind(this), !1), this.$_addListener(e, "wheel", this._wheelHandler.bind(this), !!b.isPassive() && { capture: !1, passive: !1 }), this.$_addListener(e, "touchmove", this._touchMoveHandler.bind(this), !1);
      }, i.prototype.$_addListener = function(e, t, o, r) {
        e in this._eventHandlers || (this._eventHandlers[e] = {}), t in this._eventHandlers[e] || (this._eventHandlers[e][t] = []), this._eventHandlers[e][t].push([o, r]), e.addEventListener(t, o, r), this._eventNodes.indexOf(e) < 0 && this._eventNodes.push(e);
      }, i.prototype.$_removeListener = function(e, t, o) {
        if (e in this._eventHandlers) {
          var r = this._eventHandlers[e];
          if (t in r) {
            for (var n = r[t], s = n.length; s--; ) {
              var l = n[s];
              e.removeEventListener(t, l[0], l[1]), n.splice(s, 1);
            }
            o && delete r[t];
          }
        }
      }, i.prototype.$_removeListenerAll = function(e) {
        e === void 0 && (e = null);
        for (var t = e ? [e] : this._eventNodes, o = 0, r = t.length; o < r; o++) {
          var n = t[o];
          if (n in this._eventHandlers) {
            var s = this._eventHandlers[n];
            for (var l in s)
              for (var h = s[l], u = h.length; u--; ) {
                var c = h[u];
                n.removeEventListener(l, c[0], c[1]);
              }
          }
        }
      }, i.prototype.$_existListener = function(e, t) {
        var o = this._eventHandlers[e];
        return o && o[t];
      }, i.prototype.addMouseEvent = function(e) {
        this.$_addListener(this._rootElement._dom, "mousedown", this._mouseDownHandler.bind(this), { once: !0 }), this.$_addListener(this._rootElement._dom, "mouseup", this._mouseUpHandler.bind(this), { once: !0 });
      }, i.prototype.removeMouseEvent = function() {
        this.$_removeListener(this._rootElement._dom, "mousedown", !0), this.$_removeListener(this._rootElement._dom, "mouseup", !0);
      }, i.prototype._doResized = function(e) {
      }, i.prototype._isEnabled = function() {
        return this._activeTool && !this._disabled;
      }, i.prototype._isOutChildElement = function(e) {
        return !1;
      }, i.prototype.$_checkKeyElement = function(e) {
        var t = be(e.target);
        return e.target === e.currentTarget && e.target === this._containerDom || e.target instanceof t.HTMLTableCellElement && b.isAncestorOf(this._containerDom, e.target, e);
      }, i.prototype._keyDownHandler = function(e) {
        this._isEnabled() && this.$_checkKeyElement(e) && this._activeTool.keyDown(e);
      }, i.prototype._keyUpHandler = function(e) {
        this._isEnabled() && this.$_checkKeyElement(e) && this._activeTool.keyUp(e);
      }, i.prototype._keyPressHandler = function(e) {
        this._isEnabled() && this.$_checkKeyElement(e) && this._activeTool.keyPress(e);
      }, i.prototype.eventToContainer = function(e) {
        var t = this._containerDom.getBoundingClientRect();
        return new wi(e.clientX - t.left, e.clientY - t.top);
      }, i.prototype.toOffset = function(e) {
        var t = this._containerDom.getBoundingClientRect();
        return e.mouseX = e.clientX - t.left, e.mouseY = e.clientY - t.top, e;
      }, i.prototype.toOffsetTouch = function(e) {
        var t = this._containerDom.getBoundingClientRect(), o = e.touches[0] || e.changedTouches[0];
        return e.mouseX = o.clientX - t.left, e.mouseY = o.clientY - t.top, e;
      }, i.prototype._clickHandler = function(e) {
        this._isEnabled() ? this._activeTool.click(this.toOffset(e)) : e.preventDefault();
      }, i.prototype._dblclickHandler = function(e) {
        this._isEnabled() ? this._activeTool.dblclick(this.toOffset(e)) : e.preventDefault();
      }, i.prototype.$_setMouseTarget = function(e) {
        for (var t = be(this._containerDom), o = e.target; o && !(o instanceof t.HTMLElement); )
          o = o.parentElement || o.parentNode;
        this.activeTool._mouseEventTarget = o instanceof t.HTMLElement ? o : null;
      }, i.prototype._pointerDownHandler = function(e) {
        if (e.isPrimary)
          if (this._isEnabled()) {
            i.$_mouseContainer = this.$_hash, this.toOffset(e), this._currentX = e.mouseX, this._currentY = e.mouseY;
            var t = this.findElementAt(this._currentX, this._currentY, !1);
            t && t.getAncestor(Lr) ? (this.activeTool.setFocus(), this.activeTool !== this._scrollTool && (this._scrollTool._previous = this.activeTool), this.activeTool = this._scrollTool) : this.activeTool || (this.activeTool !== this._defaultTool && (this._defaultTool._previous = this.activeTool), this.activeTool = this._defaultTool), this.$_setMouseTarget(e), this.activeTool.pointerDown(e);
          } else
            e.preventDefault();
      }, i.prototype._mouseDownHandler = function(e) {
        if (this._isEnabled()) {
          i.$_mouseContainer = this.$_hash, this.toOffset(e), this._currentX = e.mouseX, this._currentY = e.mouseY;
          var t = this.findElementAt(this._currentX, this._currentY, !1);
          t && t.getAncestor(Lr) ? (this.activeTool.setFocus(), this.activeTool !== this._scrollTool && (this._scrollTool._previous = this.activeTool), this.activeTool = this._scrollTool) : this.activeTool || (this.activeTool !== this._defaultTool && (this._defaultTool._previous = this.activeTool), this.activeTool = this._defaultTool), this.$_setMouseTarget(e), this.activeTool.mouseDown(e);
        } else
          e.preventDefault();
      }, i.prototype._mouseUpHandler = function(e) {
        this.removeMouseEvent(), this.$_pointerUpHandler(e);
      }, i.prototype._pointerMoveHandler = function(e) {
        var t;
        if (this._containerDom.parentElement && e.isPrimary && (this.toOffset(e), this._currentX = e.mouseX, this._currentY = e.mouseY, this._isEnabled())) {
          t = this._activeTool, this.$_setMouseTarget(e), t.pointerMove(e);
          var o = t.dragTracker;
          if (o && o.linkable && i.$_mouseContainer == this.$_hash)
            for (var r in i.$_Containers) {
              var n = i.$_Containers[r];
              n !== this && (t = n._activeTool) && t.dragFrom(e, o);
            }
        }
      }, i.prototype.$_pointerUpHandler = function(e) {
        var t = i.$_mouseContainer == this.$_hash, o = this._activeTool;
        try {
          if (this.toOffset(e), this._currentX = e.mouseX, this._currentY = e.mouseY, this._isEnabled()) {
            var r = o.dragTracker;
            if (this.$_setMouseTarget(e), o.pointerUp(e), o instanceof Fl && (this.activeTool = o.previous), r && r.linkable && t) {
              var n = this.findContainer(e);
              if (n && n !== this) {
                var s = n._activeTool;
                s && s.dropFrom(e, r);
              }
            }
          } else
            e.preventDefault();
        } finally {
          o && (this.setCursor("default"), o.dragTracker = null), t && (i.$_mouseContainer = -1);
        }
      }, i.prototype._pointerUpHandler = function(e) {
        e.isPrimary && (!this.activeTool.dragging && this.$_existListener(this._rootElement._dom, "mouseup") || (this.removeMouseEvent(), this.$_pointerUpHandler(e)));
      }, i.prototype._pointerEnterHandler = function(e) {
        this._isEnabled() && this._activeTool.mouseEnter(this.toOffset(e));
      }, i.prototype._pointerLeaveHandler = function(e) {
        this._isEnabled() && this._activeTool.mouseLeave(this.toOffset(e));
      }, i.prototype._pointerOverHandler = function(e) {
        this._isEnabled() && this._activeTool.mouseOver(this.toOffset(e));
      }, i.prototype._pointerCancelHandler = function(e) {
        this._isEnabled() && this._activeTool.pointerCancel(this.toOffset(e));
      }, i.prototype._contextMenuHander = function(e) {
        this.toOffset(e), this._currentX = e.mouseX, this._currentY = e.mouseY, this._isEnabled() && (this.$_setMouseTarget(e), this._activeTool.contextMenu(this.toOffset(e)));
      }, i.prototype._wheelHandler = function(e) {
        this._isEnabled() && (this.$_setMouseTarget(e), this._activeTool.mouseWheel(this.toOffset(e)) && b.stopEvent(e));
      }, i.prototype._focusHandler = function(e) {
      }, i.prototype._blurHandler = function(e) {
      }, i.prototype._selectstartHandler = function(e) {
        return !1;
      }, i.prototype._focusinHandler = function(e) {
      }, i.prototype._globalPointerDownHandler = function(e) {
        b.isAncestorOf(this._containerDiv, e.target, e) || this._isOutChildElement(e) || (this._focused = !1, this._isEnabled() && this._activeTool.focusLeave(e));
      }, i.prototype._focusoutHandler = function(e) {
        var t = e.relatedTarget;
        if (b.isAncestorOf(this._containerDiv, e.target, e) && t && !b.isAncestorOf(this._containerDiv, t, e) && !this._isOutChildElement(e)) {
          if (!t && !e.sourceCapabilities)
            return;
          this._focused = !1, this._isEnabled() && this._activeTool.focusLeave(e);
        }
      }, i.prototype._focusHandlerFireFox = function(e) {
        e.target === this._containerDom || b.isAncestorOf(this._containerDom, e.target, e) ? this._isEnabled() && (this._focused = !0, this._activeTool.setFocus(e.target)) : this._isOutChildElement(e) || (this._containerDom.setAttribute("tabindex", "0"), this._focused = !1);
      }, i.prototype._touchMoveHandler = function(e) {
        if (!(e.touches.length > 1))
          return this.toOffsetTouch(e), this._activeTool.touchMove(e);
      }, i.$_Containers = {}, i.$_mouseContainer = -1, i.$_ActiveGrid = null, i;
    }(Be), cs = function(a) {
      function i(e, t, o) {
        o === void 0 && (o = "gridHeadCellView");
        var r = a.call(this, e, o) || this;
        return r._text = "", r._styleName = "", r._textChanged = !1, r._model = t, r;
      }
      return w(i, a), Object.defineProperty(i.prototype, "model", { get: function() {
        return this._model;
      }, enumerable: !1, configurable: !0 }), i.prototype.setStyleName = function(e, t, o) {
        o == this._styleName && t == this._cellDom || (this._styleName = o, this._className = "", this._setClassName(e));
      }, i.prototype._getCssSelector = function() {
        return this._styleName;
      }, i.prototype._clearCellCache = function() {
        a.prototype._clearCellCache.call(this), this._textChanged = !0;
      }, i.prototype._doPrepareValue = function(e, t) {
        this._model.headText != this._text && (this._text = this._model.headText || "", this._textChanged = !0);
      }, i.prototype._doUpdateContent = function(e, t, o) {
        this._textChanged && (this._textChanged = !1, o[b.TextProp] = this._text);
      }, i;
    }(ni), up = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t, "chekHeadCellView") || this;
        return o._checked = !1, o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "checked", { get: function() {
        return this._checked;
      }, set: function(e) {
        this._checked = e;
      }, enumerable: !1, configurable: !0 }), i.prototype._clearCellCache = function() {
        this._check = this._image = this._span = this._label = null;
      }, i.prototype._doUpdateContent = function(e, t, o) {
        var r, n = e.doc, s = this.model, l = s.showAll && !s.exclusive;
        if (l && !this._check) {
          var h = this._check = n.createElement("input");
          h.id = "$$-grid-head-check-" + this.model.$_hash, r = h.style, h.type = "checkbox", h.className = "rg-checkbox", h.tabIndex = -1, r.display = s.useImages ? "none" : "inline-block", o.appendChild(h);
          var u = this._image = n.createElement("span");
          (r = u.style).display = s.useImages ? "inline-block" : "none", o.appendChild(u);
          var c = this._label = n.createElement("label");
          c.setAttribute("for", this._check.id), c[b.TextProp] = "grid head check", (r = c.style).display = "none", o.appendChild(c);
        }
        if (l ? (this._check.style.display = s.useImages ? "none" : "inline-block", this._image.style.display = s.useImages ? "inline-block" : "none", this._image.className = this._checked ? "rg-checkbar-head-checked" : "rg-checkbar-head-unchecked", this._check.checked = this._checked) : (b.detach(this._check), b.detach(this._image), b.detach(this._label), this._check = this._image = this._label = null), this._textChanged && (this._span || (this._span = n.createElement("span"), this._span.style.display = "block", o.appendChild(this._span)), this._span[b.TextProp] = this._text), l && this._span && this._text) {
          var d = s.useImages ? this._image : this._check, p = this._span, _ = d.parentElement, g = s.itemGap != null ? s.itemGap + "px" : "5px";
          switch ((r = p.style).margin = "", s.checkLocation) {
            case f.ColumnHeaderItemLocation.BOTTOM:
              _.insertBefore(p, d), r.display = "block", r.marginBottom = g;
              break;
            case f.ColumnHeaderItemLocation.LEFT:
              _.insertBefore(d, p), r.display = "inline-block", r.marginLeft = g;
              break;
            case f.ColumnHeaderItemLocation.RIGHT:
              _.insertBefore(p, d), r.display = "inline-block", r.marginRight = g;
              break;
            case f.ColumnHeaderItemLocation.TOP:
            default:
              _.insertBefore(d, p), r.display = "block", r.marginTop = g;
          }
        }
      }, i.prototype.$_updateContent = function() {
        var e = this.model;
        e.showAll && !e.exclusive && this._check && (this._check.checked = this._checked, this._image.className = this._checked ? "rg-checkbar-head-checked" : "rg-checkbar-head-unchecked");
      }, i;
    }(cs), ds = function(a) {
      function i(e) {
        var t = a.call(this, e.doc, null, "gridHeadView") || this;
        t._cells = [];
        var o = e.doc;
        return t.addChild(t._indicatorCell = new cs(o, e.rowIndicator)), t.addChild(t._stateCell = new cs(o, e.stateBar)), t.addChild(t._checkCell = new up(o, e.checkBar)), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cells = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "allChecked", { get: function() {
        return this._checkCell.checked;
      }, set: function(e) {
        var t = this._checkCell;
        t.checked = e, t.$_updateContent();
      }, enumerable: !1, configurable: !0 }), i.prototype.getHeadModel = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          if (e === this._getTableCell(0, t))
            return this._cells[t].model;
      }, i.prototype.getCellType = function(e) {
        var t = this.getHeadModel(e);
        return t instanceof Di ? t.getCellType() : void 0;
      }, i.prototype._getCssSelector = function() {
        return "rg-head";
      }, i.prototype._doPrepareTableExtents = function(e) {
        var t, o = e.grid.rowBarContainer, r = e.sectionObjects;
        this._cells = [];
        for (var n = 0, s = r; n < s.length; n++) {
          var l = s[n];
          l instanceof oo && (((t = this._indicatorCell).visible = t.model.visible) ? (this._cells.push(t), t.width = o.rowIndicator.width) : t.removeCellDom()), l instanceof ro && (((t = this._stateCell).visible = t.model.visible) ? (this._cells.push(t), t.width = o.stateBar.width) : t.removeCellDom()), l instanceof no && (((t = this._checkCell).visible = t.model.visible) ? (this._cells.push(t), t.width = o.checkBar.width) : t.removeCellDom(!0));
        }
      }, i.prototype._prepareCellContent = function(e, t) {
        return this.grid.doc.createElement("div");
      }, i.prototype._doLayoutContent = function(e) {
        var t = e.grid, o = this._cells.length;
        this._getTableRowCount(e);
        for (var r = this._thead, n = r && r.children[0], s = 0; s < o; s++) {
          var l = this._cells[s], h = l.model;
          if (h.dirty || l._dirty || t._columnsDirty) {
            var u = h.getHeadCell(), c = this._getTableCell(0, s), d = c.firstElementChild, p = this.$_getCellSelector() + " " + h.getHeadStyleName();
            if (n) {
              var _ = n.children[s];
              _ && (_[b.TextProp] = h.getCellType() + " head");
            }
            l.setStyleName(c, d, p), l.updateCell(t, u, d);
          }
        }
      }, i.prototype._doRender = function(e) {
      }, i.prototype._doDraw = function(e) {
        this._cells.forEach(function(t) {
          t.validate();
        });
      }, i.prototype._getTableRowCount = function(e) {
        return 1;
      }, i.prototype._getTableRowHeight = function(e, t) {
        return this.height;
      }, i.prototype._getCellCount = function(e) {
        return this._cells.length;
      }, i.prototype._getCellWidth = function(e, t) {
        return this._cells[t].width;
      }, i.prototype._doPrepareTableRow = function(e, t, o, r) {
        a.prototype._doPrepareTableRow.call(this, e, t, o, r);
        var n = e.grid.header.styleName;
        b.setClassName(r, n);
      }, i.prototype.$_getCellSelector = function() {
        return i.CELL_CSS;
      }, i.CELL_CSS = "rg-head-cell", i;
    }(xi), cp = function(a) {
      function i(e) {
        var t = a.call(this, e, "gridFootCellView") || this;
        return t._text = "", t._styleName = "", t._textChanged = !1, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "model", { get: function() {
        return this._model;
      }, set: function(e) {
        e !== this._model && (this._model = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, set: function(e) {
        e != this._text && (this._text = e || "", this._textChanged = !0, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.setStyleName = function(e, t) {
        t != this._styleName && (this._styleName = t, this._setClassName(e));
      }, i.prototype._getCssSelector = function() {
        return this._styleName;
      }, i.prototype._doUpdateContent = function(e, t, o) {
        this._textChanged && (this._textChanged = !1, o[b.TextProp] = this._text);
      }, i.prototype._doRender = function(e) {
      }, i;
    }(ni), Nl = function(a) {
      function i(e) {
        var t = a.call(this, e, null, "gridFootView") || this;
        t._cells = [], t._count = 0;
        for (var o = 0; o < 3; o++)
          t.addChild(t._cells[o] = new cp(e));
        return t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cells = null, a.prototype._doDispose.call(this);
      }, i.prototype.getFootModel = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          if (e === this._getTableCell(0, t))
            return this._cells[t].model;
      }, i.prototype.getCellType = function(e) {
        var t = this.getFootModel(e);
        return t instanceof Di ? t.getCellType() : void 0;
      }, i.prototype._getCssSelector = function() {
        return "rg-foot";
      }, i.prototype._doPrepareTableExtents = function(e) {
        var t, o = e.grid.rowBarContainer, r = e.sectionObjects;
        this._count = 0;
        for (var n = 0, s = r; n < s.length; n++) {
          var l = s[n];
          l.visible && ((t = this._cells[this._count++]).model = l, l instanceof oo ? t.width = o.rowIndicator.width : l instanceof ro ? t.width = o.stateBar.width : l instanceof no && (t.width = o.checkBar.width));
        }
      }, i.prototype._prepareCellContent = function(e, t) {
        return this.grid.doc.createElement("div");
      }, i.prototype._doLayoutContent = function(e) {
        for (var t = e.grid, o = this._count, r = this._thead, n = r && r.children[0]; this.childCount < o; )
          this.addChild(this._cells[this.childCount]);
        for (; this.childCount > o; )
          this.removeLast();
        for (var s = 0; s < o; s++) {
          var l = this.getChild(s), h = l.model;
          if (h.dirty) {
            var u = h.getFootCell(), c = this._getTableCell(0, s), d = c.firstElementChild, p = this.$_getCellSelector() + " " + h.getFootStyleName();
            if (n) {
              var _ = n.children[s];
              _ && (_[b.TextProp] = h.getCellType() + " foot");
            }
            l.setStyleName(c, p), l.text = h.footText, l.updateCell(t, u, d);
          }
        }
      }, i.prototype._doRender = function(e) {
      }, i.prototype._doDraw = function(e) {
        this._cells.forEach(function(t) {
          t.validate();
        });
      }, i.prototype._getTableRowCount = function(e) {
        return 1;
      }, i.prototype._getTableRowHeight = function(e, t) {
        return this.height;
      }, i.prototype._getCellCount = function(e) {
        return this._count;
      }, i.prototype._getCellWidth = function(e, t) {
        return this._cells[t].width;
      }, i.prototype.$_getCellSelector = function() {
        return i.CELL_CSS;
      }, i.CELL_CSS = "rg-foot-cell", i;
    }(xi), dp = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._numberFormat = Pt.DEFAULT_FORMAT, t._datetimeFormat = Ne.DEFAULT_FORMAT, t._datetimeWriter = Ne.Default, t._numberFormatter = Pt.Default, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "textFormat", { get: function() {
        return this._textFormat;
      }, set: function(e) {
        e != this._textFormat && (this._textFormat = e, this._textFormatter = e ? io.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeFormat", { get: function() {
        return this._datetimeFormat;
      }, set: function(e) {
        e != this._datetimeFormat && (this._datetimeFormat = e, this._datetimeWriter = e ? Ne.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberFormat", { get: function() {
        return this._numberFormat;
      }, set: function(e) {
        e != this._numberFormat && (this._numberFormat = e, this._numberFormatter = e ? Pt.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        e != this._booleanFormat && (this._booleanFormat = e, this._boolFormatter = e ? Ht.getFormatter(e) : null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textFormatter", { get: function() {
        return this._textFormatter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberFormatter", { get: function() {
        return this._numberFormatter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeWriter", { get: function() {
        return this._datetimeWriter;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "boolFormatter", { get: function() {
        return this._boolFormatter;
      }, enumerable: !1, configurable: !0 }), i;
    }(lt), jo = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._message = "", t._visible = !0, t._zIndex = void 0, t._styleName = "rg-toast", e && t.assignFrom(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "message", { get: function() {
        return this._message;
      }, set: function(e) {
        this._message = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._visible;
      }, set: function(e) {
        e != this._visible && (this._visible = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "zIndex", { get: function() {
        return this._zIndex;
      }, set: function(e) {
        e != this._zIndex && (this._zIndex = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName;
      }, set: function(e) {
        this._styleName = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.assignFrom = function(e) {
        typeof e == "string" ? (this._message = e, this._message && (this._visible = !0)) : typeof e == "boolean" ? this._visible = e : a.prototype.assignFrom.call(this, e);
      }, i;
    }(J), pp = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._minWidth = 0, t._maxWidth = 0, t._dropdownCount = 8, t._showing = !1, t._container = e, t._element = t.$_createElement(e.doc), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "minWidth", { get: function() {
        return this._minWidth;
      }, set: function(e) {
        this._minWidth = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxWidth", { get: function() {
        return this._maxWidth;
      }, set: function(e) {
        this._maxWidth = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownCount", { get: function() {
        return this._dropdownCount;
      }, set: function(e) {
        this._dropdownCount = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.show = function(e) {
        this._showing = !0;
        try {
          this.$_show(e);
        } finally {
          this._showing = !1;
        }
      }, i.prototype.hide = function() {
        var e = this._element;
        e && e.parentNode && this._container._container.removeChild(e);
      }, i.prototype.$_createElement = function(e) {
        var t = e.createElement("div");
        t.onkeydown = function(r) {
          r.keyCode == 27 && this.hide();
        }.bind(this), this.$_disableSelection(t);
        var o = this._span = e.createElement("span");
        return this.$_disableSelection(o), t.appendChild(o), t;
      }, i.prototype.$_show = function(e) {
        var t = e.message;
        if (t) {
          var o = this._element;
          if (o) {
            var r = this._span, n = this._container._gridView.displayOptions;
            r.innerHTML = t, o.className = e.styleName, o.style.position = "absolute", o.style.overflow = "hidden", o.style.zIndex = e.zIndex != null ? e.zIndex : n.toastZIndex, this._container._container.appendChild(o);
            var s = b.getBoundingClientRect2(o), l = b.getBoundingClientRect2(this._container._container), h = s.width + 10, u = s.height + 10, c = l.width, d = l.height;
            o.style.left = (c - h) / 2 + "px", o.style.top = (d - u) / 2 + "px";
          }
        }
      }, i.prototype.$_disableSelection = function(e) {
        e.onselectstart !== void 0 ? e.onselectstart = function() {
          return !1;
        } : e.style.MozUserSelect !== void 0 ? e.style.MozUserSelect = "none" : e.onmousedown = function() {
          return !1;
        };
      }, i;
    }(J), fp = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._active = !1, t._container = e.container, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._active;
      }, enumerable: !1, configurable: !0 }), i.prototype.show = function(e, t, o) {
        if ((!this._active || t) && (this.close(), (e = e instanceof jo ? e : e ? new jo(e) : null) && e.visible))
          return this._toast || (this._toast = new pp(this._container)), this._toast.show(e), this._active = !0, void (o && setTimeout(function() {
            try {
              o();
            } finally {
              this.close();
            }
          }.bind(this), 0));
        o && o();
      }, i.prototype.close = function() {
        this._active && (this._toast && this._toast.hide(), this._active = !1);
      }, i;
    }(J), _p = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._enabled = !0, t._style = f.SortStyle.EXCLUSIVE, t._handleVisibility = f.HandleVisibility.VISIBLE, t._commitBeforeSorting = !0, t._toast = new jo({ visible: !1, message: "Sorting..." }), t._keepFocusedRow = !1, t._textCase = f.SortCase.SENSITIVE, t._showSortOrder = !1, t._pageSorting = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._toast = this._toast.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "enabled", { get: function() {
        return this._enabled;
      }, set: function(e) {
        e != this._enabled && (this._enabled = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "style", { get: function() {
        return this._style;
      }, set: function(e) {
        e != this._style && (this._style = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "handleVisibility", { get: function() {
        return this._handleVisibility;
      }, set: function(e) {
        e != this._handleVisibility && (this._handleVisibility = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitBeforeSorting", { get: function() {
        return this._commitBeforeSorting;
      }, set: function(e) {
        e != this._commitBeforeSorting && (this._commitBeforeSorting = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "keepFocusedRow", { get: function() {
        return this._keepFocusedRow;
      }, set: function(e) {
        e != this._keepFocusedRow && (this._keepFocusedRow = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textCase", { get: function() {
        return this._textCase;
      }, set: function(e) {
        e != this._textCase && (this._textCase = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showSortOrder", { get: function() {
        return this._showSortOrder;
      }, set: function(e) {
        e != this._showSortOrder && (this._showSortOrder = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pageSorting", { get: function() {
        return this._pageSorting;
      }, set: function(e) {
        e != this._pageSorting && (this._pageSorting = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "toast", { get: function() {
        return this._toast;
      }, enumerable: !1, configurable: !0 }), i;
    }(lt), ho = function(a) {
      function i(e, t) {
        return t === void 0 && (t = null), a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        for (var e = this.parent; e; ) {
          if (e instanceof li)
            return e;
          e = e.parent;
        }
        return null;
      }, enumerable: !1, configurable: !0 }), i.prototype.measure = function(e, t, o) {
        return this._doMeasure(e, t, o);
      }, i.prototype.layoutContent = function(e, t, o) {
        this._doLayoutContent(e, t, o);
      }, i.prototype._doMeasure = function(e, t, o) {
        return new Xt(t, o);
      }, i.prototype._doLayoutContent = function(e, t, o) {
      }, i;
    }(Ve), gp = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e);
      }, i;
    }(ho), Vl = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i;
    }(ho), yp = function(a) {
      function i(e) {
        var t = a.call(this, e.doc, "fixedColumnBar") || this;
        return t._grid = e, t;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return ri.COLUMN_BAR_STYLE;
      }, i;
    }(Ve), $l = function(a) {
      function i(e, t) {
        return t === void 0 && (t = null), a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.layoutBars = function(e, t, o) {
        this._layoutBars(e, t, o);
      }, i.prototype._doLayoutContent = function(e, t, o) {
        this._barView || (this._barView = this._createBar(e.grid), this.addChild(this._barView), this._barView2 = this._createBar(e.grid), this.addChild(this._barView2)), a.prototype._doLayoutContent.call(this, e, t, o);
      }, i.prototype._createBar = function(e) {
        return new yp(e);
      }, i.prototype._layoutBars = function(e, t, o) {
        var r = e.fixedBarWidth, n = e.footBounds.height;
        if (this._barView.visible = r > 0, this._barView2.visible = !1, this._barView.visible) {
          var s = Math.min(o - n, e.dataBounds.bottom);
          this._barView.setBounds(t - r, 0, r, s), n > 0 && (this._barView2.visible = !0, this._barView2.setBounds(t - r, o - n, r, n));
        }
      }, i;
    }(Vl), mp = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-right-column-bar";
      }, i;
    }(Ve), bp = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._createBar = function() {
        return new mp(this.doc, "rightColumnBar");
      }, i.prototype._layoutBars = function(e, t, o) {
        var r = e.rightBarWidth, n = e.footBounds.height;
        if (this._barView.visible = r > 0, this._barView2.visible = !1, this._barView.visible) {
          var s = Math.min(o - n, e.dataBounds.bottom);
          this._barView.setBounds(0, 0, r, s), n > 0 && (this._barView2.visible = !0, this._barView2.setBounds(0, o - n, r, n));
        }
      }, i;
    }($l);
    (function(a) {
      function i(e, t) {
        t === void 0 && (t = null);
        var o = a.call(this, e, t) || this;
        return o.visible = !1, o;
      }
      w(i, a), Object.defineProperty(i.prototype, "message", { get: function() {
        return this._message;
      }, set: function(e) {
        e != this._message && (this._message = e, this._dom.innerHTML = e, this.invalidate());
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
        return "rg-message-pane";
      }, i.prototype._doLayoutContent = function(e, t, o) {
        a.prototype._doLayoutContent.call(this, e, t, o);
      };
    })(ho), f.TimeSelectType = void 0, (Dr = f.TimeSelectType || (f.TimeSelectType = {})).NONE = "none", Dr.HOUR = "hour", Dr.MINUTE = "minute", Dr.SECOND = "second";
    var Ye, Al = /[ㄱ-ㅎㅏ-ㅣ가-힝]/g, ps = function(a) {
      if (!a)
        return null;
      (a = String(a)) && (a = a.replace(/[^0-9]/g, ""));
      var i = parseInt(a.substr(0, 4)), e = parseInt(a.substr(4, 2));
      if (isNaN(i) || i <= 0 || isNaN(e) || e < 0)
        return null;
      var t = new Date(i, 0, 1), o = 4 - t.getDay() + 1;
      return t.setDate(o), t.getFullYear() == i && e--, o = 7 * e, t.setDate(t.getDate() + o), t;
    }, Ho = function(a, i, e) {
      var t, o = function(u) {
        var c = new Date(u), d = c.getDay();
        d = d < i ? -3 - d : 4 - d;
        var p = c.getDate();
        return c.setDate(p + d), c;
      }, r = a.getFullYear(), n = o(new Date(r, 0, 1)), s = o(new Date(r, a.getMonth(), a.getDate())), l = n.getFullYear(), h = s.getFullYear();
      return h < r ? (n = o(new Date(l, 0, 1)), t = Math.ceil((s.valueOf() - n.valueOf()) / 6048e5) + (n.getFullYear() === h ? 1 : 0)) : t = h > r ? 1 : Math.ceil((s.valueOf() - n.valueOf()) / 6048e5) + (l === h ? 1 : 0), String(h) + (e ?? "") + (t < 10 ? "0" + t : String(t));
    }, jl = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._tooltips = [], t._items = [], t._enabled = !0, t._owner = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._owner = null, this._tooltips = null, this._items = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "tooltips", { get: function() {
        return this._tooltips;
      }, set: function(e) {
        this._tooltips = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "items", { get: function() {
        return this._items;
      }, set: function(e) {
        this._items = e.slice();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enabled", { get: function() {
        return this._enabled;
      }, set: function(e) {
        this._enabled = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items && this._items.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName || "";
      }, set: function(e) {
        this._styleName = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.load = function(e) {
        this.clear();
      }, i.prototype.clear = function() {
        this._items = [], this._tooltips = [];
      }, i.prototype.contains = function(e) {
        return !1;
      }, i.prototype.getTooltip = function(e) {
        return null;
      }, i;
    }(J), vp = function(a) {
      function i(e, t) {
        var o = a.call(this, e) || this;
        return t && o.load(t), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.load = function(e) {
        if (a.prototype.load.call(this, e), e) {
          var t = b.makeArray(e.dates, !0);
          e.tooltips = b.makeArray(e.tooltips, !0);
          for (var o = 0, r = t.length; o < r; o++) {
            var n = t[o], s = void 0;
            if (n instanceof Date || typeof n == "number")
              (s = new Date(n)).setHours(0, 0, 0, 0);
            else if (typeof n == "string") {
              n.length !== 4 && n.length !== 8 || !/^[0-9]*$/.test(n) || (n = n.length === 4 ? n.replace(/(\d{2})(\d{2})/, "$1/$2") : n.replace(/(\d{4})(\d{2})(\d{2})/, "$1/$2/$3"));
              var l = n.split(/[.//-]/);
              if (l.length == 2)
                try {
                  s = parseInt(l[0]).toString() + "/" + parseInt(l[1]).toString();
                } catch {
                  b.log("잘못된 날짜형식 (".concat(n, ")"));
                }
              else
                l.length == 3 && (s = pi.getSimpleDateNull(n));
            }
            s && (this._items.push(s), e.tooltips[o] && this._tooltips.push(e.tooltips[o]));
          }
          e.enabled != null && (this.enabled = !!e.enabled), this.styleName = e.styleName;
        }
      }, i.prototype.getItemIndex = function(e) {
        for (var t = 0, o = this._items.length; t < o; t++) {
          var r = this._items[t];
          if (r instanceof Date && r.getFullYear() === e.getFullYear() && r.getMonth() === e.getMonth() && r.getDate() === e.getDate() || r === e.getMonth() + 1 + "/" + e.getDate())
            return t;
        }
        return -1;
      }, i.prototype.contains = function(e) {
        return this.getItemIndex(e) >= 0;
      }, i.prototype.getTooltip = function(e) {
        var t = this.getItemIndex(e);
        return t >= 0 ? this._tooltips[t] : null;
      }, i;
    }(jl), wp = function(a) {
      function i(e, t) {
        var o = a.call(this, e) || this;
        return t && o.load(t), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.load = function(e) {
        a.prototype.load.call(this, e), e && (this._items = b.makeArray(e.days, !0), this._tooltips = b.makeArray(e.tooltips, !0), this.enabled = !!e.enabled, this.styleName = e.styleName);
      }, i.prototype.contains = function(e) {
        return e instanceof Date && this._items.indexOf(e.getDay()) >= 0;
      }, i.prototype.getTooltip = function(e) {
        var t = e instanceof Date ? this._items.indexOf(e.getDay()) : this._items.indexOf(e);
        return t >= 0 ? this._tooltips[t] : null;
      }, i;
    }(jl), fs = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._items = [], e._count = -1, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._editor = null, this._items = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "items", { get: function() {
        return this._items;
      }, set: function(e) {
        this._items = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editor", { get: function() {
        return this._editor;
      }, set: function(e) {
        this._editor = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isNull", { get: function() {
        return this._count == -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._count;
      }, enumerable: !1, configurable: !0 }), i.prototype.setNull = function() {
        this.clear();
      }, i.prototype.clear = function() {
        for (var e = 0, t = this._items.length; e < t; e++)
          this._items[e].clear();
        this._items = [], this._count = -1;
      }, i.prototype.load = function(e) {
        if (this.clear(), e) {
          for (var t = 0, o = (e = b.isArray(e) ? e : [e]).length; t < o; t++) {
            var r = e[t], n = void 0;
            switch (r.type) {
              case "day":
                n = new wp(this, r);
                break;
              case "date":
                n = new vp(this, r);
            }
            n.count > 0 && this._items.push(n);
          }
          this._count = this._items.length;
        } else
          this._count = -1;
      }, i.prototype.contains = function(e) {
        for (var t = 0, o = this._items.length; t < o; t++)
          if (this._items[t].contains(e))
            return this._items[t];
        return null;
      }, i;
    }(J);
    (function(a) {
      a.DAY = "day", a.MONTH = "month", a.YEAR = "year";
    })(Ye || (Ye = {}));
    var Hl = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._minWidth = 0, o._maxWidth = 0, o._dropDownPosition = f.DropDownPosition.BUTTON, o._showToday = !0, o._viewGridInside = !1, o._showWeeks = !1, o._startWeek = 0, o._weekSelectable = !1, o._weekSeparator = "", o._currentMode = Ye.DAY, o._date = /* @__PURE__ */ new Date(), o._selected = !1, o._focused = !0, o._canceled = !1, o._touchs = null, o._applyTouchs = null, o._clickHandler = function(r) {
          var n = o.$_getCellDate(o._currDate, r.currentTarget.$_day + 1);
          if (o._editor.containsRange(n)) {
            var s = o._holidays && o._holidays.contains(n);
            s && !s.enabled || (o.date = new Date(n), o._selected = !0, o.focused = !0, o._editor.$_selectDate(o._date), !o.showButtons && o._editor.timeSelectType === f.TimeSelectType.NONE && o.fireEvent(i.CLOSE_UP, !0));
          }
        }, o._dblClickHandler = function(r) {
          o.fireEvent(i.CLOSE_UP, !0);
        }, o._yearWeekClickHandler = function(r) {
          var n, s = r.currentTarget.$_yearWeek;
          s && (n = ps(s)), n && this._editor.containsRange(n) && (this._date = new Date(n), this._selected = !0, this._editor.$_selectDate(this._date), !this.showButtons && this.fireEvent(i.CLOSE_UP, !0));
        }.bind(o), o._mouseupHandler = function(r) {
          !this._isMobile && this._editor.setFocus();
        }.bind(o), o._timeWheelHandler = function(r) {
          b.stopEvent(r), o._doTimeWheel(r);
        }, o._timeClickHandler = function(r) {
          b.stopEvent(r), o._doTimeClick(r);
        }, o._touchStartHandler = function(r) {
          o._touchs = [], o._applyTouchs = [], o._swipeTimer = clearInterval(o._swipeTimer), r.touches.length != 1 && (o._touchId = void 0), o._touchId = r.touches[0].identifier;
          var n = r.touches[0];
          o._touchs.push({ x: n.clientX, y: n.clientY, t: r.timeStamp }), o._applyTouchs.push({ x: n.clientX, y: n.clientY, t: r.timeStamp });
        }, o._touchEndHandler = function(r) {
          o._checkSwipe(r.target), o._touchs = o._applyTouchs = null;
        }, o._touchMoveHandler = function(r) {
          if (!(r.touches.length > 1)) {
            b.stopEvent(r);
            var n = o._touchs, s = o._applyTouchs, l = r.touches[0], h = { x: l.clientX, y: l.clientY, t: r.timeStamp };
            n.push(h), s.push(h);
            var u = s[0].y, c = s[s.length - 1].y;
            Math.abs(u - c) > 13 && (o._applyTouchs = [], o._doTimeScroll(r.target, u - c));
          }
        }, o._checkSwipe = function(r) {
          var n = o._touchs, s = n.length;
          if (!(s < 2)) {
            for (var l = n[s - 1], h = n[s - 2], u = s - 3; u >= 0 && !(l.t - h.t > 100); u--)
              h = n[u];
            var c = h.x, d = h.y, p = l.x, _ = l.y, g = Math.sqrt(Math.pow(c - p, 2) + Math.pow(d - _, 2)) / Math.max(16, l.t - h.t), y = 0.998;
            if (g > 0.1) {
              var m = Math.log(0.1 / g) / Math.log(y), v = g * (1 - Math.pow(y, m + 1)) / (1 - y), C = "right", x = Math.round(180 * Math.atan2(_ - d, p - c) / Math.PI);
              return x < 0 && (x = 360 + x), x > 45 && x <= 135 ? C = "bottom" : x > 135 && x <= 225 ? C = "left" : x > 225 && x <= 315 && (C = "top"), o.onSwipeHandler(m, v, C, r);
            }
            return !1;
          }
        }, o.$_scrollRow = function() {
          b.getTimer() - o._swipeStarted < o._swipeDuration ? o._doTimeScroll(o._swipeTarget, o._swipeDistance) : o._swipeTimer = clearInterval(o._swipeTimer);
        }, o.$_nextMonth = function(r) {
          b.incMonth(o._currDate, 1), o.$_buildCalendar();
        }, o.$_prevMonth = function(r) {
          b.incMonth(o._currDate, -1), o.$_buildCalendar();
        }, o.$_nextYearMonth = function(r) {
          b.incYear(o._currDate, 1), o.$_buildMonths();
        }, o.$_prevYearMonth = function(r) {
          b.incYear(o._currDate, -1), o.$_buildMonths();
        }, o.$_nextYear = function() {
          var r = o._yearTable.tBodies[0].rows[2].cells[3], n = parseInt(r.getAttribute("year"));
          o.$_buildYear(n);
        }, o.$_prevYear = function() {
          var r = o._yearTable.tBodies[0].rows[0].cells[0], n = parseInt(r.getAttribute("year")) - 4;
          o.$_buildYear(n);
        }, o._editor = t, o._container = e, o._yearDisplayFormat = t.yearDisplayFormat, o._monthDisplayFormat = t.monthDisplayFormat, o._months = t.months, o._weekDays = b.week_days, o._element = o.$_createPicker(t), o._element.addEventListener("pointerup", o._mouseupHandler), o;
      }
      return w(i, a), i.prototype.onSwipeHandler = function(e, t, o, r) {
        this._swipeDuration = e, this._swipeStarted = b.getTimer(), this._swipeTarget = r;
        var n = 1;
        switch (o) {
          case "bottom":
            n = -1;
          case "top":
            this._swipeDistance = n * t / 20, this._swipeTimer = setInterval(this.$_scrollRow, 40);
        }
        return !0;
      }, i.prototype._doDispose = function() {
        var e = this;
        if (this._element) {
          var t = function(o) {
            o && (o.removeEventListener("wheel", e._timeWheelHandler), o.removeEventListener("click", e._timeClickHandler), o.removeEventListener("touchstart", e._touchStartHandler), o.removeEventListener("touchend", e._touchEndHandler), o.removeEventListener("touchmove", e._touchMoveHandler), o.removeEventListener("dblclick", e._dblClickHandler));
          };
          this._element.removeEventListener("pointerup", this._mouseupHandler), t(this._hourElement.$_UL), t(this._minuteElement.$_UL), t(this._secondElement.$_UL), b.detach(this._element);
        }
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "minWidth", { get: function() {
        return this._minWidth;
      }, set: function(e) {
        e != this._minWidth && (this._minWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxWidth", { get: function() {
        return this._maxWidth;
      }, set: function(e) {
        e != this._maxWidth && (this._maxWidth = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minDate", { get: function() {
        return this._minDate;
      }, set: function(e) {
        e != this._minDate && (this._minDate = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxDate", { get: function() {
        return this._maxDate;
      }, set: function(e) {
        e != this._maxDate && (this._maxDate = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownPosition", { get: function() {
        return this._dropDownPosition;
      }, set: function(e) {
        e != this._dropDownPosition && (this._dropDownPosition = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showToday", { get: function() {
        return this._showToday;
      }, set: function(e) {
        e != this._showToday && (this._showToday = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "yearDisplayFormat", { get: function() {
        return this._yearDisplayFormat;
      }, set: function(e) {
        e != this._yearDisplayFormat && (this._yearDisplayFormat = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "monthDisplayFormat", { get: function() {
        return this._monthDisplayFormat;
      }, set: function(e) {
        e != this._monthDisplayFormat && (this._monthDisplayFormat = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "months", { get: function() {
        return this._months;
      }, set: function(e) {
        b.isArray(e) && (this._months = e, this._months.length = 12, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "viewGridInside", { get: function() {
        return this._viewGridInside || b.isSlotMode();
      }, set: function(e) {
        e != this._viewGridInside && (this._viewGridInside = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showWeeks", { get: function() {
        return this._showWeeks;
      }, set: function(e) {
        e != this._showWeeks && (this._showWeeks = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startWeek", { get: function() {
        return this._startWeek;
      }, set: function(e) {
        e != this._startWeek && (this._startWeek = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "weekSelectable", { get: function() {
        return this._weekSelectable;
      }, set: function(e) {
        e != this._weekSelectable && (this._weekSelectable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "weekSeparator", { get: function() {
        return this._weekSeparator;
      }, set: function(e) {
        e != this._weekSeparator && (this._weekSeparator = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "holidays", { get: function() {
        return this._holidays;
      }, set: function(e) {
        e != this._holidays && (this._holidays = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "date", { get: function() {
        return this._date;
      }, set: function(e) {
        e ? this._date && this._date.getTime() === e.getTime() || (this._currDate = new Date(e), this._date = new Date(e), this.listing && (this.$_buildCalendar(), this._setTime(this._date, !1))) : e === null && (this._date = null);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "listing", { get: function() {
        return this._containerElement && this._containerElement.contains(this._element);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selected", { get: function() {
        return this._selected;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canceled", { get: function() {
        return this._canceled;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focused", { get: function() {
        return this._focused;
      }, set: function(e) {
        e != this._focused && (this._focused = e, this._element.style.border = e ? "1px solid rgba(50, 50, 50, 1)" : "1px solid rgba(50, 50, 50, 0.3)", this._element.style.boxShadow = e ? "rgba(0, 0, 0, 0.8) 1px 2px 5px" : "rgba(0, 0, 0, 0.5) 1px 2px 5px", this._headerElement.style.backgroundColor = e ? "rgba(0, 200, 200, 0.1)" : "#e8e8e8", this._calendar.tHead.style.opacity = e ? "1.0" : "0.5");
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "today", { get: function() {
        return this.date = /* @__PURE__ */ new Date();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showButtons", { get: function() {
        return this._showButtons;
      }, set: function(e) {
        e != this._showButtons && (this._footer && (this._footer.style.display = e ? "" : "none"), this._showButtons = e), this._showButtons = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "saveLabel", { get: function() {
        return this._saveLabel;
      }, set: function(e) {
        e != this._saveLabel && (this._saveElement && (this._saveElement[b.TextProp] = e), this._saveLabel = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cancelLabel", { get: function() {
        return this._cancelLabel;
      }, set: function(e) {
        e != this._cancelLabel && (this._cancelElement && (this._cancelElement[b.TextProp] = e), this._cancelLabel = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "deleteLabel", { get: function() {
        return this._deleteLabel;
      }, set: function(e) {
        e != this._deleteLabel && (this._deleteElement && (this._deleteElement[b.TextProp] = e), this._deleteLabel = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "todayLabel", { get: function() {
        return this._todayLabel;
      }, set: function(e) {
        e != this._todayLabel && (this._todayElement && (this._todayElement[b.TextProp] = e), this._todayLabel = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "currentMode", { get: function() {
        return this._currentMode;
      }, set: function(e) {
        if (this._currentMode !== e) {
          this._currentMode = e;
          for (var t = this._bodyElement, o = void 0, r = this._header, n = r.$_prev, s = r.$_next, l = this._currDate || /* @__PURE__ */ new Date(); o = t.lastElementChild; )
            t.removeChild(o);
          var h = l.getMonth(), u = l.getFullYear();
          switch (this._currentMode) {
            case Ye.DAY:
              t.appendChild(this._calendarElement), n.onclick = this.$_prevMonth, s.onclick = this.$_nextMonth, n.title = h == 0 ? u - 1 + "/12" : u + "/" + b.pad(h), s.title = s.title = h == 11 ? u + 1 + "/01" : u + "/" + b.pad(h + 2);
              break;
            case Ye.MONTH:
              t.appendChild(this._monthsElement), this.$_buildMonths(), n.onclick = this.$_prevYearMonth, s.onclick = this.$_nextYearMonth, n.title = "".concat(u - 1, "/").concat(h + 1), s.title = "".concat(u + 1, "/").concat(h + 1);
              break;
            case Ye.YEAR:
              t.appendChild(this._yearsElement), this.$_buildYear(l.getFullYear()), n.onclick = this.$_prevYear, s.onclick = this.$_nextYear, n.title = "".concat(10 * Math.floor(u / 10) - 11, "-").concat(10 * Math.floor(u / 10)), s.title = "".concat(10 * Math.floor(u / 10) + 11, "-").concat(10 * Math.floor(u / 10) + 20);
          }
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hours", { get: function() {
        return this._hours;
      }, set: function(e) {
        if (e)
          this._hours = e.slice();
        else {
          this._hours = [];
          for (var t = 0; t < 24; t++)
            this._hours.push(t);
        }
        this.$_buildHourMinutes(f.TimeSelectType.HOUR);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minutes", { get: function() {
        return this._minutes;
      }, set: function(e) {
        if (e)
          this._minutes = e.slice();
        else {
          this._minutes = [];
          for (var t = 0; t < 60; t++)
            this._minutes.push(t);
        }
        this.$_buildHourMinutes(f.TimeSelectType.MINUTE);
      }, enumerable: !1, configurable: !0 }), i.prototype.setWeekDays = function(e) {
        e != this._weekDays && (b.isArray(e) && e.length >= 7 ? this._weekDays = e : this._weekDays = b.week_days);
      }, i.prototype.show = function(e, t, o, r, n) {
        this._containerElement = !b.isMobile() && this.viewGridInside ? this._container._container : e, this._element.style.removeProperty("width"), this._timeContainer.style.setProperty("height", "0px"), this.$_show(t, o, r, n);
      }, i.prototype.hide = function() {
        this.focused = !1, b.detach(this._element), this._containerElement = null;
      }, i.prototype.incDay = function(e) {
        var t;
        return this._date.getMonth() == this._currDate.getMonth() ? (t = new Date(this._date)).setDate(this._date.getDate() + e) : (t = this._currDate, t = new Date(t.getFullYear(), t.getMonth(), 1)), this.date = t;
      }, i.prototype.incMonth = function(e) {
        var t;
        return this._date.getMonth() == this._currDate.getMonth() ? (t = new Date(this._date), b.incMonth(t, e)) : (t = this._currDate, t = new Date(t.getFullYear(), t.getMonth(), 1)), this.date = t;
      }, i.prototype.startDay = function() {
        var e = new Date(this._currDate), t = e.getDay() - this._startWeek;
        return e.setDate(e.getDate() - (t + 7) % 7), this.date = e;
      }, i.prototype.endDay = function() {
        var e = new Date(this._currDate), t = e.getDay() - this._startWeek;
        return e.setDate(e.getDate() + (6 - t)), this.date = e;
      }, i.prototype.incHour = function(e) {
        var t, o = new Date(this._currDate), r = o.getHours(), n = this._hours;
        return n ? (t = n.indexOf(r)) >= 0 ? (r = n[t + e]) == null && (r = e === 1 ? n[0] : n[n.length - 1]) : r = n[0] : r = (24 + r + e) % 24, o.setHours(r), this.$_setTime(this._hourElement, null, r, !0), this.date = o;
      }, i.prototype.incMinute = function(e) {
        var t, o = new Date(this._currDate), r = this._minutes, n = o.getMinutes();
        return r ? (t = r.indexOf(n)) >= 0 ? (n = r[t + e]) == null && (n = e === 1 ? r[0] : r[r.length - 1]) : n = r[0] : n = (24 + n + e) % 24, o.setMinutes(n), this.$_setTime(this._minuteElement, null, n, !0), this.date = o;
      }, i.prototype.incSecond = function(e) {
        var t = new Date(this._currDate), o = t.getSeconds();
        return o = (60 + o + e) % 60, t.setSeconds(o), this.$_setTime(this._secondElement, null, o, !0), this.date = t;
      }, i.prototype.setCurrentLoc = function(e) {
        var t = "focused";
        e === 1 ? b.addClassName(this._hourElement, t) : b.removeClassName(this._hourElement, t), e === 2 ? b.addClassName(this._minuteElement, t) : b.removeClassName(this._minuteElement, t), e === 3 ? b.addClassName(this._secondElement, t) : b.removeClassName(this._secondElement, t);
      }, i.prototype._changed = function() {
      }, i.prototype.$_getCellDate = function(e, t) {
        var o = new Date(e);
        return o.setDate(t), o;
      }, i.prototype.$_createPicker = function(e) {
        var t = this._container.doc, o = t.createElement("div");
        this._id = o.id = "rg-calendar-" + Gl.$$_LIST_ID++;
        var r = o.style;
        return r.position = "absolute", r.boxSizing = "border-box", r.margin = "0px", r.overflow = "auto", r.zIndex = String(e._baseZindex + 2), o.className = "rg-calendar", this._header = this.$_createHeader(t), o.appendChild(this._header), this._bodyElement = this.$_createBody(t), o.appendChild(this._bodyElement), this._calendarElement = this.$_createCalTable(t), this._monthsElement = this.$_createMonths(t), this._yearsElement = this.$_createYears(t), this._footer = this.$_createFooter(t), o.appendChild(this._footer), o;
      }, i.prototype.$_createBody = function(e) {
        var t = e.createElement("div");
        return t.className = "rg-calendar-body", t;
      }, i.prototype.$_createCalTable = function(e) {
        var t, o = e.createElement("div");
        (t = o.style).display = "flex", t.flexDirection = "row";
        var r = this._dateContainer = e.createElement("div");
        (t = r.style).display = "inline-block", o.appendChild(r), this._calendar = this.$_createCalendar(e), r.appendChild(this._calendar);
        var n = this._timeContainer = e.createElement("div");
        return o.appendChild(n), (t = n.style).display = "none", t.overflow = "hidden", t.height = "0px", n.appendChild(this._hourElement = this.$_createHour(e)), n.appendChild(this._minuteElement = this.$_createMinute(e)), n.appendChild(this._secondElement = this.$_createSecond(e)), o;
      }, i.prototype._getCell = function(e) {
        for (var t = be(e); e && !(e instanceof t.HTMLTableCellElement); )
          e = e.parentElement;
        return e;
      }, i.prototype.$_setCurrentTime = function(e, t, o) {
        for (var r = e.parentElement.clientHeight, n = e.offsetTop, s = 0, l = 0; l < e.childElementCount; l++) {
          var h = e.children[l];
          t && (h.setAttribute("time-value", t[l].toString()), h[b.TextProp] = b.pad(t[l])), t[l] === o ? b.addClassName(h, "rg-cal-time-select") : b.removeClassName(h, "rg-cal-time-select"), (n += s || (s = h.clientHeight + 2)) > r ? h.style.visibility = "hidden" : h.style.removeProperty("visibility");
        }
      }, i.prototype._doTimeScroll = function(e, t) {
        for (var o = be(this._containerElement), r = e; !(r instanceof o.HTMLUListElement) || r == null; )
          r = r.parentElement;
        if (r) {
          var n = r.parentElement;
          if (!(n.scrollHeight <= n.clientHeight)) {
            var s;
            switch (r.firstElementChild.getAttribute("kind")) {
              case f.TimeSelectType.HOUR:
                s = this._currDate.getHours();
                break;
              case f.TimeSelectType.MINUTE:
                s = this._currDate.getMinutes();
                break;
              case f.TimeSelectType.SECOND:
                s = this._currDate.getSeconds();
            }
            if (r) {
              for (var l = [], h = 0; h < r.childElementCount; h++)
                l.push(Number(r.children[h].getAttribute("time-value")));
              t > 0 ? l.push(l.shift()) : l.unshift(l.pop()), this.$_setCurrentTime(r, l, s);
            }
          }
        }
      }, i.prototype._doTimeWheel = function(e) {
        this._doTimeScroll(e.target, e.deltaY);
      }, i.prototype._doTimeClick = function(e) {
        var t = e.target, o = new Date(this._currDate), r = t.getAttribute("kind"), n = Number(t.getAttribute("time-value"));
        switch (r) {
          case f.TimeSelectType.HOUR:
            o.setHours(n);
            break;
          case f.TimeSelectType.MINUTE:
            o.setMinutes(n);
            break;
          case f.TimeSelectType.SECOND:
            o.setSeconds(n);
        }
        this._editor.$_selectDate(this.date = o), r === this._editor.timeSelectType && !this.showButtons && this.fireEvent(i.CLOSE_UP, !0);
      }, i.prototype._changeCurrent = function(e) {
        switch (this._currentMode) {
          case Ye.DAY:
            this.currentMode = e ? Ye.MONTH : Ye.DAY;
            break;
          case Ye.MONTH:
            this.currentMode = e ? Ye.YEAR : Ye.DAY;
            break;
          case Ye.YEAR:
            this.currentMode = e ? Ye.YEAR : Ye.MONTH;
        }
      }, i.prototype.$_createHeader = function(e) {
        var t = this, o = function(p, _) {
          var g = p.createElement("span"), y = g.style;
          return y.position = "relative", y.minWidth = "17px", y.minHeight = "17px", g;
        }, r = this, n = this._headerElement = e.createElement("div"), s = n.style;
        s.position = "relative", s.display = "flex", n.className = "rg-cal-header";
        var l = n.appendChild(n.$_prev = o(e));
        l.className = "rg-cal-prev-month", l.onclick = this.$_prevMonth;
        var h = e.createElement("div");
        (s = h.style).position = "relative", s.textAlign = "center", s.display = "flex", s.alignItems = "center", s.justifyContent = "center", s.height = "100%", s.flexGrow = "1", n.appendChild(n.$_title = h), h.className = "rg-cal-yearmonth";
        var u = e.createElement("div");
        (s = u.style).position = "relative", s.fontSize = "14px", u.className = "rg-cal-year", h.appendChild(h.$_year = u), u.onclick = function(p) {
          t._currentMode !== Ye.YEAR && t._changeCurrent(!0);
        };
        var c = this._todayElement = e.createElement("span");
        (s = c.style).position = "relative", c.className = "rg-cal-today-button", n.appendChild(c), c.innerHTML = this.todayLabel, c.onclick = function(p) {
          var _ = /* @__PURE__ */ new Date();
          r.focused = !0, r.date = _, r._selected = !0, r.currentMode = Ye.DAY, r._editor.$_selectDate(r._currDate), r._setTime(_, !0);
        };
        var d = n.appendChild(n.$_next = o(e));
        return d.className = "rg-cal-next-month", d.onclick = this.$_nextMonth, n;
      }, i.prototype.$_createFooter = function(e) {
        var t, o = e.createElement("div"), r = o.style;
        return r.display = "none", o.className = "rg-cal-buttons", t = this._deleteElement = e.createElement("span"), this._deleteLabel && (t[b.TextProp] = this._deleteLabel), t.className = "rg-cal-delete-button", (r = t.style).float = "left", t.onclick = function(n) {
          this._selected = !0, this.date = null, this._editor.$_selectDate(null);
        }.bind(this), o.appendChild(t), t = this._saveElement = e.createElement("span"), this._saveLabel && (t[b.TextProp] = this._saveLabel), t.className = "rg-cal-save-button", (r = t.style).float = "right", t.onclick = function(n) {
          this.fireEvent(i.CLOSE_UP, !0);
        }.bind(this), o.appendChild(t), t = this._cancelElement = e.createElement("span"), this._cancelLabel && (t[b.TextProp] = this._cancelLabel), t.className = "rg-cal-cancel-button", (r = t.style).float = "right", t.onclick = function(n) {
          this._selected = !1, this._canceled = !0, this.fireEvent(i.CLOSE_UP, !1);
        }.bind(this), o.appendChild(t), o;
      }, i.prototype.$_createCalendar = function(e) {
        var t = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"], o = e.createElement("table"), r = o.style;
        r.margin = "2px", o.className = "rg-cal-days-table";
        var n = o.createTHead();
        n.className = "rg-cal-weeks";
        var s = e.createElement("tr");
        n.appendChild(s);
        var l = [], h = e.createElement("th");
        (r = h.style).minWidth = "20px", r.textAlign = "center", h.className = "rg-cal-week-year-week", s.appendChild(h);
        var u = e.createElement("span");
        h.appendChild(u), n.$_weeks = h;
        for (var c = 0; c < 7; c++) {
          var d = e.createElement("th");
          (r = d.style).minWidth = "20px", r.textAlign = "center", d.className = "rg-cal-week-" + t[c], s.appendChild(d);
          var p = e.createElement("span");
          p.innerHTML = b.htmlEncode(this._weekDays[c]), d.appendChild(p), l.push(p);
        }
        n.$_cells = l;
        var _ = e.createElement("tbody");
        _.className = "rg-cal-days", o.appendChild(o.$_body = _);
        for (var g = _.$_rows = [], y = _.$_yearweeks = [], m = 0; m < 6; m++) {
          var v = e.createElement("tr");
          _.appendChild(v), g.push(v), v.$_cells = l = [];
          var C = e.createElement("td");
          (r = C.style).padding = "1px", v.appendChild(C);
          var x = e.createElement("span");
          for (C.appendChild(C.$_span = x), y.push(C), c = 0; c < 7; c++) {
            var S = e.createElement("td");
            (r = S.style).padding = "1px", S.className = "rg-cal-day rg-cal-week-" + t[(c + this._startWeek) % 7], v.appendChild(S), S.onclick = this._clickHandler, S.ondblclick = this._dblClickHandler;
            var I = e.createElement("span");
            S.appendChild(S.$_span = I), S.id = this._id + "-" + m.toString() + "-" + c.toString(), l.push(S);
          }
        }
        return o;
      }, i.prototype.$_buildYear = function(e) {
        for (var t = this._yearTable.tBodies[0], o = this._currDate.getFullYear(), r = e = 10 * Math.floor(e / 10) - 1, n = 0; n < 3; n++)
          for (var s = t.rows[n], l = 0; l < 4; l++) {
            var h = s.cells[l];
            h.setAttribute("year", e.toString()), h.firstElementChild[b.TextProp] = this._yearDisplayFormat ? this._yearDisplayFormat.replace("{Y}", e + "") : e + "", o === e ? b.addClassName(h, "rg-cal-focusday") : b.removeClassName(h, "rg-cal-focusday"), e++;
          }
        var u = "".concat(this._yearDisplayFormat ? this._yearDisplayFormat.replace("{Y}", r + "") : r, " - ").concat(this._yearDisplayFormat ? this._yearDisplayFormat.replace("{Y}", --e + "") : --e);
        this._headerElement.$_title.$_year[b.TextProp] = u;
      }, i.prototype.$_buildMonths = function() {
        for (var e = this._months, t = 0, o = this._currDate.getMonth(), r = this._monthTable.tBodies[0], n = 0; n < 3; n++)
          for (var s = r.rows[n], l = 0; l < 4; l++) {
            var h = s.cells[l];
            h.setAttribute("month", t.toString());
            var u = h.firstElementChild;
            e && e[t] ? u[b.TextProp] = e[t] : u[b.TextProp] = this._monthDisplayFormat ? this._monthDisplayFormat.replace("{M}", t + 1 + "") : "".concat(t + 1), o === t ? b.addClassName(h, "rg-cal-focusday") : b.removeClassName(h, "rg-cal-focusday"), t++;
          }
        var c = this._currDate.getFullYear(), d = "".concat(this._yearDisplayFormat ? this._yearDisplayFormat.replace("{Y}", c + "") : c);
        this._headerElement.$_title.$_year[b.TextProp] = d;
      }, i.prototype.$_buildHourMinutes = function(e) {
        var t, o, r = this._container.doc;
        switch (e) {
          case f.TimeSelectType.HOUR:
            t = this._hourElement, o = this._hours;
            break;
          case f.TimeSelectType.MINUTE:
            t = this._minuteElement, o = this._minutes;
        }
        var n = t.$_UL;
        if (n) {
          for (; n.lastElementChild; )
            n.removeChild(n.lastElementChild);
          o.forEach(function(s) {
            var l = r.createElement("li");
            l.className = "rg-cal-time-item", l.setAttribute("time-value", s.toString()), l[b.TextProp] = b.pad(s, 2), l.setAttribute("kind", e), n.appendChild(l);
          });
        }
      }, i.prototype.$_createMonths = function(e) {
        var t = this, o = e.createElement("div"), r = this._monthTable = e.createElement("table");
        r.className = "rg-cal-month-table";
        var n = e.createElement("tbody");
        r.appendChild(n);
        for (var s = 0; s < 3; s++) {
          var l = n.appendChild(e.createElement("tr"));
          l.className = "rg-cal-month-row";
          for (var h = 0; h < 4; h++) {
            var u = l.appendChild(e.createElement("td"));
            u.className = "rg-cal-month-cell", u.appendChild(e.createElement("div"));
          }
        }
        return o.appendChild(r), r.onclick = function(c) {
          var d = t._getCell(c.target);
          if (d) {
            var p = parseInt(d.getAttribute("month")), _ = t._currDate.getDate(), g = new Date(t._currDate.getFullYear(), p + 1, 0).getDate();
            t._currDate.setMonth(p, Math.min(_, g)), t._changeCurrent(!1), t.$_buildCalendar();
          }
        }, o;
      }, i.prototype.$_createYears = function(e) {
        var t = this, o = e.createElement("div"), r = this._yearTable = e.createElement("table");
        r.className = "rg-cal-year-table";
        for (var n = r.appendChild(e.createElement("tbody")), s = 0; s < 3; s++) {
          var l = n.appendChild(e.createElement("tr"));
          l.className = "rg-cal-year-row";
          for (var h = 0; h < 4; h++) {
            var u = l.appendChild(e.createElement("td"));
            u.className = "rg-cal-year-cell", u.appendChild(e.createElement("div"));
          }
        }
        return o.appendChild(r), r.onclick = function(c) {
          var d = t._getCell(c.target);
          if (d) {
            var p = parseInt(d.getAttribute("year"));
            t._currDate.setFullYear(p), t._changeCurrent(!1);
          }
        }, o;
      }, i.prototype.$_createTimeElt = function(e, t, o, r) {
        var n = t.style;
        t.className = "rg-cal-time rg-cal-time-".concat(r), n.display = "inline-block", n.height = "100%", n.overflow = "hidden", n.position = "relative";
        var s = e.createElement("div");
        s.className = "rg-time-header";
        var l = e.createElement("div");
        switch (l.className = "rg-time-title", t.$_Label = l, r) {
          case f.TimeSelectType.HOUR:
            l[b.TextProp] = this._editor.hourLabel;
            break;
          case f.TimeSelectType.MINUTE:
            l[b.TextProp] = this._editor.minuteLabel;
            break;
          case f.TimeSelectType.SECOND:
            l[b.TextProp] = this._editor.secondLabel;
        }
        s.appendChild(l), t.appendChild(s);
        var h = e.createElement("ul");
        h.addEventListener("wheel", this._timeWheelHandler), h.addEventListener("click", this._timeClickHandler), h.addEventListener("touchstart", this._touchStartHandler), h.addEventListener("touchend", this._touchEndHandler), h.addEventListener("touchmove", this._touchMoveHandler), h.addEventListener("dblclick", this._dblClickHandler), h.className = "rg-cal-time-list";
        for (var u = 0; u < o; u++) {
          var c = e.createElement("li");
          c.className = "rg-cal-time-item", c.setAttribute("time-value", u.toString()), c[b.TextProp] = b.pad(u, 2), c.setAttribute("kind", r), h.appendChild(c);
        }
        t.appendChild(h), t.$_UL = h;
      }, i.prototype.$_createHour = function(e) {
        var t = e.createElement("div");
        return this.$_createTimeElt(e, t, 24, f.TimeSelectType.HOUR), t;
      }, i.prototype.$_createMinute = function(e) {
        var t = e.createElement("div");
        return this.$_createTimeElt(e, t, 60, f.TimeSelectType.MINUTE), t;
      }, i.prototype.$_createSecond = function(e) {
        var t = e.createElement("div");
        return this.$_createTimeElt(e, t, 60, f.TimeSelectType.SECOND), t;
      }, i.prototype.$_show = function(e, t, o, r) {
        var n = te(this._element), s = Xe(n);
        this.focused = !1, this._selected = !1, this._canceled = !1, this._footer.style.display = this.showButtons ? "" : "none", this._showToday ? this._todayElement.style.removeProperty("display") : this._todayElement.style.setProperty("display", "none");
        var l = this._date;
        this._currDate = l ? new Date(l) : /* @__PURE__ */ new Date(), this._today = /* @__PURE__ */ new Date();
        for (var h, u = this._bodyElement; h = u.lastElementChild; )
          u.removeChild(h);
        this._bodyElement.appendChild(this._calendarElement), this.currentMode = Ye.DAY, this.setCurrentLoc(0), this.$_buildCalendar(), b.disableSelection(this._element), this._containerElement.appendChild(this._element), this._timeContainer.style.height = this._dateContainer.getBoundingClientRect().height + "px", this.$_setTimeSelector(), this._setTime(this._currDate, !0);
        var c = b.getBrowserSize(), d = b.getClientRect(this._containerElement), p = b.getClientRect(this._container._container), _ = c.width, g = c.height, y = b.getClientRect(this._element), m = s.pageXOffset || n.documentElement.scrollLeft, v = s.pageYOffset || n.documentElement.scrollTop;
        n.documentElement.scrollWidth > n.documentElement.clientWidth && (g -= 18), n.documentElement.scrollHeight > n.documentElement.clientHeight && (_ -= 18), e += p.left - d.left, t += p.top - d.top, (b.ieTen || b.ieOld || b.ieLeg) && (e += n.documentElement.scrollLeft, t += n.documentElement.scrollTop), t + y.height > g + v && (t = t - r.height - y.height) < 0 && (t = g - y.height - 2), this._dropDownPosition != f.DropDownPosition.EDITOR ? e = Math.max(0, e + o - y.width) : e + y.width > _ + m && (e = _ - y.width), !b.isMobile() && this.viewGridInside && (t = r.bottom - d.top + 2, (d.bottom < r.bottom + y.height || g + v < r.bottom + y.height) && (t = r.top - y.height - d.top - 2)), b.isMobile() && !b.isTablet() || this._element.offsetParent || (e += n.documentElement.offsetLeft, t += n.documentElement.offsetTop), b.move(this._element, Math.max(0, e), Math.max(0, t)), this._element.style.setProperty("width", Math.ceil(y.width) + "px");
      }, i.prototype.$_checkFocusedWeek = function(e, t, o) {
        var r = ["rg-cal-week-year-week"];
        this.$_isFocusedWeek(e, t.$_yearWeek) && r.push("rg-cal-week-year-focusweek"), this.weekSelectable && r.push("rg-week-selectable"), t.className = r.join(" ");
      }, i.prototype.$_isFocusedWeek = function(e, t) {
        return e && t && Ho(e, this._startWeek) == t;
      }, i.prototype.$_isFocusedDay = function(e, t) {
        var o = this._date;
        return o && e.getFullYear() == o.getFullYear() && e.getMonth() == o.getMonth() && t == o.getDate();
      }, i.prototype.$_isToday = function(e, t) {
        var o = this._today;
        return o && e.getFullYear() == o.getFullYear() && e.getMonth() == o.getMonth() && t == o.getDate();
      }, i.prototype.$_setTime = function(e, t, o, r) {
        var n = e.$_UL, s = e.$_Label;
        if (n) {
          s && t && (s[b.TextProp] = t);
          var l = [].map.call(n.children, function(c) {
            return Number(c.getAttribute("time-value"));
          }), h = l.indexOf(o);
          if (!(h < 0)) {
            if (!this.listing || r)
              if (h > 2) {
                var u = l.splice(0, h - 2);
                l.push.apply(l, u);
              } else
                h < 2 && (u = l.splice(l.length - h), l.unshift.apply(l, u));
            this.$_setCurrentTime(n, l, o);
          }
        }
      }, i.prototype._setTime = function(e, t) {
        this.$_setTime(this._hourElement, this._editor.hourLabel, e.getHours(), t), this.$_setTime(this._minuteElement, this._editor.minuteLabel, e.getMinutes(), t), this.$_setTime(this._secondElement, this._editor.secondLabel, e.getSeconds(), t);
      }, i.prototype.$_setTimeSelector = function() {
        var e = this._editor.timeSelectType, t = this._hourElement.style, o = this._minuteElement.style, r = this._secondElement.style;
        t.display = o.display = r.display = "none";
        var n = 0;
        switch (e) {
          case f.TimeSelectType.SECOND:
            r.display = "inline-block", n++;
          case f.TimeSelectType.MINUTE:
            o.display = "inline-block", n++;
          case f.TimeSelectType.HOUR:
            t.display = "inline-block", n++;
        }
        var s = this._headerElement.clientHeight + "px";
        this._hourElement.firstElementChild.style.height = this._minuteElement.firstElementChild.style.height = this._secondElement.firstElementChild.style.height = s, this._timeContainer.style.display = n ? "inline-block" : "none";
      }, i.prototype.$_buildCalendar = function() {
        var e, t, o = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"], r = this._header, n = this._currDate, s = r.$_title, l = n.getFullYear(), h = n.getMonth(), u = "";
        u = (this._yearDisplayFormat ? this._yearDisplayFormat.replace("{Y}", l + "") : l + "년") + "&nbsp;", this._months && this._months.length > 0 ? u += this._months[h] : u += this._monthDisplayFormat ? this._monthDisplayFormat.replace("{M}", (h + 1).toString()) : h + 1 + "월", s.$_year.innerHTML = u, u = s.$_year.innerText;
        for (var c = this._calendar.tHead.$_cells, d = 0; d < 7; d++) {
          var p = c[(d + 7 - this._startWeek) % 7];
          p.innerHTML = b.htmlEncode(this._weekDays[d]), p.parentElement.className = "rg-cal-week-" + o[d];
        }
        this._calendar.tHead.$_weeks.style.display = this.showWeeks ? "" : "none";
        for (var _ = this._calendar.$_body, g = _.$_yearweeks, y = (d = 0, g.length); d < y; d++)
          g[d].style.display = this.showWeeks ? "" : "none", g[d].onclick = this.weekSelectable ? this._yearWeekClickHandler : null, g[d].ondblclick = this.weekSelectable ? this._dblClickHandler : null;
        var m = _.$_rows, v = b.month_days[b.isLeapYear(l) ? 1 : 0][h], C = new Date(n);
        C.setDate(1);
        var x = (C.getDay() + 7 - this._startWeek) % 7;
        v == 30 && x == 6 || v == 31 && x >= 5 ? b.addChild(_, m[5]) : b.removeChild(_, m[5]), v == 28 && x == 0 ? b.removeChild(_, m[4]) : b.addChild(_, m[4]);
        var S, I, E = 0, O = g[0];
        if (c = m[0].$_cells, x > 0) {
          var P = l, R = h - 1;
          R < 0 && (P--, R = 11);
          var T = b.month_days[b.isLeapYear(P) ? 1 : 0][R];
          for (d = 0; d < x; d++) {
            (A = c[d]).removeAttribute("title");
            var D = new Date(this._currDate);
            A.$_day = d - x, D.setDate(A.$_day + 1);
            var M = this._editor.containsRange(D);
            d === 0 && (O.$_yearWeek = Ho(D, this._startWeek), O.$_span.innerText = O.$_yearWeek.substr(4, 2), this.$_checkFocusedWeek(this._currDate, O, M)), A.$_span.innerHTML = T - x + d + 1, A.className = "rg-cal-day rg-cal-prev-day " + (M ? "" : "rg-cal-disable-day ") + "rg-cal-week-" + o[(d + this._startWeek) % 7];
          }
        }
        for (d = x; d < 7; d++)
          (A = c[d]).removeAttribute("title"), A.$_day = E++, A.$_span.innerHTML = E, (C = new Date(this._currDate)).setDate(E), M = this._editor.containsRange(C), d === 0 && (O.$_yearWeek = Ho(C, this._startWeek), O.$_span.innerText = O.$_yearWeek.substr(4, 2), this.$_checkFocusedWeek(this._currDate, O, M)), S = this.$_isFocusedDay(n, E), I = this.$_isToday(n, E), S && this._editor._editor.setAttribute("aria-activedescendant", A.id), A.setAttribute("aria-label", u + " " + E.toString()), I ? A.setAttribute("aria-current", "date") : A.removeAttribute("aria-current"), M ? A.removeAttribute("aria-disabled") : A.setAttribute("aria-disabled", "true"), e = "rg-cal-day " + (S ? "rg-cal-focusday " : ""), e += I ? "rg-cal-today " : "", e += (t = this._holidays && this._holidays.contains(C)) ? t.styleName + " rg-cal-holiday " : "", e += M ? "" : "rg-cal-disable-day ", e += "rg-cal-week-" + o[(d + this._startWeek) % 7], A.className = e, t && (e = t.getTooltip(this.$_getCellDate(n, E))) && (A.title = e);
        for (var V = 1; V < 6 && E < v; V++) {
          c = m[V].$_cells;
          var B = g[V];
          for (d = 0; d < 7; d++)
            if (E < v)
              (A = c[d]).removeAttribute("title"), A.$_day = E++, (C = new Date(this._currDate)).setDate(E), M = this._editor.containsRange(C), d === 0 && (B.$_yearWeek = Ho(C, this._startWeek), B.$_span.innerText = B.$_yearWeek.substr(4, 2), this.$_checkFocusedWeek(this._currDate, B, M)), A.$_span.innerHTML = E, S = this.$_isFocusedDay(n, E), I = this.$_isToday(n, E), S && this._editor._editor.setAttribute("aria-activedescendant", A.id), A.setAttribute("aria-label", u + " " + E.toString()), I ? A.setAttribute("aria-current", "date") : A.removeAttribute("aria-current"), M ? A.removeAttribute("aria-disabled") : A.setAttribute("aria-disabled", "true"), e = "rg-cal-day " + (S ? "rg-cal-focusday " : ""), e += this.$_isToday(n, E) ? "rg-cal-today " : "", e += (t = this._holidays && this._holidays.contains(C)) ? t.styleName + " rg-cal-holiday " : "", e += M ? "" : "rg-cal-disable-day ", e += "rg-cal-week-" + o[(d + this._startWeek) % 7], A.className = e, t && (e = t.getTooltip(this.$_getCellDate(n, E))) && (A.title = e);
            else
              for (var N = 1; d < 7; d++) {
                var A;
                (A = c[d]).removeAttribute("title"), A.$_day = E++, (C = new Date(this._currDate)).setDate(E), M = this._editor.containsRange(C), A.$_span.innerHTML = N++, A.className = "rg-cal-day rg-cal-next-day " + (M ? "" : "rg-cal-disable-day ") + "rg-cal-week-" + o[(d + this._startWeek) % 7];
              }
        }
      }, i.CLOSE_UP = "onDatePickerCloseUp", i;
    }(Be), Gl = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        o._minDate = new Date(1970, 0, 1), o._maxDate = new Date(2100, 11, 31), o._dropDownPosition = f.DropDownPosition.BUTTON, o._dropDownWhenClick = !1, o._showToday = !0, o._yearDisplayFormat = "{Y}년", o._monthDisplayFormat = "{M}월", o._months = null, o._weekDays = null, o._showWeeks = !1, o._startWeek = 0, o._weekSelectable = !1, o._weekSeparator = "", o._commitOnSelect = !1, o._holidays = null, o._showButtons = !0, o._saveLabel = "Save", o._cancelLabel = "Cancel", o._deleteLabel = "Delete", o._todayLabel = "Today", o._timeSelectType = f.TimeSelectType.NONE, o._currentLoc = 0, o._hourLabel = "시", o._minuteLabel = "분", o._secondLabel = "초", o._holidayCollection = new fs(), o._closing = !1, o._regx = /[\d\-.:/apmz+ ]/i, o._globalMouseHandler = function(s) {
          var l = s.target;
          if (this._isMarquee(l))
            this.closeUp(!1);
          else {
            for (; l; ) {
              if (l === this._list._element)
                return;
              l = l.parentElement;
            }
            this.closeUp(!0);
          }
        }.bind(o);
        var r = e.editorOptions;
        o._yearDisplayFormat = r.yearDisplayFormat, o._monthDisplayFormat = r.monthDisplayFormat, o._months = r.months, o._weekDays = r.weekDays, o._baseZindex = e.displayOptions.baseZindex, o._list = new Hl(e.container, o), o._list.addListener(o);
        var n = o._editor;
        return n.setAttribute("aria-owns", o._list._element.id), n.setAttribute("aria-expanded", "false"), n.setAttribute("aria-haspopup", "true"), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._globalMouseHandler = null, this._holidayCollection = this._holidayCollection.dispose(), this._list = this._list && this._list.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "editFormat", { get: function() {
        return this.datetimeFormat;
      }, set: function(e) {
        e != this.datetimeFormat && (this.datetimeFormat = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minDate", { get: function() {
        return this._minDate;
      }, set: function(e) {
        e != this._minDate && (this._minDate = e ? e instanceof Date ? e : typeof e == "string" ? this._dateConverter.getDateNull(e) : null : null, this._minDate && this._minDate.setHours(0, 0, 0, 0), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxDate", { get: function() {
        return this._maxDate;
      }, set: function(e) {
        e != this._maxDate && (this._maxDate = e ? e instanceof Date ? e : typeof e == "string" ? this._dateConverter.getDateNull(e) : null : null, this._maxDate && this._maxDate.setHours(23, 59, 59), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownPosition", { get: function() {
        return this._dropDownPosition;
      }, set: function(e) {
        this._dropDownPosition = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownWhenClick", { get: function() {
        return this._dropDownWhenClick;
      }, set: function(e) {
        e != this._dropDownWhenClick && (this._dropDownWhenClick = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showToday", { get: function() {
        return this._showToday;
      }, set: function(e) {
        this._showToday = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "yearDisplayFormat", { get: function() {
        return this._yearDisplayFormat;
      }, set: function(e) {
        this._yearDisplayFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "monthDisplayFormat", { get: function() {
        return this._monthDisplayFormat;
      }, set: function(e) {
        this._monthDisplayFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "months", { get: function() {
        return this._months;
      }, set: function(e) {
        this._months = e.slice();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "weekDays", { get: function() {
        return this._weekDays;
      }, set: function(e) {
        this._weekDays = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showWeeks", { get: function() {
        return this._showWeeks;
      }, set: function(e) {
        this._showWeeks = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startWeek", { get: function() {
        return this._startWeek;
      }, set: function(e) {
        e = e == null || isNaN(e = Math.floor(e)) ? 0 : e, this._startWeek = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "weekSelectable", { get: function() {
        return this._weekSelectable;
      }, set: function(e) {
        this._weekSelectable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "weekSeparator", { get: function() {
        return this._weekSeparator;
      }, set: function(e) {
        this._weekSeparator = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitOnSelect", { get: function() {
        return this._commitOnSelect;
      }, set: function(e) {
        e != this._commitOnSelect && (this._commitOnSelect = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "defaultShowDate", { get: function() {
        return this._defaultShowDate;
      }, set: function(e) {
        e != this._defaultShowDate && (this._defaultShowDate = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "defaultDate", { get: function() {
        return this._defaultDate;
      }, set: function(e) {
        e != this._defaultDate && (this._defaultDate = e instanceof Date ? new Date(e) : e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "holidays", { get: function() {
        return this._holidays;
      }, set: function(e) {
        this._holidays = e, e ? (this._holidayCollection = this._holidayCollection || new fs(), this._holidayCollection.editor = this, this._holidayCollection.load(e)) : this._holidayCollection.setNull(), this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "listing", { get: function() {
        return this._list.listing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showButtons", { get: function() {
        return this._showButtons;
      }, set: function(e) {
        this._showButtons = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "saveLabel", { get: function() {
        return this._saveLabel;
      }, set: function(e) {
        this._saveLabel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cancelLabel", { get: function() {
        return this._cancelLabel;
      }, set: function(e) {
        this._cancelLabel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "deleteLabel", { get: function() {
        return this._deleteLabel;
      }, set: function(e) {
        this._deleteLabel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "todayLabel", { get: function() {
        return this._todayLabel;
      }, set: function(e) {
        this._todayLabel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hourLabel", { get: function() {
        return this._hourLabel;
      }, set: function(e) {
        this._hourLabel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minuteLabel", { get: function() {
        return this._minuteLabel;
      }, set: function(e) {
        this._minuteLabel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "secondLabel", { get: function() {
        return this._secondLabel;
      }, set: function(e) {
        this._secondLabel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hours", { get: function() {
        return this._hours;
      }, set: function(e) {
        var t = this;
        if (typeof e == "string") {
          this._hours = [];
          try {
            e.split(",").forEach(function(o) {
              var r = o.split("-");
              if (r.length === 1 && r[0] && !isNaN(parseInt(r[0])))
                t._hours.push(parseInt(r[0]));
              else if (r.length = 2)
                for (var n = parseInt(r[0]), s = parseInt(r[1]), l = n; l < s; l++)
                  t._hours.indexOf(l) < 0 && t._hours.push(l);
            });
          } catch {
            this._hours = void 0;
          }
        } else
          this._hours = e ? e.slice() : null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minutes", { get: function() {
        return this._minutes;
      }, set: function(e) {
        this._minutes = e ? e.slice() : null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "timeSelectType", { get: function() {
        return this._timeSelectType;
      }, set: function(e) {
        this._timeSelectType = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.dropDown = function(e) {
        if (!(this.readOnly || this._controller._readOnly || this.listing || this._closing)) {
          var t = te(this._container), o = Xe(t), r = this._grid.editorOptions, n = this._list, s = t.documentElement, l = b.getClientRect(this._container);
          return this._currentLoc = 0, n.viewGridInside = r.viewGridInside, n.dropDownPosition = this._dropDownPosition, n.showToday = this._showToday, n.yearDisplayFormat = this._yearDisplayFormat, n.monthDisplayFormat = this._monthDisplayFormat, n.months = this._months, n.minDate = this._minDate, n.maxDate = this._maxDate, n.showWeeks = this._showWeeks, n.startWeek = this._startWeek || 0, n.weekSelectable = this.weekSelectable, n.weekSeparator = this.weekSeparator, n.showButtons = this.showButtons, n.saveLabel = this.saveLabel, n.cancelLabel = this.cancelLabel, n.deleteLabel = this.deleteLabel, n.currentMode = Ye.DAY, n.holidays = this._holidayCollection.isNull ? r._holidayCollection : this._holidayCollection, n.hours = this.hours, n.minutes = this.minutes, n.todayLabel = this.todayLabel, this._weekDays && this._weekDays.length > 0 && n.setWeekDays(this._weekDays), this.$_setListDate(), this._isMobile && !this._isTablet ? (this._showMarquee(s), n.show(s, 0, 0, 0, null), this._centerPopup(s, n._element)) : n.show(s, l.cx + 1, l.cy + l.height, this._cellBounds.width, b.getClientRect(this._editor)), n.focused = e, this._editor.setAttribute("aria-expanded", "true"), !b.isSlotMode() && o.addEventListener("pointerdown", this._globalMouseHandler), !0;
        }
      }, i.prototype.closeUp = function(e) {
        if (this.listing) {
          var t = Xe(te(this._container));
          this._closing = !0;
          try {
            t.removeEventListener("pointerdown", this._globalMouseHandler), this._closeMarquee(), this._list.hide(), e && this._list.selected ? this._isMobile && !this._isTablet ? (this._started = !0, this.$_selectDate(this._list.date), this._dispatchCommit()) : (this.$_selectDate(this._list.date), this._commitOnSelect && this._dispatchCommit()) : this._list.canceled && this._controller.cancelEditor(!1);
          } finally {
            this._closing = !1, this._editor.setAttribute("aria-expanded", "false");
          }
          return !0;
        }
      }, i.prototype.containsRange = function(e) {
        return (!this._minDate || e >= this._minDate) && (!this._maxDate || e <= this._maxDate);
      }, i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this), this._dropDownWhenClick = !1, this._textReadOnly = !1, this._showToday = !0, this._minDate = new Date(1970, 0, 1), this._maxDate = new Date(2100, 11, 31), this._showWeeks = !1, this._startWeek = 0, this._weekSelectable = !1, this._weekSeparator = "", this._commitOnSelect = !1, this._defaultShowDate = f.DefaultShowDate.NORMAL, this._holidayCollection && this._holidayCollection.setNull(), this._showButtons = !0, this._cancelLabel = "Cancel", this._saveLabel = "Save", this._deleteLabel = "Delete", this._todayLabel = "Today", this._timeSelectType = f.TimeSelectType.NONE, this._hours = null, this._minutes = null;
      }, i.prototype.setEditIndex = function(e) {
        a.prototype.setEditIndex.call(this, e);
        var t = this._editField().dataType;
        this._weekSelectable = this._weekSelectable && t !== f.ValueType.DATE && t !== f.ValueType.DATETIME;
      }, i.prototype.setEditValue = function(e) {
        a.prototype.setEditValue.call(this, e), this.weekSelectable ? this._date = ps(e) : this._date = typeof e == "string" ? this._dateConverter.getDateNull(e) : e;
      }, i.prototype.getEditValue = function(e, t) {
        e === void 0 && (e = !0), t === void 0 && (t = !1);
        var o = a.prototype.getEditValue.call(this, e), r = this._editField().dataType;
        return o && t && (r == f.ValueType.DATE || r == f.ValueType.DATETIME) && (o = this._minDate ? Math.max(this._minDate.getTime(), o) : o, (o = this._maxDate ? Math.min(this._maxDate.getTime(), o) : o) && (o = new Date(o))), o;
      }, i.prototype._createEditor = function(e) {
        return a.prototype._createEditor.call(this, e);
      }, i.prototype._textHandler = function() {
        this._requestStart(!1);
      }, i.prototype._compositionstartHandler = function(e) {
        this.isDisabled() || this._requestStart(!1);
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled()) {
          var t = this._list, o = this.listing, r = o && t.focused;
          switch (e.keyCode) {
            case 13:
              if (this.closeUp(!0))
                return b.stopEvent(e, !0), !this._sendToParent(e);
              break;
            case 27:
              if (this.closeUp(!1))
                return b.stopEvent(e, !0), !0;
              break;
            case 36:
            case 35:
              if (r)
                return b.stopEvent(e, !0), this.$_selectDate(e.keyCode === 36 ? t.startDay() : t.endDay()), !0;
              break;
            case 37:
            case 39:
              if (r) {
                if (this._currentLoc === 0)
                  return this.$_selectDate(t.incDay(e.keyCode === 37 ? -1 : 1)), b.stopEvent(e, !0), !0;
                if (this._setLocation(e.keyCode === 39))
                  return b.stopEvent(e, !0), !0;
              }
              break;
            case 33:
              if (r)
                return b.stopEvent(e, !0), this.$_selectDate(t.incMonth(e.shiftKey ? -12 : -1)), !0;
              break;
            case 34:
              if (r)
                return b.stopEvent(e, !0), this.$_selectDate(t.incMonth(e.shiftKey ? 12 : 1)), !0;
              break;
            case 40:
              if (e.altKey && !o)
                return this._requestStart(), b.stopEvent(e, !0), this._list.focused = !0, this.$_setListDate(), !0;
              if (o)
                return b.stopEvent(e, !0), r ? this._currentLoc === 0 ? this.$_selectDate(t.incDay(7)) : this._currentLoc === 1 ? this.$_selectDate(t.incHour(1)) : this._currentLoc === 2 ? this.$_selectDate(t.incMinute(1)) : this._currentLoc === 3 && this.$_selectDate(t.incSecond(1)) : this._list.focused = !0, !0;
              break;
            case 38:
              if (e.altKey && o)
                return this.closeUp(!1), b.stopEvent(e, !0), !0;
              if (o)
                return b.stopEvent(e, !0), r ? this._currentLoc === 0 ? this.$_selectDate(t.incDay(-7)) : this._currentLoc === 1 ? this.$_selectDate(t.incHour(-1)) : this._currentLoc === 2 ? this.$_selectDate(t.incMinute(-1)) : this._currentLoc === 3 && this.$_selectDate(t.incSecond(-1)) : this._list.focused = !1, !0;
              break;
            case 84:
              (e.altKey || e.altKey && e.ctrlKey) && o && (b.stopEvent(e, !0), this._list.date = /* @__PURE__ */ new Date(), this.$_selectDate(this._list.date));
              break;
            case 9:
              if (r && this.timeSelectType !== f.TimeSelectType.NONE && this._setLocation(!e.shiftKey))
                return b.stopEvent(e, !0), !0;
          }
          return a.prototype._keyDownHandler.call(this, e);
        }
      }, i.prototype._setLocation = function(e) {
        var t = this._timeSelectType, o = this._currentLoc, r = 1;
        if (t !== f.TimeSelectType.NONE) {
          switch (t) {
            case f.TimeSelectType.SECOND:
              r++;
            case f.TimeSelectType.MINUTE:
              r++;
            case f.TimeSelectType.HOUR:
              r++;
          }
          return e ? ++o : --o, o < 0 || o >= r ? !1 : (this._list.setCurrentLoc(this._currentLoc = o), !0);
        }
        this._currentLoc = 0;
      }, i.prototype._keyPressHandler = function(e) {
        if (!this.isDisabled()) {
          var t = this._list, o = e.keyCode || e.which, r = String.fromCharCode(o);
          if (r.toLocaleLowerCase() == this.todayChar) {
            if (b.stopEvent(e, !0), this.listing)
              return t.focused = !0, this.$_selectDate(t.today), t._setTime(t.today, !0), !0;
          } else {
            if (b.isFirefox && (e.ctrlKey || o === 0))
              return void a.prototype._keyPressHandler.call(this, e);
            if (b.isMac && e.metaKey && b.included(o, 99, 118))
              return void a.prototype._keyPressHandler.call(this, e);
            if (!this._regx.test(r))
              return void e.preventDefault();
          }
          a.prototype._keyPressHandler.call(this, e), e.keyCode && this.textReadOnly && e.preventDefault();
        }
      }, i.prototype.$_resetValue = function(e) {
        if (e === void 0 && (e = !1), this.visible || e) {
          var t = this._editor, o = t.selectionStart, r = t.selectionEnd, n = t.value ? t.value.length : 0;
          t.value = t.value.replace(Al, "");
          var s = t.value ? t.value.length : 0;
          this._isMobile || (s == n ? t.setSelectionRange(o, r) : t.setSelectionRange(r, r));
        }
      }, i.prototype._dispatchChange = function() {
        (this._isMobile || this.visible) && (this.$_resetValue(this._isMobile), a.prototype._dispatchChange.call(this));
      }, i.prototype._changeHandler = function(e) {
        a.prototype._changeHandler.call(this, e);
      }, i.prototype._pasteHandler = function(e) {
        a.prototype._pasteHandler.call(this, e);
      }, i.prototype._copyHandler = function(e) {
        a.prototype._copyHandler.call(this, e);
      }, i.prototype._requestStart = function(e) {
        return !!a.prototype._requestStart.call(this) && (this._isMobile ? e && this.dropDown(!1) : e !== !1 && this.dropDown(!1), !0);
      }, i.prototype.setBounds = function(e, t, o, r, n) {
        a.prototype.setBounds.call(this, e, t, o, r, n);
      }, i.prototype._doChanged = function() {
        this._isMobile ? !this._controller.readOnly && this._controller.editable && (this._modified = !0, this._dispatchChange()) : (!this._started && this._requestStart(), this._started && !this._controller.readOnly && this._controller.editable && (this._modified = !0, this._dispatchChange()));
      }, i.prototype.dropDownList = function(e) {
        this.dropDown(!0);
      }, i.prototype.closeList = function(e) {
        this.closeUp(e);
      }, i.prototype.buttonClicked = function(e) {
        this.listing ? this.closeUp(!1) : this.dropDown(!0);
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype._isDateEditor = function() {
        var e = this._editField().dataType;
        return e == f.ValueType.DATE || e == f.ValueType.DATETIME || !this.weekSelectable;
      }, i.prototype.$_selectDate = function(e) {
        if (e) {
          if (this._date = e, this.containsRange(e)) {
            var t = void 0;
            t = this.weekSelectable ? Ho(e, this._startWeek, this.weekSeparator) : this._dateConverter.getText(this._date), this._mask && (t = this._mask.writeBuffer(t)), this._editor.value = t, this._doChanged();
          }
        } else
          this._date = null, this._mask && this._mask.clearBuffer(), this._editor.value = "", this._doChanged();
      }, i.prototype.$_setListDate = function() {
        var e, t = this._defaultDate instanceof Date ? new Date(this._defaultDate) : this._dateConverter.getDateNull(this._defaultDate), o = this._editor.value;
        switch (this._mask && (o = this._mask.getStripValue()), e = this.weekSelectable ? ps(o) : this._dateConverter.getDateNull(o), this._defaultShowDate) {
          case f.DefaultShowDate.TODAY:
            e = /* @__PURE__ */ new Date();
            break;
          case f.DefaultShowDate.NORMAL:
            break;
          case f.DefaultShowDate.TODAY_WHEN_NULL:
            e = e || /* @__PURE__ */ new Date();
            break;
          case f.DefaultShowDate.DEFAULT_WHEN_NULL:
            e = e || t;
            break;
          case f.DefaultShowDate.DEFAULT:
            e = t;
        }
        e && (this._list.date = e);
      }, i.prototype.onDatePickerCloseUp = function(e, t) {
        this.closeUp(t), !this._isMobile && this.setFocus();
      }, i.INPUT_CSS = "rg-date-editor", i.$$_LIST_ID = 0, i;
    }(is), Cp = function(a) {
      function i(e, t, o) {
        var r = a.call(this) || this;
        r._dropDownPosition = f.DropDownPosition.BUTTON, r._viewGridInside = !1, r._selected = !1, r._focused = !1;
        var n = Xe(e.doc);
        return r._jquery = n && n.jQuery, r._editor = t, r._container = e, r._btOptions = o, r._element = r.$_createList(e.doc), r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._jquery = null, this._editor = null, this._container = null, this._containerElement = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "dropDownPosition", { get: function() {
        return this._dropDownPosition;
      }, set: function(e) {
        this._dropDownPosition = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "date", { get: function() {
        return this._date;
      }, set: function(e) {
        if (this._date = e, e.getTime() !== this._date.getTime() && (this._currDate = new Date(e), this._date = new Date(e), this.listing)) {
          var t = new Date(e.getFullYear(), e.getMonth(), e.getDate());
          this._jquery && this._jquery(this._element).datepicker("update", t);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minDate", { get: function() {
        return this._minDate;
      }, set: function(e) {
        this._minDate = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxDate", { get: function() {
        return this._maxDate;
      }, set: function(e) {
        this._maxDate = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "viewGridInside", { get: function() {
        return this._viewGridInside;
      }, set: function(e) {
        this._viewGridInside = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "listing", { get: function() {
        return this._jquery && this._jquery(this._element).data("datepicker");
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selected", { get: function() {
        return this._selected;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focused", { get: function() {
        return this._focused;
      }, set: function(e) {
        e != this._focused && (this._focused = e, this._element.style.border = e ? "1px solid rgba(50, 50, 50, 1)" : "1px solid rgba(50, 50, 50, 0.3)", this._element.style.boxShadow = e ? "rgba(0, 0, 0, 0.8) 1px 2px 5px" : "rgba(0, 0, 0, 0.5) 1px 2px 5px");
      }, enumerable: !1, configurable: !0 }), i.prototype.$_destroy = function() {
        this._jquery && this._jquery(this._element).datepicker("destroy");
      }, i.prototype.keydown = function(e) {
        if (this._jquery) {
          this._jquery(this._element).datepicker("keydown", e);
          var t = this._jquery(this._element).data("datepicker").viewDate;
          t instanceof Date && (this.date = t, this._editor && this._editor.selectDate(this._date));
        }
      }, i.prototype.$_createList = function(e) {
        var t = e.createElement("div"), o = t.style;
        return o.position = "absolute", o.cssFloat = "none", o.clear = "both", o.boxSizing = "border-box", o.zIndex = String(this._editor._baseZindex + 2), o.margin = "0px", o.overflow = "auto", t.className = "rg-calendar", t;
      }, i.prototype.show = function(e, t, o, r, n) {
        if (this._containerElement = b.isMobile() && this._viewGridInside ? this._container._container : e, !this.$_createCalendar())
          return alert("BootStrap DatePicker Not Include"), !1;
        this.$_show(t, o, r, n);
      }, i.prototype.$_createCalendar = function() {
        var e, t = this._element, o = this._btOptions;
        return this._date && (e = new Date(this._date.getFullYear(), this._date.getMonth(), this._date.getDate())), !!this._jquery && (this._jquery(t).datepicker && this._jquery(t).datepicker(o).datepicker("setDate", e).on("changeDate", function(r) {
          var n = r.date;
          n && !this._editor.containsRange(n) || (n ? (this._date = new Date(n), this._selected = !0) : (this._date = void 0, this._selected = !0), this.fireEvent(Hl.CLOSE_UP, !0));
        }.bind(this)), !0);
      }, i.prototype.$_show = function(e, t, o, r) {
        var n = this._container.doc, s = Xe(n);
        this.focused = !1, this._selected = !1, this._containerElement.appendChild(this._element);
        var l = this._date;
        this._currDate = l ? new Date(l) : /* @__PURE__ */ new Date();
        var h = b.getBrowserSize(), u = b.getClientRect(this._containerElement), c = b.getClientRect(this._container._container), d = h.width, p = h.height, _ = b.getClientRect(this._element), g = s.pageXOffset || n.documentElement.scrollLeft, y = s.pageYOffset || n.documentElement.scrollTop;
        n.documentElement.scrollWidth > n.documentElement.clientWidth && (p -= 18), n.documentElement.scrollHeight > n.documentElement.clientHeight && (d -= 18), e += c.left - u.left, t += c.top - u.top, (b.ieTen || b.ieOld || b.ieLeg) && (e += n.documentElement.scrollLeft, t += n.documentElement.scrollTop), t + _.height > p + y && r && (t = t - r.height - _.height) < 0 && (t = p - _.height - 2), this._dropDownPosition != f.DropDownPosition.EDITOR ? e = Math.max(0, e + o - _.width) : e + _.width > d + g && (e = d - _.width), !b.isMobile() && this._viewGridInside && r && (t = r.bottom - u.top + 2, (u.bottom < r.bottom + _.height || p + y < r.bottom + _.height) && (t = r.top - _.height - u.top - 2)), b.isMobile() && !b.isTablet() || this._element.offsetParent || (e += n.documentElement.offsetLeft, t += n.documentElement.offsetTop), b.move(this._element, Math.max(0, e), Math.max(0, t));
      }, i.prototype.today = function() {
        return this.date = /* @__PURE__ */ new Date();
      }, i.prototype.incDay = function(e) {
        var t;
        return this._date.getMonth() == this._currDate.getMonth() ? (t = new Date(this._date), this._date && t.setDate(this._date.getDate() + e)) : (t = this._currDate, t = new Date(t.getFullYear(), t.getMonth(), 1)), this.date = t;
      }, i.prototype.incMonth = function(e) {
        var t;
        return this._date.getMonth() == this._currDate.getMonth() ? (t = new Date(this._date), this._date && b.incMonth(t, e)) : (t = this._currDate, t = new Date(t.getFullYear(), t.getMonth(), 1)), this.date = t;
      }, i.prototype.firstDay = function() {
        var e = new Date(this._currDate);
        return this._date && e.setDate(1), this.date = e;
      }, i.prototype.lastDay = function() {
        var e = new Date(this._currDate);
        if (this._date) {
          var t = e.getFullYear(), o = e.getMonth(), r = b.month_days[b.isLeapYear(t) ? 1 : 0][o];
          e.setDate(r);
        }
        return this.date = e;
      }, i;
    }(Be), xp = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._minDate = new Date(1970, 0, 1), o._maxDate = new Date(2100, 11, 31), o._dropDownPosition = f.DropDownPosition.BUTTON, o._dropDownWhenClick = !1, o._commitOnSelect = !1, o._regx = /[0-9]|\.|\-|\/|a|A|p|P|m/, o._closing = !1, o._globalMouseHandler = function(r) {
          var n = r.target;
          if (this._isMarquee(n))
            this.closeUp(!1);
          else {
            for (; n; ) {
              if (n == this._list._element)
                return;
              n = n.parentNode;
            }
            this.closeUp(!0);
          }
        }.bind(o), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._globalMouseHandler = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "list", { get: function() {
        return this._list;
      }, set: function(e) {
        this._list = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "btOptions", { get: function() {
        return this._btOptions;
      }, set: function(e) {
        this._btOptions = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editFormat", { get: function() {
        return this.datetimeFormat;
      }, set: function(e) {
        this.datetimeFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minDate", { get: function() {
        return this._minDate;
      }, set: function(e) {
        this._minDate = e ? e instanceof Date ? e : typeof e == "string" ? this._dateConverter.getDateNull(e) : null : null, this._minDate && this._minDate.setHours(0, 0, 0, 0);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxDate", { get: function() {
        return this._maxDate;
      }, set: function(e) {
        this._maxDate = e ? e instanceof Date ? e : typeof e == "string" ? this._dateConverter.getDateNull(e) : null : null, this._maxDate && this._maxDate.setHours(23, 59, 59);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownPosition", { get: function() {
        return this._dropDownPosition;
      }, set: function(e) {
        this._dropDownPosition = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownWhenClick", { get: function() {
        return this._dropDownWhenClick;
      }, set: function(e) {
        this._dropDownWhenClick = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitOnSelect", { get: function() {
        return this._commitOnSelect;
      }, set: function(e) {
        this._commitOnSelect = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.dropDown = function() {
        if (!(this.readOnly || this._controller._readOnly || this.listing || this._closing)) {
          var e = te(this._container), t = Xe(e), o = this._grid, r = this._list = new Cp(o.container, this, this._btOptions), n = e.documentElement, s = b.getBounds(this._container);
          return r.addListener(this), r.viewGridInside = this._options && this._options.viewGridInside, r.dropDownPosition = this._dropDownPosition, r.minDate = this._minDate, r.maxDate = this._maxDate, this.$_setListDate(), this._isMobile && !this._isTablet ? (this._showMarquee(n), r.show(n, 0, 0, 0, null), this._centerPopup(n, r._element)) : r.show(e.documentElement, s.x + 1, s.y + s.height, this._cellBounds.width, b.getClientRect(this._editor)), !b.isSlotMode() && t.addEventListener("pointerdown", this._globalMouseHandler), !0;
        }
        return !1;
      }, i.prototype.closeUp = function(e) {
        if (this.listing) {
          var t = Xe(te(this._container));
          this._closing = !0;
          try {
            !b.isSlotMode() && t.removeEventListener("pointerdown", this._globalMouseHandler), this._closeMarquee(), e && this._list.selected && (this._isMobile && !this._isTablet ? (this._started = !0, this.$_selectDate(this._list.date), this._dispatchCommit()) : (this.$_selectDate(this._list.date), this._commitOnSelect && this._dispatchCommit()));
          } finally {
            this.$_listDestroy(), this._closing = !1;
          }
          return !0;
        }
        return !1;
      }, i.prototype.buttonClicked = function(e) {
        this.listing ? this.closeUp(!1) : this.dropDown();
      }, i.prototype.dropDownList = function() {
        this.dropDown();
      }, i.prototype.closeList = function(e) {
        this.closeUp(e);
      }, i.prototype.$_setListDate = function() {
        var e = this._editor.value;
        e && this._mask && (e = this._mask.getStripValue());
        var t = this._dateConverter.getDateNull(e);
        t && (this._list.date = t);
      }, i.prototype.selectDate = function(e) {
        this.$_selectDate(e);
      }, i.prototype.$_selectDate = function(e) {
        if (e && e != this._date) {
          if (this._date = e, this.containsRange(e)) {
            var t = this._dateConverter.getText(this._date);
            this._mask && (t = this._mask.writeBuffer(t)), this._editor.value = t, this._doChanged();
          }
        } else
          e === void 0 && (this._editor.value = this._mask ? (this._mask.clearBuffer(), this._mask.writeBuffer(null)) : "", this._doChanged());
      }, i.prototype.containsRange = function(e) {
        return (!this._minDate || e >= this._minDate) && (!this._maxDate || e <= this._maxDate);
      }, Object.defineProperty(i.prototype, "listing", { get: function() {
        return !!this._list && this._list.listing;
      }, enumerable: !1, configurable: !0 }), i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this), this._dropDownWhenClick = !1, this._textReadOnly = !1, this._viewGridInside = !1, this._minDate = new Date(1970, 0, 1), this._maxDate = new Date(2100, 11, 31), this._commitOnSelect = !1;
      }, i.prototype._isDateEditor = function() {
        return !0;
      }, i.prototype.setEditValue = function(e) {
        a.prototype.setEditValue.call(this, e), this._date = typeof e == "string" ? this._dateConverter.getDateNull(e) : e;
      }, i.prototype.getEditValue = function(e, t) {
        var o = a.prototype.getEditValue.call(this, e), r = this._editField().dataType;
        return o && t && (r == f.ValueType.DATE || r == f.ValueType.DATETIME) && (o = o.getTime(), o = this._minDate ? Math.max(this._minDate.getTime(), o) : o, (o = this._maxDate ? Math.min(this._maxDate.getTime(), o) : o) && (o = new Date(o))), o;
      }, i.prototype._requestStart = function(e) {
        return !!a.prototype._requestStart.call(this, e) && (this._isMobile ? e && this.dropDown() : e !== !1 && this.dropDown(), !0);
      }, i.prototype._textHandler = function() {
        this._requestStart();
      }, i.prototype._compositionstartHandler = function() {
        this._requestStart();
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled()) {
          var t = this._list, o = this.listing, r = o && t.focused;
          switch (e.keyCode) {
            case 13:
              if (this.closeUp(!0))
                return b.stopEvent(e, !0), !this._sendToParent(e);
              break;
            case 27:
              if (this.closeUp(!1))
                return b.stopEvent(e, !0), !0;
              break;
            case 36:
              if (r)
                return b.stopEvent(e, !0), this.$_selectDate(t.firstDay()), !0;
              break;
            case 35:
              if (r)
                return b.stopEvent(e, !0), this.$_selectDate(t.lastDay()), !0;
              break;
            case 37:
            case 39:
              if (r)
                return b.stopEvent(e, !0), t && t.keydown(e), !0;
              break;
            case 33:
              if (r)
                return b.stopEvent(e, !0), this.$_selectDate(t.incMonth(-1)), !0;
              break;
            case 34:
              if (r)
                return b.stopEvent(e, !0), this.$_selectDate(t.incMonth(1)), !0;
              break;
            case 40:
              if (e.altKey && !o)
                return this._requestStart(), b.stopEvent(e, !0), !0;
              if (o)
                return b.stopEvent(e, !0), r ? t.keydown(e) : (t.focused = !0, this.$_setListDate()), !0;
              break;
            case 38:
              if (e.altKey && o)
                return this.closeUp(!1), b.stopEvent(e, !0), !0;
              if (o)
                return b.stopEvent(e, !0), r ? t.date.getDate() <= 7 ? t.focused = !1 : t.keydown(e) : t.focused = !1, !0;
              break;
            case 84:
              (e.altKey || e.altKey && e.ctrlKey) && o && (b.stopEvent(e, !0), t.date = /* @__PURE__ */ new Date(), this.$_selectDate(t.date));
          }
          return a.prototype._keyDownHandler.call(this, e);
        }
      }, i.prototype._keyPressHandler = function(e) {
        if (!this.isDisabled()) {
          var t = this._list, o = String.fromCharCode(e.keyCode || e.charCode);
          if (o.toLocaleLowerCase() == this.todayChar) {
            if (b.stopEvent(e, !0), this.listing)
              return t.focused = !0, this.$_selectDate(t.today()), !0;
          } else {
            if (b.isFirefox && (e.ctrlKey || e.charCode === 0))
              return a.prototype._keyPressHandler.call(this, e);
            if (!this._regx.test(o))
              return void e.preventDefault();
          }
          a.prototype._keyPressHandler.call(this, e), e.keyCode && this.textReadOnly && e.preventDefault();
        }
      }, i.prototype.$_resetValue = function(e) {
        if (e === void 0 && (e = !1), this.visible || e) {
          var t = this._editor, o = t.selectionStart, r = t.selectionEnd, n = t.value ? t.value.length : 0;
          t.value = t.value.replace(Al, "");
          var s = t.value ? t.value.length : 0;
          this._isMobile || (s == n ? t.setSelectionRange(o, r) : t.setSelectionRange(r, r));
        }
      }, i.prototype.setBounds = function(e, t, o, r, n) {
        a.prototype.setBounds.call(this, e, t, o, r, n);
      }, i.prototype._doChanged = function() {
        this._isMobile ? !this._controller.readOnly && this._controller.editable && (this._modified = !0, this._dispatchChange()) : (this._started && this._requestStart(), this._started && !this._controller.readOnly && this._controller.editable && (this._modified = !0, this._dispatchChange()));
      }, i.prototype._dispatchChange = function() {
        (this._isMobile || this.visible) && (this.$_resetValue(this._isMobile), a.prototype._dispatchChange.call(this));
      }, i.prototype.onDatePickerCloseUp = function(e, t) {
        this.closeUp(t), !this._isMobile && this.setFocus();
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype.$_listDestroy = function() {
        var e = this._list && this._list._element.parentElement;
        this._list && (this._list.$_destroy(), e.removeChild(this._list._element), this._list.dispose(), delete this._list);
      }, i.INPUT_CSS = "rg-btdate-editor", i;
    }(is), Ip = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._minDate = new Date(1970, 0, 1), o._maxDate = new Date(2100, 11, 31), o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "minDate", { get: function() {
        return this._minDate;
      }, set: function(e) {
        e != this._minDate && (this._minDate = e ? e instanceof Date ? e : typeof e == "string" ? this._dateConverter.getDateNull(e) : null : null, this._minDate && this._minDate.setHours(0, 0, 0, 0), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxDate", { get: function() {
        return this._maxDate;
      }, set: function(e) {
        e != this._maxDate && (this._maxDate = e ? e instanceof Date ? e : typeof e == "string" ? this._dateConverter.getDateNull(e) : null : null, this._maxDate && this._maxDate.setHours(23, 59, 59), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "native", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "buttonCount", { get: function() {
        return 1;
      }, enumerable: !1, configurable: !0 }), i.prototype._createEditor = function(e) {
        var t = a.prototype._createEditor.call(this, e);
        return t.setAttribute("type", "date"), t.tabIndex = this._isMobile ? -1 : 0, t;
      }, i.prototype._getInputSelector = function() {
        return i.INPUT_CSS;
      }, i.prototype.initOptions = function() {
        a.prototype.initOptions.call(this);
      }, i.prototype.hasButton = function(e, t) {
        return e == null || e;
      }, i.prototype.setVisible = function(e, t) {
        t === void 0 && (t = !1), a.prototype.setVisible.call(this, e, t), this.visible && this._editor.click();
      }, i.prototype.setEditIndex = function(e) {
        a.prototype.setEditIndex.call(this, e);
        var t = this._editor;
        t.min = this._minDate ? this.$_toInputDate(this._minDate) : "", t.max = this._maxDate ? this.$_toInputDate(this._maxDate) : "";
      }, i.prototype.setEditValue = function(e) {
        this._date = typeof e == "string" ? this._dateConverter.getDateNull(e) : e, this._editor.value = this.$_toInputDate(this._date);
      }, i.prototype._keyDownHandler = function(e) {
        if (!this.isDisabled())
          return e.keyCode === 40 && e.altKey ? (this._requestStart(), !0) : a.prototype._keyDownHandler.call(this, e);
      }, i.prototype.setBounds = function(e, t, o, r, n) {
        a.prototype.setBounds.call(this, e, t, o, r, 0), this._editor && b.isiOS && (this._editor.style.minWidth = o + "px", this._editor.style.width = o + "px");
      }, i.prototype.$_toInputDate = function(e) {
        return e ? i.Formatter.getText(e) : "";
      }, i.INPUT_CSS = "rg-ndate-editor", i.Formatter = Ne.getFormatter("yyyy-MM-dd"), i;
    }(yt), Sp = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._readOnly = !1, t._editable = !b.isMobile(), t._checkable = !0, t._updatable = !0, t._appendable = !1, t._insertable = !1, t._deletable = !1, t._revertable = !1, t._erasable = !1, t._movable = !1, t._commitByCell = !1, t._editWhenFocused = !1, t._commitWhenNoEdit = !1, t._commitWhenExitLast = !1, t._commitWhenLeave = !1, t._crossWhenExitLast = !1, t._validateOnEdited = !0, t._validateOnExit = !1, t._hintOnError = !0, t._deleteRowsMessage = window.RG_CONST && window.RG_CONST.DELETEROWSMESSAGE ? window.RG_CONST.DELETEROWSMESSAGE : "선택된 행(들)을 삭제하시겠습니까??", t._invalidFormatMessage = window.RG_CONST && window.RG_CONST.INVALIDFORMATMESSAGE ? window.RG_CONST.INVALIDFORMATMESSAGE : "잘못된 입력 유형입니다.", t._showInvalidFormatMessage = !0, t._confirmWhenDelete = !0, t._editWhenClickFocused = !1, t._commitLevel = f.ValidationLevel.IGNORE, t._useTabKey = !0, t._useArrowKeys = !0, t._skipReadOnly = !1, t._skipReadOnlyCell = !1, t._verticalMoveStep = f.VerticalMoveStep.CELL, t._focusMoveStep = f.FocusMoveStep.CELL, t._enterToTab = !1, t._enterToNextRow = !1, t._enterToEdit = !1, t._maxLengthToNextCell = !1, t._forceInsert = !1, t._forceAppend = !1, t._checkDiff = !1, t._checkCellDiff = !1, t._strictDiff = !1, t._deletableWhenEdit = !0, t._showCommitError = !1, t._firstCellWhenInsert = !1, t._appendWhenInsertKey = !1, t._appendWhenExitLast = !1, t._showOnlyValidationMessage = !0, t._displayEmptyEditRow = !1, t._buttonClickWhenSpace = !1, t._exitGridWhenTab = f.ExitGridWhenTab.NONE, t._cancelWhenLastUndo = !1, t._exceptDataClickWhenButton = !1, t._removeValidateOnCommit = !1, t._validateOnlyEditColumn = !1, t._columnEditableFirst = !1, t._currentChangingFirat = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "readOnly", { get: function() {
        return this._readOnly;
      }, set: function(e) {
        e != this._readOnly && (this._readOnly = e, this._refreshOwner(), this.$_invalidateEditor());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editable", { get: function() {
        return this._editable;
      }, set: function(e) {
        e != this._editable && (this._editable = e, this._refreshOwner(), this.$_invalidateEditor());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "columnEditableFirst", { get: function() {
        return this._columnEditableFirst;
      }, set: function(e) {
        e != this._columnEditableFirst && (this._columnEditableFirst = e, this._refreshOwner(), this.$_invalidateEditor());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkable", { get: function() {
        return this._checkable;
      }, set: function(e) {
        e != this._checkable && (this._checkable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "updatable", { get: function() {
        return this._updatable;
      }, set: function(e) {
        e != this._updatable && (this._updatable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "appendable", { get: function() {
        return this._appendable;
      }, set: function(e) {
        e != this._appendable && (this._appendable = e, this.displayEmptyEditRow = this._displayEmptyEditRow, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "insertable", { get: function() {
        return this._insertable;
      }, set: function(e) {
        e != this._insertable && (this._insertable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "deletable", { get: function() {
        return this._deletable;
      }, set: function(e) {
        e != this._deletable && (this._deletable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "revertable", { get: function() {
        return this._revertable;
      }, set: function(e) {
        e != this._revertable && (this._revertable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "erasable", { get: function() {
        return this._erasable;
      }, set: function(e) {
        e != this._erasable && (this._erasable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "movable", { get: function() {
        return this._movable;
      }, set: function(e) {
        e != this._movable && (this._movable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitByCell", { get: function() {
        return this._commitByCell;
      }, set: function(e) {
        e != this._commitByCell && (this._commitByCell = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editWhenFocused", { get: function() {
        return this._editWhenFocused;
      }, set: function(e) {
        this._editWhenFocused = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitWhenNoEdit", { get: function() {
        return this._commitWhenNoEdit;
      }, set: function(e) {
        this._commitWhenNoEdit = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitWhenExitLast", { get: function() {
        return this._commitWhenExitLast;
      }, set: function(e) {
        this._commitWhenExitLast = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitWhenLeave", { get: function() {
        return this._commitWhenLeave;
      }, set: function(e) {
        this._commitWhenLeave = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "crossWhenExitLast", { get: function() {
        return this._crossWhenExitLast;
      }, set: function(e) {
        this._crossWhenExitLast = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "validateOnEdited", { get: function() {
        return this._validateOnEdited;
      }, set: function(e) {
        this._validateOnEdited = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "validateOnExit", { get: function() {
        return this._validateOnExit;
      }, set: function(e) {
        this._validateOnExit = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hintOnError", { get: function() {
        return this._hintOnError;
      }, set: function(e) {
        this._hintOnError = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "removeValidateOnCommit", { get: function() {
        return this._removeValidateOnCommit;
      }, set: function(e) {
        this._removeValidateOnCommit = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "validateOnlyEditColumn", { get: function() {
        return this._validateOnlyEditColumn;
      }, set: function(e) {
        this._validateOnlyEditColumn = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "deleteRowsMessage", { get: function() {
        return this._deleteRowsMessage;
      }, set: function(e) {
        this._deleteRowsMessage = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "invalidFormatMessage", { get: function() {
        return this._invalidFormatMessage;
      }, set: function(e) {
        this._invalidFormatMessage = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showInvalidFormatMessage", { get: function() {
        return this._showInvalidFormatMessage;
      }, set: function(e) {
        this._showInvalidFormatMessage = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "confirmWhenDelete", { get: function() {
        return this._confirmWhenDelete;
      }, set: function(e) {
        this._confirmWhenDelete = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editWhenClickFocused", { get: function() {
        return this._editWhenClickFocused;
      }, set: function(e) {
        this._editWhenClickFocused = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitLevel", { get: function() {
        return this._commitLevel;
      }, set: function(e) {
        this._commitLevel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "useTabKey", { get: function() {
        return this._useTabKey;
      }, set: function(e) {
        this._useTabKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "useArrowKeys", { get: function() {
        return this._useArrowKeys;
      }, set: function(e) {
        this._useArrowKeys = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "skipReadOnly", { get: function() {
        return this._skipReadOnly;
      }, set: function(e) {
        this._skipReadOnly = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "skipReadOnlyCell", { get: function() {
        return this._skipReadOnlyCell;
      }, set: function(e) {
        this._skipReadOnlyCell = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "verticalMoveStep", { get: function() {
        return this._verticalMoveStep;
      }, set: function(e) {
        this._verticalMoveStep = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focusMoveStep", { get: function() {
        return this._focusMoveStep;
      }, set: function(e) {
        this._focusMoveStep = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enterToTab", { get: function() {
        return this._enterToTab;
      }, set: function(e) {
        this._enterToTab = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enterToNextRow", { get: function() {
        return this._enterToNextRow;
      }, set: function(e) {
        this._enterToNextRow = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enterToEdit", { get: function() {
        return this._enterToEdit;
      }, set: function(e) {
        this._enterToEdit = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxLengthToNextCell", { get: function() {
        return this._maxLengthToNextCell;
      }, set: function(e) {
        this._maxLengthToNextCell = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "forceInsert", { get: function() {
        return this._forceInsert;
      }, set: function(e) {
        this._forceInsert = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "forceAppend", { get: function() {
        return this._forceAppend;
      }, set: function(e) {
        this._forceAppend = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkDiff", { get: function() {
        return this._checkDiff;
      }, set: function(e) {
        this._checkDiff = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkCellDiff", { get: function() {
        return this._checkCellDiff;
      }, set: function(e) {
        this._checkCellDiff = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "strictDiff", { get: function() {
        return this._strictDiff;
      }, set: function(e) {
        this._strictDiff = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "deletableWhenEdit", { get: function() {
        return this._deletableWhenEdit;
      }, set: function(e) {
        this._deletableWhenEdit = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showCommitError", { get: function() {
        return this._showCommitError;
      }, set: function(e) {
        this._showCommitError = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "firstCellWhenInsert", { get: function() {
        return this._firstCellWhenInsert;
      }, set: function(e) {
        this._firstCellWhenInsert = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "appendWhenInsertKey", { get: function() {
        return this._appendWhenInsertKey;
      }, set: function(e) {
        this._appendWhenInsertKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "appendWhenExitLast", { get: function() {
        return this._appendWhenExitLast;
      }, set: function(e) {
        this._appendWhenExitLast = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showOnlyValidationMessage", { get: function() {
        return this._showOnlyValidationMessage;
      }, set: function(e) {
        this._showOnlyValidationMessage = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayEmptyEditRow", { get: function() {
        return this._displayEmptyEditRow;
      }, set: function(e) {
        var t = this.grid;
        this._displayEmptyEditRow = e, this._displayEmptyEditRow && this._appendable ? t.itemSource.appendDummy() : t.itemSource.cancelDummy(), this._refreshOwner();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "buttonClickWhenSpace", { get: function() {
        return this._buttonClickWhenSpace;
      }, set: function(e) {
        this._buttonClickWhenSpace = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exitGridWhenTab", { get: function() {
        return this._exitGridWhenTab;
      }, set: function(e) {
        this._exitGridWhenTab = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cancelWhenLastUndo", { get: function() {
        return this._cancelWhenLastUndo;
      }, set: function(e) {
        this._cancelWhenLastUndo = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exceptDataClickWhenButton", { get: function() {
        return this._exceptDataClickWhenButton;
      }, set: function(e) {
        this._exceptDataClickWhenButton = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollOnEditing", { get: function() {
        return this._scrollOnEditing;
      }, set: function(e) {
        this._scrollOnEditing = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "currentChangingFirst", { get: function() {
        return this._currentChangingFirat;
      }, set: function(e) {
        this._currentChangingFirat = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.isWritable = function() {
        return this._editable && !this._readOnly;
      }, i.prototype.canUpdate = function(e) {
        return !this._readOnly && (e || this._updatable);
      }, i.prototype.canInsert = function() {
        return !this._readOnly && this._insertable;
      }, i.prototype.canAppend = function() {
        return !this._readOnly && this._appendable;
      }, i.prototype.canDelete = function() {
        return !this._readOnly && this._deletable;
      }, i.prototype.$_invalidateEditor = function() {
        this.grid && this.grid.requestPrepareEditor();
      }, i;
    }(lt), Ep = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cell = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "value", { set: function(e) {
        this._value = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cell", { set: function(e) {
        this._cell = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        switch (e) {
          case i.ID_VALUE:
            return this._value;
          case i.ID_ROW:
            return this._cell.itemIndex + 1;
          case i.ID_COLUMN_HEADER:
            var t = this._cell && this._cell.column;
            return t && t.header && t.header.text ? t.header.text : t.displayText;
        }
        throw new ie("Invalid identifier key: " + e);
      }, i.ID_VALUE = 0, i.ID_ROW = 1, i.ID_COLUMN_HEADER = 2, i.IDENTS = { value: i.ID_VALUE, row: i.ID_ROW, dcount: i.ID_COLUMN_HEADER }, i;
    }(bt), Op = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._yearDisplayFormat = window.RG_CONST && window.RG_CONST.YEARDISPLAYFORMAT ? window.RG_CONST.YEARDISPLAYFORMAT : "{Y}년", t._monthDisplayFormat = window.RG_CONST && window.RG_CONST.MONTHDISPLAYFORMAT ? window.RG_CONST.MONTHDISPLAYFORMAT : "{M}월", t._months = null, t._weekDays = null, t._viewGridInside = !1, t._holidays = null, t._titleExprRuntime = new Ep(), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "yearDisplayFormat", { get: function() {
        return this._yearDisplayFormat;
      }, set: function(e) {
        e != this._yearDisplayFormat && (this._yearDisplayFormat = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "monthDisplayFormat", { get: function() {
        return this._monthDisplayFormat;
      }, set: function(e) {
        e != this._monthDisplayFormat && (this._monthDisplayFormat = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "months", { get: function() {
        return this._months;
      }, set: function(e) {
        e != this._months && (this._months = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "weekDays", { get: function() {
        return this._weekDays;
      }, set: function(e) {
        e != this._weekDays && (this._weekDays = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "viewGridInside", { get: function() {
        return this._viewGridInside;
      }, set: function(e) {
        e != this._viewGridInside && (this._viewGridInside = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "titleStatement", { get: function() {
        return this._titleStatement;
      }, set: function(e) {
        e != this._titleStatement && (this._titleStatement = e, e ? this._titleExprStatement ? this._titleExprStatement.source = e : this._titleExprStatement = new dr(e) : this._titleExprStatement = null, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "holidays", { get: function() {
        return this._holidays;
      }, set: function(e) {
        e != this._holidays && (this._holidays = e, e ? (this._holidayCollection = this._holidayCollection || new fs(), this._holidayCollection.load(e)) : this._holidayCollection && this._holidayCollection.clear(), this._changed());
      }, enumerable: !1, configurable: !0 }), i;
    }(lt), Rp = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._enabled = !0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "enabled", { get: function() {
        return this._enabled;
      }, set: function(e) {
        this._enabled = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "singleMode", { get: function() {
        return this._singleMode;
      }, set: function(e) {
        this._singleMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeFormat", { get: function() {
        return this._datetimeFormat;
      }, set: function(e) {
        this._datetimeFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        this._booleanFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lookupDisplay", { get: function() {
        return this._lookupDisplay;
      }, set: function(e) {
        this._lookupDisplay = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "copyDisplayText", { get: function() {
        return this._copyDisplayText;
      }, set: function(e) {
        this._copyDisplayText = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "includeHeaderText", { get: function() {
        return this._includeHeaderText;
      }, set: function(e) {
        this._includeHeaderText = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "copyTextCallback", { get: function() {
        return this._copyTextCallback;
      }, set: function(e) {
        this._copyTextCallback = e;
      }, enumerable: !1, configurable: !0 }), i;
    }(lt), Pp = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._enabled = !0, t._startEdit = !0, t._commitEdit = !0, t._enableAppend = !0, t._numberCharsOfCols = {}, t._numberSeparatorOfCols = {}, t._stopOnError = !0, t._throwValidationError = !0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "enabled", { get: function() {
        return this._enabled;
      }, set: function(e) {
        this._enabled = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "singleMode", { get: function() {
        return this._singleMode;
      }, set: function(e) {
        this._singleMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "startEdit", { get: function() {
        return this._startEdit;
      }, set: function(e) {
        this._startEdit = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitEdit", { get: function() {
        return this._commitEdit;
      }, set: function(e) {
        this._commitEdit = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enableAppend", { get: function() {
        return this._enableAppend;
      }, set: function(e) {
        this._enableAppend = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "forceAppend", { get: function() {
        return this._forceAppend;
      }, set: function(e) {
        this._forceAppend = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fillFieldDefaults", { get: function() {
        return this._fillFieldDefaults;
      }, set: function(e) {
        this._fillFieldDefaults = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fillColumnDefaults", { get: function() {
        return this._fillColumnDefaults;
      }, set: function(e) {
        this._fillColumnDefaults = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "forceRowValidation", { get: function() {
        return this._forceRowValidation;
      }, set: function(e) {
        this._forceRowValidation = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "forceColumnValidation", { get: function() {
        return this._forceColumnValidation;
      }, set: function(e) {
        this._forceColumnValidation = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "datetimeFormats", { get: function() {
        return this._datetimeFormats;
      }, set: function(e) {
        if (e !== this._datetimeFormats)
          if (this._datetimeFormats = e && e.concat(), e) {
            this._dateReaders = [];
            for (var t = 0; t < this._datetimeFormats.length; t++)
              this._dateReaders.push(new pi(this._datetimeFormats[t]));
          } else
            this._dateReaders = null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dateReaders", { get: function() {
        return this._dateReaders;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "booleanFormat", { get: function() {
        return this._booleanFormat;
      }, set: function(e) {
        e != this._booleanFormat && (this._booleanFormat = e, this._boolReader = e && new di(e));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "boolReader", { get: function() {
        return this._boolReader;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberChars", { get: function() {
        return this._numberChars;
      }, set: function(e) {
        if (e !== this._numberChars)
          if (this._numberChars = e, e && e.length > 0) {
            for (var t = "[", o = 0; o < e.length; o++) {
              var r = e[o];
              t += r == "\\" ? "\\" + r : r;
            }
            t += "]", this._numberCharExp = new RegExp(t, "g");
          } else
            this._numberCharExp = null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberSeparator", { get: function() {
        return this._numberSeparator;
      }, set: function(e) {
        this._numberSeparator = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberCharsOfCols", { get: function() {
        return this._numberCharsOfCols;
      }, set: function(e) {
        if (e !== this._numberCharsOfCols && (this._numberCharsOfCols = e, this._numberCharExpOfCols = {}, e))
          for (var t in e) {
            var o = e[t];
            if (o instanceof Array && o.length > 0) {
              for (var r = "[", n = 0, s = o.length; n < s; n++) {
                var l = o[n];
                r += l == "\\" ? "\\" + l : l;
              }
              r += "]", this._numberCharExpOfCols[t] = new RegExp(r, "g");
            } else
              this._numberCharExpOfCols[t] = null;
          }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberCharExp", { get: function() {
        return this._numberCharExp;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberSeparatorOfCols", { get: function() {
        return this._numberSeparatorOfCols;
      }, set: function(e) {
        this._numberSeparatorOfCols = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectionBase", { get: function() {
        return this._selectionBase;
      }, set: function(e) {
        this._selectionBase = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectBlockPaste", { get: function() {
        return this._selectBlockPaste;
      }, set: function(e) {
        this._selectBlockPaste = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "stopOnError", { get: function() {
        return this._stopOnError;
      }, set: function(e) {
        this._stopOnError = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "noEditEvent", { get: function() {
        return this._noEditEvent;
      }, set: function(e) {
        e != this._noEditEvent && (this._noEditEvent = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "noDataEvent", { get: function() {
        return this._noDataEvent;
      }, set: function(e) {
        this._noDataEvent = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "eventEachRow", { get: function() {
        return this._eventEachRow;
      }, set: function(e) {
        this._eventEachRow = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkReadOnly", { get: function() {
        return this._checkReadOnly;
      }, set: function(e) {
        this._checkReadOnly = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkDomainOnly", { get: function() {
        return this._checkDomainOnly;
      }, set: function(e) {
        this._checkDomainOnly = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "convertLookupLabel", { get: function() {
        return this._convertLookupLabel;
      }, set: function(e) {
        this._convertLookupLabel = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "applyNumberFormat", { get: function() {
        return this._applyNumberFormat;
      }, set: function(e) {
        this._applyNumberFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "applyEditMask", { get: function() {
        return this._applyEditMask;
      }, set: function(e) {
        this._applyEditMask = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "applyMaxLength", { get: function() {
        return this._applyMaxLength;
      }, set: function(e) {
        this._applyMaxLength = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "applyInputChars", { get: function() {
        return this._applyInputChars;
      }, set: function(e) {
        this._applyInputChars = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "throwValidationError", { get: function() {
        return this._throwValidationError;
      }, set: function(e) {
        this._throwValidationError = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.numberCharExpOfCol = function(e) {
        return e && this._numberCharExpOfCols && this._numberCharExpOfCols[e] ? this._numberCharExpOfCols[e] : this._numberCharExp;
      }, i.prototype.numberSeparatorOfCol = function(e) {
        return e && this._numberSeparatorOfCols && this._numberSeparatorOfCols[e] ? this._numberSeparatorOfCols[e] : this._numberSeparator;
      }, i;
    }(lt), kp = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._longTapDuration = 500, t._doubleTapInterval = 500, t._tapThreshold = 10, t._showEditCommander = !1, t._showTooltip = !1, t._scrollPropagate = !0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "longTapDuration", { get: function() {
        return this._longTapDuration;
      }, set: function(e) {
        e != this._longTapDuration && (this._longTapDuration = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "doubleTapInterval", { get: function() {
        return this._doubleTapInterval;
      }, set: function(e) {
        e != this._doubleTapInterval && (this._doubleTapInterval = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tapThreshold", { get: function() {
        return this._tapThreshold;
      }, set: function(e) {
        e != this._tapThreshold && (this._tapThreshold = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showEditCommander", { get: function() {
        return this._showEditCommander;
      }, set: function(e) {
        e != this._showEditCommander && (this._showEditCommander = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showTooltip", { get: function() {
        return this._showTooltip;
      }, set: function(e) {
        e != this._showTooltip && (this._showTooltip = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollOnEditing", { get: function() {
        return this.grid.editOptions.scrollOnEditing;
      }, set: function(e) {
        this.grid.editOptions.scrollOnEditing = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollPropagate", { get: function() {
        return this._scrollPropagate;
      }, set: function(e) {
        this._scrollPropagate = e;
      }, enumerable: !1, configurable: !0 }), i;
    }(lt), Oi = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._grid = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), i.prototype.canFocus = function() {
        return !0;
      }, i;
    }(hs), Ni = function(a) {
      function i(e, t) {
        var o = a.call(this, e) || this;
        return o._style = t, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "style", { get: function() {
        return this._style;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "manager", { get: function() {
        return this.grid.selections;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectable", { get: function() {
        return !0;
      }, enumerable: !1, configurable: !0 }), i;
    }(function(a) {
      function i(e) {
        var t = a.call(this, e.grid) || this;
        return t._index = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._index.dispose(), this._index = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "index", { get: function() {
        return this._index;
      }, enumerable: !1, configurable: !0 }), i;
    }(Oi)), Fr = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._layout = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "layout", { get: function() {
        return this._layout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "x", { get: function() {
        return this._x;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "y", { get: function() {
        return this._y;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "offset", { get: function() {
        return this._offset;
      }, enumerable: !1, configurable: !0 }), i.prototype.init = function(e, t, o, r) {
        return this._layout = e, this._x = t, this._y = o, this._offset = r, this;
      }, Object.defineProperty(i.prototype, "cursor", { get: function() {
        return "col-resize";
      }, enumerable: !1, configurable: !0 }), i;
    }(Oi), _s = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._layout = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "layout", { get: function() {
        return this._layout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "x", { get: function() {
        return this._x;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "y", { get: function() {
        return this._y;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "offset", { get: function() {
        return this._offset;
      }, set: function(e) {
        this._offset = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.init = function(e, t, o, r) {
        return this._layout = Oe.getSource(e), this._x = t, this._y = o, r != null && (this._offset = r), this;
      }, Object.defineProperty(i.prototype, "cursor", { get: function() {
        return "default";
      }, enumerable: !1, configurable: !0 }), i;
    }(Oi), Wl = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._itemIndex = -1, t._variable = !1, t._rowTop = 0, t._offset = 0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "itemIndex", { get: function() {
        return this._itemIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "variable", { get: function() {
        return this._variable;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowTop", { get: function() {
        return this._rowTop;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "offset", { get: function() {
        return this._offset;
      }, enumerable: !1, configurable: !0 }), i.prototype.init = function(e, t, o, r) {
        return this._itemIndex = e, this._variable = t, this._rowTop = o, this._offset = r, this;
      }, Object.defineProperty(i.prototype, "cursor", { get: function() {
        return "row-resize";
      }, enumerable: !1, configurable: !0 }), i.prototype.canFocus = function() {
        return !1;
      }, i;
    }(Oi), Ul = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._offset = 0, t._top = 0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "top", { get: function() {
        return this._top;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "offset", { get: function() {
        return this._offset;
      }, enumerable: !1, configurable: !0 }), i.prototype.init = function(e, t) {
        return this._top = e, this._offset = t, this;
      }, Object.defineProperty(i.prototype, "cursor", { get: function() {
        return "row-resize";
      }, enumerable: !1, configurable: !0 }), i;
    }(Oi), zl = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._itemIndex = -1, t._offset = 0, t._layout = null, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "itemIndex", { get: function() {
        return this._itemIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "offset", { get: function() {
        return this._offset;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "layout", { get: function() {
        return this._layout;
      }, enumerable: !1, configurable: !0 }), i.prototype.init = function(e, t) {
        return this._selStyle = e && e.style, this._selStyle && this._selStyle != f.SelectionStyle.COLUMNS && this._selStyle != f.SelectionStyle.SINGLE_COLUMN ? (this._itemIndex = e.getBounds().top, this._layout = e.startLayout, this._offset = t - this._itemIndex) : (this._itemIndex = t, this._offset = 0, this._layout = null), this;
      }, Object.defineProperty(i.prototype, "cursor", { get: function() {
        return this.grid.dataDropOptions.cursor;
      }, enumerable: !1, configurable: !0 }), i.prototype.canFocus = function() {
        return this._selStyle == f.SelectionStyle.COLUMNS || this._selStyle == f.SelectionStyle.SINGLE_COLUMN;
      }, i;
    }(Oi), gs = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._visible = !0, e && t.assignFrom(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._visible;
      }, set: function(e) {
        this._visible = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "message", { get: function() {
        return this._message;
      }, set: function(e) {
        this._message = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.assignFrom = function(e) {
        typeof e == "string" ? (this._message = e, this._message && (this._visible = !0)) : typeof e == "boolean" ? this._visible = e : e && a.prototype.assignFrom.call(this, e);
      }, i;
    }(J), Tp = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._minWidth = 0, t._maxWidth = 0, t._dropDownCount = 8, t._showing = !1, t.$_touchendHandler = null, t._container = e, t._element = t.$_createElement(e.doc), t.$_touchendHandler = function(o) {
          o.preventDefault(), this.hide();
        }.bind(t), b.isMobile() && t._element.addEventListener("touchend", t.$_touchendHandler, !1), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this), this._element && this._element.removeEventListener("touchend", this.$_touchendHandler), b.detach(this._element);
      }, Object.defineProperty(i.prototype, "minWidth", { get: function() {
        return this._minWidth;
      }, set: function(e) {
        this._minWidth = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxWidth", { get: function() {
        return this._maxWidth;
      }, set: function(e) {
        this._maxWidth = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropDownCount", { get: function() {
        return this._dropDownCount;
      }, set: function(e) {
        this._dropDownCount = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.show = function(e, t, o, r, n) {
        this._showing = !0;
        try {
          this.$_show(e, t, o, r, n);
        } finally {
          this._showing = !1;
        }
      }, i.prototype.hide = function() {
        var e = this._element;
        e && e.parentNode && this._container._container.removeChild(e);
      }, i.prototype.$_createElement = function(e) {
        var t = e.createElement("div");
        return t.style.pointerEvents = "none", t.onkeydown = function(o) {
          o.keyCode == 27 && this.hide();
        }.bind(this), this.$_disableSelection(t), this._span = e.createElement("span"), t.appendChild(this._span), this.$_disableSelection(this._span), t;
      }, i.prototype.$_disableSelection = function(e) {
        e.onselectstart !== void 0 ? e.onselectstart = function() {
          return !1;
        } : e.style.MozUserSelect !== void 0 ? e.style.MozUserSelect = "none" : e.onmousedown = function() {
          return !1;
        };
      }, i.prototype.$_show = function(e, t, o, r, n) {
        var s = this._container.gridView.displayOptions.baseZindex + 4, l = this._element, h = e.message;
        if (l && h) {
          this._span.innerHTML = h.replace(/\n/g, "<br>"), b.setClassName(l, "rg-tooltip");
          var u = l.style;
          u.position = "absolute", u.left = t + "px", u.top = o + "px", u.overflow = "hidden", u.zIndex = String(s), this._container._container.appendChild(l);
          var c = l.getBoundingClientRect(), d = this._container._container.getBoundingClientRect();
          u.left = c.right > d.right ? Math.max(d.right - c.width - d.left - 2, 0) + "px" : l.style.left, c.bottom > d.bottom && (l.style.top = n ? Math.max(0, o - (c.bottom - d.bottom)) + "px" : Math.max(o - c.height - r, 0) + "px"), u.visibility = "visible";
        }
      }, i;
    }(J), Dp = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._active = !1, t._pos = new wi(), t._container = e.container, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._container = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._active;
      }, enumerable: !1, configurable: !0 }), i.prototype.show = function(e, t, o, r, n) {
        if (!this._active && (this.close(), (e = e instanceof gs ? e : e ? new gs(e) : null) && e.visible)) {
          this._tipView || (this._tipView = new Tp(this._container)), this._tipView.show(e, t, o, r, n);
          var s = this._container.gridView;
          return s && this._pos.set(s.mouseX, s.mouseY), this._active = !0, !0;
        }
        return !1;
      }, i.prototype.close = function(e, t) {
        if (this._active && e !== void 0) {
          var o = this._pos;
          if (Math.abs(o.x - e) < 4 && Math.abs(o.y - t) < 4)
            return !1;
        }
        return this._timer && clearTimeout(this._timer), !!this._active && (this._tipView && this._tipView.hide(), this._active = !1, !0);
      }, i;
    }(J);
    (function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._type = e, t;
      }
      w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "type", { get: function() {
        return this._type;
      }, enumerable: !1, configurable: !0 });
    })(Ct);
    var et, Yl = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._inputFocusable = !1, e && typeof e.render == "function" ? (o._impl = e, o._impl.type = t, o.assignFrom(o._impl)) : o._impl = null, o._itemClickable = !0, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "inputFocusable", { get: function() {
        return this._inputFocusable;
      }, set: function(e) {
        this._inputFocusable !== e && (this._inputFocusable = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return this._impl && this._impl.type;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        this._impl && this._impl.initContent && this._impl.initContent.call(this, e);
      }, i.prototype._doClearContent = function(e) {
        this._impl && this._impl.clearContent && this._impl.clearContent.call(this, e);
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = {};
        s.focused = o.focused, this._impl && this._impl.render && this._impl.render.call(this, e.handler, t, r, n, s);
      }, i.prototype.preventDefaultEditClick = function(e) {
        return this._impl && this._impl.preventEditClick ? this._impl.preventEditClick.call(this, e) : a.prototype.preventDefaultEditClick.call(this, e);
      }, i.prototype._doEditClick = function(e, t, o) {
        return this._impl && this._impl.editClick ? this._impl.editClick.call(this, e, t, o) : a.prototype._doEditClick.call(this, e, t, o);
      }, i.prototype.canEditClickAt = function(e) {
        return this._impl && this._impl.canEditClickAt ? this._impl.canEditClickAt.call(this, e) : a.prototype.canEditClickAt.call(this, e);
      }, i.prototype.preventDefaultClick = function(e) {
        return this._impl && this._impl.preventClick ? this._impl.preventClick.call(this, e) : a.prototype.preventDefaultClick.call(this, e);
      }, i.prototype._doClick = function(e, t) {
        return this._impl && this._impl.click ? this._impl.click.call(this, t) : a.prototype._doClick.call(this, e, t);
      }, i.prototype._doEditKey = function(e, t, o) {
        return this._impl && this._impl.editKey ? this._impl.editKey.call(this, t, o) : a.prototype._doEditKey.call(this, e, t, o);
      }, i.prototype.canClick = function(e) {
        return this._impl && this._impl.canClick ? this._impl.canClick.call(this, e) : a.prototype.canClick.call(this, e);
      }, i.prototype.canEdit = function() {
        return this._impl && this._impl.canEdit ? this._impl.canEdit.call(this) : a.prototype.canEdit.call(this);
      }, i.prototype.canEditKey = function(e) {
        return this._impl && this._impl.canEditKey ? this._impl.canEditKey.call(this, e) : a.prototype.canEditKey.call(this, e);
      }, i;
    }(Ct), ql = function(a) {
      function i(e, t, o, r) {
        var n = a.call(this) || this;
        return n._row = e, n._field = t, n._value = o, n._column = r, n._oldValue = b.deepCopy(e.getData(t)), n;
      }
      return w(i, a), i.prototype.undo = function() {
        this._row.setData(this._field, this._oldValue), this.$_focusCell();
      }, i.prototype.redo = function() {
        this._row.setData(this._field, this._value), this.$_focusCell();
      }, i.prototype.$_focusCell = function() {
        var e = this._column.grid, t = e.focusedIndex.clone();
        t.layout = this._column.layout, e.setFocusedIndex(t), e.makeCellVisible(t);
      }, i;
    }(bn), Kl = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._editIndex = new W(), t._starting = !1, t._needPrepare = !1, t._modified = !1, t._commiting = !1, t._canceling = !1, t._resetting = !1, t._dirty = !1, t._editable = !1, t._readOnly = !1, t._resetFocused = !1, t._grid = e, t._defaultEditor = e.delegate.getDefaultCellEditor(), t._defaultEditor && t._defaultEditor.setController(t), t._defaultEditor && t._internalHideEditor(t._defaultEditor), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, this._editIndex && this._editIndex.dispose(), this._editIndex = null, this._editor && this._editor.dispose(), this._editor = null, this._defaultEditor && this._defaultEditor.dispose(), this._defaultEditor = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "readOnly", { get: function() {
        return this._readOnly;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editable", { get: function() {
        return this._editable;
      }, enumerable: !1, configurable: !0 }), i.prototype.onEditorStart = function(e) {
        if (!e.visible && !this._commiting && !this._canceling)
          return this._activateEditor(!1, !1);
      }, i.prototype.onEditorKeyDown = function(e, t) {
        var o = t.ctrlKey;
        return this._editor && (this._editor.textReadOnly || o || t.altKey || !this._isEditKey(t.keyCode) ? this._editor.textReadOnly ? this._editor._editor.readOnly = this._editor.textReadOnly : t.keyCode == 229 && this._editor.setReadOnly(this._readOnly) : this._editor.setReadOnly(this._readOnly)), this._grid.activeTool.keyDown(t);
      }, i.prototype.onEditorKeyPress = function(e, t) {
        return this._grid.activeTool.keyPress(t);
      }, i.prototype.onEditorKeyUp = function(e, t) {
        return this._grid.activeTool.keyUp(t);
      }, i.prototype.onEditorChange = function(e) {
        if (this._modified || (this._modified = !0, this._grid._editorStarted(e, this._editIndex)), this.editing) {
          this._grid.makeCellVisible(this._editIndex);
          var t = e.getEditValue(!1, !1);
          t = t === $e.Unselected ? e.getEditText() : t, this._grid._editorChange(e, this._editIndex, t);
        }
      }, i.prototype.onEditorSearch = function(e, t) {
        this._grid._editorSearch(this._editor, this._editIndex, t);
      }, i.prototype.onSearchCellButtonClick = function(e, t) {
        return this._grid._searchCellButtonClick(this._editor, this._editIndex, t);
      }, i.prototype.onEditorCommit = function(e) {
        return this.commitEditor(!0, !1, !0, !1);
      }, Object.defineProperty(i.prototype, "editIndex", { get: function() {
        return this._editIndex.clone();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editing", { get: function() {
        return this._editor && this._editor.editing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editValue", { get: function() {
        return this._editor && this._editor.value;
      }, enumerable: !1, configurable: !0 }), i.prototype.setFocus = function(e, t) {
        var o;
        if (t && (!this._editor || t !== this._editor.editor)) {
          var r = be(t), n = this._grid, s = void 0, l = (o = this._editor) === null || o === void 0 ? void 0 : o.editor;
          if ((t instanceof r.HTMLInputElement || t instanceof r.HTMLSelectElement) && (s = n.getTableCell(t))) {
            var h = n.getCellType(s), u = n.getTableView(s), c = u && u.tableCellByCell && u.tableCellByCell(s);
            if (h === "data") {
              var d = this._grid.focusedIndex.clone(), p = this._grid.getBodyCellAt(d, !0), _ = p && p.renderer2;
              if ((_ instanceof Mo || _ instanceof Yl) && _.inputFocusable)
                return;
              l && (l.tabIndex = -1);
            } else if (h === "inlineFilter") {
              if (n.isItemEditing() && n.filterPanel.beforeCommit && n.commit(!1), !n.isEditing())
                return l && (l.tabIndex = 0), void n.makeColumnVisible(c.layout && c.layout.firstColumn);
            } else if (b.included(h, "header", "layoutHeader", "footer", "summary") && !c.isClickableElt(t) && b.isFocusableTemplate(s, t))
              return;
          }
        }
        this.$_focusToEditor(e, t);
      }, i.prototype.resetEditor = function(e) {
        if (this.editing) {
          if (this._grid.isValid(this._editIndex)) {
            if (this._resetBounds(), e && this.editing) {
              var t = this.getData(this._editIndex);
              this._resetting = !0;
              try {
                this._editor.setEditValue(t), this._editor.beginEdit(!1, !0);
              } finally {
                this._resetting = !1;
              }
            }
          } else
            this.hideEditor();
          return !0;
        }
      }, i.prototype.invalidateEditor = function() {
        this._dirty = !0;
      }, i.prototype.closeList = function(e) {
        this._editor && this._editor.closeList(e);
      }, i.prototype.focusedIndexChanging = function() {
        return !this.editing || (this.closeList(!0), this.commitEditor(!0, !1, !0, !1));
      }, i.prototype.focusedIndexChanged = function(e, t, o) {
        this._hideEditor(), this._grid.isValid(t) && (o ? this._prepareEditor(t) : this._needPrepare = !0);
      }, i.prototype.prepareEditor = function(e) {
        this._needPrepare && (this._needPrepare = !1, this._grid.isValid(e) && this._prepareEditor(e));
      }, i.prototype.requestPrepareEditor = function() {
        this._needPrepare = !0;
      }, i.prototype.showEditor = function(e, t) {
        var o = this._grid;
        if (o && o.isValid(e) && e.item.canEdit()) {
          if (this._editor && this._editor.editing)
            return o.makeCellVisible(e), !0;
          if (this._editor && !this._editor.editing && (!this._showEditorTimer && this._prepareEditor(e), o.makeCellVisible(e), this._activateEditor(!1, !0, t)))
            return !0;
        }
      }, i.prototype.showList = function(e) {
        var t = this._grid, o = this._editor;
        if (o && o.editing && (t.makeCellVisible(e), this.cancelEditor(!0)), t && t.isValid(e) && (this._prepareEditor(e), t.makeCellVisible(e), o && this._editable && !o.editing))
          return o.dropDownList(!0), !0;
      }, i.prototype.caretToLast = function() {
        this._editor && this._editor.caretToLast();
      }, i.prototype.hideEditor = function() {
        if (this.editing) {
          this._modified = !1, this._resetting = !0;
          try {
            this._internalHideEditor(this._editor), this._prepareEditor(this._editIndex);
          } finally {
            this._resetting = !1;
          }
        }
      }, i.prototype.commitEditor = function(e, t, o, r) {
        if (!this.editing || this._commiting)
          return !0;
        var n = this._editor;
        if (!n)
          return !1;
        var s, l, h = this._grid, u = h.editOptions, c = this._editIndex, d = c.dataColumn, p = !0, _ = n._mask;
        this._commiting = !0;
        try {
          if (n.commit(), (this._modified || n.isEdited()) && d && d.dataIndex >= 0)
            try {
              try {
                if ((s = _ && !_.checkValid() ? $e.InvalidFormat : n.getEditValue(!0, !0)) === $e.InvalidFormat)
                  p = !1, u.showInvalidFormatMessage && _ && _.showInvalidFormatMessage && alert(_ && _.invalidFormatMessage || u.invalidFormatMessage);
                else if (s === $e.Unselected)
                  this._modified = !1, p = !0;
                else {
                  var g = { text: n.getEditText(), value: s };
                  this._grid.getEditValue(n, c, g), s = g.value, p = r || this._grid.editorCommit(c, this._getData(c), s);
                }
              } catch {
                p = !1;
              }
              this._grid.isItemEditing() ? p && s !== $e.Unselected && (this._setData(c, s), this._grid.isItemEditing(c.item) && (s = this._getData(c), this._grid.validateCellCommit(c, s)), this._modified = !1) : this._modified = !1;
            } catch (R) {
              l = R, p = !1;
            }
          if (this._resetting = !0, p && e)
            try {
              this._internalHideEditor(n), this._prepareEditor(c, o), n.isEdited() || this._grid.activeTool.resetFocused();
            } finally {
              this._resetting = !1;
            }
          if (l) {
            if (t)
              throw l;
            u.showCommitError && alert(l.message || l);
          }
        } finally {
          this._commiting = !1;
        }
        if (p && h.isCellEditing()) {
          var y = h.itemSource, m = y.editingItem.invalidFields, v = h.validationManager.getError(c);
          if (v)
            return m.push(d.dataIndex), u.showCommitError && alert(v.userMessage || v.message || v), !1;
          if (m.indexOf(d.dataIndex) >= 0 && m.splice(m.indexOf(d.dataIndex), 1), h.validationManager.clearInvalidCell(c), m.length > 0)
            return !0;
          var C = h.canMergeEditing(h.getBodyCellAt(c, !0));
          if (!y.commit(C))
            return y.cancel(), !0;
          h.validationManager.cloneError(-1, c.dataId);
          var x = W.temp(h, c.itemIndex, d);
          if (C && s !== $e.Unselected) {
            var S = d.layout.merges.getRoom(c), I = {}, E = {};
            E[d.fieldName] = s;
            for (var O = S.head; O <= S.tail; O++) {
              var P = h.getItem(O);
              x.itemIndex = P.index, P.isDataRow && (I[P.dataRow] = E), h.validationManager.clearInvalidCell(x);
            }
            y.updateRows2(I);
          }
        }
        return p;
      }, i.prototype.cancelEditor = function(e) {
        if (this.editing) {
          this._canceling = !0;
          try {
            try {
              this._modified = !1, this._grid.editorCancel(this._editor, this._editIndex);
            } catch (o) {
              throw o;
            }
            this._resetting = !0;
            try {
              this._internalHideEditor(this._editor), this._prepareEditor(this._editIndex);
            } finally {
              this._resetting = !1;
            }
          } finally {
            this._canceling = !1, this._grid.editorCanceled();
          }
          if (this._grid.editOptions.commitByCell) {
            var t = this._grid.itemSource;
            t.isUpdating && t.cancel();
          }
        }
      }, i.prototype.fillSearchItems = function(e, t, o, r) {
        this.editing && this._editIndex.column === e && this._editor instanceof wl && this._editor.fillItems(t, o, r);
      }, i.prototype.buttonClicked = function(e, t) {
        var o = this._editor, r = this._grid, n = r.getBodyCellAt(e, !1), s = e.layout.getDataColumn();
        o && W.areEquals(this._editIndex, e) && o.hasButton(r.displayOptions.showNativeEditButton, n.editor || s.editor) && o.buttonClicked(this._editIndex, t);
      }, i.prototype.buttonDown = function(e, t) {
        this._editor && this._editor.buttonDown(e, t);
      }, i.prototype.buttonUp = function(e, t) {
        this._editor && this._editor.buttonUp(e, t);
      }, i.prototype.getData = function(e) {
        return this._getData(e);
      }, i.prototype.setEditValue = function(e, t) {
        this._editor && this._editor.setCellEditValue(e, t);
      }, i.prototype.currentEditor = function() {
        return this._editor;
      }, i.prototype._internalHideEditor = function(e) {
        this.closeList(!1), e.setVisible(!1, !1), e.endEdit(), !this._grid._loading && this._grid._fireHideEditor(e.editIndex);
      }, i.prototype.$_hideEdit = function(e, t) {
        t && (t.setEditIndex(e), t.setVisible(!1), this.$_focusToEditor());
      }, i.prototype.$_getCellEditor = function(e) {
        var t, o = this._grid, r = o.getBodyCellAt(e);
        if (!(t = r && r.editor)) {
          var n = e.valueColumn;
          n && (t = n.editor);
        }
        var s = o.delegate.getCellEditor($e.getEditorType(t));
        return s && (s.initOptions(), t && s.applyOptions(t), s.setController(this)), s;
      }, i.prototype.resetEditable = function(e) {
        var t = this._editor;
        if (!t)
          return !1;
        var o = this._grid;
        t.setReadOnly(!1);
        var r = o.editorOptions, n = e.valueColumn, s = e.item, l = o.canEditAt(e);
        if (r._titleExprStatement && this._editor.setEditorTitle(e), !l)
          return this._editable = !1, this.$_hideEdit(e, this._editor), !1;
        var h = !o.canWriteAt(e);
        if (!h) {
          var u = s.dataSource, c = u ? u.getField(e.dataField) : null;
          h = !c || c.dataType == f.ValueType.OBJECT && (n.objectKey || c.objectKey) == null;
        }
        return this._readOnly = h, this._editor.setReadOnly(this._readOnly), this._editor.setEditIndex(e), this._editable = !0, !0;
      }, i.prototype.remainFocusing = function(e) {
        this._resetFocused = e;
      }, i.prototype._prepareEditor = function(e, t) {
        var o = this;
        t === void 0 && (t = !0);
        var r = this._grid, n = r.editOptions;
        if (this._dirty = !1, this._grid.isValid(e) && e.item.canEdit() && (this._hideEditor(t), this._editor = this.$_getCellEditor(e), this._editor)) {
          this._editIndex.assign(e);
          var s, l = this._getData(e);
          this.resetEditable(e) ? (this._editor.prepare(), this._editor.setEditValue(l), this._editor.selectAll(), n.editWhenFocused && !this._editor.editing ? (this._showEditorTimer && clearTimeout(this._showEditorTimer), this._canceling || this._resetting || (this._showEditorTimer = (s = this._resetFocused, setTimeout(function() {
            !o._editor.editing && !s && r.showEditor(null, !1, o._editor.dropDownWhenClick), o.remainFocusing(!1), o._showEditorTimer = null;
          }, 100)))) : this._editor.setVisible(!1), t && this.$_focusToEditor()) : this._editor && (this._editor.editor.value = this._editor._valToStr(l));
        }
      }, i.prototype._hideEditor = function(e) {
        if (e === void 0 && (e = !0), this._editor)
          try {
            this._editor.setVisible(!1);
          } finally {
            this._editor.unprepare(), this._editor.endEdit(), this._editor = null, this._editable = !1, e && this.$_focusToEditor();
          }
      }, i.prototype._initEditor = function(e, t, o) {
        this._dirty && (this._dirty = !1, this._starting || this._prepareEditor(this._editIndex));
        var r = this._editor;
        r && (r.endEdit(), this._resetBounds(), r.setVisible(!0, !0), r.beginEdit(e, t), e && r.clear(), t && r.selectAll(), o && r.dropDownList(!1), this.$_focusToEditor(!0));
      }, i.prototype.$_setEditorAttrs = function(e) {
        var t = this._editor;
        if (t)
          for (var o in e)
            o != "callback" && t._editor.setAttribute(o, e[o]);
      }, i.prototype._editorActivated = function(e) {
        this._grid.editorActivated(e);
      }, i.prototype._activateEditor = function(e, t, o) {
        o === void 0 && (o = !1);
        var r = this._grid, n = this._editor, s = this._editIndex, l = {}, h = {};
        if (this._editable && n && !n.editing && r.$_canShowEditor(s, l, h)) {
          l.type && (n = this._editor = r.delegate.getCellEditor($e.getEditorType(l.type)) || n), b.isEmpty(l) || (n.applyOptions(l), n.setEditIndex(s));
          var u = n._editor;
          return n.textReadOnly ? n.textReadOnly && u && (u.readOnly = n.textReadOnly) : n.setReadOnly(this._readOnly), this.$_setEditorAttrs(h), this._initEditor(e, t, o), te(u).activeElement !== u && (!b.isMobile() || !n.hasList) && u.focus(), this._modified = !1, this._editorActivated(this._editor), h && typeof h.callback == "function" && h.callback(), !0;
        }
        return !1;
      }, i.prototype._resetBounds = function() {
        if (this._editor) {
          var e = this._grid.getEditCellBounds(this._editor, this._editIndex), t = this._grid.getEditBounds(this._editor, this._editIndex).width;
          b.isMobile() && b.isiOS && (t -= 3), e.x--, e.y--, e.width++, e.height++, b.isMobile() && (e.y -= 1, e.height += 2), this._editor.setBounds(e.x, e.y, e.width, e.height, t), e = this._grid.getEditCellBounds(this._editor, this._editIndex), this._editor.setCellBounds(e.x, e.y, e.width, e.height);
        }
      }, i.prototype.$_focusToEditor = function(e, t) {
        var o = this._grid;
        if (e || o.$_editFocused) {
          var r = this._editor || this._defaultEditor;
          o.$_showFocusCell = o.$_showFocusCell || t && r && t !== r._editor, o.container._setFocusAndScroll(r), this.editing || this._editor && this._editor.selectAll();
        }
      }, i.prototype._getData = function(e) {
        var t = e.dataColumn, o = e.item;
        if (t && o && o.isDataRow) {
          var r = t.dataIndex;
          if (r >= 0)
            return o.getData(r);
        }
      }, i.prototype._setData = function(e, t) {
        var o = e.item;
        if (o) {
          var r = e.dataColumn.dataIndex;
          r >= 0 && (this._grid.undoable ? this._grid.execute(new ql(e.item, r, t, e.column)) : o.setData(r, t));
        }
      }, i.prototype._isEditKey = function(e) {
        return e == 8 || e >= 46 && e <= 90 || e >= 96 && e <= 111 || e >= 186 && e <= 222 || e == 13 && this._grid.editOptions.enterToEdit;
      }, i;
    }(J), Br = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, t, o) || this;
        return r._col = -1, r._colChanged = !1, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.getCellIndex = function(e) {
        return e.parentElement[De];
      }, i.prototype._createDom = function() {
        return null;
      }, i.prototype._prepareContent = function(e, t) {
        var o = te(e).createElement("div");
        return this._prepareCellContent(o, e), o;
      }, i.prototype._clearCellContent = function(e) {
        var t = e.firstElementChild;
        t && b.detach(t);
      }, i.prototype._prepareCellContent = function(e, t) {
      }, i.prototype._updateCellContent = function(e, t, o, r) {
        o[this._textProp] = t.text;
      }, i.prototype._doRender = function(e) {
      }, i.prototype.$_setCol = function(e) {
        (this._colChanged = e != this._col) && (this._col = e);
      }, i.prototype._layoutCell = function(e, t, o) {
        if (this._colChanged) {
          o.removeAttribute("rowspan"), o.style.removeProperty("display");
          var r = o.firstElementChild;
          this._clearCellContent(r), this._prepareCellContent(r, o);
        }
      }, i.prototype._getTableCell = function(e) {
        return this.parent._tbody.children[e].children[this._col];
      }, i.prototype.$_getCellSelector = function(e, t) {
        var o = this.model.cellStyleCallback, r = this.grid, n = e.parentElement[De], s = r.getItem(n), l = r.getCellType(e);
        if (o) {
          var h = o(this.grid.handler, l, s?.index);
          return h ? " " + h : "";
        }
        return "";
      }, i;
    }(Ir), ys = function(a) {
      function i(e, t) {
        return a.call(this, e, t, "rowIndicatorView") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.refresh = function(e, t) {
        for (var o = 0; o < t; o++) {
          var r = this._getTableCell(o);
          r[ki] = e.isFocusedRow(r.parentElement[De]), b.setClassName(r, this.$_getCellSelector(r));
        }
      }, i.prototype._getCssSelector = function() {
        return "rg-rowindicator";
      }, i.prototype.measureWidth = function(e) {
        var t = this.model, o = t.width;
        if (o == 0 && e.dataSource) {
          var r = e.dataSource.rowCount + "";
          o = e.container.measureText("rg-rowindicator-cell", r) + 1;
        }
        return o = Math.max(t.minWidth > 0 ? t.minWidth : o, Math.min(t.maxWidth > 0 ? t.maxWidth : o)), t._displayWidth = o, o;
      }, i.prototype._layoutCell = function(e, t, o) {
        if (a.prototype._layoutCell.call(this, e, t, o), t) {
          var r = this.model.getCell(t);
          b.setClassName(o, this.$_getCellSelector(o)), this._updateCellContent(e, r, o.firstElementChild, o);
        }
      }, i.prototype.$_getCellSelector = function(e, t) {
        var o = this.grid, r = e.parentElement[De], n = e[ki], s = this.model, l = "rg-rowindicator-cell";
        if (r === -99)
          return ri.ROW_BAR_CELL_STYLE;
        if (n) {
          l += s.showFocus ? " rg-rowindicator-focus" : "";
          var h = o.getItem(r);
          b.isDebugging();
          var u = h && h.itemState;
          wt(u) ? l += " rg-rowindicator-inserting" : u == f.ItemState.UPDATING && (l += " rg-rowindicator-editing");
        } else
          o.isSelectedItem(r) && s.showSelection && (l += " rg-rowindicator-select");
        return l += a.prototype.$_getCellSelector.call(this, e, t);
      }, i;
    }(Br), Xl = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t, "stateBarView") || this;
        return o._textMark = !1, o;
      }
      return w(i, a), i.prototype.rowOf = function(e) {
        return e.parentElement[De];
      }, i.prototype._getCssSelector = function() {
        return "rg-statebar";
      }, i.prototype.measureWidth = function(e) {
        return e.stateBar.width;
      }, i.prototype._layoutCell = function(e, t, o) {
        if (a.prototype._layoutCell.call(this, e, t, o), t) {
          var r = this.model, n = r.mark, s = n == f.StateMark.IMAGE;
          this._textMark = n == f.StateMark.TEXT;
          var l = r.getCell(t);
          b.setClassName(o, this.$_getCellSelector(o, s)), this._updateCellContent(e, l, o.firstElementChild, o);
        }
      }, i.prototype._updateCellContent = function(e, t, o, r) {
        o[b.TextProp] = this._textMark && t.text || "";
      }, i.prototype.$_getCellSelector = function(e, t) {
        var o = this.grid, r = o.getItem(e.parentElement[De]), n = r.dataRow, s = "rg-statebar-cell ";
        if (o.isItemEditing(r) && this._error && this.model.errorVisible)
          switch (this._error.level) {
            case f.ValidationLevel.INFO:
              s += " rg-statebar-info";
              break;
            case f.ValidationLevel.WARNING:
              s += " rg-statebar-warning";
              break;
            case f.ValidationLevel.ERROR:
              s += " rg-statebar-error";
          }
        else if (n >= 0 && t)
          switch (r.rowState) {
            case f.RowState.UPDATED:
              s += " rg-statebar-updated";
              break;
            case f.RowState.CREATED:
              s += " rg-statebar-created";
              break;
            case f.RowState.DELETED:
              s += " rg-statebar-deleted";
              break;
            case f.RowState.CREATE_AND_DELETED:
              s += " rg-statebar-create-and-deleted";
          }
        return s += a.prototype.$_getCellSelector.call(this, e, t);
      }, i;
    }(Br), Jl = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t, "checkBarView") || this;
        return o._fixedCount = 0, o._prevChecked = -1, o._exclusive = !1, o._typeChanged = !1, o._useImage = !1, o._imageChanged = !1, o;
      }
      return w(i, a), i.prototype.rowOf = function(e) {
        return e.parentElement[De];
      }, i.prototype._getCssSelector = function() {
        return "rg-checkbar";
      }, i.prototype._doPrepareContent = function(e) {
        var t = e.grid.checkBar;
        (this._typeChanged = t.exclusive !== this._exclusive) && (this._exclusive = t.exclusive), (this._imageChanged = t.useImages !== this._useImage) && (this._useImage = t.useImages);
      }, i.prototype._clearCellContent = function(e) {
        e[this._textProp] = "", a.prototype._clearCellContent.call(this, e);
      }, i.prototype._prepareCellContent = function(e, t) {
        var o = te(e), r = i.FOR_ID + this.rowOf(t) + "-" + this.model.$_hash, n = o.createElement("input"), s = n.style;
        n.type = this._exclusive ? "radio" : "checkbox", n.id = r, n.tabIndex = -1, n.className = this._exclusive ? "rg-radio" : "rg-checkbox", s.display = this._useImage ? "none" : "inline-block", e.appendChild(n);
        var l = o.createElement("span");
        (s = l.style).display = this._useImage ? "inline-block" : "none", e.appendChild(l);
        var h = o.createElement("label");
        h.setAttribute("for", r), (s = h.style).display = "none", e.appendChild(h);
      }, i.prototype.measureWidth = function(e) {
        return this.model.width;
      }, i.prototype._layoutCell = function(e, t, o) {
        a.prototype._layoutCell.call(this, e, t, o);
        var r = t && this.model.getCell(t);
        b.setClassName(o, this.$_getCellSelector(o)), o.style.display = "", o.removeAttribute("rowspan");
        var n = e.fixedOptions.rowCount, s = e.checkBar;
        if (s._merged && t) {
          var l = s._merges, h = t.itemIndex;
          if (h = h < n ? h : h - e.layoutManager.topIndex, l.isMerged(h, n))
            if (l.isHidden(h, n))
              o.style.display = "none", o.removeAttribute("rowspan");
            else {
              var u = l.getMerged(h, n);
              o.rowSpan = u;
            }
          else
            o.removeAttribute("rowspan");
        }
        r && this._updateCellContent(e, r, o.firstElementChild.firstElementChild, o);
      }, i.prototype._updateCellContent = function(e, t, o, r) {
        var n = t.item, s = o, l = e.checkBar, h = i.FOR_ID + this.rowOf(r) + "-" + this.model.$_hash;
        s.checked = n && n.checked, s.disabled = n && !n.checkable, s.id = h, r.firstElementChild.style.display = n instanceof Fe || n instanceof xe || l.showGroup && l.fieldIndex < 0 && !l.merged ? "" : "none";
        var u = this._useImage;
        this._typeChanged && (s.setAttribute("type", this._exclusive ? "radio" : "checkbox"), s.className = this._exclusive ? "rg-radio" : "rg-checkbox");
        var c = s.nextElementSibling;
        if (this._imageChanged && c && (s.style.display = u ? "none" : "inline-block", c.style.display = u ? "inline-block" : "none"), u && c) {
          var d = s.checked ? this._exclusive ? "rg-checkbar-radio-checked" : "rg-checkbar-checked" : this._exclusive ? "rg-checkbar-radio-unchecked" : "rg-checkbar-unchecked";
          d += s.disabled ? " disabled" : "", c.className = d;
        }
        var p = c.nextElementSibling;
        p.removeAttribute("for"), p.setAttribute("for", h), p[b.TextProp] = this.rowOf(r) + 1 + " row " + (n && n.checkable ? n.checked ? "checked" : "unchecked" : "check disable");
      }, i.prototype.getCheckBox = function(e) {
        return e.firstElementChild.firstElementChild;
      }, i.prototype.$_getCellSelector = function(e, t) {
        var o = i.CELL_CSS, r = e.parentElement[De], n = this.grid.getItem(r);
        return o += n && n.checkable ? "" : " rg-checkbar-disabled", o += a.prototype.$_getCellSelector.call(this, e, t);
      }, i.prototype.$_setPrevChecked = function(e) {
        this._prevChecked = e;
      }, i.FOR_ID = "$$-check-bar-cell", i.CELL_CSS = "rg-checkbar-cell", i;
    }(Br), uo = function(a) {
      function i(e) {
        var t = a.call(this, e.doc, null, "rowBarContainer") || this;
        t._count = 0;
        var o = e.doc;
        return t._bars = [e.rowIndicator, e.stateBar, e.checkBar], t.addChild(t._indicatorView = new ys(o, e.rowIndicator)), t.addChild(t._stateView = new Xl(o, e.stateBar)), t.addChild(t._checkView = new Jl(o, e.checkBar)), t._views = [t._indicatorView, t._stateView, t._checkView], t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._bars = this._views = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "rowIndicator", { get: function() {
        return this._indicatorView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "stateBar", { get: function() {
        return this._stateView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkBar", { get: function() {
        return this._checkView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "stateError", { get: function() {
        return this._stateView._error;
      }, set: function(e) {
        this._stateView._error = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.isVisible = function() {
        return this._indicatorView.visible || this._stateView.visible || this._checkView.visible;
      }, i.prototype.getCellIndex = function(e) {
        return e.parentElement[De];
      }, i.prototype.refresh = function(e) {
        this._indicatorView.visible && this._indicatorView.refresh(e, this._count);
      }, i.prototype.rowOf = function(e) {
        return e.parentElement[De];
      }, i.prototype.getCheckBox = function(e) {
        return this._checkView.getCheckBox(e);
      }, i.prototype.getCellType = function(e) {
        var t = this._views[e.cellIndex];
        return t instanceof ys ? "indicator" : t instanceof Xl ? "state" : t instanceof Jl ? "check" : void 0;
      }, i.prototype.isRowIndicator = function(e) {
        return this._views[e.cellIndex] instanceof ys;
      }, i.prototype._getCssSelector = function() {
        return "rg-rowbarcontainer";
      }, i.prototype._isFixedHeight = function() {
        return !0;
      }, i.prototype._doPrepareContent = function(e) {
        if (this._views.length) {
          this._dirty && this._dom.appendChild(this._table);
          for (var t = 0, o = this._views; t < o.length; t++) {
            var r = o[t];
            (r._dirty || r.model.dirty) && r._doPrepareContent(e);
          }
        } else
          b.detach(this._table);
        a.prototype._doPrepareContent.call(this, e);
      }, i.prototype._prepareCellContent = function(e, t) {
        return this._views[t]._prepareContent(e, t);
      }, i.prototype._getTableRowHeight = function(e, t) {
        var o = e.fixedItemCount;
        return o > 0 && t > o ? e.getTableItemHeight(t - 1) : e.getTableItemHeight(t);
      }, i.prototype._doMeasure = function(e, t, o) {
        this.$_prepareBars(e);
        for (var r = 0, n = 0, s = this._views; n < s.length; n++) {
          var l = s[n];
          r += l.width = l.measureWidth(e);
        }
        return new Xt(r, o);
      }, i.prototype._doLayoutContent = function(e) {
        for (var t = e.grid, o = e.topIndex, r = e.itemCount, n = e.fixedItemCount, s = this._count = n + r, l = this._bars.length, h = t.focusedRow, u = this._views, c = this._thead, d = c && c.children[0], p = t.displayOptions.useAlternateRowStyle, _ = 0; _ < s; _++) {
          var g = _ < n ? _ : _ + o, y = W.temp(t, g), m = this._getTableRow(e, _);
          b.setClassName(m, this.getStyleName(y.item, y.itemIndex % 2 && p)), m[De] = g;
          for (var v = 0; v < l; v++) {
            var C = m.cells[v];
            if (C[ki] = g == h, u[v]._layoutCell(t, y, C), _ === 0 && d) {
              var x = d.cells[v];
              x && (x[b.TextProp] = this.getCellType(C) + " column");
            }
          }
        }
        n > 0 && this._layoutFixedBar(t.fixedOptions, n);
      }, i.prototype._doUpdateCellContent = function(e, t, o) {
        o[this._textProp] = t.text;
      }, i.prototype._doRender = function(e) {
      }, i.prototype._doDraw = function(e) {
        this._views.forEach(function(t) {
          t.validate();
        });
      }, i.prototype._getCellCount = function(e) {
        return this._bars.length;
      }, i.prototype._getCellWidth = function(e, t) {
        return this._views[t].width;
      }, i.prototype.$_prepareBars = function(e) {
        var t = this._bars = [], o = this._views = [];
        e.rowIndicator.visible && t.push(e.rowIndicator), e.stateBar.visible && t.push(e.stateBar), e.checkBar.visible && t.push(e.checkBar), t.length > 1 && t.sort(function(h, u) {
          var c = h.displayOrder, d = u.displayOrder;
          return c == d ? h.staticOrder - u.staticOrder : c - d;
        });
        for (var r = 0, n = t.length; r < n; r++) {
          var s = t[r], l = void 0;
          (l = s instanceof oo ? this._indicatorView : s instanceof ro ? this._stateView : this._checkView).$_setCol(r), l._colChanged = l._colChanged || s.visChanged, o.push(l), s.visChanged = !1;
        }
        this._indicatorView.visible = o.indexOf(this._indicatorView) >= 0, this._stateView.visible = o.indexOf(this._stateView) >= 0, this._checkView.visible = o.indexOf(this._checkView) >= 0;
      }, i.prototype._layoutFixedBar = function(e, t) {
        var o = this._tbody.children[t];
        o[ji] = t, o[De] = -99, b.setClassName(o, ri.ROW_BAR_STYLE);
        for (var r = 0; r < o.childElementCount; r++) {
          var n = o.children[r];
          n[ki] = !1;
          var s = this._views[r];
          s._colChanged && s._layoutCell(this.grid, null, n), b.setClassName(n, ri.ROW_BAR_CELL_STYLE);
        }
      }, i.prototype.getStyleName = function(e, t) {
        var o = i.ROW_STYLE;
        return o += Cr.STATE_ROW_STYLES[e.rowState] || "", (o += t ? i.ALTERNATE_ROW_STYLE : "").trim();
      }, i.ROW_STYLE = "rg-row-bar", i.ALTERNATE_ROW_STYLE = " rg-alternate-row-bar", i;
    }(ss), Zl = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "targetElement", { get: function() {
        return this._targetElement;
      }, set: function(e) {
        this._targetElement = e;
      }, enumerable: !1, configurable: !0 }), i;
    }(Oi), ms = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i;
    }(Zl), Ql = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "handle", { get: function() {
        return this._handle;
      }, set: function(e) {
        this._handle = e;
      }, enumerable: !1, configurable: !0 }), i;
    }(Zl), bs = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "request", { get: function() {
        return this._request;
      }, set: function(e) {
        this._request = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.stop = function() {
      }, i.prototype.end = function(e) {
        this._doEnd(e);
      }, i.prototype._doEnd = function(e) {
      }, i.prototype.getRequest = function() {
        return this._request;
      }, i;
    }(si), vs = function(a) {
      function i(e) {
        var t = a.call(this, e, "mobileBodyScrollTracker") || this;
        return t._tapX = NaN, t._tapY = NaN, t._vertical = !0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, a.prototype._doDispose.call(this);
      }, i.prototype._doStart = function(e, t, o, r) {
        var n = this._grid;
        if (n.isEditing())
          switch (n.mobileOptions.scrollOnEditing) {
            case f.ScrollOnEditing.CANCEL:
              n.cancelEditor(!0);
              break;
            case f.ScrollOnEditing.COMMIT:
              n.commitEditor(!0);
            case f.ScrollOnEditing.DEFAULT:
          }
        return this._scrolling = void 0, this._dragTableItemPoints = n.layoutManager._tableItemPoints, this._dragTopIndex = n.topIndex, this._dragLeftPos = n.leftPos, this._doDrag(e, t, o, r), !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        var n = this._grid, s = n.activeTool, l = t - this._tapX, h = o - this._tapY, u = s.findElementAt(r.mouseX, r.mouseY, !1);
        if (this._vertical = !(u instanceof $o) && Math.abs(2 * h) >= Math.abs(l), this._vertical) {
          if (Math.abs(h) > 5) {
            var c = n.topIndex, d = n.layoutManager.fullItemCount, p = n.itemCount;
            if (d === p)
              return this._scrolling = !1, !1;
            if (this._scrolling === void 0) {
              if (c + d >= p && h < 0 || c == 0 && h > 0)
                return this._scrolling = !1, !1;
              this._scrolling = !0;
            } else if (this._scrolling) {
              for (var _ = 0, g = this._dragTableItemPoints; ++_ < g.length && !(g[_] >= Math.abs(h)); )
                ;
              n.topIndex = this._dragTopIndex + --_ * (h > 0 ? -1 : 1);
            }
          }
        } else
          Math.abs(l) > 5 && (this._scrolling = !0, n.leftPos = this._dragLeftPos - l);
        return !0;
      }, i.prototype._doEnd = function(e) {
        this._scrolling = void 0;
      }, i.prototype._doCanceled = function(e, t) {
        this._scrolling = void 0;
      }, i.prototype._doInit = function(e, t, o) {
        this._tapY = t, this._tapX = e;
      }, i;
    }(bs), Mp = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype._doStart = function(e, t, o, r) {
        return !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        var n = this._grid.pointToIndex(null, t, o, !1);
        if (n && n.itemIndex >= 0) {
          var s = this.request.handle, l = s.selectionMask.item;
          l && l.inflate(s.dir, n);
        }
        return !0;
      }, i;
    }(bs), Nr = function(a) {
      function i(e, t) {
        var o = a.call(this, e.doc, "mobileSelectionHandle") || this;
        return o._dir = t, o._owner = e, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._owner = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "selectionMask", { get: function() {
        return this._owner;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dir", { get: function() {
        return this._dir;
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
        return i.STYLE_NAME + this._dir + "-handle";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), e.style.background = "red";
      }, i.prototype._doDraw = function() {
      }, i.STYLE_NAME = "rg-selection-handle", i;
    }(qt), eh = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
      }, i.prototype.getSelectHandle = function(e) {
        for (var t in this._views) {
          var o = this._views[t];
          if (o.leftHandle._dom === e)
            return o.leftHandle;
          if (o.topHandle._dom === e)
            return o.topHandle;
          if (o.bottomHandle._dom === e)
            return o.bottomHandle;
          if (o.rightHandle._dom === e)
            return o.rightHandle;
        }
      }, i.prototype.addView = function(e) {
        var t = e.$_hash, o = this._views[t];
        return o || (o = this._pool.pop() || new Lp(this.doc), this._views[t] = o), o._item = e, this.addChild(o), this.addChild(o.leftHandle), this.addChild(o.topHandle), this.addChild(o.bottomHandle), this.addChild(o.rightHandle), o;
      }, i.prototype.clearViews = function() {
        for (var e in this._views) {
          var t = this._views[e];
          this.removeChild(t.leftHandle), this.removeChild(t.topHandle), this.removeChild(t.bottomHandle), this.removeChild(t.rightHandle), this.removeChild(t), this._pool.push(t);
        }
        this._views = {};
      }, i.prototype.layout = function() {
        var e = this._grid.layoutManager;
        this._grid.selections;
        var t = new ue();
        for (var o in this._views) {
          var r = this._views[o], n = r.item, s = !1, l = new ue();
          if (r.prepare(), n instanceof Kt || n instanceof Ci || (s = this.$_getMobileSelectionRangeRect(e, n, r, l, t)), s) {
            var h = e.footerBounds.y + e.contentBounds.y;
            l.bottom > h && (r._bottomed = !0, l.bottom = h);
          }
          r.visible = s, r.visible && (r.setRectI(l), r.updateElement(), this._layoutHandle(r, l, t), r.invalidate(!1, !0));
        }
      }, i.prototype._layoutHandle = function(e, t, o) {
        var r, n, s = 13, l = 13;
        e._lefted ? e.leftHandle.visible = !1 : (e.leftHandle.visible = !0, r = o.x - 6.5, n = t.y + (t.height - s) / 2, e.leftHandle.setBounds(r, n, l, s)), r = o.x + (o.width - l) / 2, n = t.y - 6.5, !e._toped && r >= t.x ? (e.topHandle.visible = !0, e.topHandle.setBounds(r, n, l, s)) : e.topHandle.visible = !1, n = t.bottom - 6.5, !e._bottomed && r >= t.x ? (e.bottomHandle.visible = !0, e.bottomHandle.setBounds(r, n, l, s)) : e.bottomHandle.visible = !1, e._righted ? e.rightHandle.visible = !1 : (e.rightHandle.visible = !0, r = o.right - 6.5, n = t.y + (t.height - s) / 2, e.rightHandle.setBounds(r, n, l, s));
      }, i.prototype.$_getMobileSelectionRowsRect = function(e, t, o, r) {
        return a.prototype.$_getSelectionRowsRect.call(this, e, t, o, r);
      }, i.prototype.$_getMobileSelectionColumnsRect = function(e, t, o, r) {
        return a.prototype.$_getSelectionColumnsRect.call(this, e, t, o, r);
      }, i.prototype.$_getMobileSelectionRangeRect = function(e, t, o, r, n) {
        return a.prototype.$_getSelectionRangeRect.call(this, e, t, o, r, n);
      }, i;
    }(gl), Lp = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._leftHandle = new Nr(t, "left"), t._topHandle = new Nr(t, "top"), t._bottomHandle = new Nr(t, "bottom"), t._rightHandle = new Nr(t, "right"), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._leftHandle = this._leftHandle.dispose(), this._topHandle = this._topHandle.dispose(), this._bottomHandle = this._bottomHandle.dispose(), this._rightHandle = this._rightHandle.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "leftHandle", { get: function() {
        return this._leftHandle;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topHandle", { get: function() {
        return this._topHandle;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bottomHandle", { get: function() {
        return this._bottomHandle;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightHandle", { get: function() {
        return this._rightHandle;
      }, enumerable: !1, configurable: !0 }), i.prototype.prepare = function() {
        a.prototype.prepare.call(this);
      }, i.prototype.updateElement = function() {
        a.prototype.updateElement.call(this);
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("overflow", "hidden"), this.setImportantStyle("pointer-events", "none");
      }, i.prototype._visibleChanged = function() {
        this._leftHandle.visible = this._topHandle.visible = this._bottomHandle.visible = this._rightHandle.visible = this.visible;
      }, i;
    }(_l), ae = function() {
      function a() {
      }
      return a.getData = function(i) {
        var e = new a();
        return e.cellType = i, e;
      }, a.getSub = function(i, e) {
        var t = new a();
        return t.cellType = i, t.subType = e, t;
      }, a.getField = function(i, e, t) {
        var o = new a();
        return o.cellType = i, o.field = o.fieldIndex = e, o.fieldName = t, o;
      }, a.getItem = function(i, e, t) {
        var o = new a();
        return o.cellType = i, o.itemIndex = e, t != null && (o.dataRow = t), o;
      }, a.getLayout = function(i, e) {
        var t = new a();
        return t.cellType = i, e instanceof Ie ? (t.subType = "layoutHeader", t.column = e.name) : (t.column = e.firstColumn && e.firstColumn.name, e.firstColumn instanceof re && (t.field = t.fieldIndex = e.firstColumn.dataIndex, t.fieldName = e.firstColumn.fieldName)), t;
      }, a.getCell = function(i, e, t) {
        var o = new a();
        i === "data" && (o.editable = e.editable, o.readOnly = e.readonly);
        var r = e.layout;
        return o.cellType = i, o.itemIndex = t ? t.itemIndex : e.item.index, o.dataRow = t ? t.dataRow : e.item.dataRow, o.column = e.layout.firstColumn && e.layout.firstColumn.name, r.firstColumn instanceof re && (o.field = o.fieldIndex = r.firstColumn.dataIndex, o.fieldName = r.firstColumn.fieldName), o;
      }, a.getGroupFooter = function(i, e, t, o) {
        var r = new a(), n = t.firstColumn;
        return r.cellType = i, r.itemIndex = e, r.index = o, r.column = n && n.name, n instanceof re && (r.field = r.fieldIndex = n.dataIndex, r.fieldName = n.fieldName), r;
      }, a.getSummary = function(i, e, t) {
        var o = new a();
        return o.cellType = i, o.index = e, o.column = t.firstColumn && t.firstColumn.name, t.firstColumn instanceof re && (o.field = o.fieldIndex = t.firstColumn.dataIndex, o.fieldName = t.firstColumn.fieldName), o;
      }, a.getGroupElt = function(i, e) {
        var t = new a();
        return t.cellType = i, t.groupLevel = e, t;
      }, a;
    }(), Fp = function(a) {
      function i(e, t) {
        var o = a.call(this, e, "focusView") || this;
        return o._editing = !1, o._focusType = "layer", o._inner = t, o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "focusType", { get: function() {
        return this._focusType;
      }, set: function(e) {
        e !== this._focusType && (this._focusType = e, this.$_typeChanged(e));
      }, enumerable: !1, configurable: !0 }), i.prototype.$_createLine = function(e) {
        function t(r, n, s) {
          var l = r.createElement("div");
          l.className = n ? "rg-focus-inner-line" : "rg-focus-line";
          var h = l.style;
          return h.display = "none", h.position = "absolute", h.boxSizing = "border-box", h.left = "0px", h.top = "0px", s !== 1 && (h.borderTop = "none"), s !== 2 && (h.borderBottom = "none"), s !== 3 && (h.borderLeft = "none"), s !== 4 && (h.borderRight = "none"), l;
        }
        var o = te(e);
        e.appendChild(this._topLine = t(o, this._inner, 1)), e.appendChild(this._bottomLine = t(o, this._inner, 2)), e.appendChild(this._leftLine = t(o, this._inner, 3)), e.appendChild(this._rightLine = t(o, this._inner, 4));
      }, i.prototype.$_typeChanged = function(e) {
        var t = this._dom.style;
        this._topLine || this.$_createLine(this._dom), e === "line" ? (t.height = "0px", t.width = "0px", t.border = "none", this._topLine.style.display = this._bottomLine.style.display = this._leftLine.style.display = this._rightLine.style.display = "block", this.invalidate()) : (t.removeProperty("border"), this._topLine.style.display = this._bottomLine.style.display = this._leftLine.style.display = this._rightLine.style.display = "none");
      }, i.prototype.$_linePosition = function(e, t, o, r) {
        var n = this._topLine.style, s = this._bottomLine.style, l = this._leftLine.style, h = this._rightLine.style, u = this.parent.width, c = this.parent.height;
        s.left = n.left = -e + "px", s.width = n.width = u + e + "px", s.top = r - 2 + "px", h.height = l.height = c + "px", h.left = o - 2 + "px", s.display = c < r ? "none" : "block", l.display = e < 0 ? "none" : "block", h.display = u < o ? "none" : "block";
      }, i.prototype.setEditing = function(e, t, o) {
        e != this._editing && (this._editing = e, this.resetStyleName());
      }, i.prototype.setActivated = function(e) {
        this._setClassName(null);
      }, i.prototype._getCssSelector = function() {
        return (this._inner ? "rg-focus-inner" : this._editing ? "rg-focus-editing" : "rg-focus") + (this.container._focused ? "" : " rg-deactive-focus");
      }, i.prototype.setBounds = function(e, t, o, r) {
        if (this._focusType === "line") {
          var n = this._dom.style;
          n.left = e + "px", n.top = t + "px", this.width = o, this.height = r, this.$_linePosition(e, t, o, r);
        } else
          this.x++, a.prototype.setBounds.call(this, e, t, o, r);
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none");
      }, i.prototype._beforeDraw = function(e) {
        if (this._focusType === "line") {
          this._setClassName(e);
          var t = e.style;
          t.left = this.x + "px", t.top = this.y + "px";
        } else
          a.prototype._beforeDraw.call(this, e);
      }, i;
    }(Ve), th = function(a) {
      function i(e, t) {
        t === void 0 && (t = !1);
        var o = a.call(this, e, "focusMask") || this;
        return o._focusType = "layer", o._focusView = new Fp(e, t), o.addChild(o._focusView), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._focusView && this._focusView.dispose(), this._focusView = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "focusType", { get: function() {
        return this._focusType;
      }, set: function(e) {
        e !== this._focusType && (this._focusType = e, this._focusView.focusType = e, this.$_typeChanged(e));
      }, enumerable: !1, configurable: !0 }), i.prototype.$_typeChanged = function(e) {
        var t = this._dom.style;
        e === "line" ? (t.removeProperty("overflow"), t.width = "0px", t.height = "0px") : (t.overflow = "hidden", t.width = this.width + "px", t.height = this.height + "px");
      }, i.prototype.updateElement = function(e, t, o, r, n) {
        this._focusView.setBounds(e, t, o, r), this._focusView.setEditing(n, 0, !1);
      }, i.prototype.setActivated = function(e) {
        this._focusView.setActivated(e);
      }, i.prototype._getCssSelector = function() {
        return "rg-focus-mask";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none"), this.setImportantStyle("background", "none"), this.setImportantStyle("border", "none"), this.setImportantStyle("overflow", "hidden");
      }, i.prototype._beforeDraw = function(e) {
        if (this._focusType === "line") {
          this._setClassName(e);
          var t = e.style;
          t.left = this.x + "px", t.top = this.y + "px";
        } else
          a.prototype._beforeDraw.call(this, e);
      }, i.prototype.setRect = function(e) {
        this._focusType === "line" ? e.x == this.x && e.y == this.y && e.width == this.width && e.height == this.height || (this.x = e.x, this.y = e.y, this.width = e.width, this.height = e.height) : a.prototype.setRect.call(this, e);
      }, i;
    }(Ve), Bp = function(a) {
      function i(e) {
        var t = a.call(this, e, "groupFocusView") || this;
        return t.visible = !0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._getCssSelector = function() {
        return "rg-group-focus";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none");
      }, i;
    }(Ve), Np = function(a) {
      function i(e, t) {
        var o = a.call(this, e, "focusMask") || this;
        return o._groupFocusView = new Bp(e), o.addChild(o._groupFocusView), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._groupFocusView = this._groupFocusView && this._groupFocusView.dispose(), a.prototype._doDispose.call(this);
      }, i.prototype.updateElement = function(e, t, o, r) {
        this._groupFocusView.setBounds(e, t, o, r);
      }, i.prototype._getCssSelector = function() {
        return "rg-group-focus-mask";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none"), this.setImportantStyle("background", "none"), this.setImportantStyle("border", "none"), this.setImportantStyle("overflow", "hidden");
      }, i.prototype._beforeDraw = function(e) {
        a.prototype._beforeDraw.call(this, e);
      }, i;
    }(Ve), Vp = function(a) {
      function i(e) {
        var t = a.call(this, e, "rowBlockView") || this;
        return t.visible = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._getCssSelector = function() {
        return "rg-rowblock";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none");
      }, i;
    }(Ve), $p = function(a) {
      function i(e) {
        return a.call(this, e, "headerCellResizer") || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "_rg-col-resizer_";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none");
      }, i;
    }(Ve), ih = function(a) {
      function i(e) {
        var t = a.call(this, e, "headerCellFeedback") || this;
        return t._modelChanged = !1, t.dragging = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._model = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "model", { set: function(e) {
        this._model = e, this._modelChanged = !0;
      }, enumerable: !1, configurable: !0 }), i.prototype._createDom = function(e) {
        var t = e.createElement("table");
        t.setAttribute("aria-hidden", "true");
        var o = t.createCaption();
        o.textContent = "grid table feedback", o.style.width = o.style.height = "0px", o.style.padding = "none", o.style.boxSizing = "border-box", o.style.overflow = "hidden", t.style.setProperty("table-layout", "fixed", "important");
        var r = e.createElement("tbody");
        t.appendChild(r);
        var n = e.createElement("tr");
        r.appendChild(n);
        var s = this._cell = e.createElement("td");
        return n.appendChild(s), s.className = "rg-header rg-header-cell _rg-header-cell-feedback_", t;
      }, i.prototype._getCssSelector = function() {
        return "rg-table";
      }, i.prototype._doDraw = function(e) {
        this.dragging && !this._modelChanged || (Ei.renderCell(this._model, this._cell), this._modelChanged = !1);
      }, i;
    }(Ve), Ap = function(a) {
      function i(e) {
        return a.call(this, e, "headerCellMover") || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "_rg-header-cell-mover_";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e);
      }, i.prototype._doDraw = function(e) {
      }, i;
    }(Ve), jp = function(a) {
      function i(e) {
        var t = a.call(this, e, "rowMoverLine") || this;
        return t._feedbackStyle = f.DragFeedbackStyle.LINE, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "feedbackStyle", { set: function(e) {
        this._feedbackStyle = e;
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
        switch (this._feedbackStyle) {
          case f.DragFeedbackStyle.LINE:
            return "_rg-row-mover-line_";
          case f.DragFeedbackStyle.ROW:
            return "_rg-row-mover-block_";
          case f.DragFeedbackStyle.GROUP:
          case f.DragFeedbackStyle.CELL:
            return "_rg-row-mover-group_";
        }
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none");
      }, i;
    }(Ve), Hp = function(a) {
      function i(e) {
        var t = a.call(this, e, "rowMover") || this;
        return t._enabled = !0, t._label = "1행 이동", t;
      }
      return w(i, a), i.prototype.setEnabled = function(e) {
        if (e != this._enabled)
          return this._enabled = e, this.invalidate(), !0;
      }, i.prototype.setLabel = function(e) {
        if (e != this._label)
          return this._label = e, this.invalidate(), !0;
      }, i.prototype.setZIndex = function(e) {
        this._dom.style.zIndex = String(e);
      }, i.prototype._getCssSelector = function() {
        var e = "_rg-row-mover-proxy_";
        return this._enabled || (e += " _rg-row-mover-proxy-disabled_"), e;
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none"), e.style.whiteSpace = "nowrap";
      }, i.prototype._setSizeStyle = function(e) {
      }, i.prototype._doDraw = function(e) {
        e[b.TextProp] = this._label;
      }, i;
    }(Ve), Gp = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        o._rowBlockStart = -1, o._rowBlockEnd = -1;
        var r = e.doc, n = o._grid = e.gridView;
        return o._skipIndex = n.getIndex(), o._tempIndex = n.getIndex(), o._tempInnerIndex = n.getIndex(), n.addFeedbackElement(o._rowBlockMask = new Vp(r)), n.addFeedbackElement(o._rowFocusView = new Up(r)), n.addFeedbackElement(o._focusMask = new th(r)), n.addFeedbackElement(o._innerFocusMask = new th(r, !0)), n.addFeedbackElement(o._groupFocusMask = new Np(r)), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._skipIndex && this._skipIndex.dispose(), this._skipIndex = null, this._tempInnerIndex = this._tempInnerIndex.dispose(), this._focusMask = this._focusMask.dispose(), this._innerFocusMask = this._innerFocusMask.dispose(), this._rowFocusView && this._rowFocusView.dispose(), this._rowFocusView = null, this._rowBlockMask && this._rowBlockMask.dispose(), this._rowBlockMask = null, this._groupFocusMask = this._groupFocusMask && this._groupFocusMask.dispose(), this._grid = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focused", { get: function() {
        return this._grid.focusedIndex;
      }, enumerable: !1, configurable: !0 }), i.prototype.setFocused = function(e, t, o) {
        var r = this._grid;
        if (r.isValid(e)) {
          var n = r.getItem(e.itemIndex);
          return !r.isEditing() && n instanceof Xi && r.append(), this._grid.setFocusedIndex(e, t, !0, o);
        }
        return !1;
      }, i.prototype.layoutChanged = function() {
        this.$_resetFocusView(), this.$_resetRowBlockMask(), this.$_resetFocusButton(this.grid.focusedIndex), this._doLayoutChanged();
      }, i.prototype.resetFocused = function() {
        this.$_resetFocusView();
      }, i.prototype.focusedIndexChanging = function(e) {
      }, i.prototype.focusedIndexChanged = function(e, t) {
        var o = this.grid, r = o.layoutManager, n = r.fixedItemCount, s = t.itemIndex;
        this.grid.setFocusedClass(e, !1), e.itemIndex !== t.itemIndex && this.grid.setFocusedRowClass(e, !1), (!this.grid.isValid(t) || n > 0 && s < n || s >= r.topIndex + n && s <= n + r.topIndex + r.fullItemCount) && this.$_resetFocusView(), !o.isEditing() && t.item instanceof Xi && o.append();
      }, i.prototype.currentRowChanged = function(e, t) {
        var o = this.grid, r = o.displayOptions;
        if (this._rowBlockStart = -1, this._rowBlockEnd = -1, r.rowBlockType != f.RowMaskType.NONE) {
          var n = r.rowBlockCallback;
          if (n) {
            var s;
            (s = n(o.handler, o.getItemIndexOfRow(t))) ? (this._rowBlockStart = s.start, this._rowBlockEnd = s.end) : this._rowBlockStart = this._rowBlockEnd = -1;
          }
        }
        this.$_resetRowBlockMask();
      }, i.prototype.getNextRequest = function(e, t, o, r) {
        return null;
      }, i.prototype.isMouseEventTarget = function(e) {
        if (e instanceof ni) {
          var t = e.getAncestor(ns);
          if (t)
            return t.getContentAt(e.index) == this.mouseEventTarget;
        }
        return a.prototype.isMouseEventTarget.call(this, e);
      }, i.prototype._doSetFocus = function(e) {
        !b.isMobile() && this.grid.setFocus(e), this._focusMask.setActivated(this.grid.container._focused);
      }, i.prototype._doFocusLeave = function(e) {
        var t = this.grid;
        t._resetTdFocus = void 0, t.editOptions.commitWhenLeave && (t.isEditing() || t.isItemEdited()) && t.commit(!1, void 0, !1), b.isSlotMode() && t.closePopups(), this._focusMask.setActivated(t.container._focused);
      }, i.prototype._doLayoutChanged = function() {
      }, i.prototype.$_resetFocusView = function() {
        var e = this._grid, t = e.layoutManager, o = e.displayOptions, r = e.focusedIndex, n = e.fixedOptions, s = this._tempInnerIndex.assign(r), l = !1, h = !1, u = !1;
        if (o.focusVisible && e.isValid(s) && !e.isEditing()) {
          var c = s.item, d = e.getBodyViewAt(s), p = d.getCellAt(t, s), _ = p;
          if (!p && s.layout.merged) {
            var g = t.getMergeRoom(s);
            g && (s.itemIndex = t.fixedItemCount + t.topIndex, g.contains(s) && (p = d.getCellAt(t, s)), p || (s.itemIndex = t.fixedItemCount + t.topIndex + t.itemCount - 1, g.contains(s) && (p = d.getCellAt(t, s))));
          }
          if (p && !p.grouped) {
            var y = e.isEditing(), m = d.getCellRectAt(t, s, !0);
            if ((m = d.boundsByContainer(m)).width > 0 && m.height > 0) {
              var v = 0, C = m.width;
              if (!s.colFixed && !s.rightFixed) {
                var x = t.fixedContentBounds;
                v = Math.max(0, x.right - m.x), C = Math.max(0, m.width - v), x = t.rightContentBounds, C -= m.right - x.x;
              }
              if (C > 0) {
                y && (m.y--, m.height += 1);
                var S = m.clone();
                if ((x = t.footerBounds.clone()).y += t.contentBounds.y, Math.max(0, m.bottom - x.y), m.width = Math.min(m.width, C), m.x += v, m.bottom = Math.min(m.bottom, x.y), this._focusMask.setRect(m), this._focusMask.focusType = o.focusType, this._focusMask.updateElement(-v, 0, S.width, S.height, y), l = !0, e.canMergeEditing(_), _ && _.merged) {
                  if (o.showInnerFocus && (P = d.getCellRectAt(t, s, !1)).height < m.height) {
                    this._innerFocusMask.focusType = o.focusType, P.height = Math.min(P.height, m.height);
                    var I = (P = d.boundsByContainer(P)).width - 8, E = P.height - 8;
                    P.bottom = Math.min(m.bottom + 4, P.bottom), this._innerFocusMask.setRect(P.inflate(-4, -4, -4, -4)), this._innerFocusMask.updateElement(0, 0, I, E, y), u = !0;
                  }
                } else {
                  var O = d.getCellAt(t, s);
                  if (O && O.renderer2 && O.editable && O.renderer2.canShowInnerFocus()) {
                    var P = d.getCellRectAt(t, s, !1);
                    I = (P = d.boundsByContainer(P)).width - 8, E = P.height - 8, P.bottom = Math.min(m.bottom + 4, P.bottom), this._innerFocusMask.setRect(P.inflate(-4, -4, -4, -4)), this._innerFocusMask.updateElement(0, 0, I, E, y), u = !0;
                  }
                }
              }
            }
          } else if (!c.isData) {
            var R = e.getRowView(d, c);
            R && (m = R.boundsByContainer(), this._focusMask.updateElement(0, 0, m.width, m.height, !1), m.x < t.leftContentBounds.right && (m.x = t.leftContentBounds.right, m.width -= t.leftContentBounds.right - m.x), this._focusMask.setRect(m), l = !0);
          }
        }
        var T = o.rowFocusType;
        if (T != f.RowMaskType.NONE) {
          var D = t.footerBounds.y + t.contentBounds.y, M = t.fixedItemCount;
          if ((B = (B = s.itemIndex) >= M ? B - t.topIndex : B) >= 0 && B <= t.itemCount - 1) {
            switch ((m = t.getTableItemBounds(B)).y += t.contentBounds.y + t.bodyBounds.y, m.bottom > D && (m.bottom = D), T) {
              case f.RowMaskType.DATA:
                m.x = e.fixedContentPane.x, m.right = e.rightContentPane.width ? e.rightContentPane.right : e.contentPane.right;
                break;
              case f.RowMaskType.FILL:
                m.x = 0, m.width = e.width;
                break;
              case f.RowMaskType.ROW:
                m.x = 0, m.right = e.rightContentPane.width ? e.rightContentPane.right : e.contentPane.right;
            }
            this._rowFocusView.setRect(m), h = !0;
          } else
            h = !1;
        }
        if (this._groupFocusMask.visible = o.groupFocusVisible && e.isValid(r)) {
          var V = r.layout.root;
          if (V) {
            var B;
            if (D = t.footerBounds.y + t.contentBounds.y, M = t.fixedItemCount, (B = (B = r.itemIndex) >= M ? B - t.topIndex : B) >= 0 && B <= t.itemCount + M - 1) {
              if (m = t.getTableItemBounds(B), v = 0, (P = t.getDataRect(V)).height = m.height, m.x = P.x, C = P.width, m.y += t.contentBounds.y + t.bodyBounds.y, m.bottom > D && (m.bottom = D), x = void 0, x = !r.colFixed && n.colCount > 0 ? t.fixedContentBounds : t.rowBarBounds, m.x = Math.max(x.right, P.x), v = Math.min(0, P.x - x.right), !r.rightFixed && n.rightCount > 0) {
                var N = t.rightContentBounds;
                C -= Math.max(0, P.right - N.x);
              }
              C <= 0 && (this._groupFocusMask.visible = !1), m.width = C, m.x -= 1, m.y -= 1, m.width++, m.height++, this._groupFocusMask.setRect(m), this._groupFocusMask.updateElement(v, 0, P.width + 1, P.height + 1);
            } else
              this._groupFocusMask.visible = !1;
          }
        }
        this._rowFocusView.visible = h, this._focusMask.visible = l, this._innerFocusMask.visible = u, this._focusMask.visible, e.setFocusedClass(r, !0), e.setFocusedRowClass(r, !0);
      }, i.prototype.$_resetRowBlockMask = function() {
        var e = this.grid, t = e.layoutManager, o = t.fixedItemCount, r = e.topItem, n = this._rowBlockMask, s = e.displayOptions.rowBlockType, l = this._rowBlockStart, h = this._rowBlockEnd, u = Math.max(l - r + o, o), c = Math.min(Math.max(h - r + o), t.itemCount + o - 1);
        if (n.visible = s && s != f.RowMaskType.NONE && u >= 0 && c >= 0 && u < t.itemCount && u <= c && l !== h, n.visible) {
          var d = t.footerBounds.y + t.contentBounds.y, p = t.getTableItemBounds(u), _ = t.getTableItemBounds(c);
          switch ((p = p.union(_)).y += t.contentBounds.y + t.bodyBounds.y, p.bottom > d && (p.bottom = d), s) {
            case f.RowMaskType.DATA:
              p.x = e.fixedContentPane.x, p.right = e.rightContentPane.width ? e.rightContentPane.right : e.contentPane.right;
              break;
            case f.RowMaskType.FILL:
              p.x = 0, p.width = e.width;
              break;
            case f.RowMaskType.ROW:
              p.x = 0, p.right = e.rightContentPane.width ? e.rightContentPane.right : e.contentPane.right;
          }
          n.setRect(p);
        }
      }, i.prototype.$_resetFocusButton = function(e) {
        var t, o = this.grid;
        if (o.isValid(e)) {
          var r = o.getBodyViewAt(e), n = o.getBodyCellAt(e), s = this._tempIndex.assign(e);
          if (!n && s.layout.merged) {
            var l = o.layoutManager;
            (t = l.getMergeRoom(s)) && (s.itemIndex = l.fixedItemCount + l.topIndex, t.contains(s) && (n = o.getBodyCellAt(s)), n || (s.itemIndex = l.fixedItemCount + l.topIndex + l.itemCount - 1, t.contains(s) && (n = o.getBodyCellAt(s))));
          }
          var h = r && n && r.getRowView(n.item);
          h && h.$_setButtons(o, n, n.cell.firstElementChild, t);
        }
      }, i.prototype._doCancel = function(e) {
        if (e.closeFilterSelector(), e.isEditing())
          e.cancelEditor(!0);
        else if (e.isItemEditing())
          e.itemEditCancel() && e.cancel();
        else if (this.dragging && this.dragTracker)
          try {
            this._stopDragTracker(null, null, !0, null), this.dragTracker.cancel(), this.dragTracker.linkable && e.container.cancelOtherContainer(this.dragTracker);
          } catch (t) {
            throw t;
          } finally {
            this.dragTracker = null;
          }
      }, i.prototype._doEnter = function(e, t, o, r) {
        var n = e.isEditing(), s = r.shiftKey;
        if (n && !t.enterToTab)
          e.commitEditor(!0);
        else {
          var l = o.clone(), h = t.skipReadOnly, u = t.skipReadOnlyCell;
          if (e.isValid(l))
            if (t.enterToNextRow && (!s && l.itemIndex < e.itemCount - 1 || s && l.itemIndex > 0))
              s ? l.up() : l.down(), u && this._checkReadOnly(l) && (this._skipReadOnlyCell(l, s ? -1 : 1) || l.assign(o));
            else if (!s && (!t.enterToEdit || n) && t.enterToTab && t.crossWhenExitLast && (l.isLast || t.skipReadOnly && l.isEditableLast) && l.itemIndex < e.itemCount - 1)
              l.down(), l.firstCell(), h && this._skipReadOnly(l, 1);
            else if (s && (!t.enterToEdit || n) && t.enterToTab && t.crossWhenExitLast && (l.isFirst || t.skipReadOnly && l.isEditableFirst) && l.itemIndex > 0)
              l.up(), l.lastCell(), h && this._skipReadOnly(l, -1);
            else if ((!n || t.enterToTab) && t.commitWhenExitLast && l.isLast) {
              try {
                e.commit(t.commitWhenNoEdit);
              } catch (c) {
                throw c instanceof Me && (c = e._fireValidationFail(l.item.index, c.column, c)) && alert(t.showOnlyValidationMessage && c.userMessage ? c.userMessage : c.toString()), c;
              }
              t.appendWhenExitLast && l.itemIndex === e.itemCount - 1 && (e.append(), e.isItemEditing() && (l.down(), l.firstCell()));
            } else
              (t.enterToTab && (e.isEditing() || this._checkReadOnly(l)) || !t.enterToEdit) && (e.isEditing() && e.commitEditor(!0), s ? (l.prev(), this._getPrevVisible(e, l)) : (l.next(), this._getNextVisible(e, l)), h && !this._skipReadOnly(l, s ? -1 : 1) && l.assign(o));
          else
            l.normalize(e);
          W.areEquals(l, o) ? e.isValid(l) && t.enterToEdit && !n && !e.isEditing() && o && o.dataColumn && !this._checkReadOnly(o) && e.showEditor(o) : this.setFocused(l, !0, !0);
        }
        return !0;
      }, i.prototype._doTab = function(e, t, o, r, n, s) {
        var l = o.clone(), h = !1;
        if (e.isValid(l)) {
          if (t.useTabKey) {
            var u = t.exitGridWhenTab;
            if (n) {
              if (t.crossWhenExitLast && (l.isFirst || t.skipReadOnly && l.isEditableFirst) && l.itemIndex > 0 ? (l.up(), l.lastCell()) : (l.prev(), this._getPrevVisible(e, l)), t.skipReadOnly && !this._skipReadOnly(l, -1) && l.assign(o), W.areEquals(l, o) && u) {
                switch (u) {
                  case "row":
                    h = !0;
                    break;
                  case "grid":
                    h = l.itemIndex <= 0;
                }
                if (h)
                  return !b.isMobile() && e.container._containerDom.setAttribute("tabindex", "-1"), !1;
              }
            } else {
              if (t.crossWhenExitLast && (l.isLast || t.skipReadOnly && l.isEditableLast) && l.itemIndex < e.itemCount - 1)
                l.down(null, t.skipReadOnly && l.isEditableLast && t.crossWhenExitLast), l.firstCell();
              else if (t.commitWhenExitLast && l.isLast) {
                try {
                  e.commit(t.commitWhenNoEdit);
                } catch (c) {
                  throw c instanceof Me && (c = e._fireValidationFail(l.itemIndex, c.column, c)) && alert(t.showOnlyValidationMessage && c.userMessage ? c.userMessage : c.toString()), c;
                }
                t.appendWhenExitLast && (e.append(), e.isItemEditing() && (l.down(), l.firstCell()));
              } else
                l.next(), this._getNextVisible(e, l);
              if (t.skipReadOnly && !this._skipReadOnly(l, 1) && l.assign(o), W.areEquals(l, o) && u) {
                switch (u) {
                  case "row":
                    h = !0;
                    break;
                  case "grid":
                    h = l.itemIndex >= e.itemCount - 1;
                }
                if (h)
                  return !1;
              }
            }
            return W.areEquals(l, o) || this.setFocused(l, !0, !0), s && (s.preventDefault && s.preventDefault(), s.stopImmediatePropagation()), !0;
          }
        } else
          l.normalize(e), this._skipReadOnly(l, 1);
        return n && !b.isMobile() && e.container._containerDom.setAttribute("tabindex", "-1"), !1;
      }, i.prototype._getNextVisible = function(e, t) {
        e.getBodyViewAt(t).getNextVisibleCell(t);
      }, i.prototype._getPrevVisible = function(e, t) {
        e.getBodyViewAt(t).getPrevVisibleCell(t);
      }, i.prototype._checkReadOnly = function(e) {
        var t = this.grid;
        if (!t.isValid(e))
          return !0;
        var o = t.getWritableAt(e);
        return o != null ? !o : !e.dataColumn.isWritable();
      }, i.prototype._skipReadOnly = function(e, t) {
        var o = !1;
        if (this.grid.editOptions.skipReadOnly) {
          var r = this._skipIndex;
          if (r.assign(e), !(o = !this._checkReadOnly(r))) {
            if (t > 0) {
              for (; r.next(); )
                if (!this._checkReadOnly(r)) {
                  e.assign(r), o = !0;
                  break;
                }
            } else
              for (; r.prev(); )
                if (!this._checkReadOnly(r)) {
                  e.assign(r), o = !0;
                  break;
                }
          }
        }
        return o;
      }, i.prototype._skipReadOnlyCell = function(e, t, o) {
        var r = this.grid, n = !e.dataColumn.isWritable() && !0;
        if (!n && r.editOptions.skipReadOnlyCell) {
          var s = this._skipIndex;
          s.assign(e), n = !this._checkReadOnly(s);
        }
        return n;
      }, i.prototype._commitCancel = function(e, t) {
        var o = this.grid;
        try {
          switch (e.itemState) {
            case f.ItemState.INSERTING:
              return o.commit(t.forceInsert) || o.cancel(!0), !0;
            case f.ItemState.APPENDING:
              return o.commit(t.forceAppend) || o.cancel(!0), !0;
            case f.ItemState.UPDATING:
              return o.commit(t.commitWhenNoEdit) || o.cancel(!0), !0;
          }
        } catch (r) {
          if (r instanceof Me)
            return (r = o._fireValidationFail(e.index, r.column, r)) && alert(t.showOnlyValidationMessage && r.userMessage ? r.userMessage : r.toString()), !1;
          if (r instanceof yi)
            return !1;
          throw r;
        }
        return !1;
      }, i.prototype._doColumnHeaderClicked = function(e, t) {
      }, i.prototype._editButtonClicked = function(e, t) {
      }, i;
    }(Ml), Wp = function(a) {
      function i(e) {
        var t = a.call(this, e, "rowHoverView") || this;
        return t.visible = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._getCssSelector = function() {
        return "rg-rowhover";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none");
      }, i;
    }(Ve), Up = function(a) {
      function i(e) {
        var t = a.call(this, e, "rowFocusView") || this;
        return t.visible = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._getCssSelector = function() {
        return "rg-rowfocus";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), this.setImportantStyle("pointer-events", "none");
      }, i;
    }(Ve), ws = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        o._tooltipOptions = new gs(), o._checkScroll = Date.now(), o._prevScroll = Date.now(), o._wheelDeltaY = 0, o._tempRect = new ue(), o._reqPoint = new wi(), o._swipeTimer = null, o._swipeDistance = 0, o._swipeDuration = 0, o._swipeStarted = null, o._swipeAmount = 0;
        var r = e.doc, n = o.grid;
        return o._cellResizer = new $p(r), o._cellMover = new Ap(r), o._cellFeedback = new ih(r), o._rowMoverLine = new jp(r), o._rowMoverProxy = new Hp(r), o._colResizeReq = new Fr(n), o._colMoveReq = new _s(n), o._rowResizeReq = new Wl(n), o._headerResizeReq = new Ul(n), o._rowMoveReq = new zl(n), o._tooltipIndex = new W(n), b.isMobile() && (o._touchScrollRequest = new ms(n), o._touchScrollTracker = new vs(n), o._touchSelectRequest = new Ql(n), o._touchSelectTracker = new Mp(n)), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._clickCell = null, this._clickElement = null, this._cellResizer = this._cellResizer.dispose(), this._cellMover = this._cellMover.dispose(), this._cellFeedback = this._cellFeedback.dispose(), this._rowMoverLine = this._rowMoverLine.dispose(), this._rowMoverProxy = this._rowMoverProxy.dispose(), this._colResizeReq = this._colResizeReq.dispose(), this._colMoveReq = this._colMoveReq.dispose(), this._rowMoveReq = this._rowMoveReq.dispose(), this._rowResizeReq = this._rowResizeReq.dispose(), this._headerResizeReq = this._headerResizeReq.dispose(), clearTimeout(this._tooltipShowTimer), a.prototype._doDispose.call(this);
      }, i.prototype._doDeactivated = function() {
        this._clickCell = this._clickElement = null;
      }, i.prototype._doDragTrackerFinished = function(e, t) {
        e.clickable || (this._clickCell = this._clickElement = null);
      }, i.prototype.$_getIndexAt = function(e, t, o, r, n) {
        var s = e.getDataCellIndex(r, this._tempIndex), l = o.getCellAt(t, s);
        if (l && l.merged) {
          var h = t.getTableRowIndex(n);
          if (h < 0)
            return s;
          var u = o.getRowIndex(h);
          s.itemIndex = Math.min(Math.max(l.item.index, u), l.item.index + l.rowSpan - 1);
        }
        return s;
      }, i.prototype._doPointerDown = function(e) {
        var t = e.mouseX, o = e.mouseY, r = e.ctrlKey || e.metaKey, n = e.shiftKey, s = e.altKey, l = e.button, h = this.grid, u = h.layoutManager, c = h.editOptions, d = h.focusedIndex.clone(), p = h.selections.exclusiveMode;
        this._longTimer = b.isMobile() && setTimeout(this._longTimerHander, h.mobileOptions.longTapDuration), this._hideTooltip(), h.closePopups(), h.setEventFrom("mousedown"), this._scrollY = window.scrollY, clearInterval(this._swipeTimer), this._touchMoving = !1;
        var _, g = this._clickCell = null, y = this._clickElement = null;
        if (l == 0 || h.displayOptions.rightClickable && l == 2) {
          var m = this._tempIndex, v = this.mouseEventTarget, C = l == 0 && (this._getEditRequest(v, d, t, o, r, n, s) || this._getSelectRequest(v, t, o, r, n, s) || b.isMobile() && this._getTouchRequest(e));
          if (!(C instanceof Oi) || C.canFocus())
            if (g = this._clickCell = this._findTableCell(), y = this._clickElement = this.findElementAt(t, o, !1), g) {
              var x = h.getTableView(g), S = x instanceof Ei, I = x instanceof xt, E = x instanceof uo && x.isRowIndicator(g);
              if (S || I || E) {
                var O = h.selections.lastItem();
                if (I ? (m = this.$_getIndexAt(h, u, x, g, o), h.editOptions.focusMoveStep === f.FocusMoveStep.GROUP && (m.layout = m.layout.root.first)) : S ? (m.assign(h.focusedIndex), m.layout = x.layoutByCell(g)) : (m.assign(h.focusedIndex), m.itemIndex = g.parentElement[De]), S) {
                  if (r && n)
                    O && this.$_resizeSelection(O, m, f.SelectionStyle.COLUMNS);
                  else if (n)
                    return;
                } else {
                  if (n && O) {
                    var P = S ? f.SelectionStyle.COLUMNS : E ? f.SelectionStyle.ROWS : null;
                    return void this.$_resizeSelection(O, m, P);
                  }
                  if (I) {
                    if (this.$_checkAppending(h.focusedIndex, !0, m))
                      return this._clickElement = null, void (this._clickCell = null);
                    var R = x.getCellAt(u, m), T = x.bodyCellByCell(this._clickCell);
                    if (T && R && l === 0 && T.isEditButton(e.target))
                      this.setFocused(m, !0, !0) && R.editable && !R.readonly && h.editController.buttonDown(m, e);
                    else if (b.isMobile() && C instanceof ms)
                      this.grid.container.addMouseEvent(null);
                    else if (W.areEquals(m, this.focused) && c.editWhenClickFocused)
                      h.showEditor();
                    else {
                      var D = !(r && h.selections.containsCell(m));
                      this.setFocused(m, p || !r, D) || C instanceof Ni && (C = null);
                    }
                  } else if (E && h.rowIndicator.selectable)
                    if (m.column == null && m.item.isDataRow && (m.layout = h.getFirstLayout()), C instanceof Ni) {
                      if (this.setFocused(m, p || !r, !1)) {
                        var M = O && No(O) ? O.getItemIndices() : [];
                        (M.length !== 1 || M[0] !== m.itemIndex) && h.selections.selectRow(m.itemIndex, !r);
                      }
                    } else
                      D = void 0, D = h.displayOptions.selectionStyle === f.SelectionStyle.SINGLE_ROW ? !(r && h.selections.containsItem(m.itemIndex, null)) : !(r && h.selections.containsCell(m)), this.setFocused(m, p || !r, D);
                }
              }
            } else
              (_ = y) && "itemIndex" in _ && (m.assign(h.focusedIndex), m.itemIndex = y.itemIndex, this.setFocused(m, !0, !0));
          !C || h.isItemEditing() && C.selectable || (this.dragTracker = this._getDragTracker(C, t, o));
        }
        h.$_resetHovering(t, o);
        var V = this.dragTracker;
        V && V.startWhenCreated ? (V instanceof Bi && e.shiftKey, this._startDragTracker(t, o, e)) : V && V.init(t, o, e);
      }, i.prototype._doPointerCancel = function(e) {
        this.grid.container.removeMouseEvent();
      }, i.prototype._doMouseDown = function(e) {
        var t = this.grid, o = t.editOptions, r = e.ctrlKey || e.metaKey, n = t.selections.exclusiveMode, s = e.mouseX, l = e.mouseY, h = this._tempIndex;
        if (W.areEquals(h, this.focused) && o.editWhenClickFocused)
          t.showEditor();
        else {
          var u = !(r && t.selections.containsCell(h));
          this.setFocused(h, n || !r, u);
        }
        t.$_resetHovering(s, l);
      }, i.prototype.$_checkOtherGridRowMoving = function(e, t) {
        var o = this.grid, r = o.container, n = r.getMouseContainer(), s = { index: -1, position: 0, column: void 0 };
        if (n && n !== r) {
          if (r.findContainer(e) !== r)
            o.removeFeedbackElement(this._rowMoverLine);
          else if (t instanceof ao) {
            var l = r.eventToContainer(e), h = r.findElementAt(l.x, l.y, !1);
            if (o.itemCount == 0 || h instanceof mt || h instanceof Br || h instanceof uo) {
              var u = ao.updateLineFeedback(o, Number.MAX_VALUE, null, 1, this._rowMoverLine, l.x, l.y, !0, e.target), c = o.canMoveRow(!0, !0) && o.dataDropOptions.getEnabled(n.gridView, t.sourceItems, u), d = o.dataDropOptions.getLabel(n.gridView, t.sourceItems, u, null);
              return t.setEnabled(c), t.setLabel(d), o.addFeedbackElement(this._rowMoverLine), c ? u : s;
            }
            h ? (t.setEnabled(!1), o.removeFeedbackElement(this._rowMoverLine)) : o.removeFeedbackElement(this._rowMoverLine);
          }
        }
        return s;
      }, i.prototype.getNextRequest = function(e, t, o, r) {
        if (e instanceof Ni) {
          var n = this.grid.getSelection();
          return this._rowMoveReq.init(n, n.startItem);
        }
        return null;
      }, i.prototype.dragFrom = function(e, t) {
        t instanceof ao && this.$_checkOtherGridRowMoving(e, t);
      }, i.prototype.dropFrom = function(e, t) {
        if (t instanceof ao) {
          var o = this.grid, r = o.itemCount == 0 ? { index: 0, position: 0, column: void 0 } : this.$_checkOtherGridRowMoving(e, t);
          o.removeFeedbackElement(this._rowMoverLine), r.index >= 0 && o.$_dropData(t.grid, t.sourceItems, r);
        }
      }, i.prototype.cancelFrom = function(e) {
        var t = this.grid;
        e instanceof ao && t.removeFeedbackElement(this._rowMoverLine);
      }, i.prototype._doPointerMove = function(e) {
        var t = e.mouseX, o = e.mouseY, r = e.ctrlKey || e.metaKey, n = e.shiftKey, s = e.altKey, l = this.grid, h = l.layoutManager;
        l.$_resetHovering(t, o) || this._hideTooltip();
        var u = this._getEditRequest(this.mouseEventTarget, l.focusedIndex, t, o, r, n, s);
        if (b.isMobile() && !u && (u = this._getTouchRequest(e)), u && u.cursor ? l.setCursor(this.mouseEventTarget, u.cursor) : l.setCursor(this.mouseEventTarget, "default"), !u && !this.dragging) {
          var c = this._findTableCell(), d = c && l.getTableView(c);
          if (d instanceof xt) {
            var p = d.bodyCellByCell(c);
            if (p && p.merged) {
              var _ = p.head || p, g = this.$_getIndexAt(l, h, d, c, o);
              if (!_.contains(l.focusedIndex)) {
                if (p.buttons) {
                  var y = d.getRowView(_.item);
                  y instanceof mt && y.moveCellButtons(h, _, g.itemIndex);
                }
                var m = l.canMergeEditing(_);
                if (_.renderer2 && _.renderer2.refreshFocusChanged) {
                  var v = d.getCellRectAt(h, g, !1), C = d.getCellRect(h, _, !0), x = _.renderer2, S = v.top - C.top + v.height / 2 - C.height / 2;
                  x.moveClickElement(S, m);
                }
              }
            }
          }
        }
      }, i.prototype._doPointerUp = function(e) {
        this.grid.container;
        var t = e.mouseX, o = e.mouseY, r = this._findTableCell(), n = this.grid, s = n.focusedIndex, l = n.layoutManager;
        n.setEventFrom("mouseup");
        var h = n.getCellType(r);
        if (n.setCursor(this.mouseEventTarget, "default"), n.editController.buttonUp(null, e), h === "data" && (!this.dragTracker || this.dragTracker.scrollable)) {
          var u = r && n.cellToIndex(r);
          n.isValid(s) && W.areEquals(s, u) && !l.focusIsVisible(s) && (l.makeCellVisible(s), n.invalidateLayout());
        }
        if (r && r == this._clickCell && h === "header" && !(this._getEditRequest(this.mouseEventTarget, s, t, o, !1, !1, !1) instanceof Fr)) {
          var c = n.getHeaderView(r).layoutByCell(r);
          c && this.$_columnHeaderClicked(e, c);
        }
      }, i.prototype._doClick = function(e, t, o) {
        t = t || e.mouseX, o = o || e.mouseY;
        var r, n = this.grid, s = this.findElementAt(t, o, !1), l = this._findTableCell(), h = n.getCellType(l), u = this.focused, c = h === "data" && n.cellToIndex(l);
        (!n._eventFrom || n._eventFrom.indexOf("key") >= 0) && (this._clickCell = l = this._findTableCell(e.target), u = l && n.getDataCellIndex(l)), n.setEventFrom(null);
        try {
          if (l && l == this._clickCell) {
            var d = n.getCellType(l), p = void 0, _ = void 0;
            switch (d) {
              case "head":
                if (this.$_gridCellClicked(r = ae.getSub(d, n.headView.getCellType(l))), r.subType === "check") {
                  var g = n.headView._checkCell;
                  b.included(e.target, g._check, g._image, g._span) && this._checkAllClicked();
                }
                break;
              case "foot":
                this.$_gridCellClicked(ae.getSub(d, n.footView.getCellType(l)));
                break;
              case "indicator":
              case "state":
              case "check":
                d === "check" && this.$_checkCellClicked2(l, e), p = n.rowBarContainer.rowOf(l), _ = n.getRowOfItem(p), this.$_gridCellClicked(ae.getItem(d, p, _));
                break;
              case "header":
                var y = n.getHeaderView(l), m = n.headerView.tableCellByCell(l);
                m && m.isClickableElt(e.target) || this.$_gridCellClicked(ae.getLayout(d, y.layoutByCell(l)));
                break;
              case "data":
                var v = n.getBodyView(l).bodyCellByCell(l), C = W.areEquals(u, c) || v.contains(u);
                if (C && v.grouped)
                  this.$_gridCellClicked(ae.getItem("groupHeader", v.item.index, null));
                else {
                  if (C && v.isCellButton(e.target))
                    return this.$_cellButtonClicked(v), void (!n.editOptions.exceptDataClickWhenButton && this.$_gridCellClicked(ae.getCell(d, v, u)));
                  if (C && mt.isExpander(e.target))
                    return void (!n.editOptions.exceptDataClickWhenButton && this.$_gridCellClicked(ae.getCell(d, v, u)));
                  var x = n.editController._editor;
                  if (C && (v.isEditButton(e.target) || !v.readonly && x && x.dropDownWhenClick))
                    return n.canMergeEditing(v) ? this._tempIndex = n.focusedIndex.clone() : v.getEditIndex(this._tempIndex), this._editButtonClicked(this._tempIndex, e), void this.$_gridCellClicked(ae.getCell(d, v, u));
                  var S = v.renderer2;
                  if (S && (C || !S.clickOnlyFocusedCell))
                    return r = ae.getCell(d, v, c), this.$_performRendererClick(v, e, r) ? void ((!n.editOptions.exceptDataClickWhenButton || !S.itemClickable) && this.$_gridCellClicked(r)) : void this.$_gridCellClicked(ae.getCell(d, v, c));
                  b.isInteractive(e.target) && b.stopEvent(e, !0);
                }
                break;
              case "footer":
                var I = n.getFooterView(l).tableCellByCell(l);
                this.$_gridCellClicked(ae.getSummary(d, I.summaryIndex, I.layout));
                break;
              case "summary":
                var E = n.getSummaryView(l).tableCellByCell(l);
                this.$_gridCellClicked(ae.getSummary(d, E.summaryIndex, E.layout));
                break;
              case "inlineFilter":
                var O = n.getFilterView(l).tableCellByCell(l), P = e.target;
                P === O.operatorButton && n.popupMenuManager.show(O.popupMenu, P, this._tempIndex.set(-1, O.layout, this.grid), !1);
                break;
              case "sum":
                this.$_gridCellClicked(ae.getSub(d, n.sumView.getCellType(l)));
                break;
              case "filter":
                this.$_gridCellClicked(ae.getSub(d, n.filterView.getCellType(l)));
                break;
              case "groupFooter":
                var R = n.getBodyView(l).bodyCellByCell(l), T = R.item.footerIndex;
                this.$_gridCellClicked(ae.getGroupFooter(d, R.item.index, R.layout, T));
                break;
              case "groupHead":
              case "groupFoot":
                var D = l[Ko];
                this.$_gridCellClicked(ae.getGroupElt(d, D));
                break;
              case "groupBar":
                var M = l[De];
                _ = this.grid.getRowOfItem(M), this.$_gridCellClicked(ae.getItem(d, M, _));
            }
          } else if (s && s === this._clickElement) {
            var V = this._getClickData(s, e);
            V && (V.cellType === "gridEmpty" && n.isEditing() && n.commitEditor(!0), this.$_gridCellClicked(V));
          }
        } finally {
          if (b.isMobile()) {
            var B = n.mobileOptions.doubleTapInterval || 500;
            this._clickTimeStamp && this._clickTimeStamp + B > e.timeStamp && this._clickElt === this._findTableCell(e.target) ? h !== "data" || W.areEquals(this._clickIndex, c) ? (this._clickTimeStamp = null, this._clickIndex = null, this._doDblClick(e)) : this._clickTimeStamp = e.timeStamp : (this._clickTimeStamp = e.timeStamp, this._clickElt = this._findTableCell(e.target), h === "data" && (this._clickIndex = c.clone()));
          }
        }
      }, i.prototype._getClickData = function(e, t) {
        if (e instanceof li || e instanceof rs || e instanceof xt)
          return ae.getData("gridEmpty");
      }, i.prototype.$_commitRendererEdit = function(e, t, o) {
        var r = t.item, n = t.dataField, s = t.dataColumn, l = !1;
        try {
          (l = e.editorCommit(t, r.getData(n), o)) && (e.undoable ? e.execute(new ql(t.item, n, o, t.column)) : r.setData(n, o), e.isItemEditing(t.item) && e.validateCellCommit(t, o));
        } catch (v) {
          if (!e.editOptions.showCommitError)
            throw v;
          alert(v.message || v);
        }
        if (l && e.isCellEditing()) {
          var h = e.itemSource, u = h.editingItem.invalidFields, c = e.validationManager.getError(t);
          if (c)
            return u.push(s.dataIndex), void (e.editOptions.showCommitError && alert(c.userMessage || c.message || c));
          if (u.indexOf(s.dataIndex) >= 0 && u.splice(u.indexOf(s.dataIndex), 1), e.validationManager.clearInvalidCell(t), u.length > 0)
            return;
          var d = e.canMergeEditing(e.getBodyCellAt(t, !0));
          if (h.commit(d) || h.cancel(), d) {
            var p = s.layout.merges.getRoom(t), _ = {}, g = {};
            g[s.fieldName] = o;
            for (var y = p.head; y <= p.tail; y++) {
              var m = e.getItem(y);
              m.isDataRow && (_[m.dataRow] = g);
            }
            h.updateRows2(_);
          }
        }
      }, i.prototype.$_performRendererClick = function(e, t, o) {
        var r, n = e.renderer2, s = this.grid, l = s.layoutManager;
        if (n) {
          if (e.merged)
            if (t.pointerType === "")
              r = s.focusedIndex.clone();
            else {
              var h = t.mouseY, u = this._findTableCell(), c = u && s.getTableView(u);
              r = this.$_getIndexAt(s, l, c, u, h);
            }
          else
            r = n.index;
          if (s.canWriteAt(r) && n.canEdit() && n.canEditClickAt(t) && s.edit(r)) {
            var d = n.editClick(r, t);
            if (d)
              return d.commit && this.$_commitRendererEdit(s, r, d.value), !0;
          }
          if (n.canClick(t)) {
            var p = n.click(r, t);
            if (p)
              return b.extendObj(o, p), s._fireCellItemClicked(r, p) === !1 && n.preventDefaultClick(t), !0;
          }
          return n.preventDefaultEditClick(t), !1;
        }
      }, i.prototype.$_performRendererKey = function(e, t) {
        var o, r = e.renderer2, n = e.head;
        if (r)
          o = r.index;
        else {
          if (!n || !(r = n.renderer2))
            return;
          var s = e.rowIndex - n.rowIndex;
          (o = r.index.clone()).incRow(s);
        }
        var l = this.grid, h = l.canWriteAt(o) && r.canEdit();
        if (W.areEquals(o, l.focusedIndex)) {
          var u = ae.getCell(l.getCellType(e.cell), e, o);
          if (h && r.canEditKey(t) || r.canClickSpaceKey(t))
            return r.itemClick(), !0;
          if (t.keyCode === 32 && l.editOptions.buttonClickWhenSpace)
            return e.button === f.CellButton.ACTION || e.button === f.CellButton.POPUP ? (l.closePopups(), e.cellButton.click(), !0) : (this.$_gridCellClicked(u), !0);
        }
      }, i.prototype._doDblClick = function(e) {
        var t = e.mouseX, o = e.mouseY, r = e.ctrlKey || e.metaKey, n = e.shiftKey, s = e.altKey, l = this.grid, h = l.layoutManager, u = this.focused, c = this.findElementAt(t, o, !1), d = this._findTableCell();
        if (l.setEventFrom(null), d && d == this._clickCell) {
          var p = l.getCellType(d), _ = void 0, g = void 0;
          switch (p) {
            case "head":
              this.$_gridCellDblClicked(ae.getSub(p, l.headView.getCellType(d)));
              break;
            case "foot":
              this.$_gridCellDblClicked(ae.getSub(p, l.footView.getCellType(d)));
              break;
            case "indicator":
            case "state":
            case "check":
              _ = l.rowBarContainer.rowOf(d), g = l.getRowOfItem(_), this.$_gridCellDblClicked(ae.getItem(p, _, g));
              break;
            case "header":
              var y = l.getHeaderView(d), m = l.headerView.tableCellByCell(d);
              m && m.isClickableElt(e.target) || this.$_gridCellDblClicked(ae.getLayout(p, y.layoutByCell(d)));
              var v = this._getEditRequest(this.mouseEventTarget, l.focusedIndex, t, o, r, n, s);
              if (v instanceof Fr) {
                var C = v.layout;
                C.firstColumn && l.fitLayoutWidth(C);
              }
              break;
            case "data":
              var x = l.getBodyView(d), S = x.bodyCellByCell(d), I = this.$_getIndexAt(l, h, x, d, o);
              if (mt.isExpander(e.target))
                return;
              if (S.grouped)
                this.$_gridCellDblClicked(ae.getItem("groupHeader", S.item.index, null));
              else if (this.$_gridCellDblClicked(ae.getCell(p, S, u)), W.areEquals(I, u)) {
                var E = l.editController.currentEditor();
                l.showEditor(I, void 0, b.isMobile() && E?.hasList);
              }
              break;
            case "footer":
              var O = l.getFooterView(d).tableCellByCell(d);
              this.$_gridCellDblClicked(ae.getSummary(p, O.summaryIndex, O.layout));
              break;
            case "summary":
              var P = l.getSummaryView(d).tableCellByCell(d);
              this.$_gridCellDblClicked(ae.getSummary(p, P.summaryIndex, P.layout));
              break;
            case "sum":
              this.$_gridCellDblClicked(ae.getSub(p, l.sumView.getCellType(d)));
              break;
            case "groupFooter":
              var R = l.getBodyView(d).bodyCellByCell(d), T = R.item.footerIndex;
              this.$_gridCellDblClicked(ae.getGroupFooter(p, R.item.index, R.layout, T));
              break;
            case "groupHead":
            case "groupFoot":
              var D = d[Ko];
              this.$_gridCellDblClicked(ae.getGroupElt(p, D));
              break;
            case "groupBar":
              var M = d[De];
              g = l.getRowOfItem(M), this.$_gridCellDblClicked(ae.getItem(p, M, g));
          }
        } else if (c && c === this._clickElement) {
          var V = this._getClickData(c, e);
          V && this.$_gridCellDblClicked(V);
        }
      }, i.prototype._doMouseWheel = function(e) {
        var t = this.grid;
        t.setEventFrom(null), t.scrollOnEditing();
        var o = t.displayOptions;
        if (o.wheelEnabled && !e.ctrlKey) {
          if (!t._fireWheel(e))
            return !0;
          if ((e.shiftKey || Math.abs(e.deltaX) > Math.abs(e.deltaY)) && o.wheelScrollHorz !== 0) {
            var r = t.leftPos, n = Math.abs(o.wheelScrollHorz || 16) * ((e.deltaX || e.deltaY) > 0 ? 1 : -1);
            return t.leftPos = r + n, !0;
          }
          var s = t.topIndex, l = Date.now(), h = Math.abs(o.wheelScrollLines);
          h = h || 3;
          var u = t.displayOptions.wheelDeltaY;
          if (u > 0) {
            if (!(this._wheelDeltaY + Math.abs(e.deltaY) >= u))
              return void (this._wheelDeltaY += Math.abs(e.deltaY));
            this._wheelDeltaY = 0;
          }
          if (o.wheelAccelDelay > 0) {
            if (l > this._prevScroll + 300)
              this._checkScroll = l;
            else if (this._checkScroll + o.wheelAccelDelay < l) {
              var c = o.wheelAccelScroll;
              if (c && !isNaN(c))
                h = parseInt(c);
              else if (typeof c == "string") {
                var d = c.trim();
                if (d.indexOf("%") > 0) {
                  var p = t.itemCount;
                  h = parseInt(d.substr(0, d.length - 1)) / 100 * p;
                }
              }
            }
          }
          return this._prevScroll = l, t.topIndex = t.topIndex + (e.deltaY > 0 ? h : -h), !o.wheelEventPropagate || s != t.topIndex;
        }
        return !1;
      }, i.prototype._doMouseEnter = function(e) {
      }, i.prototype._doMouseLeave = function(e) {
        var t = e.mouseX, o = e.mouseY;
        this._hideTooltip(), this.$_setHoveredHeaderCell(null, t, o), this.$_setHoveredCell(null, t, o);
      }, i.prototype._doMouseOver = function(e) {
      }, i.prototype._doContextMenu = function(e) {
        return this.grid.doContextMenu(e);
      }, i.prototype.$_doHome = function(e, t, o) {
        var r = e.clone();
        if (e.first(), o && this._checkReadOnly(e) && !this._skipReadOnlyCell(e, 1, r))
          return e.assign(t), !0;
      }, i.prototype.$_doEnd = function(e, t, o) {
        var r = e.clone();
        if (e.last(), o && this._checkReadOnly(e) && !this._skipReadOnlyCell(e, -1, r))
          return e.assign(t), !0;
      }, i.prototype._doKeyDown = function(e) {
        var t, o = e.keyCode, r = e.ctrlKey, n = b.isMac, s = n && e.metaKey || !n && e.ctrlKey, l = e.shiftKey, h = e.altKey, u = this.grid, c = u.editOptions, d = u.layoutManager, p = u.popupMenuManager, _ = c.skipReadOnly, g = c.skipReadOnlyCell, y = u.focusedIndex, m = y.clone(), v = c.verticalMoveStep;
        if (!u._fireKeyDown(e))
          return !0;
        if (!u.isEditing() && u.accessibility && b.included(o, 40, 34, 38, 33, 32, 37, 39) && b.stopEvent(e), p.isShow() && b.included(o, 37, 39, 38, 40, 13, 32)) {
          var C = u.getBodyCellAt(y);
          return p.keyDown(e, C && C.cell), !0;
        }
        if (u.setEventFrom("keydown"), y && !u.isEditing() && (C = u.getBodyCellAt(y)) && this.$_performRendererKey(C, e))
          return !0;
        if (!u.isEditing() && u.accessibility && (o === 67 || o === 86) && s)
          return u.editController.setFocus(!0), !1;
        if (o == 27)
          u.closePopups(), this._doCancel(u);
        else {
          if (o == 13)
            return this._doEnter(u, c, m, e);
          if (o == 9)
            return this._doTab(u, c, m, r, l, e);
          if (o == 113)
            !u.isEditing() && m.dataColumn && (u.accessibility && u.$_setEditFocused(!0, null), u.showEditor(m, l));
          else {
            if (b.isMac && e.metaKey && e.shiftKey && e.keyCode === 90)
              return u.redo();
            if (o == 90 && s)
              return u.undo();
            if (o == 89 && s)
              return u.redo();
            if (o == 45)
              c.appendWhenInsertKey || u.itemCount == 0 ? u.append() : u.insert(m.item, e.shiftKey, r);
            else {
              if (o == 46)
                return r && l ? (u.revertSelection(), !0) : r ? (u.deleteSelection(), !0) : !!l && (u.eraseSelection(!1), !0);
              if (h && l && o == 40)
                u.moveSelection(1, "keydown");
              else if (h && l && o == 38)
                u.moveSelection(-1, "keydown");
              else if (o == 32 && l && s && u.rowBarContainer.rowIndicator.visible) {
                var x = u.selections.getItem(0), S = x && (No(x) || b.included(x.style, f.SelectionStyle.BLOCK, f.SelectionStyle.GROUP)) && x.getItems(u.checkBar.merged || u.checkBar.fieldIndex >= 0);
                S || u.checkBar.merged ? (S = S || [m.item], u.toggleChecks(S, m.item)) : u.toggleCheck(m.itemIndex);
              } else if (u.editOptions.useArrowKeys && b.included(o, 36, 35, 39, 37, 40, 38, 34, 33)) {
                b.isMobile() && e && e.preventDefault && e.preventDefault();
                var I = u.itemCount;
                if (o == 40 && I == 0)
                  return u.append(), !0;
                if (!u.isValid(m))
                  return m.normalize(u), this.setFocused(m, !0, !0), !0;
                if ((b.included(o, 40, 34) || o == 35 && r) && m.isBottom && this.$_checkAppending(m) || (b.included(o, 38, 33) || o == 36 && r) && m.isTop && this.$_checkAppending(m, !0))
                  return !0;
                var E = u.getBodyViewAt(m);
                if (!E)
                  return !0;
                switch (o) {
                  case 36:
                    if (r) {
                      if (this.$_doHome(m, y, _))
                        break;
                    } else
                      m.home(), this._skipReadOnly(m, 1);
                    break;
                  case 35:
                    if (r) {
                      if (this.$_doEnd(m, y, _))
                        break;
                    } else
                      m.end(), this._skipReadOnly(m, -1);
                    break;
                  case 39:
                    if (E.spanRight(d, m), m.right(), _ && this._checkReadOnly(m) && !this._skipReadOnly(m, 1)) {
                      m.assign(y);
                      break;
                    }
                    break;
                  case 37:
                    if (m.left(), _ && this._checkReadOnly(m) && !this._skipReadOnly(m, -1)) {
                      m.assign(y);
                      break;
                    }
                    break;
                  case 38:
                    if (n && s) {
                      this.$_doHome(m, y, _);
                      break;
                    }
                    try {
                      if (m.itemIndex == 0 && m.isTop) {
                        if (this.$_commitCancel(m.item, c))
                          return !0;
                        r && n ? m.first() : u.filterPanel.visible ? u.inlineFilterFocus(m.layout) : m.up(v);
                      } else if (r && n)
                        m.first();
                      else {
                        if (r)
                          return void u.topIndex--;
                        m.up(v, u.isItemEditing(m.item));
                      }
                    } finally {
                      g && this._checkReadOnly(m) && (this._skipReadOnlyCell(m, -1) || m.assign(y));
                    }
                    break;
                  case 33:
                    if (r && !n)
                      return u.topIndex = u.topIndex - d.fullItemCount, !0;
                    if (t = m.clone(), m.incRow(-d.fullItemCount), _ && this._checkReadOnly(m) && !this._skipReadOnlyCell(m, 1, t)) {
                      m.assign(y);
                      break;
                    }
                    break;
                  case 40:
                    if (n && s) {
                      this.$_doEnd(m, y, _);
                      break;
                    }
                    try {
                      if (m.itemIndex != I - 1 || !m.isBottom && v != f.VerticalMoveStep.ROW)
                        if (r && n)
                          m.last();
                        else {
                          if (r)
                            return u.topIndex++, !0;
                          m.down(v, u.isItemEditing(m.item));
                        }
                      else {
                        if (m.isBottom && this._commitCancel(m.item, c))
                          return !0;
                        u.append(), r && n ? m.last() : m.down(v, u.isItemEditing(m.item));
                      }
                    } finally {
                      g && this._checkReadOnly(m) && (this._skipReadOnlyCell(m, 1) || m.assign(y));
                    }
                    break;
                  case 34:
                    if (m.itemIndex == u.itemCount - 1 && m.isBottom && wt(m.item.itemState))
                      return u.commit(c.forceAppend), !0;
                    if (r && !n)
                      return u.topIndex = u.topIndex + d.fullItemCount, !0;
                    if (t = m.clone(), m.incRow(d.fullItemCount), _ && this._checkReadOnly(m) && !this._skipReadOnlyCell(m, -1, t)) {
                      m.assign(y);
                      break;
                    }
                }
                return E.spanHead(d, m), l && u.selections.count > 0 && !Mi(u.displayOptions.selectionStyle) ? (this.setFocused(m, !1, !1), u.selections.lastItem().resizeTo(m)) : this.setFocused(m, !0, !0), !0;
              }
            }
          }
        }
        return a.prototype._doKeyDown.call(this, e);
      }, i.prototype._doKeyPress = function(e) {
        this.grid._fireKeyPress(e);
      }, i.prototype._doKeyUp = function(e) {
        if (b.isIE) {
          var t = e.ctrlKey, o = e.keyCode, r = this.grid;
          o === 90 && t && r.undo();
        }
        this.grid._fireKeyUp(e);
      }, i.prototype._editButtonClicked = function(e, t) {
        this.grid.makeCellVisible(e), this.grid.showEditor(e) && this.grid.editorButtonClicked(e, t), a.prototype._editButtonClicked.call(this, e, t);
      }, i.prototype._getSelectRequest = function(e, t, o, r, n, s) {
        var l = this.grid, h = l.displayOptions, u = h.selectionMode, c = h.selectionStyle, d = this._findTableCell(e);
        if (!d)
          return null;
        var p = l.getCellType(d);
        if (p == "indicator") {
          if (l.rowIndicator.selectable && u != f.SelectionMode.NONE && c != f.SelectionStyle.NONE && !Mi(c))
            return new Ni(l.getIndex(l.rowBarContainer.getCellIndex(d)), f.SelectionStyle.ROWS);
        } else if (p == "header") {
          if (r) {
            var _ = l.headerView.columnByCell(d);
            if (l.rowIndicator.selectable && u != f.SelectionMode.NONE && c != f.SelectionStyle.NONE && !Mi(c))
              return new Ni(l.getIndex(-1, _), f.SelectionStyle.COLUMNS);
          }
        } else if (p == "data") {
          var g = l.getDataCellIndex(d, this._tempIndex);
          if (r && l.selections.containsCell(g))
            return null;
          if (u != f.SelectionMode.NONE && c != f.SelectionStyle.NONE && !Mi(c) && !b.isMobile())
            return new Ni(g.clone(), c);
        }
        return null;
      }, i.prototype._getEditRequest = function(e, t, o, r, n, s, l) {
        var h = Xe(this.grid.doc), u = this.grid, c = u.layoutManager, d = u.displayOptions, p = this._findTableCell(e);
        if (!p)
          return null;
        var _ = u.getTableView(p), g = this.$_getRowResizeRequest(_, p, o, r, n, s, l);
        if (g)
          return g;
        if (_ instanceof uo && _.isRowIndicator(p)) {
          if (l && (b.isIE || b.isEdge) && (l = n), l && u.canMoveRow(!1, !1)) {
            var y = u.getSelection(), m = u.rowBarContainer.rowOf(p), v = !1;
            if (y ? v = y.containsItem(m) : m == t.itemIndex && (v = !0), v)
              return this._rowMoveReq.init(y, m);
          }
        } else if (_ instanceof Ei) {
          if (e instanceof h.HTMLInputElement)
            return null;
          if (!n) {
            var C = _.layoutByCell(p);
            if (C) {
              var x = u.cellToContainer(p, this._reqPoint.setEmpty());
              if (d.columnResizable && C._isResizable() && (u.fixedOptions.resizable || C.root.vindex >= c.fixedLayoutCount && C.root.vindex < c.rightFirstLayout)) {
                var S = u.headerView.tableCellByLayout2(c, C);
                if (x.x += S ? S.width : C.domWidth, o >= x.x - 3 && o <= x.x + 3)
                  return this._colResizeReq.init(C, o, r, o - x.x);
              }
              if (d.columnMovable && C._isMovable() && (!C.isRoot || u.canMoveLayout(C)))
                return this._colMoveReq.init(C, o, r, -1);
            }
          }
        } else if (_ instanceof xt) {
          var I = u.getDataCellIndex(p, this._tempIndex);
          if (m = I && I.itemIndex, u.canMoveRow(!1, !1) && m >= 0) {
            var E = !1;
            if (y = u.getSelection(), (S = u.getBodyCellAt(I, !0)).expander === e)
              return null;
            if (l && (b.isIE || b.isEdge) && (l = n), y ? (E = y.containsItem(m)) && !l && (E = y.containsLayout(I.layout) && this._canMoveRowAt(_, I, o)) : t && m == t.itemIndex && (E = !!l || W.areEquals(I, t) && this._canMoveRowAt(_, I, o)), E)
              return this._rowMoveReq.init(y, m);
          }
        } else if (_ instanceof ds) {
          var O = _.boundsByContainer();
          if (u.header.resizable && r <= O.bottom + 1 && r >= O.bottom - 2)
            return this._headerResizeReq.init(O.top, r - O.bottom - 1);
        }
      }, i.prototype.$_resizeSelection = function(e, t, o) {
        var r = this.grid.selections, n = e ? e.runStyle : o;
        if (!Mi(n) && b.included(o, f.SelectionStyle.ROWS, f.SelectionStyle.COLUMNS, f.SelectionStyle.SINGLE_COLUMN) && (n = o), e) {
          if (e.runStyle != n) {
            this.grid.selections.clear();
            var s = e.getBounds();
            e = r.add(s.firstCell, s.lastCell, n);
          }
          r.canResize(e) && e.resizeTo(t);
        } else
          e = r.add(t, t, n);
      }, i.prototype._canMoveRowAt = function(e, t, o) {
        return o < e.boundsByContainer(e.getCellRectAt(this.grid.layoutManager, t, !1)).x + 20;
      }, i.prototype.$_getRowResizeRequest = function(e, t, o, r, n, s, l) {
        var h = -1, u = this.grid;
        if (e instanceof uo ? h = t.parentElement.$_row : e instanceof xt && (u.rowBarContainer.isVisible() || e.rightFixed || (u.fixedOptions.colCount > 0 && e.fixed || u.fixedOptions.colCount === 0) && t.cellIndex === 0 && (h = t.parentElement.$_row)), h < 0)
          return null;
        var c = u.layoutManager, d = u.displayOptions, p = d.eachRowResizable && !n, _ = c.fixedItemCount, g = c.contentBounds.y, y = e.boundsByContainer(this._tempRect.setWidth(e.width));
        if (y.width <= 0 || o < y.x || o >= y.right)
          return null;
        if (h < _) {
          if (u.fixedOptions.rowResizable && (!d.dataHeights || d.dataHeights.length <= 0) && ((y = c.getItemRect(h)).y += g, r <= y.bottom + 2 && r >= y.bottom - 3))
            return this._rowResizeReq.init(h, p, y.y, r - y.bottom - 1);
        } else if (d.rowResizable && (!d.dataHeights || d.dataHeights.length <= 0))
          for (var m = c.itemCount, v = u.topIndex, C = 0; C < m; C++) {
            var x = C + v + _;
            if (x == h && ((y = c.getItemRect(C + _)).y += g, r <= y.bottom + 2 && r >= y.bottom - 3))
              return this._rowResizeReq.init(x, p, y.y, r - y.bottom - 1);
          }
        return null;
      }, i.prototype._getDragTracker = function(e, t, o) {
        if (e instanceof Ni)
          switch (e.style) {
            case f.SelectionStyle.ROWS:
              return new rp(e, t, o);
            case f.SelectionStyle.COLUMNS:
              return new Dl(e, t, o);
            case f.SelectionStyle.BLOCK:
            case f.SelectionStyle.GROUP:
              return new op(e, t, o);
          }
        else {
          if (e instanceof Fr)
            return new Qd(e, this._cellResizer);
          if (e instanceof _s)
            return new ep(e, this._cellFeedback, this._cellMover);
          if (e instanceof Wl)
            return new tp(e, this._cellResizer);
          if (e instanceof zl)
            return new ao(e, this._rowMoverProxy, this._rowMoverLine);
          if (e instanceof Ul)
            return new ip(e, this._cellResizer);
          if (b.isMobile()) {
            if (e instanceof ms)
              return this._touchScrollTracker.request = e, this._touchScrollTracker;
            if (e instanceof Ql)
              return this._touchSelectTracker.request = e, this._touchSelectTracker;
          }
        }
        return null;
      }, i.prototype.$_checkCellClicked2 = function(e, t) {
        if (e !== t.target && e.firstElementChild !== t.target) {
          var o = be(e), r = this.grid, n = r.rowBarContainer.getCheckBox(e);
          if (r.editOptions.checkable) {
            var s = r.getEditItem(), l = r.getItem(e.parentElement[De]);
            if (s && s.dataRow !== l.dataRow) {
              var h = r.editOptions;
              switch (s.itemState) {
                case f.ItemState.APPENDING:
                  r.commit(h.forceAppend);
                  break;
                case f.ItemState.INSERTING:
                  r.commit(h.forceInsert);
                  break;
                case f.ItemState.UPDATING:
                  r.commit(h.commitWhenNoEdit);
              }
            }
            t.target instanceof o.HTMLSpanElement && l.checkable && (n.checked = r.checkBar.exclusive || !n.checked), this._doCheck(n, l, t.shiftKey);
          } else
            t.preventDefault();
        }
      }, i.prototype._doCheck = function(e, t, o) {
        var r = this.grid, n = r.checkBar, s = r.rowBarContainer.checkBar;
        if (r.editOptions.checkable) {
          var l = r.checkBar;
          if (t.checkable && (l.showGroup || t.dataRow >= 0) && e) {
            var h = s._prevChecked, u = void 0, c = void 0, d = [], p = -1, _ = -1, g = void 0;
            if (o && h >= 0 && !n.exclusive || l.merged) {
              o && h >= 0 ? (u = W.temp(r, h, null), c = r.getItem(h).checked, l.merged ? (p = (g = l.merges.getRoom(u)) ? g.head : h, _ = g ? g.tail : h) : (p = h, _ = t.index)) : (c = e.checked, p = _ = t.index, s.$_setPrevChecked(t.index), n.exclusive && r.itemSource._clearChecked()), l.merged ? (u = W.temp(r, t.index, null), g = l.merges.getRoom(u), p = Math.min(g ? g.head : t.index, p), _ = Math.max(g ? g.tail : t.index, _)) : (p = Math.min(p, t.index), _ = Math.max(p, _));
              for (var y = p; y <= _; y++) {
                var m = r.getItem(y);
                m.checkable && m.dataRow >= 0 && d.push(m);
              }
              d.length > 0 && r.itemSource.checkItems(d, c, !0);
            } else if (r.itemSource.checkItem(t, e.checked, l.exclusive, !0), s.$_setPrevChecked(t.index), l.focusMove) {
              var v = r.focusedIndex.clone();
              v.itemIndex = t.index, this.setFocused(v, !0, !0);
            }
          }
        }
      }, i.prototype._checkAllClicked = function() {
        var e = this.grid;
        if (!e.empty && e.editOptions.checkable) {
          var t = e.checkBar, o = e.headView;
          t.showAll && !t.exclusive && (o.allChecked = !o.allChecked, e.itemSource.checkAll(o.allChecked, t.visibleOnly, t.checkableOnly, !0, t.showGroup && !t.merged && t.fieldIndex < 0));
        }
      }, i.prototype._doColumnHeaderClicked = function(e, t) {
        if (a.prototype._doColumnHeaderClicked.call(this, e, t), e.button != 2) {
          var o = t instanceof de ? t.getDataColumn() : null, r = this.grid, n = r.getHeaderView(this._clickCell).tableCellByCell(this._clickCell);
          if (o)
            if (e.target === n.check)
              n.check.checked = o.checked = !o.checked, r._columnCheckedChanged(o);
            else if (e.target === n.filter && o.hasFilters)
              r.selectColumnFilters(n);
            else if (e.target === n.popup) {
              var s = o.header.popupMenuName, l = r.getCellViewOf(n.cell);
              s && l && r.popupMenuManager.show(s, l, null, !0);
            } else
              b.isClickableTemplate(n.cell, e.target) || !o.sortable || !r.sortingOptions.enabled || this.dragTracker instanceof Dl || r.sortColumn(o, e);
          else
            t instanceof Ie && e.target === n.expander && t.expandable && (t.expanded = !t.expanded);
        }
      }, i.prototype.$_columnHeaderClicked = function(e, t) {
        e.button, this._doColumnHeaderClicked(e, t), e.preventDefault();
      }, i.prototype.$_gridCellClicked = function(e) {
        this.grid._fireCellClicked(e);
      }, i.prototype.$_gridCellDblClicked = function(e) {
        this.grid._fireCellDblClicked(e);
      }, i.prototype.$_setHoveredCell = function(e, t, o) {
        var r = this.grid, n = this._findTableCell();
        if (e && n) {
          var s = r.getTableView(n), l = this.$_getIndexAt(r, r.layoutManager, s, n, o);
          if (e !== this._tooltipCell || !W.areEquals(this._tooltipIndex, l)) {
            this._hideTooltip(t, o), this._tooltipShowTimer && clearTimeout(this._tooltipShowTimer);
            var h = r.displayOptions.hintDelay;
            if (e)
              if (h > 0) {
                var u = this;
                this._tooltipShowTimer = setTimeout(function() {
                  u.$_showTooltip2(e, l);
                }.bind(u), h);
              } else
                this.$_showTooltip2(e, l);
          }
        }
      }, i.prototype._hideTooltip = function(e, t) {
        this.grid.tooltipManager.close(e, t), this._tooltipCell = null, this._tooltipIndex.reset();
      }, i.prototype.$_showTooltip2 = function(e, t) {
        var o = this.grid, r = o.validationManager.getError(t), n = this._tooltipOptions;
        if (o.editOptions.hintOnError && r)
          n.message = r.message, this.$_showTooltip(e, t, n);
        else {
          var s = e.renderer2, l = o.getCellType(e.cell), h = t.item, u = l === "data" && (!b.isMobile() || o.mobileOptions.showTooltip);
          if (h instanceof _t ? u = u && t.dataColumn.groupLevel > 0 && h.groupLevel + 1 >= t.dataColumn.groupLevel : h instanceof Qe && (u = u && t.dataColumn && h.level > t.dataColumn.groupLevel), (u = u && !!s) && (u = o.displayOptions.showTooltip ? s.showTooltip !== !1 : s.showTooltip), u && !W.areEquals(t, this._tooltipIndex)) {
            var c = s.getTooltip(e, t);
            if (c || o.displayOptions.showEmptyTooltip) {
              var d = o._fireShowTooltip(t, c);
              d && (this._tooltipOptions.assignFrom(d), this.$_showTooltip(e, t, this._tooltipOptions));
            }
          }
        }
      }, i.prototype.$_showTooltip = function(e, t, o) {
        var r = this.grid, n = r.tooltipManager, s = r.layoutManager;
        if (!n.visible || this._tooltipCell != e) {
          this._hideTooltip();
          var l = r.getBodyView(e.cell), h = l.getCellRectAt(s, t, !1);
          h = l.boundsByContainer(h);
          var u = e.layout.isFixed ? h.x : Math.max(h.x, s.nonFixedBounds.x), c = h.y + h.height;
          n.show(o, u, c, h.height, !1), this._tooltipCell = e, this._tooltipIndex.assign(t);
        }
      }, i.prototype.$_showStateError = function(e, t) {
        var o = this.grid, r = o.tooltipManager, n = o.layoutManager, s = this._tooltipOptions;
        if (e !== this._tooltipCell) {
          this._hideTooltip(), s.message = t;
          var l = o.focusedIndex.itemIndex, h = o.rowBarContainer.boundsByContainer(), u = n.getItemBounds(l < n.fixedItemCount ? l : l - n.topIndex);
          r.show(s, h.x, h.y + u.bottom, u.height, !0), this._tooltipCell = e, this._tooltipIndex.assign(null);
        }
      }, i.prototype.$_setHoveredHeaderCell = function(e, t, o) {
        if (e != this._tooltipCell) {
          this._hideTooltip(t, o), this._tooltipShowTimer && clearTimeout(this._tooltipShowTimer);
          var r = this.grid.displayOptions.hintDelay;
          if (r > 0) {
            var n = this;
            this._tooltipShowTimer = setTimeout(function() {
              n.$_showHeaderTooltip2(e);
            }.bind(n), r);
          } else
            this.$_showHeaderTooltip2(e);
        }
      }, i.prototype.$_showHeaderTooltip2 = function(e) {
        var t = this.grid, o = t.header.showTooltip;
        if (o !== !1 && this._tooltipCell != e) {
          var r = e && e.showTooltip;
          if (o === void 0 ? r : r !== !1) {
            var n = e.tooltip || e.text;
            if (n) {
              var s = t._fireShowHeaderTooltip(e.layout.firstColumn, n, e.layout);
              s && (this._tooltipOptions.assignFrom(s), this.$_showHeaderTooltip(e, this._tooltipOptions));
            }
          }
        }
      }, i.prototype.$_showHeaderTooltip = function(e, t) {
        var o = this.grid, r = o.tooltipManager, n = o.layoutManager;
        if (!r.visible || this._tooltipCell != e) {
          this._hideTooltip();
          var s = n.getHeaderCellRect(e.layout, !1), l = e.layout.isFixed ? s.x : Math.max(s.x, n.nonFixedBounds.x), h = s.y + s.height;
          r.show(t, l, h, 0, !0), this._tooltipCell = e;
        }
      }, i.prototype.$_cellButtonClicked = function(e) {
        var t = this.grid, o = e.layout.firstColumn;
        if (o) {
          t.layoutManager;
          var r = e.getEditIndex(this._tempIndex);
          switch (o.button) {
            case f.CellButton.POPUP:
              var n = o.popupMenuName, s = t.getCellViewOf(e.cell);
              n && s && t.popupMenuManager.show(n, s, r, !0);
              break;
            case f.CellButton.ACTION:
              t._doCellButtonClicked(r);
          }
        }
      }, i.prototype.$_commitCancel = function(e, t) {
        var o = this.grid;
        try {
          switch (e.itemState) {
            case f.ItemState.INSERTING:
              return o.commit(t.forceInsert) || o.cancel(!0), !0;
            case f.ItemState.APPENDING:
              return o.commit(t.forceAppend) || o.cancel(!0), !0;
            case f.ItemState.UPDATING:
              return o.commit(t.commitWhenNoEdit) || o.cancel(!0), !0;
          }
        } catch (r) {
          if (r instanceof Me)
            return (r = o._fireValidationFail(e.index, r.column, r)) && alert(t.showOnlyValidationMessage && r.userMessage ? r.userMessage : r.toString()), !1;
          if (r instanceof yi)
            return !1;
          throw r;
        }
        return !1;
      }, i.prototype.$_checkAppending = function(e, t, o) {
        t === void 0 && (t = !1), o === void 0 && (o = null);
        var r = this.grid;
        if (e.itemIndex == r.itemCount - 1 && wt(e.item.itemState)) {
          var n = e.itemIndex;
          if (!o || o.itemIndex != n) {
            try {
              r.commit(r.editOptions.forceAppend, !0) ? ((e = e.clone()).itemIndex = n, r.isValid(e) || (e.itemIndex = r.getItemIndexOfRow(r.dataSource.rowCount - 1)), this.setFocused(e, !0, !0)) : t && (r.cancel(!0), o && this.setFocused(o, !0, !0));
            } catch (s) {
              if (s instanceof Me)
                return (s = r._fireValidationFail(n, s.column, s)) && alert(r.editOptions.showOnlyValidationMessage && s.userMessage ? s.userMessage : s.toString()), !0;
              if (s instanceof yi)
                return !0;
              throw s;
            }
            return !0;
          }
        }
        return !1;
      }, i.prototype._getTouchRequest = function(e) {
        var t = this.grid, o = t.selectionLayer;
        if (o instanceof eh) {
          var r = o.getSelectHandle(e.target);
          if (r)
            return this._touchSelectRequest.handle = r, this._touchSelectRequest;
        }
        var n = t.getCellViewOf(e.target), s = t.getCellType(n);
        if (!n) {
          var l = this.findElementAt(e.mouseX, e.mouseY, !1), h = this._getClickData(l, e);
          s = h && h.cellType;
        }
        switch (s) {
          case "data":
            var u = t.getBodyCellbyCell(e.target);
            return u && u.isEditButton(e.target) ? void 0 : this._touchScrollRequest;
          case "gridEmpty":
          case "footer":
          case "summary":
          case "groupFooter":
          case "groupHeader":
          case "indicator":
          case "state":
          case "check":
            return this._touchScrollRequest;
        }
      }, i.prototype.onLongTapHandler = function(e, t, o) {
        var r = this.grid, n = r.cellToIndex(e.target), s = this.grid.getBodyCellbyCell(e.target);
        if (s && s.isEditButton(e.target))
          return this.setFocused(n, !0, !0), s.editable && !s.readonly && r.editController.buttonDown(n, e), !0;
      }, i.prototype._doTouchMove = function(e) {
        var t = this.grid.mobileOptions;
        if (!this._longPressed) {
          clearTimeout(this._longTimer), this._longPressed = !1;
          var o = this.dragTracker, r = !!o;
          return o instanceof vs && (r = o._scrolling), (r || this._swipeTimer || !t.scrollPropagate) && e.cancelable && e.preventDefault(), this._touchEvents.push({ x: e.mouseX, y: e.mouseY, t: e.timeStamp }), !1;
        }
      }, i.prototype._checkSwipe = function(e) {
        if (this.dragTracker instanceof vs) {
          var t = this.grid, o = this._clickCell && t.getTableView(this._clickCell);
          if (!((o = o || this.findElementAt(e.mouseX, e.mouseY, !1)) instanceof $o || o instanceof rs || o instanceof xt)) {
            var r = this._getClickData(o, e);
            if (r && r.cellType !== "groupHeader")
              return;
          }
          var n = this._touchEvents, s = n.length;
          if (!(s < 2)) {
            for (var l = n[s - 1], h = n[s - 2], u = s - 3; u >= 0 && !(l.t - h.t > 100); u--)
              h = n[u];
            var c = h.x, d = h.y, p = l.x, _ = l.y, g = Math.sqrt(Math.pow(c - p, 2) + Math.pow(d - _, 2)) / Math.max(16, l.t - h.t), y = 0.998;
            if (g > 0.1) {
              var m = Math.log(0.1 / g) / Math.log(y), v = g * (1 - Math.pow(y, m + 1)) / (1 - y), C = "right", x = Math.round(180 * Math.atan2(_ - d, p - c) / Math.PI);
              return x < 0 && (x = 360 + x), x > 45 && x <= 135 ? C = "bottom" : x > 135 && x <= 225 ? C = "left" : x > 225 && x <= 315 && (C = "top"), o instanceof $o && b.included(C, "bottom", "top") ? void 0 : this.onSwipeHandler(m, v, C, e);
            }
          }
        }
      }, i.prototype.onSwipeHandler = function(e, t, o, r) {
        this._touchMoving = !0, this._swipeDuration = e, this._swipeStarted = b.getTimer(), this._swipeAmount = 0;
        var n = 1;
        switch (o) {
          case "right":
            n = -1;
          case "left":
            this._swipeDistance = n * t / 20, this._swipeTimer = setInterval(this.$_scrollLeftPos.bind(this), 50);
            break;
          case "bottom":
            n = -1;
          case "top":
            this._swipeDistance = n * t / 20, this._swipeTimer = setInterval(this.$_scrollRow.bind(this), 50);
        }
        return !0;
      }, i.prototype.$_checkTopBottom = function(e) {
        var t = this.grid, o = t.layoutManager;
        return t.topIndex === 0 && e < 0 || t.topIndex + o.fullItemCount >= t.itemCount && e > 0;
      }, i.prototype.$_scrollRow = function() {
        var e = b.getTimer();
        if (Math.abs(this._scrollY - window.scrollY) > 10)
          this._touchMoving = this._swipeTimer = clearInterval(this._swipeTimer);
        else if (e - this._swipeStarted < this._swipeDuration) {
          var t = Math.floor(50 * (this._swipeDistance - this._swipeAmount) / this._swipeDuration);
          this._swipeAmount -= t, this.grid.topIndex += t, this.$_checkTopBottom(t) && (this._swipeTimer = clearInterval(this._swipeTimer));
        } else
          this._swipeTimer = clearInterval(this._swipeTimer);
      }, i.prototype.$_scrollLeftPos = function() {
        b.getTimer() - this._swipeStarted < this._swipeDuration ? this.grid.leftPos += Math.floor(this._swipeDistance) : this._touchMoving = this._swipeTimer = clearInterval(this._swipeTimer);
      }, i;
    }(Gp), zp = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._cellEditors = {}, t._customRenderers = {}, t._grid = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._grid = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), i.prototype.getDefaultCellEditor = function() {
        if (!this._defaultEditor) {
          var e = this._grid.container._container;
          this._defaultEditor = new Td(this._grid, e), this._defaultEditor.setController(this._grid.editController);
        }
        return this._defaultEditor;
      }, i.prototype.getCellEditor = function(e) {
        var t = this._grid.container._container, o = this._cellEditors[e];
        if (!o) {
          switch (e) {
            case "list":
            case "dropdown":
              o = new so(this._grid, t);
              break;
            case "nlist":
              o = new Nd(this._grid, t);
              break;
            case "multiline":
              o = new Md(this._grid, t);
              break;
            case "number":
              o = new vl(this._grid, t);
              break;
            case "date":
              o = new Gl(this._grid, t);
              break;
            case "btdate":
              o = new xp(this._grid, t);
              break;
            case "search":
              o = new wl(this._grid, t);
              break;
            case "checklist":
              o = new Bd(this._grid, t);
              break;
            case "password":
              o = new Dd(this._grid, t);
              break;
            case "ndate":
              o = new Ip(this._grid, t);
              break;
            default:
              o = this.getDefaultCellEditor();
          }
          this._cellEditors[e] = o, o && o.setController(this._grid.editController);
        }
        return o;
      }, i.prototype.$_checkFlexible = function(e, t) {
        if (!b.ieOld && !b.ieTen)
          return e && e.flexible || t && t.flexible;
      }, i.prototype.createRenderer = function(e, t, o) {
        var r = null;
        if (e) {
          switch (e) {
            case Qi.TYPE:
              r = new Qi();
              break;
            case Va.TYPE:
              r = new Va();
              break;
            case To.TYPE:
              r = new To();
              break;
            case eo.TYPE:
              r = this.$_checkFlexible(t, o) ? new $c() : new eo();
              break;
            case Bn.TYPE:
              r = this.$_checkFlexible(t, o) ? new Ac() : new Bn();
              break;
            case $a.TYPE:
              r = new $a();
              break;
            case Nn.TYPE:
              r = this.$_checkFlexible(t, o) ? new jc() : new Nn();
              break;
            case Do.TYPE:
              r = new Do();
              break;
            case Aa.TYPE:
              r = new Aa();
              break;
            case ja.TYPE:
              r = new ja();
              break;
            case Ha.TYPE:
              r = new Ha();
              break;
            case Sr.SERIES_TYPE:
              r = new Sr();
              break;
            case Ii.TYPE:
              r = new Ii();
              break;
            case Si.TYPE:
              r = new Si();
              break;
            case Er.TYPE:
              r = new Er();
              break;
            case Mo.TYPE:
              r = new Mo();
          }
          if (!r) {
            var n = this._customRenderers[e];
            r = typeof n == "function" ? new n(e) : new Yl(n, e);
          }
          r || (b.log("Renderer type is invalid: " + e), r = new Qi()), t && r.assignFrom(t), o && r.assignFrom(o);
        }
        return r;
      }, i.prototype.addCustomRenderer = function(e, t) {
        e && t && (this._customRenderers[e] = t);
      }, i.prototype.removeCustomRenderer = function(e) {
        delete this._customRenderers[e];
      }, i.prototype.existsCustomRenderer = function(e) {
        return this._customRenderers.hasOwnProperty(e);
      }, i.prototype.clearCustomRenderers = function() {
        this._customRenderers = {};
      }, i;
    }(J), Yp = function(a) {
      function i(e, t, o) {
        t === void 0 && (t = 0), o === void 0 && (o = !1);
        var r = a.call(this, e) || this;
        if (t < 1)
          throw new Error("LookupTable levels must be equals or greater than 1");
        return r._levels = t, r._tree = {}, r._listMap = o ? {} : null, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._tree = this._listMap = null, a.prototype._doDispose.call(this);
      }, i.prototype.clear = function() {
        this._tree = this._listMap = {}, this._changed();
      }, i.prototype.exists = function(e) {
        var t;
        if ((e = b.makeArray(e)) && (t = e.length) > 0 && t <= this._levels) {
          if ((t = Math.min(t, this._levels) - 1) > 0) {
            for (var o = this._tree, r = 0; r < t && (o = o[e[r]]); r++)
              ;
            return o != null && o.hasOwnProperty(e[t]);
          }
          return this._tree.hasOwnProperty(e[0]);
        }
        return !1;
      }, i.prototype.fill = function(e, t) {
        if (e && e.length > 0 && t && t.length > 0) {
          for (var o = Math.min(e.length, t.length), r = 0; r < o; r++) {
            var n = b.makeArray(e[r]);
            this.$_add(n, t[r]);
          }
          this._changed();
        }
      }, i.prototype.fillRows = function(e) {
        if (e && e.length > 0) {
          for (var t = 0, o = e.length; t < o; t++)
            this.$_addRow(e[t]);
          this._changed();
        }
      }, i.prototype.add = function(e, t) {
        e && (this.$_add(e, t), this._changed());
      }, i.prototype.addRow = function(e) {
        e && (this.$_addRow(e), this._changed());
      }, i.prototype.lookup = function(e, t) {
        var o;
        if (this._levels > 1) {
          var r = void 0, n = this._levels - 1;
          for (o = this._tree, r = 0; r < n && (o = o[e[r]]); r++)
            ;
        } else
          o = this._tree;
        var s = e[e.length - 1];
        if (o && s && t) {
          for (var l = s.split(t), h = [], u = (r = 0, l.length); r < u; r++)
            h.push(o[l[r]] ? o[l[r]] : l[r]);
          return h.join(t);
        }
        return o ? o[s] : void 0;
      }, i.prototype.getDomain = function(e) {
        if (!e || e.length != this._levels - 1)
          throw new Error("Keys length must be " + (this._levels - 1));
        var t, o, r = this._tree, n = [], s = [];
        if (this._levels > 1) {
          for (t = 0, o = e.length; t < o; t++)
            if (!(r = r[e[t]]))
              return { keys: n, values: s };
        }
        if (this._listMap) {
          var l = this._listMap[e.slice(0, e.length).join("~!~")];
          for (o = l ? l.length : 0, t = 0; t < o; t++)
            n.push(l[t]), s.push(r[l[t]]);
        } else
          for (var h in r)
            n.push(h), s.push(r[h]);
        return { keys: n, values: s };
      }, i.prototype.getTextDomain = function(e) {
        for (var t = this.getDomain(e), o = t.keys, r = t.values, n = 0, s = t.keys.length; n < s; n++)
          o[n] = o[n] ? String(o[n]) : null, r[n] = r[n] ? String(r[n]) : null;
        return t;
      }, i.prototype.$_add = function(e, t) {
        if (e) {
          e = b.makeArray(e);
          var o, r, n, s, l = this._levels;
          if (e.length < l)
            throw Error("Keys length must be equals or greater than " + l);
          var h = this._tree;
          for (r = 0; r < l - 1; r++)
            (s = h[n = e[r]]) || (s = {}, h[n] = s), h = s;
          if (h[o = e[l - 1]] = t, this._listMap) {
            var u = e.slice(0, e.length - 1).join("~!~"), c = this._listMap[u];
            b.isArray(c) || (c = [], this._listMap[u] = c), c.push(o);
          }
        }
      }, i.prototype.$_addRow = function(e) {
        if (e) {
          if (e.length - 1 < this._levels)
            throw Error("Keys length must be equals or greater than " + this._levels);
          var t = e[this._levels];
          e = e.slice(0, this._levels), this.$_add(e, t);
        }
      }, i;
    }(function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._id = e, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "id", { get: function() {
        return this._id;
      }, enumerable: !1, configurable: !0 }), i.prototype.exists = function(e) {
        return !1;
      }, i.prototype._changed = function() {
        this.fireEvent(i.CHANGED);
      }, i.CHANGED = "onLookupSourceChanged", i;
    }(Be)), Cs = function(a) {
      function i(e) {
        e === void 0 && (e = null);
        var t = a.call(this) || this;
        return t._sources = {}, e && t.load(e), t;
      }
      return w(i, a), i.prototype.dispose = function() {
        return a.prototype.dispose.call(this);
      }, i.prototype.load = function(e) {
        if (e = b.makeArray(e)) {
          this._sources = {};
          for (var t = 0, o = e.length; t < o; t++)
            this.$_add(e[t]);
          this._changed();
        }
      }, i.prototype.add = function(e) {
        var t = this.$_add(e);
        return t && this._changed(), t;
      }, i.prototype.remove = function(e) {
        this.$_remove(e) && this._changed();
      }, i.prototype.getSource = function(e) {
        return this._sources[e];
      }, i.prototype.$_createSource = function(e) {
        if (e) {
          var t = new Yp(e.id, e.levels, e.ordered);
          return t.fill(e.keys, e.values), t;
        }
        return null;
      }, i.prototype.$_add = function(e) {
        if (e && e.id && this._sources[e.id] != e) {
          var t = this.$_createSource(e);
          if (t)
            return this.$_remove(e.id), this._sources[e.id] = t, t.addListener(this), t;
        }
      }, i.prototype.$_remove = function(e) {
        if (e) {
          var t = this._sources[e];
          if (t)
            return t.removeListener(this), delete this._sources[e], !0;
        }
        return !1;
      }, i.prototype.onLookupSourceChanged = function(e) {
        this._changed();
      }, i.CHANGED = "onLookupSourceProviderChanged", i;
    }(function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._changed = function() {
        this.fireEvent(i.CHANGED);
      }, i.CHANGED = "onLookupSourceProviderChanged", i;
    }(Be)), oh = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._visible = !0, t._enabled = !0, e && e.name && (t._name = e.name), e && t.assignFrom(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        return a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "name", { get: function() {
        return this._name;
      }, set: function(e) {
        this._name = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visible", { get: function() {
        return this._visible;
      }, set: function(e) {
        this._visible = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "enabled", { get: function() {
        return this._enabled && !this.isSeparator();
      }, set: function(e) {
        this._enabled = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "label", { get: function() {
        return this._label;
      }, set: function(e) {
        this._label = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tag", { get: function() {
        return this._tag;
      }, set: function(e) {
        this._tag = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "group", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName;
      }, set: function(e) {
        this._styleName = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "manager", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "type", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checked", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), i.prototype.click = function() {
      }, i.prototype.isSeparator = function() {
        return !1;
      }, i;
    }(Be), Go = function(a) {
      function i(e, t) {
        var o = a.call(this, t) || this;
        return o._parent = e, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._parent = null, this._callback = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "type", { get: function() {
        return this._type;
      }, set: function(e) {
        this._type = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "group", { get: function() {
        return this._group;
      }, set: function(e) {
        this._group = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checked", { get: function() {
        return this._checked;
      }, set: function(e) {
        this._checked = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "callback", { get: function() {
        return this._callback;
      }, set: function(e) {
        this._callback = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "parent", { get: function() {
        return this._parent;
      }, set: function(e) {
        this._parent = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.isSeparator = function() {
        return this._label === "-" || this._type === f.MenuItemType.SEPARATOR;
      }, i.prototype.getData = function() {
        return { label: this._label, checked: this._checked, enabled: this._enabled, tag: this.tag };
      }, i.prototype.click = function() {
        this._type === "check" && (this._checked = !this._checked), this._parent && this._parent.itemClicked(this);
      }, Object.defineProperty(i.prototype, "manager", { get: function() {
        return this._parent.manager;
      }, enumerable: !1, configurable: !0 }), i.prototype._itemClicked = function(e) {
      }, i;
    }(oh), co = function(a) {
      function i(e, t) {
        var o = a.call(this, t) || this;
        return o._parent = e, o._items = o._load(t.children), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._items && this._items.forEach(function(e, t) {
          e.dispose();
        }), this._items = null, this._parent = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "children", { get: function() {
        return this._items;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "parent", { get: function() {
        return this._parent;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "manager", { get: function() {
        for (var e = this._parent; e; ) {
          if (e.popupMenuManager instanceof Wo)
            return e.popupMenuManager;
          if (e instanceof Wo)
            return e;
          e = e._parent;
        }
        return null;
      }, enumerable: !1, configurable: !0 }), i.prototype.count = function() {
        return this._items ? this._items.length : 0;
      }, i.prototype.itemClicked = function(e) {
        if (e.parent == this && e.type === f.MenuItemType.RADIO) {
          var t = e.group, o = void 0;
          if (t) {
            for (var r = 0; r < this._items.length; r++)
              (o = this._items[r]) instanceof Go && o.type === f.MenuItemType.RADIO && o.group === t && (o.checked = !1);
            e.checked = !0;
          }
        }
        var n = this.manager.grid;
        typeof e.callback == "function" ? e.callback.call(this, n.handler, e.toProxy(), this.manager.clickData) : this._parent instanceof Wo ? this._parent.doMenuItemClick(e, this.manager.clickData) : this._parent.onMenuItemClick ? this._parent.onMenuItemClick(e, this.manager.clickData) : this._parent.itemClicked(e);
      }, i.prototype.addMenu = function(e, t) {
        var o;
        t === void 0 && (t = -1);
        var r = this._load(b.makeArray(e));
        t < 0 && (t = this._items.length), (o = this._items).splice.apply(o, ze([t, 0], r, !1));
      }, i.prototype.removeMenu = function(e) {
        var t = this.getMenu(e);
        if (t) {
          var o = this._items.indexOf(t);
          return this._items.splice(o, 1), t.dispose(), !0;
        }
      }, i.prototype.getMenu = function(e) {
        return b.find(this._items, function(t) {
          return t.name === e;
        });
      }, i.prototype._load = function(e) {
        var t = [];
        if (e)
          for (var o = 0, r = e.length; o < r; o++) {
            var n = e[o];
            if (b.isArray(n.children) && n.children.length > 0) {
              var s = new i(this, n);
              t.push(s);
            } else
              s = new Go(this, n), t.push(s);
          }
        return t;
      }, i.CLICKED = "onPopupMenuClicked", i;
    }(oh), xs = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._showing = !1, t._viewGridInside = !1, t._container = e, t._element = t._createElement(), t._element.addEventListener("contextmenu", function(o) {
          o.preventDefault();
        }), t;
      }
      return w(i, a), i._borrowView = function(e) {
        var t = i.$_views[e.$_hash] || [];
        return i.$_views[e.$_hash] = t, t.pop() || new i(e);
      }, i._returnView = function(e) {
        i.$_views[e._container.$_hash].push(e);
      }, i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "parentView", { get: function() {
        return this._parentView;
      }, set: function(e) {
        this._parentView = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "childView", { get: function() {
        return this._childView;
      }, set: function(e) {
        this._childView = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "currDiv", { get: function() {
        return this._currDiv;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "manager", { get: function() {
        return this._menu.manager;
      }, enumerable: !1, configurable: !0 }), i.prototype.getElementId = function() {
        return "rg-popup-" + this._menu.name;
      }, i.prototype.show = function(e, t, o, r, n, s, l, h) {
        if (!this._showing) {
          this._showing = !0;
          try {
            var u = o.parent;
            for (this._containerElement = e._container, this._parentView = t, this._firstItem = null, this._menu = o; u._parent && !(u instanceof li); )
              u = u.parent;
            u && (this._viewGridInside = u instanceof li ? u.editorOptions.viewGridInside : u instanceof Wo && u.grid.editorOptions.viewGridInside), this.$_show(e, this._menu, r, n, s, l);
          } finally {
            this._showing = !1;
          }
        }
      }, i.prototype.boundsByContainer = function() {
        return null;
      }, i.prototype.hide = function(e) {
        e === void 0 && (e = !0), e && this._parentView ? this._parentView.hide(!0) : (this.$_hideChildView(), b.detach(this._element));
      }, i.prototype.hideChild = function() {
        this.$_hideChildView();
      }, i.prototype.changeItemIndex = function(e) {
        var t, o = this._itemIndex, r = this._menu._items;
        if (e == 0)
          return this._itemIndex = -1, void this.$_refreshItems(this._itemIndex);
        if (r && !(o >= r.length)) {
          for (; (t = r[o += e]) && !t.enabled; )
            ;
          t && (this._itemIndex = o, this.$_refreshItems(this._itemIndex));
        }
      }, i.prototype.getActiveElementId = function() {
        var e = this._menu._items[this._itemIndex];
        return e ? e._elementId : "";
      }, i.prototype.menuItemClicked = function(e) {
        this._menuItemClicked(e);
      }, i.prototype.$_show = function(e, t, o, r, n, s) {
        if (this._element) {
          var l = e.doc, h = Xe(l), u = this._element, c = u.style, d = this.manager, p = e.gridView.displayOptions.baseZindex, _ = e._containerDiv;
          this._element.style.zIndex = String(p + 4);
          var g, y = d.dropdownCount;
          if (this._viewGridInside)
            g = e._container;
          else {
            var m = _.parentNode;
            g = !b.isSlotMode() || m.nodeType !== 1 && m.nodeType !== 11 ? l.documentElement : m;
          }
          u.id = "rg-popup-" + this._menu.name, this._menu = t, this._itemIndex = -1, b.clearElements(this._element), this.$_buildItems(t), b.disableSelection(u), g.appendChild(u);
          var v = 0;
          if (y && t.children.length > y)
            for (var C = 0, x = 0; C < t.children.length && x < y; C++) {
              var S = this._element.children[C];
              S.menuItem.isSeparator() || (v += S.offsetHeight, x++);
            }
          v > 0 && v < u.offsetHeight ? (c.height = v + 2 + "px", c.overflow = "auto") : (c.removeProperty("height"), c.overflow = "hidden");
          var I = b.getBrowserSize(), E = b.ieTen || b.ieOld ? b.getClientRect(l.body) : b.getClientRect(l.documentElement), O = b.getClientRect(e._container), P = I.width, R = I.height, T = b.getClientRect(u), D = h.pageXOffset || l.documentElement.scrollLeft, M = h.pageYOffset || l.documentElement.scrollTop;
          l.documentElement.scrollWidth > l.documentElement.clientWidth && (R -= 18), l.documentElement.scrollHeight > l.documentElement.clientHeight && (P -= 18), this._viewGridInside ? (T.height >= O.height && (c.height = O.height - 4 + "px", c.overflow = "auto", T = b.getClientRect(this._element)), r + O.top + T.height > O.bottom && (r = this._parentView ? O.bottom - T.height - O.top - 3 : r - T.height - s), o + O.left + T.width > O.right && (o = this._parentView ? O.right - T.width - O.left - 3 : o - T.width - n)) : (this._parentView || (g === _.parentNode ? (o += _.offsetLeft, r += _.offsetTop) : (o += O.left - E.left, r += O.top - E.top)), T.height >= R && (c.height = R - 4 + "px", c.overflow = "auto", T = b.getClientRect(this._element)), r + T.height >= R + M - 3 && (r = r - T.height - 3) < 0 && (r = Math.max(0, R - T.height - 3)), o + T.width >= P + D - 3 ? o = Math.max(0, P - T.width - 3) : n !== void 0 && T.width < n && (o += n - T.width)), b.move(this._element, Math.max(0, o), Math.max(0, r));
        }
      }, i.prototype._createElement = function() {
        var e = function(o) {
          o.keyCode == 27 && this.hide();
        }.bind(this), t = this._container.doc.createElement("div");
        return t.style.setProperty("position", "absolute", "important"), t.className = "rg-popup-menu", t.setAttribute("role", "listbox"), t.tabIndex = -1, this._container.$_addListener(t, "keydown", e, !1), t;
      }, i.prototype._showChild = function(e) {
        if (this == this.manager.showingView && !(this._childView && this._childView._menu === e.menuItem || this._currDiv !== e)) {
          this.$_hideChildView();
          var t = e.menuItem, o = this._element.getBoundingClientRect(), r = this._element.offsetLeft + o.width - 4, n = this._element.offsetTop + e.offsetTop - this._element.scrollTop;
          this._childView = i._borrowView(this._container), this._childView.show(this._container, this, t, r, n);
        }
      }, i.prototype.$_hideChildView = function() {
        this.manager.showingView = null, this._childView && (this._childView.$_hideChildView(), b.detach(this._childView._element), i._returnView(this._childView)), this._childView = null;
      }, i.prototype._menuItemActived = function(e) {
        this._currDiv = e;
        var t = e.menuItem, o = this.manager.showingView = this.manager.activeView = e.menuView;
        t instanceof Go ? o.childView && o.$_hideChildView() : t instanceof co && t.enabled && (this._timer && clearTimeout(this._timer), this._timer = setTimeout(function() {
          o._showChild(e);
        }, 200));
      }, i.prototype._menuItemDeactived = function(e) {
      }, i.prototype._menuItemClicked = function(e) {
        var t = e.menuItem;
        t instanceof co ? t.enabled && this._showChild(e) : t ? t.enabled && (this.hide(!0), this.manager.close(), t.enabled && t.click()) : this.$_hideChildView();
      }, i.prototype.$_refreshItems = function(e) {
        for (var t = this._element, o = 0, r = t.childElementCount; o < r; o++) {
          var n = t.childNodes[o];
          if (o === e ? b.addClassName(n, "rg-popup-item-focused") : b.removeClassName(n, "rg-popup-item-focused"), o == e) {
            var s = n.offsetTop, l = n.offsetHeight + 4, h = t.offsetHeight, u = t.scrollTop;
            u > s ? t.scrollTop = Math.max(0, t.scrollTop + (s - u)) : u + h < s + l && (t.scrollTop = t.scrollTop + s + l - (u + h)), this._menuItemActived(n);
          }
        }
      }, i.prototype.$_buildItems = function(e) {
        for (var t = e.children, o = [], r = this._container.doc, n = 0, s = t.length; n < s; n++) {
          var l = i.$_menuId++, h = t[n];
          if (h.visible) {
            var u = r.createElement("div");
            if (u.menuView = this, u.menuItem = h, u.setAttribute("role", "option"), u.id = h._elementId = "rg-popup-item" + l, h instanceof Go && h.isSeparator()) {
              u.className = "rg-popup-separator";
              var c = r.createElement("hr");
              c.className = "rg-popup-separator-hr", u.appendChild(c), u.onmouseover = function(p) {
                this._menuItemActived(p.currentTarget);
              }.bind(this);
            } else {
              !this._firstItem && (this._firstItem = u), o.length = 0, o.push("rg-popup-item"), h.group && o.push("rg-popup-" + h.group), !h.enabled && o.push("rg-popup-item-disable"), u.className = o.join(" "), u.onclick = function(p) {
                this._menuItemClicked(p.currentTarget);
              }.bind(this), u.onmouseover = function(p) {
                this._menuItemActived(p.currentTarget);
              }.bind(this), u.onmouseout = function(p) {
                this._menuItemDeactived(p.currentTarget);
              }.bind(this), o = ["rg-popup-content"], b.included(h.type, f.MenuItemType.CHECK, f.MenuItemType.RADIO) && (h.checked ? o.push(h.group ? "rg-popup-radio-checked" : "rg-popup-check-checked") : o.push(h.group ? "rg-popup-radio" : "rg-popup-check")), h.styleName && o.push(h.styleName), h instanceof co && o.push("rg-popup-expander");
              var d = r.createElement("span");
              d.id = "$popupMenu_item_" + l, d.innerHTML = h.label, d.className = o.join(" "), b.disableSelection(d), u.appendChild(d);
            }
            b.disableSelection(u), this._element.appendChild(u);
          }
        }
      }, i.$_menuId = 0, i.$_views = {}, i;
    }(Be), Wo = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._grolbalMouseHandler = function(o) {
          for (var r = o.target; r; ) {
            if (r === this._mainView._element || r.menuItem)
              return;
            r = r.parentElement;
          }
          this.close();
        }.bind(t), t._container = e, t._containerDom = e._containerDom, t._menus = [], t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this.close(), this._mainView = null, this._showingView = null, this._clickData = null, this._activeView = null, this._container = this._containerDom = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "clickData", { get: function() {
        return this._clickData;
      }, set: function(e) {
        this._clickData = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._container.gridView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dropdownCount", { get: function() {
        if (this._container && this._container.gridView)
          return this._container.gridView.displayOptions.popupDropdownCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showingView", { get: function() {
        return this._showingView;
      }, set: function(e) {
        this._showingView = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "activeView", { get: function() {
        return this._activeView;
      }, set: function(e) {
        this._activeView = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.popupManager = function() {
        return this;
      }, i.prototype.isShow = function() {
        return !!this._mainView;
      }, i.prototype.indexOf = function(e) {
        for (var t = this._menus.length; t--; )
          if (b.compareTextValue(this._menus[t].name, e, !0, !1))
            return t;
        return -1;
      }, i.prototype.getMenu = function(e) {
        return b.find(this._menus, function(t) {
          return t.name === e;
        });
      }, i.prototype.addMenu = function(e, t, o, r) {
        if (o === void 0 && (o = !1), r === void 0 && (r = null), b.isWhiteSpace(e))
          throw "Menu name is empty.";
        var n = b.find(this._menus, function(l) {
          return l.name === e;
        });
        if (n && !o)
          return n;
        var s = this._menus.indexOf(n);
        return n && n.dispose(), n = new co(r || this, { name: e, children: t }), s >= 0 ? this._menus.splice(s, 1, n) : this._menus.push(n), n;
      }, i.prototype.removeMenu = function(e) {
        var t = this.indexOf(e);
        t > -1 && this._menus.splice(t, 1).forEach(function(o) {
          return o.dispose();
        });
      }, i.prototype.show = function(e, t, o, r) {
        var n = this.grid, s = be(this._containerDom), l = o && n.getBodyCellAt(o);
        if (typeof e == "string" ? e = this.getMenu(e) : e instanceof co || (e = new co(this, { children: e })), e) {
          var h = this.grid.container.getBound(), u = void 0;
          l ? u = (l.cellButton || l.merged && l.head.cellButton || l.cell).getBoundingClientRect() : u = t.getBoundingClientRect();
          var c = u.bottom, d = u.left - h.x, p = c - h.y, _ = u.width, g = u.height;
          if (this._mainView = this._activeView = xs._borrowView(this._container), t instanceof s.HTMLTableCellElement) {
            var y = n.getCellType(t), m = n.getTableView(t), v = void 0;
            if (y === "data")
              v = (l = l || m.bodyCellByCell(t)).grouped ? ae.getItem("groupHeader", l.item.index, null) : ae.getCell(y, l, o);
            else if (y === "header") {
              var C = m.layoutByCell(t);
              v = ae.getLayout(y, C);
            }
            this.clickData = v;
          } else if (t instanceof s.HTMLElement) {
            var x = n.getCellViewOf(t), S = (m = n.getTableView(x)).tableCellByCell && m.tableCellByCell(x);
            (y = n.getCellType(x)) === "inlineFilter" && (this.clickData = ae.getLayout(y, S.layout));
          }
          var I = typeof e == "string" ? e : e.name, E = r ? this.fireObjectEvent(i.POPUP_MENU_POPUP, d, p, this.clickData, I, !1) : e;
          if (typeof E == "string")
            e = this.getMenu(E);
          else if (E === !1)
            return;
          e && (this._mainView.show(this._container, null, e, d, p, _, g), !b.isSlotMode() && t && t.setAttribute("aria-activedescendant", this._mainView.getElementId()), !b.isSlotMode() && s.addEventListener("pointerdown", this._grolbalMouseHandler, !1));
        }
      }, i.prototype.showContext = function(e, t, o, r, n) {
        if (e && !this._mainView) {
          var s = be(this._containerDom);
          this.clickData = n, this._mainView = this._activeView = xs._borrowView(this._container), this._mainView.show(this._container, null, e, o, r, 0, 0, t), !b.isSlotMode() && s.addEventListener("pointerdown", this._grolbalMouseHandler, !1);
        }
      }, i.prototype.close = function() {
        if (this._mainView) {
          var e = be(this._containerDom);
          this._mainView.hide(), xs._returnView(this._mainView), this._mainView = null, !b.isSlotMode() && e.removeEventListener("pointerdown", this._grolbalMouseHandler, !1);
        }
      }, i.prototype.keyDown = function(e, t) {
        this._doKeydown(e, t);
      }, i.prototype.doMenuItemClick = function(e, t) {
        this.fireEvent(i.MENU_ITEM_CLICKED, e, t);
      }, i.prototype._doKeydown = function(e, t) {
        var o = this._activeView, r = o?.currDiv;
        switch (e.keyCode) {
          case 40:
            o.changeItemIndex(1);
            break;
          case 38:
            o.changeItemIndex(-1);
            break;
          case 37:
            o.parentView && (o.changeItemIndex(0), o.hideChild(), this._showingView = this._activeView = o.parentView || this._mainView);
            break;
          case 39:
            o && o.childView && (o = this._showingView = this._activeView = o.childView).changeItemIndex(1);
            break;
          case 13:
          case 32:
            r && r.parentElement && o.menuItemClicked(r);
        }
        !b.isSlotMode() && t && t.setAttribute("aria-activedescendant", o.getActiveElementId());
      }, i.prototype.$_buildItems = function(e) {
      }, i.MENU_ITEM_CLICKED = "onPopupMenuManagerMenuItemClicked", i.POPUP_MENU_POPUP = "onPopupMenuManagerPopup", i;
    }(Be), qp = function(a) {
      function i() {
        return a.call(this, "summaryCell") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "summaryIndex", { get: function() {
        return this._childIndex;
      }, set: function(e) {
        this._childIndex = e;
      }, enumerable: !1, configurable: !0 }), i.prototype._getSummary = function(e, t) {
        return e && e.headerSummaries.get(t);
      }, i;
    }(hl), Kp = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "summaryIndex", { get: function() {
        return this._childIndex;
      }, enumerable: !1, configurable: !0 }), i.prototype.getCellStyleName = function() {
        return i.CELL_CSS;
      }, i.prototype._createCell = function() {
        return new qp();
      }, i.CELL_CSS = "rg-header-summary-cell", i;
    }(qn), Xp = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t.visible = !1, t;
      }
      return w(i, a), i.prototype._createSummary = function(e) {
        return new Kp(e || this._grid);
      }, i;
    }(ul), Vr = function(a) {
      function i(e, t) {
        return a.call(this, e, t, "headerSummaryView") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._getCssSelector = function() {
        return "rg-header-summary";
      }, i.prototype._getRendererStyle = function() {
        return "rg-header-summary-renderer";
      }, i.prototype._getSummaryRows = function(e) {
        return e.dataRows;
      }, i.prototype._getCollection = function() {
        return this.model;
      }, i.prototype._getSummaryHeight = function(e) {
        return e.summaryHeight;
      }, i.prototype._getSummaryCount = function(e) {
        return e.headerSummaryCount;
      }, i.prototype._getSpanOf = function(e, t) {
        return e.getSummarySpan(t);
      }, i.prototype._getUserSpanOf = function(e, t) {
        return e.getSummaryUserSpan(t);
      }, i.prototype._getSummaryItem = function(e, t) {
        return e.firstColumn.headerSummaries.get(t);
      }, i.prototype._getTableRowCount = function(e) {
        return e.dataRows * e.headerSummaryCount;
      }, i;
    }($o), Jp = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-fixed-header-summary";
      }, i.prototype._getExplicitWidth = function(e) {
        return e.fixedWidth - e.fixedBarWidth;
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return 0;
      }, i.prototype._getEndCell = function(e) {
        return e.fixedCellCount - 1;
      }, i.prototype._getCellCount = function(e) {
        return e.fixedCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getFixedCellWidth(t);
      }, i;
    }(Vr), Zp = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-fixed-header-summary";
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return e.cellCount - e.rightCellCount;
      }, i.prototype._getEndCell = function(e) {
        return e.cellCount - 1;
      }, i.prototype._getCellCount = function(e) {
        return e.rightCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getRightCellWidth(t);
      }, i;
    }(Vr), Qp = function(a) {
      function i(e) {
        var t = a.call(this, e, "gridSumCellView") || this;
        return t._text = "", t._styleName = "", t._textChanged = !1, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "model", { get: function() {
        return this._model;
      }, set: function(e) {
        e !== this._model && (this._model = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, set: function(e) {
        e != this._text && (this._text = e || "", this._textChanged = !0, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.setStyleName = function(e, t) {
        t != this._styleName && (this._styleName = t, this._setClassName(e));
      }, i.prototype._getCssSelector = function() {
        return this._styleName;
      }, i.prototype._doUpdateContent = function(e, t, o) {
        this._textChanged && (this._textChanged = !1, o[b.TextProp] = this._text);
      }, i.prototype._doRender = function(e) {
      }, i;
    }(ni), rh = function(a) {
      function i(e) {
        var t = a.call(this, e, null, "gridSumView") || this;
        t._cells = [], t._count = 0;
        for (var o = 0; o < 3; o++)
          t.addChild(t._cells[o] = new Qp(e));
        return t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cells = null, a.prototype._doDispose.call(this);
      }, i.prototype.getSumModel = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          if (e === this._getTableCell(0, t))
            return this._cells[t].model;
      }, i.prototype.getCellType = function(e) {
        var t = this.getSumModel(e);
        return t instanceof Di ? t.getCellType() : void 0;
      }, i.prototype._getCssSelector = function() {
        return "rg-sum";
      }, i.prototype._doPrepareTableExtents = function(e) {
        var t, o = e.grid.rowBarContainer, r = e.sectionObjects;
        this._count = 0;
        for (var n = 0, s = r; n < s.length; n++) {
          var l = s[n];
          l.visible && ((t = this._cells[this._count++]).model = l, l instanceof oo ? t.width = o.rowIndicator.width : l instanceof ro ? t.width = o.stateBar.width : l instanceof no && (t.width = o.checkBar.width));
        }
      }, i.prototype._prepareCellContent = function(e, t) {
        return this.grid.doc.createElement("div");
      }, i.prototype._doLayoutContent = function(e) {
        var t = e.grid, o = this._count;
        this._getTableRowCount(e);
        for (var r = this._thead, n = r && r.children[0]; this.childCount < o; )
          this.addChild(this._cells[this.childCount]);
        for (; this.childCount > o; )
          this.removeLast();
        for (var s = 0; s < o; s++) {
          var l = this.getChild(s), h = l.model;
          if (h.dirty || t._columnsDirty) {
            var u = h.getSumCell(), c = this._getTableCell(0, s), d = c.firstElementChild, p = this.$_getCellSelector() + " " + h.getSumStyleName();
            if (n) {
              var _ = n.children[s];
              _ && (_[b.TextProp] = h.getCellType() + " sum");
            }
            l.setStyleName(c, p), l.text = h.sumText, l.updateCell(t, u, d);
          }
        }
      }, i.prototype._doRender = function(e) {
      }, i.prototype._doDraw = function(e) {
        this._cells.forEach(function(t) {
          t.validate();
        });
      }, i.prototype._getTableRowCount = function(e) {
        return 1;
      }, i.prototype._getTableRowHeight = function(e, t) {
        return this.height;
      }, i.prototype._getCellCount = function(e) {
        return this._count;
      }, i.prototype._getCellWidth = function(e, t) {
        return this._cells[t].width;
      }, i.prototype.$_getCellSelector = function() {
        return "rg-sum-cell";
      }, i.CELL_CSS = "rg-sum-cell", i;
    }(xi), ef = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._enabled = !0, t._handleVisibility = f.HandleVisibility.VISIBLE, t._commitBeforeFiltering = !0, t._toast = new jo({ visible: !1, message: "Filtering..." }), t._includeParentItem = !0, t._selector = new of(e), t._automating = new rf(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._selector = this._selector.dispose(), this._automating = this._automating.dispose(), this._toast = this._toast.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "enabled", { get: function() {
        return this._enabled;
      }, set: function(e) {
        e != this._enabled && (this._enabled = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "handleVisibility", { get: function() {
        return this._handleVisibility;
      }, set: function(e) {
        e != this._handleVisibility && (this._handleVisibility = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitBeforeFiltering", { get: function() {
        return this._commitBeforeFiltering;
      }, set: function(e) {
        this._commitBeforeFiltering = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "includeParentItem", { get: function() {
        return this._includeParentItem;
      }, set: function(e) {
        this._includeParentItem = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selector", { get: function() {
        return this._selector;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "automating", { get: function() {
        return this._automating;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "toast", { get: function() {
        return this._toast;
      }, enumerable: !1, configurable: !0 }), i.prototype.assignFrom = function(e) {
        a.prototype.assignFrom.call(this, e), e.selector && this._selector.assignFrom(e.selector), e.automating && this._automating.assignFrom(e.automating), e.toast && this._toast.assignFrom(e.toast);
      }, i;
    }(lt), tf = "rg-filter-selector", of = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._listHeight = 170, t._partialSearch = !0, t._filterReset = !0, t._filtersResetText = "전체 초기화", t._acceptText = "확인", t._cancelText = "취소", t._allCheckText = "(전체 선택)", t._searchedCheckText = "(조회 전체 선택)", t._filterResetText = "초기화", t._showEmptyFilter = !0, t._emptyFilterText = "(값 없음)", t._searchPlaceholder = "검색...", t._maxWidth = 0, t._width = 0, t._minWidth = 0, t._style = tf, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "listHeight", { get: function() {
        return this._listHeight;
      }, set: function(e) {
        e != this._listHeight && (this._listHeight = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showButtons", { get: function() {
        return !!this._showButtons;
      }, set: function(e) {
        this._showButtons = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "partialSearch", { get: function() {
        return this._partialSearch;
      }, set: function(e) {
        e != this._partialSearch && (this._partialSearch = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "acceptText", { get: function() {
        return this._acceptText;
      }, set: function(e) {
        e != this._acceptText && (this._acceptText = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cancelText", { get: function() {
        return this._cancelText;
      }, set: function(e) {
        e != this._cancelText && (this._cancelText = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "allCheckText", { get: function() {
        return this._allCheckText;
      }, set: function(e) {
        e != this._allCheckText && (this._allCheckText = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showEmptyFilter", { get: function() {
        return this._showEmptyFilter;
      }, set: function(e) {
        e !== this._showEmptyFilter && (this._showEmptyFilter = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "emptyFilterText", { get: function() {
        return this._emptyFilterText;
      }, set: function(e) {
        e != this._emptyFilterText && (this._emptyFilterText = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "searchPlaceholder", { get: function() {
        return this._searchPlaceholder;
      }, set: function(e) {
        e != this._searchPlaceholder && (this._searchPlaceholder = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "searchedCheckText", { get: function() {
        return this._searchedCheckText;
      }, set: function(e) {
        e != this._searchedCheckText && (this._searchedCheckText = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "style", { get: function() {
        return this._style;
      }, set: function(e) {
        e != this._style && (this._style = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "closeWhenClick", { get: function() {
        return !!this._closeWhenClick;
      }, set: function(e) {
        this._closeWhenClick = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterReset", { get: function() {
        return this._filterReset;
      }, set: function(e) {
        e != this._filterReset && (this._filterReset = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filtersResetText", { get: function() {
        return this._filtersResetText;
      }, set: function(e) {
        e != this._filtersResetText && (this._filtersResetText = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterResetText", { get: function() {
        return this._filterResetText;
      }, set: function(e) {
        e != this._filterResetText && (this._filterResetText = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxWidth", { get: function() {
        return this._maxWidth;
      }, set: function(e) {
        this._maxWidth = Math.max(e, 0);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "width", { get: function() {
        return this._width;
      }, set: function(e) {
        e !== this._width && (this._width = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minWidth", { get: function() {
        return this._minWidth;
      }, set: function(e) {
        e !== this._minWidth && (this._minWidth = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textToTitle", { get: function() {
        return !!this._textToTitle;
      }, set: function(e) {
        this._textToTitle = !!e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "searchIgnoreCase", { get: function() {
        return !!this._searchIgnoreCase;
      }, set: function(e) {
        this._searchIgnoreCase = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "activeWhenEnter", { get: function() {
        return !!this._activeWhenEnter;
      }, set: function(e) {
        this._activeWhenEnter = e;
      }, enumerable: !1, configurable: !0 }), i;
    }(lt), rf = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._dateCategorize = !0, t._numberCategorize = !0, t._textCategorize = !1, t._dateYearFormat = "YYYY년도", t._dateQuarterFormat = "Q사분기", t._dateMonthFormat = "M월", t._dateDayFormat = "YYYY-MM-DD", t._lookupDisplay = !1, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "dateCategorize", { get: function() {
        return this._dateCategorize;
      }, set: function(e) {
        e != this._dateCategorize && (this._dateCategorize = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberCategorize", { get: function() {
        return this._numberCategorize;
      }, set: function(e) {
        e != this._numberCategorize && (this._numberCategorize = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textCategorize", { get: function() {
        return this._textCategorize;
      }, set: function(e) {
        e != this._textCategorize && (this._textCategorize = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dateCategoryCallback", { get: function() {
        return this._dateCategoryCallback;
      }, set: function(e) {
        e != this._dateCategoryCallback && (this._dateCategoryCallback = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberCategoryCallback", { get: function() {
        return this._numberCategoryCallback;
      }, set: function(e) {
        e != this._numberCategoryCallback && (this._numberCategoryCallback = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textCategoryCallback", { get: function() {
        return this._textCategoryCallback;
      }, set: function(e) {
        e != this._textCategoryCallback && (this._textCategoryCallback = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dateYearFormat", { get: function() {
        return this._dateYearFormat;
      }, set: function(e) {
        this._dateYearFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dateQuarterFormat", { get: function() {
        return this._dateQuarterFormat;
      }, set: function(e) {
        this._dateQuarterFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dateMonthFormat", { get: function() {
        return this._dateMonthFormat;
      }, set: function(e) {
        this._dateMonthFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dateDayFormat", { get: function() {
        return this._dateDayFormat;
      }, set: function(e) {
        this._dateDayFormat = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lookupDisplay", { get: function() {
        return this._lookupDisplay;
      }, set: function(e) {
        this._lookupDisplay = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filteredDataOnly", { get: function() {
        return this._filteredDataOnly;
      }, set: function(e) {
        this._filteredDataOnly = e;
      }, enumerable: !1, configurable: !0 }), i;
    }(lt);
    (function(a) {
      a[a.ALL = 0] = "ALL", a[a.YQ = 1] = "YQ", a[a.YM = 2] = "YM", a[a.Y = 3] = "Y", a[a.QM = 4] = "QM", a[a.Q = 5] = "Q", a[a.M = 6] = "M", a[a.NONE = 7] = "NONE";
    })(et || (et = {}));
    var nf = function() {
      function a(i) {
        this._options = i;
      }
      return a.HasPartial = function(i, e, t) {
        if (t && (i = i && i.toLowerCase(), e = e && e.toLowerCase()), i.indexOf(e) >= 0)
          return !0;
        for (var o = b.hangulToChosungAll(i), r = b.hangulToChosungAll(e), n = -1, s = !1; (n = o.indexOf(r, n + 1)) >= 0; ) {
          for (var l = 0; l < r.length && l + n < o.length; l++) {
            var h = b.hangulToChosung(i[l + n]), u = b.hangulToChosung(e[l]);
            if (u.org && u.org !== h.org || !u.cho || u.cho !== h.cho) {
              s = !1;
              break;
            }
            s = !0;
          }
          if (s)
            return !0;
        }
        return !1;
      }, a.getDateProperty = function(i, e) {
        if (!i)
          return null;
        switch (e) {
          case 0:
            return i.getFullYear();
          case 1:
            return i.getMonth() > 5 ? 2 : 1;
          case 2:
            return Math.floor(i.getMonth() / 3);
          case 3:
            return i.getMonth();
          case 4:
            var t = new Date(i.getFullYear(), i.getMonth(), 1);
            return t.setDate(t.getDate() - t.getDay()), Math.floor((i.getTime() - t.getTime()) / 6048e5) + 1;
          case 5:
            return i.getDate();
          case 6:
            return i.getHours();
        }
      }, a.prototype.dispose = function() {
        return this._filters = null, this._options = null, null;
      }, Object.defineProperty(a.prototype, "searched", { get: function() {
        return this._searched;
      }, enumerable: !1, configurable: !0 }), a.prototype.buildItems = function(i, e, t, o) {
        o === void 0 && (o = !0);
        var r = this._options.selector, n = this._options.automating, s = r.emptyFilterText;
        this._autoFilter = t;
        var l = this._filters = t ? i.autoFilters : i.filters, h = [];
        if (t) {
          i.autoFilters.activeCount > 0 && (h = this._getActivatedFilters(i.autoFilters)), i.autoFilters.clear(!1);
          var u = !1, c = void 0;
          this._valueType = i.valueType;
          var d = n.filteredDataOnly ? i.grid.getDistinctItemValues(i.dataIndex) : e.getDistinctValues(i.dataIndex);
          switch (this._valueType) {
            case f.ValueType.DATETIME:
              c = (u = n.dateCategorize) && n.dateCategoryCallback ? n.dateCategoryCallback(i, d) : this._categorizeDateValues(d, u, s);
              break;
            case f.ValueType.NUMBER:
              c = (u = n.numberCategorize) && n.numberCategoryCallback ? n.numberCategoryCallback(i, d) : this._categorizeNumberValues(d, u, s);
              break;
            case f.ValueType.BOOLEAN:
              c = [];
              for (var p = !1, _ = 0; _ < d.length; _++) {
                var g = d[_];
                g != null ? c.push({ text: g.toString().toUpperCase(), value: g }) : p = !0;
              }
              p && r.showEmptyFilter && c.push({ text: s, empty: !0 });
              break;
            case f.ValueType.TEXT:
              u = n.textCategorize, c = i.lookupSource && this._options.automating.lookupDisplay && !n.textCategoryCallback ? this._categorizeLookupTree(e, i, s) : u && n.textCategoryCallback ? n.textCategoryCallback(i, d) : this._categorizeTextValues(d, u, s);
          }
          c && this._createCategories(c, null, i.valueType, l), this._filters.activateItems(h, !0, o);
        }
      }, a.prototype.search = function(i) {
        var e = [];
        function t(c, d) {
          if (e.indexOf(c) < 0) {
            for (var p = [], _ = c; _; )
              e.indexOf(_) < 0 && p.push(_), _ = _.category;
            Array.prototype.push.apply(e, p.reverse());
          }
        }
        for (var o = 0, r = this._filters.count; o < r; o++) {
          var n = this._filters.getItem(o);
          if (!(n instanceof Zi)) {
            var s = this._autoFilter ? n.tag : n.toString(), l = this._autoFilter && this._options.automating.lookupDisplay && this._filters.getOwner() && this._filters.getOwner().lookupDisplay, h = this._options.selector.searchIgnoreCase, u = a.HasPartial;
            (u(s, i, h) || l && u(n.toString(), i, h)) && t(n);
          }
        }
        return e;
      }, a.prototype._getActivatedFilters = function(i) {
        for (var e = [], t = i.count; t--; ) {
          var o = i.getItem(t);
          o instanceof Zi || !o.active || e.push(o.name);
        }
        return e;
      }, a.prototype._createCategories = function(i, e, t, o) {
        var r = o.getOwner(), n = this._options.automating.lookupDisplay && r.lookupDisplay, s = n && r.lookupSource;
        function l(P, R, T) {
          if (s && T.fieldIds) {
            for (var D = T, M = [], V = 0; V < D.fieldIds.length; V++)
              D.keys[V] == null || D.keys[V] == "" ? M.push("(values[".concat(D.fieldIds[V], "] is empty)")) : M.push("(values[".concat(D.fieldIds[V], "] = '").concat(D.keys[V], "')"));
            return M.join(" and ");
          }
          if (P == null || T.empty)
            return "value is empty";
          if (R == f.ValueType.DATETIME) {
            var B = T;
            return "(year(value) = ".concat(B.year, ") and (month(value) = ").concat(B.month + 1, ") and (day(value) = ").concat(B.day, ")");
          }
          return R == f.ValueType.BOOLEAN ? T.value ? "value" : "not(value)" : R == f.ValueType.NUMBER ? "value = " + P : "value = '" + (P = P.replace(/\\/g, "\\\\").replace(/\'/g, "\\'")) + "'";
        }
        function h(P, R, T) {
          return t === f.ValueType.TEXT && P && !R.empty ? r.getLookupLabel(P) : T;
        }
        for (var u = b.pad, c = 0, d = i.length; c < d; c++) {
          var p = i[c], _ = p.hasOwnProperty("childs"), g = p.hasOwnProperty("values"), y = void 0;
          (y = _ || g ? new Zi() : new Gt(l(p.value, t, p))).text = s ? p.text : n ? h(p.value, p, p.text) : p.text;
          var m = "";
          if (m = p.name ? p.name : p.empty ? a.EMPTY_FILTER : t == f.ValueType.DATETIME && _ && e ? e.name + " " + p.text : p.text, y.name = m, this._filters.add(y, !1), e && e.addChild(y), y instanceof Zi) {
            if (_)
              this._createCategories(p.childs, y, t, o);
            else if (b.isArray(p.values))
              for (var v = p.values, C = 0, x = v.length; C < x; C++) {
                var S = v[C], I = S + "", E = new Gt(l(S, t, p));
                E.name = I, E.text = n ? h(S, p, I) : I, E.tag = I, y.addChild(E), this._filters.add(E, !1);
              }
          } else if (t != f.ValueType.DATETIME || p.empty)
            y.tag = p.text;
          else {
            var O = p;
            y.tag = "".concat(O.year, "-").concat(u(O.month + 1, 2), "-").concat(u(O.day, 2));
          }
        }
      }, a.prototype._categorizeDateValues = function(i, e, t) {
        if (!i)
          return null;
        for (var o = !1, r = !1, n = !1, s = a.getDateProperty, l = 0, h = 0, u = 0, c = { year: null, quarter: null, month: null, day: null }, d = i.length, p = 0; p < d; p++) {
          var _ = i[p];
          if (_) {
            var g = s(_, 0), y = s(_, 2), m = s(_, 3), v = s(_, 5);
            c ? g != c.year ? (l++, h++, u++) : y != c.quarter || m != c.month ? (h++, u++) : v != c.day && u++ : (l++, h++, u++), c.year = g, c.quarter = y, c.month = m, c.day = v;
          }
        }
        function C(R, T) {
          var D = T + "";
          return R ? R.replace("YYYY", D).replace("YY", D.slice(-2)) : D;
        }
        function x(R, T) {
          var D = T + 1 + "";
          if (!R)
            return D;
          var M = ("0" + D).slice(-2);
          return R.replace("QQ", M).replace("Q", D);
        }
        function S(R, T) {
          var D = T + 1 + "";
          if (!R)
            return D;
          var M = ("0" + D).slice(-2);
          return R.replace("MM", M).replace("M", D);
        }
        var I = this._options.automating, E = [], O = [];
        e && ((o = l > 1 && h > 6) && (E.push(0), O.push(function(R, T, D) {
          return C(I.dateYearFormat, D);
        })), (r = h / l > 6) && (E.push(2), O.push(o ? function(R, T, D) {
          return x(I.dateQuarterFormat, D);
        } : function(R, T, D) {
          return C(I.dateYearFormat, R) + " " + x(I.dateQuarterFormat, D);
        })), (n = u > 9 && h > 3) && (E.push(3), O.push(o || r ? function(R, T, D) {
          return S(I.dateMonthFormat, D);
        } : function(R, T, D) {
          return C(I.dateYearFormat, R) + " " + S(I.dateMonthFormat, D);
        }))), E.push(5), O.push(function(R, T, D) {
          var M = C(I.dateDayFormat, R);
          return M = function(V, B) {
            var N = B + "";
            if (!V)
              return N;
            var A = ("0" + N).slice(-2);
            return V.replace("DD", A).replace("D", N);
          }(M = S(M, T), D), M;
        });
        var P = [];
        return function R(T, D, M, V, B) {
          V === void 0 && (V = 0), B === void 0 && (B = -1), B = B == -1 ? T.length - 1 : B;
          for (var N, A, z = null, Z = V, ee = !1, Y = function(ce) {
            var fe = T[ce], le = function(_e, ve, ge) {
              for (var Te = [], Re = 0; Re <= ge; Re++)
                Te.push(a.getDateProperty(_e, ve[Re]));
              return Te;
            }(fe, E, D), ne = function(_e, ve, ge) {
              if (!_e)
                return null;
              switch (ve[ge]) {
                case 0:
                  return _e.getFullYear().toString();
                case 1:
                  return _e.getFullYear().toString() + Math.floor(_e.getMonth() / 6).toString();
                case 2:
                  return _e.getFullYear().toString() + Math.floor(_e.getMonth() / 3).toString();
                case 3:
                  return _e.getFullYear().toString() + _e.getMonth().toString();
                case 5:
                  return _e.getFullYear().toString() + _e.getMonth() + _e.getDate();
              }
            }(fe, E, D);
            if (ce > V && ne != z) {
              var he = N[D];
              if (A)
                if (D === E.length - 1) {
                  var K = { text: "", year: A.getFullYear(), month: A.getMonth(), day: A.getDate(), value: A };
                  K.text = O[D](K.year, K.month, K.day), M.push(K);
                } else {
                  var ye = { text: "", childs: [] }, se = function() {
                    ye.year = A.getFullYear();
                  }, H = function() {
                    ye.quarter = Math.floor(A.getMonth() / 3);
                  }, pe = function() {
                    ye.month = A.getMonth();
                  }, Ce = o && r && n ? et.ALL : o && r ? et.YQ : o && n ? et.YM : o ? et.Y : r && n ? et.QM : r ? et.Q : n ? et.M : et.NONE;
                  Ce === et.ALL ? D === 0 ? se() : D === 1 ? (se(), H()) : D === 2 && (se(), H(), pe()) : Ce === et.YQ ? D === 0 ? se() : D === 1 && (se(), H()) : Ce === et.YM ? D === 0 ? se() : D === 1 && (se(), pe()) : Ce === et.Y ? se() : Ce === et.QM ? D === 0 ? H() : D === 1 && (H(), pe()) : Ce === et.Q ? H() : Ce === et.M && pe(), ye.text = O[D](A.getFullYear(), A.getMonth(), he), M.push(ye), R.call(q, T, D + 1, ye.childs, Z, ce - 1);
                }
              Z = ce;
            }
            ce > V && A == null && (ee = !0), z = ne, N = le, A = fe;
          }, q = this, G = V; G <= B + 1; G++)
            Y(G);
          D == 0 && ee && this._options.selector.showEmptyFilter && M.push({ text: t, empty: !0 });
        }.call(this, i, 0, P), P;
      }, a.prototype._categorizeNumberValues = function(i, e, t) {
        if (!i || !i.length)
          return null;
        var o = i.filter(function(c) {
          return c != null && c != null && !isNaN(c);
        }).sort(function(c, d) {
          return c - d;
        }), r = o.length, n = o.length !== i.length, s = 1, l = [];
        if (e && r > 15)
          for (s = Math.round(r / Math.min(Math.max(4, Math.round(r / 5)), 8)); o.length > 0; ) {
            var h = o.splice(0, s);
            l.push({ text: h[0] + " ~ " + h[h.length - 1], values: h });
          }
        else
          for (var u = 0; u < r; u++)
            l.push({ text: o[u] + "", value: o[u] });
        return n && this._options.selector.showEmptyFilter && l.push({ text: t, empty: !0 }), l;
      }, a.prototype._categorizeLookupTree = function(i, e, t) {
        var o = e.grid, r = [];
        if (this._options.automating.filteredDataOnly)
          o._items._rs.getAllItems().forEach(function(p) {
            r.push(p.dataRow);
          });
        else if (o.isTree())
          i.getDescendants(null, -1).forEach(function(p) {
            r.push(p.rowId);
          });
        else
          for (var n = i.rowCount, s = 0; s < n; s++)
            r.push(s);
        var l = [], h = e.lookupKeyFieldIds, u = {}, c = {};
        function d(p, _, g, y, m) {
          var v = g.shift(), C = i.getValue(_, v);
          m.push(v), y.push(C);
          var x = p[C];
          x || (x = p[C] = { value: C, name: y.join("-"), keys: y.slice(), fieldIds: m.slice() }), g.length ? (!x.text && (x.text = function(S, I, E) {
            var O = c[S];
            if (!O) {
              for (var P = o.columnsByField(S), R = 0; R < P.length; R++)
                if (P[R].lookupSource || P[R].lookupDisplay) {
                  O = c[S] = P[R];
                  break;
                }
            }
            return O ? O.lookupSource ? O.lookupSource.lookup(I, O.valueSeparator) : O.lookupDisplay ? O.getLookupLabel(E) : E : E;
          }(v, y, C) || C || t), x.childs = x.childs || {}, d(x.childs, _, g, y, m)) : !x.text && (x.text = C ? e.lookupSource.lookup(y, e.valueSeparator) || C : t);
        }
        for (s = 0; s < r.length; s++)
          d(u, r[s], h.slice(), [], []);
        return function p(_, g) {
          Object.keys(_).sort().forEach(function(y) {
            var m = _[y], v = { value: m.value, text: m.text, name: m.name, fieldIds: m.fieldIds, keys: m.keys };
            g.push(v), m.hasOwnProperty("childs") && (v.childs = [], p(m.childs, v.childs));
          });
        }(u, l), l;
      }, a.prototype._categorizeTextValues = function(i, e, t) {
        if (!i)
          return null;
        var o = i.length, r = [], n = !1;
        if (e && o > 15) {
          for (var s = [{}, {}, {}, {}], l = [0, 0, 0, 0], h = [0, 0, 0, 0], u = 0; u < o; u++) {
            var c = i[u];
            if (c) {
              var d = (E = c[0]).charCodeAt(0), p = !1, _ = void 0;
              s[_ = d >= 48 && d <= 57 ? 0 : d >= 65 && d <= 90 || d >= 97 && d <= 122 ? 1 : d >= 1e4 ? 2 : 3][E] ? s[_][E].push(c) : (s[_][E] = [c], p = !0), l[_]++, p && h[_]++;
            } else
              n = !0;
          }
          for (var g = Math.min(Math.max(4, Math.round(o / 5)), 8), y = 0; y < 4; y++) {
            var m = l[y] == 0 ? 0 : Math.max(1, Math.min(h[y], Math.round(l[y] / o * g))), v = Math.round(h[y] / m), C = v, x = s[y], S = "", I = [];
            for (var E in x)
              C === v && (S = E), Array.prototype.push.apply(I, s[y][E]), --C == 0 && (r.push({ text: v == 1 ? E : S + " ~ " + E, values: I }), I = [], C = v);
          }
        } else {
          u = 0;
          for (var O = i.length; u < O; u++) {
            var P = i[u];
            P ? r.push({ text: P, value: P }) : n = !0;
          }
        }
        return n && this._options.selector.showEmptyFilter && r.push({ text: t, empty: !0 }), r;
      }, a.EMPTY_FILTER = "$$empty", a;
    }(), sf = function(a) {
      function i(e, t, o) {
        var r = a.call(this) || this;
        r._opened = !1, r._grid = o, r._gridContainer = o.container._containerDom;
        var n = te(r._gridContainer), s = r._element = n.createElement("div");
        return s.style.position = "absolute", s.style.display = "none", s.className = t.selector.style, s.setAttribute("aria-hidden", "true"), r._options = t, r._soptions = t.selector, r._manager = new nf(r._options), r._globalMouseDownHandler = r._globalMouseDownHandler.bind(r), r._globalKeyDownHandler = r._globalKeyDownHandler.bind(r), r._scrollHandler = r._scrollHandler.bind(r), r._wheelHandler = r._wheelHandler.bind(r), r._resetClickHandler = r._resetClickHandler.bind(r), r._searchInputHandler = r._searchInputHandler.bind(r), r._searchKeyDownHandler = r._searchKeyDownHandler.bind(r), r._checkAllClickHandler = r._checkAllClickHandler.bind(r), r._confirmClickHandler = r._confirmClickHandler.bind(r), r._cancelClickHandler = r._cancelClickHandler.bind(r), r._itemClickHandler = r._itemClickHandler.bind(r), r;
      }
      return w(i, a), Object.defineProperty(i.prototype, "opened", { get: function() {
        return this._opened;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "column", { get: function() {
        return this._targetColumn;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "doc", { get: function() {
        return te(this._element);
      }, enumerable: !1, configurable: !0 }), i.prototype._doDispose = function() {
        this._soptions = null, this._manager = this._manager.dispose(), this._grid = null, b.detach(this._element), a.prototype._doDispose.call(this);
      }, i.prototype.show = function(e, t, o) {
        this._opened && this.hide();
        var r, n = this._element, s = this._soptions, l = this._grid.container._containerDiv, h = b.isSlotMode() ? l : l.parentElement;
        !b.isSlotMode() && (r = l.nextElementSibling) ? h.insertBefore(n, r) : h.appendChild(n), this._targetColumn = e, n.className = s.style, n.tabIndex = -1, n.style.display = "block", this._autoFiltering = e.autoFilter, this._build(e, o, this._autoFiltering);
        var u = t.getBoundingClientRect(), c = this._gridContainer.parentElement.clientWidth, d = s.width, p = e.filterSelectorWidth, _ = n.style, g = s.minWidth, y = 0;
        p > 0 ? y = p : d === -1 ? (y = this._viewWidth, g = Math.max(g, 140)) : d === -2 ? y = e.layout.cellWidth : d > 0 && (y = d), y > 0 ? (g > 0 && (y = Math.max(g, y)), s.maxWidth > 0 && (y = Math.min(y, s.maxWidth)), y = Math.min(y, c), _.width = Math.max(y, g) + "px") : _.removeProperty("width");
        var m = be(this._gridContainer), v = n.getBoundingClientRect(), C = n.offsetParent instanceof m.HTMLBodyElement, x = C ? { left: 0, top: 0 } : n.offsetParent.getBoundingClientRect(), S = v.left - x.left + (u.right - v.right) + (C ? m.scrollX || m.pageXOffset : n.offsetParent.scrollLeft), I = u.bottom - x.top + (C ? m.scrollY || m.pageYOffset : n.offsetParent.scrollTop);
        _.left = Math.max(0, S) + "px", _.top = I + "px", !b.isSlotMode() && m.addEventListener("pointerdown", this._globalMouseDownHandler, !1), !b.isSlotMode() && m.addEventListener("keydown", this._globalKeyDownHandler, !1), this._opened = !0;
      }, i.prototype.hide = function() {
        if (this._opened) {
          b.detach(this._element);
          var e = be(this._gridContainer);
          !b.isSlotMode() && e.removeEventListener("pointerdown", this._globalMouseDownHandler, !1), !b.isSlotMode() && e.removeEventListener("keydown", this._globalKeyDownHandler, !1), this._finalize(), this._element.style.display = "none", this._opened = !1;
        }
      }, i.prototype._createItemInfo = function(e) {
        this._items = [], this._roots = [], this._visbleItemMap = {};
        for (var t = (e = e instanceof Po ? e.items : e).length, o = [], r = 0; r < t; r++) {
          var n = e[r], s = n.level;
          if (this._autoFiltering || n.visible) {
            var l = { text: n.toString(), index: r, level: s, filter: n };
            if (this._items.push(l), n instanceof Zi ? l.expanded = !1 : l.state = n.active ? Ge.ACTIVE : Ge.UNACTIVE, o[s] = l, s > 0) {
              var h = o[s - 1];
              l.parent = h, h.childs || (h.childs = []), h.childs.push(l);
            }
            s == 0 && this._roots.push(l), this._visbleItemMap[r] = l;
          }
        }
        this._calcluateStates(), this._visibleCount = this._calcVisibleItems(), this._dirties = [];
      }, i.prototype._build = function(e, t, o) {
        var r = this._soptions, n = this._applyBatch = r.showButtons, s = this.doc;
        this._manager.buildItems(e, t, o, !1), this._filters = o ? e.autoFilters : e.filters, this._createItemInfo(this._filters), this._headerDiv = s.createElement("div"), this._headerDiv.className = "rg-filter-header", r.filterReset && this._buildReset(this._headerDiv), this._soptions.partialSearch && this._buildSearchbox(this._headerDiv), this._buildSelectAllBox(), this._element.appendChild(this._headerDiv);
        var l = this._viewportDiv = s.createElement("div");
        l.className = "rg-filter-list-viewport", l.style.height = r.listHeight + "px", l.addEventListener("scroll", this._scrollHandler), l.addEventListener("wheel", this._wheelHandler), this._listDiv = s.createElement("div"), this._listDiv.className = "rg-filter-list", this._listDiv.style.position = "relative", l.appendChild(this._listDiv), this._element.appendChild(l), this._calcAllChecked(), this._calcluateStates(), this._buildItems(), n && this._buildFooter(this._element), this._searched = !1;
      }, i.prototype._finalize = function() {
        var e;
        this._roots = [], this._visbleItemMap = {};
        for (var t = this._items.length; t--; )
          this._items[t].filter = null, this._items[t].parent = null, this._items[t].childs = null, this._items[t] = null;
        for (this._items = [], (e = this._resetDiv) && (e.removeEventListener("click", this._resetClickHandler), this._resetDiv = b.detach(this._resetDiv)), (e = this._searchDiv) && (e.removeEventListener("input", this._searchInputHandler), e.removeEventListener("keydown", this._searchKeyDownHandler), this._searchInput = b.detach(this._searchInput), this._searchDiv = b.detach(this._searchDiv)), this._selectAllDiv.removeEventListener("click", this._checkAllClickHandler), this._selectAllDiv = b.detach(this._selectAllDiv), this._headerDiv = b.detach(this._headerDiv), this._footerDiv && (this._confirmButton.removeEventListener("click", this._confirmClickHandler), this._cancelButton.removeEventListener("click", this._cancelClickHandler), this._confirmButton = b.detach(this._confirmButton), this._cancelButton = b.detach(this._cancelButton), this._footerDiv = b.detach(this._footerDiv)), t = this._itemElements.length; t--; )
          this._removeItem(t);
        this._itemElements = [];
        var o = this._viewportDiv;
        o.removeEventListener("scroll", this._scrollHandler), o.removeEventListener("wheel", this._wheelHandler), this._listDiv = b.detach(this._listDiv), this._viewportDiv = b.detach(this._viewportDiv);
      }, i.prototype._buildSelectAllBox = function() {
        var e = this.doc, t = this._soptions.allCheckText, o = this._selectAllDiv = e.createElement("div");
        o.className = "rg-filter-select-all", this._soptions.textToTitle && t && (o.title = t);
        var r = this._selectAllCheck = e.createElement("input");
        r.type = "checkbox", r.className = "rg-filter-checkbox", this._setCheckState(r, this._allCheck), o.appendChild(r);
        var n = this._selectAllText = e.createElement("div");
        n.className = "rg-filter-text", n.innerHTML = b.htmlEncode(t), o.appendChild(n);
        var s = this._columnReset = e.createElement("div");
        s.className = "rg-filter-column-reset", s.innerHTML = b.htmlEncode(this._soptions.filterResetText), o.appendChild(s), this._headerDiv.appendChild(this._selectAllDiv), this._selectAllDiv.addEventListener("click", this._checkAllClickHandler);
      }, i.prototype._buildReset = function(e) {
        var t = this.doc, o = this._resetDiv = t.createElement("div");
        o.className = "rg-filter-reset", o.appendChild(t.createTextNode(this._soptions.filtersResetText)), o.addEventListener("click", this._resetClickHandler), e.appendChild(o);
      }, i.prototype._buildItems = function() {
        var e = "temp임시", t = b.getTextLength(e), o = 0;
        this._filters.items.forEach(function(g) {
          o = Math.max(o, g.level);
          var y = g.toString();
          t < b.getTextLength(y) && (t = b.getTextLength(y), e = y);
        });
        var r = this._listDiv, n = r.style;
        n.display = "inline-block";
        var s = this._buildItemElement(e, 0, void 0, "rg-filter-item");
        s.style.position = "relative", r.appendChild(s), this._itemHeight = Math.floor(s.getBoundingClientRect().height), this._viewWidth = Math.floor(s.getBoundingClientRect().width) + 15 * o + 4, r.removeChild(s), n.height = "1500px";
        var l = this._viewportDiv.offsetWidth - this._viewportDiv.clientWidth;
        n.removeProperty("height");
        var h = this._visibleCount, u = this._viewportDiv.offsetHeight;
        this._pageCount = Math.min(this._items.length, Math.ceil(u / this._itemHeight));
        var c = this._pageCount;
        n.height = h * this._itemHeight + "px", c <= this._items.length && (this._viewWidth += l + 2), n.removeProperty("display");
        var d = h < c ? h : c;
        this._itemElements = [];
        for (var p = 0; p < d; p++) {
          var _ = this._visibleItems[p];
          this._itemElements.push(this._buildItem(_, p));
        }
      }, i.prototype._buildSearchbox = function(e) {
        var t = this.doc, o = this._searchDiv = t.createElement("div");
        o.className = "rg-filter-searchbox";
        var r = this._searchInput = this.doc.createElement("input");
        r.type = "text", r.placeholder = this._soptions.searchPlaceholder, r.className = "rg-filter-search-input", r.autocomplete = "off", r.addEventListener("input", this._searchInputHandler), r.addEventListener("keydown", this._searchKeyDownHandler), o.appendChild(r), e.appendChild(o);
      }, i.prototype._buildFooter = function(e) {
        var t = this.doc;
        this._footerDiv = t.createElement("div"), this._footerDiv.className = "rg-filter-button";
        var o = this._confirmButton = t.createElement("input");
        o.type = "button", o.className = "rg-filter-accept", o.value = this._soptions.acceptText, o.addEventListener("click", this._confirmClickHandler), this._footerDiv.appendChild(o);
        var r = this._cancelButton = t.createElement("input");
        r.type = "button", r.className = "rg-filter-cancel", r.value = this._soptions.cancelText, r.addEventListener("click", this._cancelClickHandler), this._footerDiv.appendChild(r), e.appendChild(this._footerDiv);
      }, i.prototype._buildItem = function(e, t) {
        var o = this._items, r = this._listDiv, n = o[e], s = n.expanded, l = this._buildItemElement(n.text, n.level, n.state, "rg-filter-item", s);
        return l.filter_id = e + "", l.style.position = "absolute", l.style.height = this._itemHeight + "px", l.style.top = t * this._itemHeight + "px", l.addEventListener("click", this._itemClickHandler), r.appendChild(l), l;
      }, i.prototype._removeItem = function(e) {
        var t = this._itemElements[e];
        t.removeEventListener("click", this._itemClickHandler), b.detach(t), this._itemElements.splice(e, 1);
      }, i.prototype._buildItemElement = function(e, t, o, r, n) {
        var s, l = this.doc, h = l.createElement("div");
        r && (h.className = r, h.tabIndex = -1), this._soptions.textToTitle && e && (h.title = e);
        var u = l.createElement("div");
        u.className = "rg-filter-item-indent-" + t, h.appendChild(u);
        var c = l.createElement("div"), d = "rg-filter-expander";
        n !== void 0 && (d += " " + (n ? "rg-filter-expander-expanded" : "rg-filter-expander-collapsed")), c.className = d, h.appendChild(c);
        var p = l.createElement("input");
        p.type = "checkbox", p.className = "rg-filter-checkbox", this._setCheckState(p, o), h.appendChild(p);
        var _ = l.createElement("div");
        return s = _.style, _.className = "rg-filter-text", s.position = "relative", s.display = "inline", s.pointerEvents = "none", _.innerHTML = b.htmlEncode(e), h.appendChild(_), h;
      }, i.prototype._calculateState = function(e) {
        for (var t = void 0, o = 0, r = e.length; o < r; o++) {
          var n = e[o];
          if (t && n.state != t)
            return Ge.INDETERMINATE;
          t = n.state;
        }
        return t || Ge.UNACTIVE;
      }, i.prototype._calcluateStates = function() {
        for (var e = this._items.length; e--; ) {
          var t = this._items[e];
          t.childs && (t.state = this._calculateState(t.childs));
        }
      }, i.prototype._calcVisibleItems = function() {
        function e(s) {
          for (var l = s.parent; l; ) {
            if (!l.expanded)
              return !1;
            l = l.parent;
          }
          return !0;
        }
        var t = 0;
        this._visibleItems = [];
        for (var o = 0, r = this._items.length; o < r; o++) {
          var n = this._items[o];
          n.parent && !e(n) || (t++, this._visibleItems.push(o));
        }
        return t;
      }, i.prototype._setCheckState = function(e, t) {
        e.checked = t == Ge.ACTIVE, e.indeterminate = t == Ge.INDETERMINATE;
      }, i.prototype._calcAllChecked = function() {
        this._allCheck = this._calculateState(this._roots), this._setCheckState(this._selectAllCheck, this._allCheck);
      }, i.prototype._redrawCheck = function() {
        for (var e = this._itemElements.length; e--; ) {
          var t = this._itemElements[e], o = parseInt(t.filter_id), r = this._visbleItemMap[o], n = t.childNodes[i.INDEX_CHECKBOX];
          this._setCheckState(n, r.state);
        }
      }, i.prototype._doRedraw = function(e) {
        e === void 0 && (e = 0);
        var t = this._itemElements, o = this._pageCount, r = Math.min(o, this._visibleCount), n = Math.max(0, this._visibleItems.indexOf(e));
        n + o > this._visibleCount && (n = Math.max(0, this._visibleCount - o));
        for (var s = 0, l = 0; l < r; l++) {
          var h = this._visibleItems[l + n];
          !t[l] && l < r && t.push(this._buildItem(h, l)), this._changeItemModel(t[l], h), s++;
        }
        for (l = t.length - 1; l > s - 1; l--)
          this._removeItem(l);
        var u = this._visibleCount * this._itemHeight;
        this._listDiv.style.height = u + "px";
        var c = this._viewportDiv;
        c.scrollTop + c.offsetHeight > u && (c.scrollTop = u - c.offsetHeight);
      }, i.prototype._changeItemModel = function(e, t) {
        var o = be(e), r = this._items[t];
        e.filter_id = t + "", this._soptions.textToTitle && r.text && (e.title = r.text);
        for (var n = e.childNodes.length; n--; ) {
          var s = e.childNodes.item(n);
          if (s instanceof o.HTMLElement) {
            var l = s.className;
            if (l) {
              if (l.indexOf("rg-filter-item-indent-") > -1)
                s.className = "rg-filter-item-indent-" + r.level;
              else if (l.indexOf("rg-filter-expander") > -1) {
                var h = "rg-filter-expander";
                r.expanded !== void 0 && (h += " " + (r.expanded ? "rg-filter-expander-expanded" : "rg-filter-expander-collapsed")), s.className = h;
              } else if (s instanceof o.HTMLInputElement && l == "rg-filter-checkbox")
                this._setCheckState(s, r.state);
              else if (l.indexOf("rg-filter-text") >= 0) {
                var u = b.htmlEncode(r.text), c = this._searchInput ? this._searchInput.value : "", d = "g" + (this._soptions.searchIgnoreCase ? "i" : "");
                u = c ? u.replace(new RegExp(c, d), function(p, _, g) {
                  return '<span class="rg-filter-search-text">'.concat(p, "</span>");
                }) : u, s.innerHTML = "<span>" + u + "</span>";
              }
            }
          }
        }
      }, i.prototype._doScroll = function() {
        for (var e = this._itemElements, t = Math.max(0, Math.floor(Math.min(this._viewportDiv.scrollTop, this._listDiv.offsetHeight - this._viewportDiv.offsetHeight) / this._itemHeight)), o = 0, r = e.length; o < r; o++) {
          var n = this._visibleItems[t + o];
          this._changeItemModel(e[o], n), e[o].style.top = (t + o) * this._itemHeight + "px";
        }
      }, i.prototype._doSearch = function(e, t) {
        t === void 0 && (t = !0), e ? this._createItemInfo(this._manager.search(e)) : this._createItemInfo(this._filters), this._selectAllText.textContent = e ? this._soptions.searchedCheckText : this._soptions.allCheckText, t && this._calcAllChecked(), this._doRedraw(), this._searched = !!e;
      }, i.prototype._resetActive = function() {
        for (var e = this._items.length; e--; )
          this._items[e].state = Ge.UNACTIVE;
        this._filters.activateAll(!1, !0), this._redrawCheck();
      }, i.prototype._activateAll = function(e) {
        for (var t = !this._applyBatch, o = this._items.length; o--; ) {
          var r = this._items[o];
          r.childs || (r.state = e ? Ge.ACTIVE : Ge.UNACTIVE, (!t || this._searched) && this._dirties.push(r));
        }
        if (t && (this._searched ? this._doFilterApply() : this._filters.activateAll(e, !0)), this._calcluateStates(), this._itemElements.length) {
          var n = this._itemElements[0].filter_id, s = Math.max(0, this._visibleItems.indexOf(parseInt(n)));
          this._doRedraw(s);
        }
      }, i.prototype._doCheck = function(e, t) {
        var o = t ? Ge.ACTIVE : Ge.UNACTIVE, r = this._applyBatch || e.childs !== void 0, n = this._applyBatch ? this._dirties : [];
        if (function c(d, p, _, g) {
          if (d.state != p)
            if (d.state = p, d.childs)
              for (var y = d.childs.length; y--; )
                c(d.childs[y], p, _, g);
            else
              _ ? g.push(d) : d.filter.active = t;
        }(e, o, r, n), r && !this._applyBatch) {
          for (var s = [], l = 0, h = n.length; l < h; l++)
            s.push(n[l].filter.name);
          s.length > 0 && this._filters.activateItems(s, t);
        }
        for (var u = e.parent; u; )
          u.state = this._calculateState(u.childs), u = u.parent;
        (e.parent || e.childs) && this._redrawCheck(), this._calcAllChecked();
      }, i.prototype._doFilterApply = function() {
        this._filters._updating = !0;
        try {
          for (var e = this._dirties, t = e.length; t--; ) {
            var o = e[t];
            o.filter.active = o.state == Ge.ACTIVE;
          }
          this._filters._updating = !1, e.length && this._filters.changed(e.length == 1 ? e[0].filter : null);
        } finally {
          this._filters._updating = !1;
        }
        this._dirties = [];
      }, i.prototype._doExpand = function(e, t) {
        e.expanded = t, this._visibleCount = this._calcVisibleItems();
        var o = parseInt(this._itemElements[0].filter_id);
        this._doRedraw(o);
      }, i.prototype._globalMouseDownHandler = function(e) {
        for (var t = e.target; t; ) {
          if (t === this._element)
            return;
          t = t.parentElement;
        }
        this.hide();
      }, i.prototype._globalKeyDownHandler = function(e) {
        e.keyCode == 27 && this.hide();
      }, i.prototype._wheelHandler = function(e) {
        var t = e.deltaY;
        t !== 0 && (t = (t > 0 ? 2 : -2) * this._itemHeight, this._viewportDiv.scrollTop += t, this._doScroll()), e.preventDefault();
      }, i.prototype._scrollHandler = function(e) {
        this._doScroll();
      }, i.prototype._searchInputHandler = function(e) {
        var t = e.target;
        t instanceof be(t).HTMLInputElement && this._doSearch(t.value);
      }, i.prototype._searchKeyDownHandler = function(e) {
        if (e.keyCode == 13 && (this._doSearch(this._searchInput.value), this._searched && this._soptions.activeWhenEnter && this._items.length)) {
          var t = this._selectAllCheck;
          t.checked = !(t.indeterminate = !1), this.$_allCheck(!0);
        }
      }, i.prototype.$_refreshItem = function(e) {
        for (var t = this._itemElements.length; t--; )
          this._removeItem(t);
        this._itemElements = [], this._manager.buildItems(e, e.grid.dataSource, e.autoFilter, !1), this._createItemInfo(e.autoFilters), this._buildItems(), this._dirties = [];
      }, i.prototype._resetClickHandler = function() {
        var e = this._grid.getFilteredColumns(), t = e.length, o = this._targetColumn, r = this._selectAllCheck;
        this._setCheckState(r, Ge.UNACTIVE), this._resetActive(), this._searched && this._doSearch(this._searchInput.value = "");
        for (var n = 0; n < t; n++)
          e[n].activateAllFilters(!1);
        this._soptions.closeWhenClick ? this.hide() : o.autoFilter && this._options.automating.filteredDataOnly && this.$_refreshItem(o);
      }, i.prototype.$_allCheck = function(e) {
        this._activateAll(e), this._allCheck = e ? Ge.ACTIVE : Ge.UNACTIVE, !this._applyBatch && this._soptions.closeWhenClick && this.hide();
      }, i.prototype._checkAllClickHandler = function(e) {
        var t = this._selectAllCheck, o = e.target;
        if (o === this._columnReset) {
          t.checked = t.indeterminate = !1, this._doSearch(this._searchInput.value = "", !1);
          var r = this._targetColumn;
          this._resetActive(), r.autoFilter && this._options.automating.filteredDataOnly && this.$_refreshItem(r);
        } else
          o !== t ? (t.checked = !t.checked, t.indeterminate = !1, this.$_allCheck(t.checked)) : o === t && this.$_allCheck(t.checked);
      }, i.prototype._itemClickHandler = function(e) {
        var t = e.target, o = t.className.indexOf("rg-filter-expander") > -1, r = t.className == "rg-filter-checkbox", n = t;
        t.className !== "rg-filter-item" && (n = n.parentElement);
        var s = parseInt(n.filter_id), l = this._visbleItemMap[s];
        if (o)
          l.expanded !== void 0 && this._doExpand(l, !l.expanded);
        else {
          var h = void 0;
          r ? h = t : (h = n.children.item(i.INDEX_CHECKBOX)).checked = !h.checked, this._doCheck(l, h.checked), !this._applyBatch && this._soptions.closeWhenClick && this.hide();
        }
      }, i.prototype._confirmClickHandler = function() {
        this._doFilterApply(), this.hide();
      }, i.prototype._cancelClickHandler = function() {
        this.hide();
      }, i.INDEX_CHECKBOX = 2, i;
    }(Be), nh = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof Ns < "u" ? Ns : typeof self < "u" ? self : {}, sh = {};
    function af(a, i) {
      return a == i || a.indexOf("*") === 0 && (a = a.substr(1, a.length - 1), i.substr(i.indexOf(a), a.length) == a);
    }
    function lf(a, i, e) {
      for (var t = a.split(","), o = 0, r = t.length; o < r; o++) {
        var n = t[o];
        if (af(n, i) || e && n && n[0] === "*" && n.substr(0, 1) !== "*." && new RegExp("^/" + n.substr(1) + "/").exec(e))
          return !0;
      }
      return !1;
    }
    (function(a) {
      var i, e = nh && nh.__extends || (i = function(u, c) {
        return (i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d, p) {
          d.__proto__ = p;
        } || function(d, p) {
          for (var _ in p)
            Object.prototype.hasOwnProperty.call(p, _) && (d[_] = p[_]);
        })(u, c);
      }, function(u, c) {
        if (typeof c != "function" && c !== null)
          throw new TypeError("Class extends value " + String(c) + " is not a constructor or null");
        function d() {
          this.constructor = u;
        }
        i(u, c), u.prototype = c === null ? Object.create(c) : (d.prototype = c.prototype, new d());
      });
      Object.defineProperty(a, "__esModule", { value: !0 }), a.h = a.r = void 0;
      var t = function() {
        function u() {
        }
        return u.encode = function(c) {
          for (var d = u.CHARACTERS, p = [], _ = c.length, g = _ % 3, y = _ - g, m = 0; m < y; ) {
            var v = c[m++] << 16 | c[m++] << 8 | c[m++];
            p.push(d.charAt(v >>> 18 & 63)), p.push(d.charAt(v >>> 12 & 63)), p.push(d.charAt(v >>> 6 & 63)), p.push(d.charAt(63 & v));
          }
          switch (g) {
            case 2:
              v = c[y++] << 16 | c[y++] << 8, p.push(d.charAt(v >>> 18 & 63)), p.push(d.charAt(v >>> 12 & 63)), p.push(d.charAt(v >>> 6 & 63)), p.push(u.SUFFIX);
              break;
            case 1:
              v = c[y++] << 16, p.push(d.charAt(v >>> 18 & 63)), p.push(d.charAt(v >>> 12 & 63)), p.push(u.SUFFIX), p.push(u.SUFFIX);
          }
          return p.join("");
        }, u.decode = function(c) {
          for (var d = u.CHARACTERS, p = u.SUFFIX, _ = c.split(""), g = [], y = _.length; _[--y] === p; )
            ;
          for (var m = 0; m < y; ) {
            var v = d.indexOf(_[m++]) << 18;
            m <= y && (v |= d.indexOf(_[m++]) << 12), m <= y && (v |= d.indexOf(_[m++]) << 6), m <= y && (v |= d.indexOf(_[m++])), g.push(v >>> 16 & 255), g.push(v >>> 8 & 255), g.push(255 & v);
          }
          for (; g[g.length - 1] === 0; )
            g.pop();
          return g;
        }, u.SUFFIX = "=", u.CHARACTERS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", u;
      }(), o = function() {
        function u() {
        }
        return u.union = function(c, d) {
          var p = d.s3[255 & c], _ = d.s2[255 & (c >>= 8)], g = d.s1[255 & (c >>= 8)];
          return ((g = ((g = ((c = d.s0[255 & (c >>= 8)]) >> 16) + (g >> 16) + ((65535 & c) + (65535 & g) >> 16) << 16 | (65535 & c) + (65535 & g) & 65535) >> 16 ^ _ >> 16) << 16 | 65535 & (65535 & g ^ 65535 & _)) >> 16) + (p >> 16) + ((65535 & g) + (65535 & p) >> 16) << 16 | (65535 & g) + (65535 & p) & 65535;
        }, u.xor = function(c, d) {
          return (c >> 16 ^ d >> 16) << 16 | 65535 & (65535 & c ^ 65535 & d);
        }, u._encryptBlock = function(c, d) {
          var p = c.left, _ = c.right, g = u.xor, y = u.union;
          p = g(p, d.p[0]), _ = g(_, g(y(p, d), d.p[1])), p = g(p, g(y(_, d), d.p[2])), _ = g(_, g(y(p, d), d.p[3])), p = g(p, g(y(_, d), d.p[4])), _ = g(_, g(y(p, d), d.p[5])), p = g(p, g(y(_, d), d.p[6])), _ = g(_, g(y(p, d), d.p[7])), p = g(p, g(y(_, d), d.p[8])), _ = g(_, g(y(p, d), d.p[9])), p = g(p, g(y(_, d), d.p[10])), _ = g(_, g(y(p, d), d.p[11])), p = g(p, g(y(_, d), d.p[12])), _ = g(_, g(y(p, d), d.p[13])), p = g(p, g(y(_, d), d.p[14])), _ = g(_, g(y(p, d), d.p[15])), p = g(p, g(y(_, d), d.p[16])), c.right = p, c.left = g(_, d.p[17]);
        }, u._decryptBlock = function(c, d) {
          var p = c.left, _ = c.right, g = u.xor, y = u.union;
          p = g(p, d.p[17]), _ = g(_, g(y(p, d), d.p[16])), p = g(p, g(y(_, d), d.p[15])), _ = g(_, g(y(p, d), d.p[14])), p = g(p, g(y(_, d), d.p[13])), _ = g(_, g(y(p, d), d.p[12])), p = g(p, g(y(_, d), d.p[11])), _ = g(_, g(y(p, d), d.p[10])), p = g(p, g(y(_, d), d.p[9])), _ = g(_, g(y(p, d), d.p[8])), p = g(p, g(y(_, d), d.p[7])), _ = g(_, g(y(p, d), d.p[6])), p = g(p, g(y(_, d), d.p[5])), _ = g(_, g(y(p, d), d.p[4])), p = g(p, g(y(_, d), d.p[3])), _ = g(_, g(y(p, d), d.p[2])), p = g(p, g(y(_, d), d.p[1])), c.right = p, c.left = g(_, d.p[0]);
        }, u._init = function(c) {
          for (var d, p = c.split("").map(function(S) {
            return 255 & S.charCodeAt(0);
          }), _ = (c = u.kb, u._encryptBlock), g = 0, y = 0, m = { left: 0, right: 0 }, v = { p: c.p.slice(0).map(function(S) {
            for (var I = p.length, E = 0; E < 4; E++)
              y = y * u.POW8 | p[g++ % I];
            return (S >> 16 ^ y >> 16) << 16 | 65535 & (65535 & S ^ 65535 & y);
          }), s0: c.s0.slice(0), s1: c.s1.slice(0), s2: c.s2.slice(0), s3: c.s3.slice(0) }, C = 0, x = v.p.length; C < x; )
            _(m, v), v.p[C++] = m.left, v.p[C++] = m.right;
          for (C = 0; C < 4; C++)
            for (d = 0, x = v["s" + C].length; d < x; )
              _(m, v), v["s" + C][d++] = m.left, v["s" + C][d++] = m.right;
          return v;
        }, u.encrypt = function(c, d) {
          for (var p = u._encryptBlock, _ = u._init(d), g = 8 - (7 & c.length), y = 0; y < g; y++)
            c += String.fromCharCode(g);
          var m = 0, v = [], C = c.length >> 3, x = { left: null, right: null };
          for (y = 0; y < C; y++)
            x.left = c.charCodeAt(m) * u.POW24 | c.charCodeAt(m + 1) * u.POW16 | c.charCodeAt(m + 2) * u.POW8 | c.charCodeAt(m + 3), x.right = c.charCodeAt(m + 4) * u.POW24 | c.charCodeAt(m + 5) * u.POW16 | c.charCodeAt(m + 6) * u.POW8 | c.charCodeAt(m + 7), p(x, _), v.push(x.left >> 24 & 255), v.push(x.left >> 16 & 255), v.push(x.left >> 8 & 255), v.push(255 & x.left), v.push(x.right >> 24 & 255), v.push(x.right >> 16 & 255), v.push(x.right >> 8 & 255), v.push(255 & x.right), m += 8;
          return t.encode(v);
        }, u.decrypt = function(c, d) {
          for (var p = u._decryptBlock, _ = u._init(d), g = [], y = t.decode(c), m = 0, v = y.length >> 3, C = { left: null, right: null }, x = 0; x < v; x++) {
            C.left = y[m] * u.POW24 | y[m + 1] * u.POW16 | y[m + 2] * u.POW8 | y[m + 3], C.right = y[m + 4] * u.POW24 | y[m + 5] * u.POW16 | y[m + 6] * u.POW8 | y[m + 7], p(C, _);
            var S = C.left, I = C.right;
            g.push(S >> 24 & 255), g.push(S >> 16 & 255), g.push(S >> 8 & 255), g.push(255 & S), g.push(I >> 24 & 255), g.push(I >> 16 & 255), g.push(I >> 8 & 255), g.push(255 & I), m += 8;
          }
          return g[g.length - 1] !== g[g.length - 2] && g[g.length - 1] !== 1 || (c = g[g.length - 1], g.splice(g.length - c, c)), g.map(function(E) {
            return String.fromCharCode(E);
          }).join("");
        }, u.POW2 = Math.pow(2, 2), u.POW3 = Math.pow(2, 3), u.POW4 = Math.pow(2, 4), u.POW8 = Math.pow(2, 8), u.POW16 = Math.pow(2, 16), u.POW24 = Math.pow(2, 24), u.kb = { p: [608135816, 2242054355, 320440878, 57701188, 2752067618, 698298832, 137296536, 3964562569, 1160258022, 953160567, 3193202383, 887688300, 3232508343, 3380367581, 1065670069, 3041331479, 2450970073, 2306472731], s0: [3509652390, 2564797868, 805139163, 3491422135, 3101798381, 1780907670, 3128725573, 4046225305, 614570311, 3012652279, 134345442, 2240740374, 1667834072, 1901547113, 2757295779, 4103290238, 227898511, 1921955416, 1904987480, 2182433518, 2069144605, 3260701109, 2620446009, 720527379, 3318853667, 677414384, 3393288472, 3101374703, 2390351024, 1614419982, 1822297739, 2954791486, 3608508353, 3174124327, 2024746970, 1432378464, 3864339955, 2857741204, 1464375394, 1676153920, 1439316330, 715854006, 3033291828, 289532110, 2706671279, 2087905683, 3018724369, 1668267050, 732546397, 1947742710, 3462151702, 2609353502, 2950085171, 1814351708, 2050118529, 680887927, 999245976, 1800124847, 3300911131, 1713906067, 1641548236, 4213287313, 1216130144, 1575780402, 4018429277, 3917837745, 3693486850, 3949271944, 596196993, 3549867205, 258830323, 2213823033, 772490370, 2760122372, 1774776394, 2652871518, 566650946, 4142492826, 1728879713, 2882767088, 1783734482, 3629395816, 2517608232, 2874225571, 1861159788, 326777828, 3124490320, 2130389656, 2716951837, 967770486, 1724537150, 2185432712, 2364442137, 1164943284, 2105845187, 998989502, 3765401048, 2244026483, 1075463327, 1455516326, 1322494562, 910128902, 469688178, 1117454909, 936433444, 3490320968, 3675253459, 1240580251, 122909385, 2157517691, 634681816, 4142456567, 3825094682, 3061402683, 2540495037, 79693498, 3249098678, 1084186820, 1583128258, 426386531, 1761308591, 1047286709, 322548459, 995290223, 1845252383, 2603652396, 3431023940, 2942221577, 3202600964, 3727903485, 1712269319, 422464435, 3234572375, 1170764815, 3523960633, 3117677531, 1434042557, 442511882, 3600875718, 1076654713, 1738483198, 4213154764, 2393238008, 3677496056, 1014306527, 4251020053, 793779912, 2902807211, 842905082, 4246964064, 1395751752, 1040244610, 2656851899, 3396308128, 445077038, 3742853595, 3577915638, 679411651, 2892444358, 2354009459, 1767581616, 3150600392, 3791627101, 3102740896, 284835224, 4246832056, 1258075500, 768725851, 2589189241, 3069724005, 3532540348, 1274779536, 3789419226, 2764799539, 1660621633, 3471099624, 4011903706, 913787905, 3497959166, 737222580, 2514213453, 2928710040, 3937242737, 1804850592, 3499020752, 2949064160, 2386320175, 2390070455, 2415321851, 4061277028, 2290661394, 2416832540, 1336762016, 1754252060, 3520065937, 3014181293, 791618072, 3188594551, 3933548030, 2332172193, 3852520463, 3043980520, 413987798, 3465142937, 3030929376, 4245938359, 2093235073, 3534596313, 375366246, 2157278981, 2479649556, 555357303, 3870105701, 2008414854, 3344188149, 4221384143, 3956125452, 2067696032, 3594591187, 2921233993, 2428461, 544322398, 577241275, 1471733935, 610547355, 4027169054, 1432588573, 1507829418, 2025931657, 3646575487, 545086370, 48609733, 2200306550, 1653985193, 298326376, 1316178497, 3007786442, 2064951626, 458293330, 2589141269, 3591329599, 3164325604, 727753846, 2179363840, 146436021, 1461446943, 4069977195, 705550613, 3059967265, 3887724982, 4281599278, 3313849956, 1404054877, 2845806497, 146425753, 1854211946], s1: [1266315497, 3048417604, 3681880366, 3289982499, 290971e4, 1235738493, 2632868024, 2414719590, 3970600049, 1771706367, 1449415276, 3266420449, 422970021, 1963543593, 2690192192, 3826793022, 1062508698, 1531092325, 1804592342, 2583117782, 2714934279, 4024971509, 1294809318, 4028980673, 1289560198, 2221992742, 1669523910, 35572830, 157838143, 1052438473, 1016535060, 1802137761, 1753167236, 1386275462, 3080475397, 2857371447, 1040679964, 2145300060, 2390574316, 1461121720, 2956646967, 4031777805, 4028374788, 33600511, 2920084762, 1018524850, 629373528, 3691585981, 3515945977, 2091462646, 2486323059, 586499841, 988145025, 935516892, 3367335476, 2599673255, 2839830854, 265290510, 3972581182, 2759138881, 3795373465, 1005194799, 847297441, 406762289, 1314163512, 1332590856, 1866599683, 4127851711, 750260880, 613907577, 1450815602, 3165620655, 3734664991, 3650291728, 3012275730, 3704569646, 1427272223, 778793252, 1343938022, 2676280711, 2052605720, 1946737175, 3164576444, 3914038668, 3967478842, 3682934266, 1661551462, 3294938066, 4011595847, 840292616, 3712170807, 616741398, 312560963, 711312465, 1351876610, 322626781, 1910503582, 271666773, 2175563734, 1594956187, 70604529, 3617834859, 1007753275, 1495573769, 4069517037, 2549218298, 2663038764, 504708206, 2263041392, 3941167025, 2249088522, 1514023603, 1998579484, 1312622330, 694541497, 2582060303, 2151582166, 1382467621, 776784248, 2618340202, 3323268794, 2497899128, 2784771155, 503983604, 4076293799, 907881277, 423175695, 432175456, 1378068232, 4145222326, 3954048622, 3938656102, 3820766613, 2793130115, 2977904593, 26017576, 3274890735, 3194772133, 1700274565, 1756076034, 4006520079, 3677328699, 720338349, 1533947780, 354530856, 688349552, 3973924725, 1637815568, 332179504, 3949051286, 53804574, 2852348879, 3044236432, 1282449977, 3583942155, 3416972820, 4006381244, 1617046695, 2628476075, 3002303598, 1686838959, 431878346, 2686675385, 1700445008, 1080580658, 1009431731, 832498133, 3223435511, 2605976345, 2271191193, 2516031870, 1648197032, 4164389018, 2548247927, 300782431, 375919233, 238389289, 3353747414, 2531188641, 2019080857, 1475708069, 455242339, 2609103871, 448939670, 3451063019, 1395535956, 2413381860, 1841049896, 1491858159, 885456874, 4264095073, 4001119347, 1565136089, 3898914787, 1108368660, 540939232, 1173283510, 2745871338, 3681308437, 4207628240, 3343053890, 4016749493, 1699691293, 1103962373, 3625875870, 2256883143, 3830138730, 1031889488, 3479347698, 1535977030, 4236805024, 3251091107, 2132092099, 1774941330, 1199868427, 1452454533, 157007616, 2904115357, 342012276, 595725824, 1480756522, 206960106, 497939518, 591360097, 863170706, 2375253569, 3596610801, 1814182875, 2094937945, 3421402208, 1082520231, 3463918190, 2785509508, 435703966, 3908032597, 1641649973, 2842273706, 3305899714, 1510255612, 2148256476, 2655287854, 3276092548, 4258621189, 236887753, 3681803219, 274041037, 1734335097, 3815195456, 3317970021, 1899903192, 1026095262, 4050517792, 356393447, 2410691914, 3873677099, 3682840055], s2: [3913112168, 2491498743, 4132185628, 2489919796, 1091903735, 1979897079, 3170134830, 3567386728, 3557303409, 857797738, 1136121015, 1342202287, 507115054, 2535736646, 337727348, 3213592640, 1301675037, 2528481711, 1895095763, 1721773893, 3216771564, 62756741, 2142006736, 835421444, 2531993523, 1442658625, 3659876326, 2882144922, 676362277, 1392781812, 170690266, 3921047035, 1759253602, 3611846912, 1745797284, 664899054, 1329594018, 3901205900, 3045908486, 2062866102, 2865634940, 3543621612, 3464012697, 1080764994, 553557557, 3656615353, 3996768171, 991055499, 499776247, 1265440854, 648242737, 3940784050, 980351604, 3713745714, 1749149687, 3396870395, 4211799374, 3640570775, 1161844396, 3125318951, 1431517754, 545492359, 4268468663, 3499529547, 1437099964, 2702547544, 3433638243, 2581715763, 2787789398, 1060185593, 1593081372, 2418618748, 4260947970, 69676912, 2159744348, 86519011, 2512459080, 3838209314, 1220612927, 3339683548, 133810670, 1090789135, 1078426020, 1569222167, 845107691, 3583754449, 4072456591, 1091646820, 628848692, 1613405280, 3757631651, 526609435, 236106946, 48312990, 2942717905, 3402727701, 1797494240, 859738849, 992217954, 4005476642, 2243076622, 3870952857, 3732016268, 765654824, 3490871365, 2511836413, 1685915746, 3888969200, 1414112111, 2273134842, 3281911079, 4080962846, 172450625, 2569994100, 980381355, 4109958455, 2819808352, 2716589560, 2568741196, 3681446669, 3329971472, 1835478071, 660984891, 3704678404, 4045999559, 3422617507, 3040415634, 1762651403, 1719377915, 3470491036, 2693910283, 3642056355, 3138596744, 1364962596, 2073328063, 1983633131, 926494387, 3423689081, 2150032023, 4096667949, 1749200295, 3328846651, 309677260, 2016342300, 1779581495, 3079819751, 111262694, 1274766160, 443224088, 298511866, 1025883608, 3806446537, 1145181785, 168956806, 3641502830, 3584813610, 1689216846, 3666258015, 3200248200, 1692713982, 2646376535, 4042768518, 1618508792, 1610833997, 3523052358, 4130873264, 2001055236, 3610705100, 2202168115, 4028541809, 2961195399, 1006657119, 2006996926, 3186142756, 1430667929, 3210227297, 1314452623, 4074634658, 4101304120, 2273951170, 1399257539, 3367210612, 3027628629, 1190975929, 2062231137, 2333990788, 2221543033, 2438960610, 1181637006, 548689776, 2362791313, 3372408396, 3104550113, 3145860560, 296247880, 1970579870, 3078560182, 3769228297, 1714227617, 3291629107, 3898220290, 166772364, 1251581989, 493813264, 448347421, 195405023, 2709975567, 677966185, 3703036547, 1463355134, 2715995803, 1338867538, 1343315457, 2802222074, 2684532164, 233230375, 2599980071, 2000651841, 3277868038, 1638401717, 4028070440, 3237316320, 6314154, 819756386, 300326615, 590932579, 1405279636, 3267499572, 3150704214, 2428286686, 3959192993, 3461946742, 1862657033, 1266418056, 963775037, 2089974820, 2263052895, 1917689273, 448879540, 3550394620, 3981727096, 150775221, 3627908307, 1303187396, 508620638, 2975983352, 2726630617, 1817252668, 1876281319, 1457606340, 908771278, 3720792119, 3617206836, 2455994898, 1729034894, 1080033504], s3: [976866871, 3556439503, 2881648439, 1522871579, 1555064734, 1336096578, 3548522304, 2579274686, 3574697629, 3205460757, 3593280638, 3338716283, 3079412587, 564236357, 2993598910, 1781952180, 1464380207, 3163844217, 3332601554, 1699332808, 1393555694, 1183702653, 3581086237, 1288719814, 691649499, 2847557200, 2895455976, 3193889540, 2717570544, 1781354906, 1676643554, 2592534050, 3230253752, 1126444790, 2770207658, 2633158820, 2210423226, 2615765581, 2414155088, 3127139286, 673620729, 2805611233, 1269405062, 4015350505, 3341807571, 4149409754, 1057255273, 2012875353, 2162469141, 2276492801, 2601117357, 993977747, 3918593370, 2654263191, 753973209, 36408145, 2530585658, 25011837, 3520020182, 2088578344, 530523599, 2918365339, 1524020338, 1518925132, 3760827505, 3759777254, 1202760957, 3985898139, 3906192525, 674977740, 4174734889, 2031300136, 2019492241, 3983892565, 4153806404, 3822280332, 352677332, 2297720250, 60907813, 90501309, 3286998549, 1016092578, 2535922412, 2839152426, 457141659, 509813237, 4120667899, 652014361, 1966332200, 2975202805, 55981186, 2327461051, 676427537, 3255491064, 2882294119, 3433927263, 1307055953, 942726286, 933058658, 2468411793, 3933900994, 4215176142, 1361170020, 2001714738, 2830558078, 3274259782, 1222529897, 1679025792, 2729314320, 3714953764, 1770335741, 151462246, 3013232138, 1682292957, 1483529935, 471910574, 1539241949, 458788160, 3436315007, 1807016891, 3718408830, 978976581, 1043663428, 3165965781, 1927990952, 4200891579, 2372276910, 3208408903, 3533431907, 1412390302, 2931980059, 4132332400, 1947078029, 3881505623, 4168226417, 2941484381, 1077988104, 1320477388, 886195818, 18198404, 3786409e3, 2509781533, 112762804, 3463356488, 1866414978, 891333506, 18488651, 661792760, 1628790961, 3885187036, 3141171499, 876946877, 2693282273, 1372485963, 791857591, 2686433993, 3759982718, 3167212022, 3472953795, 2716379847, 445679433, 3561995674, 3504004811, 3574258232, 54117162, 3331405415, 2381918588, 3769707343, 4154350007, 1140177722, 4074052095, 668550556, 3214352940, 367459370, 261225585, 2610173221, 4209349473, 3468074219, 3265815641, 314222801, 3066103646, 3808782860, 282218597, 3406013506, 3773591054, 379116347, 1285071038, 846784868, 2669647154, 3771962079, 3550491691, 2305946142, 453669953, 1268987020, 3317592352, 3279303384, 3744833421, 2610507566, 3859509063, 266596637, 3847019092, 517658769, 3462560207, 3443424879, 370717030, 4247526661, 2224018117, 4143653529, 4112773975, 2788324899, 2477274417, 1456262402, 2901442914, 1517677493, 1846949527, 2295493580, 3734397586, 2176403920, 1280348187, 1908823572, 3871786941, 846861322, 1172426758, 3287448474, 3383383037, 1655181056, 3139813346, 901632758, 1897031941, 2986607138, 3066810236, 3447102507, 1393639104, 373351379, 950779232, 625454576, 3124240540, 4148612726, 2007998917, 544563296, 2244738638, 2330496472, 2058025392, 1291430526, 424198748, 50039436, 29584100, 3605783033, 2429876329, 2791104160, 1057563949, 3255363231, 3075367218, 3463963227, 1469046755, 985887462], k: [202, 218, 204, 100] }, u;
      }(), r = "dkdl", n = function() {
        function u(c) {
          this._gk = c ?? r;
        }
        return u.prototype._ldk = function(c) {
          for (var d = "", p = 0, _ = c.length; p < _; p++)
            d += String.fromCharCode(c[p] >> 1);
          return d;
        }, u.prototype.get = function() {
          return this._gk + this._ldk(o.kb.k);
        }, u;
      }(), s = function() {
        function u() {
        }
        return u.run = function(c, d) {
          return d = new n(d).get(), o.encrypt(c, d);
        }, u;
      }();
      a.r = s;
      var l = function(u) {
        function c() {
          var d = u.call(this) || this;
          return Object.setPrototypeOf(d, c.prototype), d;
        }
        return e(c, u), c;
      }(Error), h = function() {
        function u(c, d) {
          this._gk = d, this._code = c, this._lic = this.run();
        }
        return u.prototype.run = function() {
          for (var c = {}, d = o.decrypt(this._code, new n(this._gk).get()).split(";"), p = 0, _ = d.length; p < _; p++) {
            var g, y = (g = d[p].split("="))[0];
            (g = g[1]) && 0 < g.length && (c[y] = g);
          }
          return c;
        }, Object.defineProperty(u.prototype, "lic", { get: function() {
          return this._lic;
        }, enumerable: !1, configurable: !0 }), u.prototype.is = function(c, d) {
          return c in this._lic && this._lic[c] === d;
        }, u.prototype.includes = function(c, d) {
          return c in this._lic && 0 <= d.indexOf(this._lic[c]);
        }, u.prototype.expired = function(c, d) {
          return !(c in this._lic) || !this._lic[c] || (c = this._lic[c], d = (d ? new Date(new Date(c).setMonth(new Date(c).getMonth() + d)) : new Date(c)).getTime(), c = Date.now(), !isNaN(d) && d < c);
        }, u.prototype.validate = function(c) {
          var d = this, p = !1;
          try {
            c.forEach(function(_) {
              var g = Object.keys(_), y = Object.values(_);
              g.forEach(function(m, v) {
                if (v = y[v], !(p = Array.isArray(v) ? d.includes(m, v) : d.is(m, v)))
                  throw new l();
              });
            });
          } catch (_) {
            if (!(_ instanceof l))
              throw _;
            p = !1;
          }
          return p;
        }, u;
      }();
      a.h = h;
    })(sh);
    var hf = function() {
      var a;
      try {
        if (!(a = realGrid2Lic))
          return 1;
      } catch {
        return 1;
      }
      var i = null;
      try {
        if (!(i = new sh.h(a, "dkdl")))
          return 1;
      } catch {
        return 1;
      }
      if (!i.is("name", $.name))
        return 2;
      var e = window?.location, t = e ? e.hostname : "", o = e ? e.pathname.toLowerCase() : "", r = lf, n = i.is("lic", "Enterprise"), s = i.is("lic", "Evaluation"), l = i.is("lic", "Limited"), h = i.is("lic", "Subscription"), u = r(i.lic.server, t, o), c = !n && r(i.lic.server, "*", null);
      return n || s || l || h ? u || c ? !n && i.expired("expire", 1) ? c ? 32 : 16 : ($.license = i.lic.lic, $.expire = i.lic.expire, 0) : 8 : 64;
    }, uf = function(a) {
      function i(e) {
        var t = a.call(this, "rowGroupHeaderCell") || this;
        return t._rowGroup = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._rowGroup = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "text", { get: function() {
        return this.item instanceof He ? this._rowGroup.getHeaderText(this.item) : "";
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
      }, enumerable: !1, configurable: !0 }), i;
    }(st), ai = function(a) {
      function i(e) {
        var t = a.call(this, "rowGroupFooterCell") || this;
        return t._footerIndex = 0, t._value = NaN, t._rowGroup = e, t;
      }
      return w(i, a), i.$_getValue = function(e, t) {
        if (t && t.dataIndex >= 0) {
          var o = t.grid, r = e.parent, n = r.getFooterIndex(e), s = t.groupFooters.get(n), l = s && s.expression, h = s && s.valueCallback;
          if (l || h) {
            var u = null;
            if (l) {
              var c = o.rowGroupSummaryRuntime;
              c.setColumn(t, t.grid.summarizer), c.setItem(r), u = s.evaluate(c);
            }
            return h ? h(o.handler, t, n, r, u) : u;
          }
          if (r && o.isGroupedColumn(t)) {
            var d = o.rowGroup.getFooterText(r);
            return d ?? void 0;
          }
        }
      }, i.getValue = function(e, t) {
        try {
          return i.$_getValue(e, t);
        } catch {
          return st.ERROR;
        }
      }, i.$_displayText = function(e, t, o, r) {
        var n = "";
        if (o !== void 0 && t) {
          if (o instanceof Date) {
            var s = r.datetimeWriter;
            n = s ? s.getText(o) : String(o);
          } else if (typeof o == "number") {
            var l = r.numberFormatter;
            n = l ? l.getText(o) : isNaN(o) ? "" : String(o);
          } else
            typeof o == "string" ? n = o + "" : typeof o == "boolean" && (n = String(o));
          if (n) {
            var h = r.prefix;
            h && (n = h + n), (h = r.suffix) && (n += h);
          }
        }
        if (!n) {
          var u = b.cast(e.parent, He);
          if (t) {
            var c = t.groupFooters.get(u.getFooterIndex(e));
            c && (n = c.text);
          }
        }
        return n || "";
      }, i.prototype._doDispose = function() {
        this._rowGroup = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "footerIndex", { get: function() {
        return this._footerIndex;
      }, enumerable: !1, configurable: !0 }), i.prototype.calculate = function(e) {
        this._value = NaN, this._error = null;
        try {
          this._value = i.$_getValue(this.index.item || e, this.index.dataColumn);
        } catch (t) {
          this._error = t, this._errorDetail = t, b.log("FOOTER ERROR: " + t);
        }
      }, i.prototype.getDisplayText = function(e) {
        return this._error ? st.ERROR : i.$_displayText(this.index.item, this.index.dataColumn, this._value, e);
      }, i.prototype.getSummary = function() {
        return this._getSummary(this.valueColumn, this._footerIndex);
      }, i.prototype.getTemplate = function(e) {
        var t = this._getSummary(this.valueColumn, this._footerIndex);
        return t ? t.realizeGroupSummary(this, e) : void 0;
      }, Object.defineProperty(i.prototype, "value", { get: function() {
        return this._value;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "level", { get: function() {
        return this.index.item.level;
      }, enumerable: !1, configurable: !0 }), i.prototype.setIndex = function(e) {
        a.prototype.setIndex.call(this, e), this._footerIndex = e.item.$_footerIndex;
      }, i.prototype._getSummary = function(e, t) {
        return e.groupFooters.get(t);
      }, i;
    }(st), cf = function(a) {
      function i() {
        var e = a.call(this, "rowGroupBarCell") || this;
        return e._level = 0, e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "level", { get: function() {
        return this.item.level;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "getText", { get: function() {
        return "";
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
      }, enumerable: !1, configurable: !0 }), i;
    }(st), Is = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._index = 0, t.$_owner = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "index", { get: function() {
        return this._index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return this._styleName;
      }, set: function(e) {
        e != this._styleName && (this._styleName = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "exportStyleName", { get: function() {
        return this._exportStyleName;
      }, set: function(e) {
        this._exportStyleName = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleCallback", { get: function() {
        return this._styleCallback;
      }, set: function(e) {
        e !== this._styleCallback && (this._styleCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellStyleCallback", { get: function() {
        return this._cellStyleCallback;
      }, set: function(e) {
        e !== this._cellStyleCallback && (this._cellStyleCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype._changed = function() {
        this.$_owner && this.$_owner.$_itemChanged(this);
      }, i;
    }(J), df = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._items = [], t._owner = e, t._items.push(new Is(t)), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        for (var e = 0, t = this._items; e < t.length; e++)
          t[e].dispose();
        this._items = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "owner", { get: function() {
        return this._owner;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, set: function(e) {
        e = Math.max(e, 1);
        var t = this._items;
        if (e !== t.length) {
          for (var o = void 0; t.length < e; )
            (o = new Is(this))._index = t.length, t.push(o);
          for (; t.length > e; )
            (o = t.pop()).dispose();
          this.$_itemChanged(null);
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "items", { get: function() {
        return this._items;
      }, enumerable: !1, configurable: !0 }), i.prototype.get = function(e) {
        return this._items[e];
      }, i.prototype.assignFrom = function(e) {
        a.prototype.assignFrom.call(this, e);
        var t = this._items, o = e && e.items ? b.makeArray(e.items, !0) : e;
        if (b.isArray(o))
          for (var r = Math.max(o.length, 1), n = 0; n < r; n++)
            t[n] || (t[n] = new Is(this)), t[n].assignFrom(o[n]), t[n]._index = n;
        else
          t[0].assignFrom(o), t[0]._index = 0;
        this.$_itemChanged(null);
      }, i.prototype.$_itemChanged = function(e) {
        this._owner && this._owner.rowGroupFooterChanged(e);
      }, i;
    }(J), Ss = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._mergeMode = !1, t._sorting = !0, t._expandedAdornments = f.RowGroupAdornments.BOTH, t._collapsedAdornments = f.RowGroupAdornments.HEADER, t._indentVisible = !0, t._levelIndent = 20, t._mergeHeaderIndenting = !0, t._mergeFooterIndenting = !0, t._headerStatement = "${groupField}: ${groupValue} - ${rowCount} rows", t._expanderVisibility = f.ExpanderVisibility.DEFAULT, t._headerCell = new uf(t), t._footerCell = new ai(t), t._barCell = new cf(), t._headerStatementExpr = new dr(t._headerStatement), t._footerStatementExpr = new dr(), t._statementRuntime = new Tc(), t._footerFormatter = { numberFormatter: null, datetimeWriter: null, booleanFormatter: null, textFormatter: null, prefix: "", suffix: "" }, t._footers = new df(t), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._footers = this._footers.dispose(), a.prototype._doDispose.call(this);
      }, i.prototype.rowGroupFooterChanged = function(e) {
        this._counterAware && this._counterAware.groupfFooterCounterChanged(this);
      }, i.prototype.getGroupFooterCount = function(e) {
        return this._footers.count;
      }, i.prototype.setCounterAware = function(e) {
        this._counterAware = e;
      }, Object.defineProperty(i.prototype, "mergeMode", { get: function() {
        return this._mergeMode;
      }, set: function(e) {
        e != this._mergeMode && (this._mergeMode = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sorting", { get: function() {
        return this._sorting;
      }, set: function(e) {
        e != this._sorting && (this._sorting = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandedAdornments", { get: function() {
        return this._expandedAdornments;
      }, set: function(e) {
        e != this._expandedAdornments && (this._expandedAdornments = e, this._grid && this._grid.$_rowGroupAdornmentsChanged(this));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "collapsedAdornments", { get: function() {
        return this._collapsedAdornments;
      }, set: function(e) {
        e !== f.RowGroupAdornments.NONE && e != this._collapsedAdornments && (this._collapsedAdornments = e, this._grid && this._grid.$_rowGroupAdornmentsChanged(this));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "createFooterCallback", { get: function() {
        return this._createFooterCallback;
      }, set: function(e) {
        e !== this._createFooterCallback && (this._createFooterCallback = e, this._grid && this._grid.$_rowGroupAdornmentsChanged(this, !0));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "indentVisible", { get: function() {
        return this._indentVisible;
      }, set: function(e) {
        e != this._indentVisible && (this._indentVisible = e, this._grid && this._grid.$_rowGroupAdornmentsChanged(this), this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "levelIndent", { get: function() {
        return this._levelIndent;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._levelIndent && (this._levelIndent = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeHeaderIndenting", { get: function() {
        return this._mergeHeaderIndenting;
      }, set: function(e) {
        e != this._mergeHeaderIndenting && (this._mergeHeaderIndenting = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeFooterIndenting", { get: function() {
        return this._mergeFooterIndenting;
      }, set: function(e) {
        e != this._mergeFooterIndenting && (this._mergeFooterIndenting = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footers", { get: function() {
        return this._footers;
      }, set: function(e) {
        this.setFooters(e);
      }, enumerable: !1, configurable: !0 }), i.prototype.setFooters = function(e) {
        this._footers.assignFrom(e);
      }, Object.defineProperty(i.prototype, "headerStatement", { get: function() {
        return this._headerStatement;
      }, set: function(e) {
        e !== this._headerStatement && (this._headerStatement = e, this._headerStatementExpr.source = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerCallback", { get: function() {
        return this._headerCallback;
      }, set: function(e) {
        this._headerCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerStatement", { get: function() {
        return this._footerStatement;
      }, set: function(e) {
        e != this._footerStatement && (this._footerStatement = e, this._footerStatementExpr.source = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergeExpanderVisibility", { get: function() {
        return this.expanderVisibility;
      }, set: function(e) {
        this.expanderVisibility = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expanderVisibility", { get: function() {
        return this._expanderVisibility;
      }, set: function(e) {
        e !== this.expanderVisibility && (this._expanderVisibility = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expanderVisibleCallback", { get: function() {
        return this._expanderVisibleCallback;
      }, set: function(e) {
        this._expanderVisibleCallback = e, this._changed();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "valueForGroupCallback", { get: function() {
        return this._valueForGroupCallback;
      }, set: function(e) {
        this._valueForGroupCallback = e, this._grid && this._grid.$_rowGroupAdornmentsChanged(this, !0), this._changed();
      }, enumerable: !1, configurable: !0 }), i.prototype.getHeaderCell = function(e) {
        return this._headerCell.setIndex(W.temp(this.owner, e.index)), this._headerCell;
      }, i.prototype.getFooterCell = function(e) {
        var t = e.item;
        return this._footerCell.setIndex(e), this._footerCell.calculate(t), this._footerCell;
      }, i.prototype.getFooterStyleName = function(e) {
        var t = this._footers.get(e.$_footerIndex), o = "rg-rowgroup-footer rg-rowgroup-footer-level-" + String(e.parent.level), r = t.styleName, n = t.styleCallback;
        return r && (o += " " + r), n && (r = n(this._grid.handler, e.index, t.index)) && (o += " " + r), o;
      }, i.prototype.getFooterCellStyle = function(e, t, o) {
        o === void 0 && (o = !0);
        var r = e.footerIndex, n = this._footers.get(r).cellStyleCallback, s = e.index.column.groupFooters.get(e.footerIndex);
        if (n) {
          var l = n(this._grid.handler, e);
          t.assign(l);
        }
        if (s) {
          var h = s.styleCallback;
          if (h) {
            var u = h(this._grid.handler, e);
            t.assign(u);
          }
        }
        return !t.styleName && s && (t.styleName = s.styleName), o && (t.styleName ? t.styleName = i.FOOTER_CELL_STYLE + " " + t.styleName : t.styleName = i.FOOTER_CELL_STYLE), t;
      }, i.prototype.getFooterCellFormatters = function(e, t) {
        return t && e ? (t.numberFormatter = t.numberFormatter || e.numberFormatter, t.datetimeWriter = t.datetimeWriter || e.datetimeWriter, t.booleanFormatter = t.booleanFormatter || e.boolFormatter, t.textFormatter = t.textFormatter || e.textFormatter, t.prefix = t.prefix || e.prefix, t.suffix = t.suffix || e.suffix) : e && ((t = this._footerFormatter).numberFormatter = e.numberFormatter, t.datetimeWriter = e.datetimeWriter, t.booleanFormatter = e.boolFormatter, t.textFormatter = e.textFormatter, t.prefix = e.prefix, t.suffix = e.suffix), t;
      }, i.prototype.getBarCell = function(e) {
        return this._barCell.setIndex(e), this._barCell;
      }, i.prototype.getHeaderText = function(e) {
        return !this._headerStatement && this._headerCallback ? this._headerCallback(this.owner.handler, e) : (this._statementRuntime.setGrid(this.owner), this._statementRuntime.setGroup(e), this._headerStatementExpr.evaluate(this._statementRuntime));
      }, i.prototype.getFooterText = function(e) {
        if (this._footerStatement && this._footerStatementExpr)
          return this._statementRuntime.setGrid(this.owner), this._statementRuntime.setGroup(e), this._footerStatementExpr.evaluate(this._statementRuntime);
      }, i.prototype._doChanged = function() {
        this.owner.$_rowGroupChanged(this);
      }, i.prototype.$_isMultiLine = function(e) {
        var t = e.visible ? 1 : 0, o = e.footerCount;
        if ((t += Math.max(e.descendantCount, e.count) - o) > 1)
          return !0;
        for (var r = 0; r < o; r++)
          if (e.getFooter(r).visible && ++t > 1)
            return !0;
        return !1;
      }, i.prototype.$_isExpanderVisible = function(e) {
        if (!e.expanded)
          return !0;
        if (this._expanderVisibleCallback) {
          var t = this._expanderVisibleCallback.call(this._grid, this._grid.handler, e);
          return t == null || t;
        }
        switch (this._expanderVisibility) {
          case f.ExpanderVisibility.NONE:
            return !1;
          case f.ExpanderVisibility.ALWAYS:
            return !0;
          default:
            return this.$_isMultiLine(e);
        }
      }, i.FOOTER_CELL_STYLE = "rg-rowgroup-footer-cell", i.FOOTER_CELL_RENDERER = "rg-rowgroup-footer-renderer", i;
    }(_i), pf = function(a) {
      function i(e) {
        var t = a.call(this, e.doc, "gridDebugLayer") || this;
        return t._owner = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype.layout = function() {
        var e = this._owner.layoutManager;
        this.$_setBounds(this._grid, e.gridBounds.clone().inflate(-1, -1));
        var t = e.dataBounds.clone();
        t.offset(e.contentBounds.x, e.contentBounds.y), this.$_setBounds(this._data, t);
      }, i.prototype._getCssSelector = function() {
        return "rg-debug-layer";
      }, i.prototype._initDom = function(e) {
        var t = e.style, o = te(e);
        t.position = "absolute", e.appendChild(this._client = this.$_createElement(o, "Client")), e.appendChild(this._topContent = this.$_createElement(o, "Top Content")), e.appendChild(this._leftContent = this.$_createElement(o, "Left Content")), e.appendChild(this._fixedContent = this.$_createElement(o, "Fixed Content")), e.appendChild(this._content = this.$_createElement(o, "Content")), e.appendChild(this._rightContent = this.$_createElement(o, "Right Content")), e.appendChild(this._grid = this.$_createElement(o, "Grid Bounds", "b")), e.appendChild(this._data = this.$_createElement(o, "Data Bounds", "g")), e.appendChild(this._nonFixed = this.$_createElement(o, "Non Fixed", "g"));
      }, i.prototype.$_createElement = function(e, t, o) {
        o === void 0 && (o = "r");
        var r = e.createElement("span"), n = r.style;
        return n.display = "inline-block", n.position = "absolute", n.boxSizing = "border-box", n.pointerEvents = "none", o == "b" ? (n.border = "2px dashed rgba(0, 0, 255, 0.5)", n.color = "blue") : o == "g" ? (n.paddingTop = "20px", n.border = "2px solid rgba(0, 128, 0, 0.5)", n.color = "rgb(0, 128, 0)") : (n.border = "1px solid rgba(255, 0, 0, 0.7)", n.color = "red"), n.fontWeight = "bold", n.textAlign = "center", n.verticalAlign = "middle", n.whiteSpace = "normal", r[b.TextProp] = t, r;
      }, i.prototype.$_setBounds = function(e, t) {
        var o = e.style;
        t.isEmpty ? o.display = "none" : (o.display = "inline-block", o.left = t.x + "px", o.top = t.y + "px", o.width = t.width + "px", o.height = t.height + "px", o.lineHeight = t.height + "px");
      }, i;
    }(Ve);
    (function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._min = 0, e._max = 100, e._step = 1, e._next = 0, e._completed = !1, e._timer = void 0, e;
      }
      w(i, a), Object.defineProperty(i.prototype, "min", { get: function() {
        return this._min;
      }, set: function(e) {
        this._min = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "max", { get: function() {
        return this._max;
      }, set: function(e) {
        this._max = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "step", { get: function() {
        return this._step;
      }, set: function(e) {
        this._step = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.execute = function(e) {
        if (e) {
          this._runner = e, this._next = this._min;
          var t = be(e.container);
          e.container instanceof t.HTMLElement && (this._view.setProperties(this._min, this._max, this._min), this._view.show(e.container)), this.$_runNext();
        }
      }, i.prototype.$_runNext = function() {
        if (this._next < this._max) {
          var e = this._runner.run(this._next);
          if (this._next += this._step, this._view.setPosition(this._next, e), this._next < this._max)
            return void setTimeout(function() {
              this.$_runNext();
            }.bind(this), 0);
        }
        !this._completed && this.$_complete();
      }, i.prototype.$_complete = function() {
        try {
          this._runner.complete && this._runner.complete();
        } finally {
          this._completed = !0, this._view.close();
        }
      };
    })(Be);
    var $r, ff = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        t._message = "Load data...", t._min = 0, t._max = 0, t._pos = 0;
        var o = te(e);
        return t._dom = t.$_createElement(o), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "message", { get: function() {
        return this._message;
      }, set: function(e) {
        this._message = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "position", { get: function() {
        return this._pos;
      }, enumerable: !1, configurable: !0 }), i.prototype.setPosition = function(e, t) {
        (e = Math.max(this._min, Math.min(this._max, e))) != this._pos && (this._pos = e, this._message = t, this.$_refreshView());
      }, i.prototype.setProperties = function(e, t, o, r, n) {
        r === void 0 && (r = null), n === void 0 && (n = !1), this._min = e, this._max = Math.max(e, t), this._max == this._min && (this._max = this._min + 1), this._pos = Math.max(this._min, Math.min(this._max, o)), this._message = r, n && this.$_refreshView();
      }, i.prototype.setZIndex = function(e) {
        this._dom.style.zIndex = String(e + 5);
      }, i.prototype.show = function(e, t) {
        t === void 0 && (t = null), this._container = e, t && this.$_setMessage(t), e.appendChild(this._dom);
        var o = e.getBoundingClientRect(), r = b.getSize(this._dom);
        b.move(this._dom, (o.width - r.width) / 2, (o.height - r.height) / 3);
      }, i.prototype.close = function() {
        b.detach(this._dom);
      }, i.prototype.$_createElement = function(e) {
        var t = e.createElement("div");
        t.className = "rg-progress";
        var o = t.style;
        return o.position = "absolute", o.zIndex = "3001", o.minWidth = "250px", o.padding = "8px 10px", t.appendChild(t.$_bar = this.$_createBar(e)), t.appendChild(t.$_msg = this.$_createMsg(e)), t;
      }, i.prototype.$_createBar = function(e) {
        var t = e.createElement("div");
        t.className = "rg-progress-bar";
        var o = t.style;
        o.width = "100%", o.height = "13px", o.marginBottom = "4px";
        var r = e.createElement("div");
        return r.className = "rg-progress-progress", (o = r.style).height = "100%", o.width = "0px", t.appendChild(t.$_led = r), t;
      }, i.prototype.$_createMsg = function(e) {
        var t = e.createElement("div"), o = e.createElement("span");
        o.className = "rg-progress-message";
        var r = t.style;
        return r.width = "100%", r.textAlign = "center", t.appendChild(t.$_span = o), t;
      }, i.prototype.$_refreshView = function() {
        var e = this._dom, t = e.$_bar, o = t.$_led;
        e.$_msg.$_span.innerHTML = b.htmlEncode(this._message);
        var r = b.getSize(t);
        o.style.width = Math.min(r.width - 1, Math.floor(r.width * (this._pos - this._min) / (this._max - this._min))) + "px";
      }, i.prototype.$_setMessage = function(e) {
        this._dom.$_msg.$_span.innerHTML = b.htmlEncode(this._message);
      }, i;
    }(Be), _f = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._container = e, t;
      }
      return w(i, a), i.prototype.show = function(e, t, o) {
        this._view || (this._view = new ff(e)), this._view.setZIndex(o), this._view.show(e || this._container, t || "Load data...");
      }, i.prototype.close = function() {
        this._view && this._view.close();
      }, i.prototype.setProperties = function(e, t, o, r) {
        this._view && (r || (r = this._title || "Load data... ", t > e && (r += Math.floor(100 * (o - e) / (t - e)) + "% (" + o + " / " + t + ")")), this._view.setProperties(e, t, o, r, !0));
      }, i.prototype.showLoader = function(e, t) {
        this._loaderView || (this._loaderView = new gf(e)), this._loaderView.setZIndex(t), this._loaderView.show(e || this._container);
      }, i.prototype.closeLoader = function() {
        this._loaderView && this._loaderView.close();
      }, i.prototype.loaderShowing = function() {
        return this._loaderView && this._loaderView.isShowing();
      }, i;
    }(Be), gf = function(a) {
      function i(e) {
        var t = a.call(this) || this, o = te(e);
        return t._dom = t.$_createElement(o), t;
      }
      return w(i, a), i.prototype.show = function(e) {
        e.appendChild(this._dom);
      }, i.prototype.setZIndex = function(e) {
        this._dom.style.zIndex = String(e + 5);
      }, i.prototype.close = function() {
        b.detach(this._dom);
      }, i.prototype.isShowing = function() {
        return !!this._dom.parentElement;
      }, i.prototype.$_createElement = function(e) {
        var t = e.createElement("div");
        return t.className = "rg-load-indicator", t.style.position = "absolute", t;
      }, i;
    }(Be), yf = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._title = "리얼그리드 테이블 (테이블에서 엔터키로 버튼 링크등의 기능이 실행됩니다)", t._description = "${columns} 열로 이루어진 데이터 테이블입니다.", t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "title", { get: function() {
        return this._title;
      }, set: function(e) {
        this._title !== e && (this._title = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "description", { get: function() {
        return this._description;
      }, set: function(e) {
        this._description !== e && (this._description = e);
      }, enumerable: !1, configurable: !0 }), i.prototype.getDescription = function() {
        var e, t = this.title ? "<strong>" + this.title + "</strong>" : "", o = "";
        if (e = this.grid) {
          var r = e.layoutManager.cellLayouts._dataCells, n = r && r[0];
          n && n.forEach(function(s) {
            s.isProxy || (o += s.displayText + ", ");
          });
        }
        return t + (o = this.description ? "<span>" + this.description.replace("${columns}", o.substr(0, o.length - 2)) + "</span>" : "");
      }, i;
    }(lt), mf = function(a) {
      function i(e) {
        var t = a.call(this, e.doc, "watermark") || this;
        return t._grid = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "message", { get: function() {
        return this._message;
      }, set: function(e) {
        this._message = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "active", { get: function() {
        return this._active;
      }, set: function(e) {
        this._active = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.refresh = function() {
        var e = this._grid.container._lkCheck === 32;
        if (e) {
          this._active = !0;
          var t = this._dom;
          t && !t.parentElement && this._grid._dom.appendChild(t), this.$_setDiv(t, e), this.$_setSpan(this._span, e, this.message || Eo.decode("6riw6rCE7J20IOunjOujjOuQmOyXiOyKteuLiOuLpA==")), this.resetSize(), this._grid.container.disabled = !0;
        }
      }, i.prototype._getCssSelector = function() {
        return "rg-watermark-layer";
      }, i.prototype._initDom = function(e) {
        var t = te(e);
        e.appendChild(this._span = this.$_createElement(t, ""));
      }, i.prototype._setSizeStyle = function(e) {
        var t = this._active;
        e.width = t ? "100%" : "0px", e.height = t ? "100%" : "0px";
      }, i.prototype.$_setDiv = function(e, t) {
        var o = e.style;
        o.position = "absolute", o.zIndex = "1", t ? (this.setImportantStyle("background-color", "rgba(80, 80, 80, 0.5)"), this.setImportantStyle("display", "block"), o.removeProperty("pointer-events")) : o.pointerEvents = "none";
      }, i.prototype.$_setSpan = function(e, t, o) {
        var r = e.style;
        t && (r.display = "inline-block", r.position = "absolute", r.boxSizing = "border-box", r.pointerEvents = "none", r.fontWeight = "bold", r.textAlign = "center", r.verticalAlign = "middle", r.whiteSpace = "normal", r.top = "50%", r.left = "50%", r.transform = "translate(-50%, -50%)", r.fontSize = "50px", e[b.TextProp] = o);
      }, i.prototype.$_createElement = function(e, t) {
        return e.createElement("span");
      }, i;
    }(Ve), ah = function(a) {
      function i() {
        return a.call(this, "filterPanelCell") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i;
    }(st), bf = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._showInput = !0, t._height = 23, t._minRowHeight = 23, t._filterDelay = 500, t._ignoreCase = !0, t._trimData = !1, t._beforeCommit = !0, t._defaultNumberOperator = f.InlineFilterOperator.GREATER_EQUAL, t._defaultTextOperator = f.InlineFilterOperator.CONTAINS, t._defaultDateOperator = f.InlineFilterOperator.GREATER_EQUAL, t.visible = !1, t._cell = new ah(), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "height", { get: function() {
        return this._height;
      }, set: function(e) {
        e !== this._height && (this._height = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "minRowHeight", { get: function() {
        return this._minRowHeight;
      }, set: function(e) {
        e !== this._minRowHeight && (this._minRowHeight = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showInput", { get: function() {
        return this._showInput;
      }, set: function(e) {
        e != this._showInput && (this._showInput = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "ignoreCase", { get: function() {
        return this._ignoreCase;
      }, set: function(e) {
        e !== this._ignoreCase && (this._ignoreCase = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterDelay", { get: function() {
        return this._filterDelay;
      }, set: function(e) {
        this._filterDelay = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "beforeCommit", { get: function() {
        return this._beforeCommit;
      }, set: function(e) {
        e != this._beforeCommit && (this._beforeCommit = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "textOperators", { get: function() {
        return this._textOperators || i.$_DefaultTextOperators;
      }, set: function(e) {
        this._grid.closePopups(!1), this._textOperators = this.$_setOperators(e), this.$_getPopup(i.$_TEXT_POPUP, this.textOperators, !0);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "numberOperators", { get: function() {
        return this._numberOperators || i.$_DefaultNumberOperators;
      }, set: function(e) {
        this._grid.closePopups(!1), this._numberOperators = this.$_setOperators(e), this.$_getPopup(i.$_NUMBER_POPUP, this.numberOperators, !0);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dateOperators", { get: function() {
        return this._dateOperators || i.$_DefaultDateOperators;
      }, set: function(e) {
        this._grid.closePopups(!1), this._dateOperators = this.$_setOperators(e), this.$_getPopup(i.$_DATE_POPUP, this.dateOperators, !0);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "trimData", { get: function() {
        return this._trimData;
      }, set: function(e) {
        e !== this._trimData && (this._trimData = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterPanelCallback", { get: function() {
        return this._filterPanelCallback;
      }, set: function(e) {
        this._filterPanelCallback = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.getPopup = function(e) {
        switch (e.valueType) {
          case f.ValueType.DATE:
          case f.ValueType.DATETIME:
            return this.$_getPopup(i.$_DATE_POPUP, this.dateOperators, !1);
          case f.ValueType.NUMBER:
          case f.ValueType.UINT:
          case f.ValueType.INT:
          case f.ValueType.UNUM:
            return this.$_getPopup(i.$_NUMBER_POPUP, this.numberOperators, !1);
          case f.ValueType.TEXT:
          case f.ValueType.CHAR:
            return this.$_getPopup(i.$_TEXT_POPUP, this.textOperators, !1);
        }
      }, i.prototype.clearInput = function(e) {
        (typeof e != "string" || (e = this._grid.columnByName(e))) && this._grid.clearInlineFilter(e);
      }, i.prototype.getCell = function(e) {
        var t = this._cell, o = e.getDataColumn();
        return t.index.set(-1, o), t.showInput = !!o && o.filterable && (this.showInput ? o.showInlineFilter !== !1 : o.showInlineFilter), t.filterOperator = o._inlineFilterOp || this.$_getDefaultOperator(o), t.filterText = o._inlineFilterText || "", t;
      }, i.prototype.assignFrom = function(e) {
        a.prototype.assignFrom.call(this, e);
      }, i.prototype._doChanged = function() {
        this._grid && this._grid.invalidatePosition();
      }, i.prototype.$_getPopup = function(e, t, o) {
        var r = this._grid, n = r.popupMenuManager, s = n.getMenu(e);
        if (!s || o) {
          for (var l = [], h = Object.keys(t), u = r.filterOperatorCallback.bind(r), c = 0, d = h; c < d.length; c++) {
            var p = d[c], _ = new Go(null, { label: t[p], tag: p, styleName: "rg-inline-filter-icon rg-inline-filter-".concat(b.camelToHyphen(p)), callback: u });
            l.push(_);
          }
          s = n.addMenu(e, l, !0, null);
        }
        return s.name;
      }, i.prototype.$_getDefaultOperator = function(e) {
        switch (e.valueType) {
          case f.ValueType.DATE:
          case f.ValueType.DATETIME:
            return this._defaultDateOperator;
          case f.ValueType.NUMBER:
          case f.ValueType.UNUM:
          case f.ValueType.UINT:
          case f.ValueType.INT:
            return this._defaultNumberOperator;
          case f.ValueType.CHAR:
          case f.ValueType.TEXT:
            return this._defaultTextOperator;
        }
      }, i.prototype._createCell = function() {
        return new ah();
      }, i.prototype.$_setOperators = function(e) {
        var t, o = Object.keys(e);
        if (o.length <= 0) {
          var r = Object.keys(f.InlineFilterOperator);
          t = {};
          for (var n = 0; n < o.length; n++)
            for (var s = o[n], l = 0; l < r.length; l++)
              f.InlineFilterOperator[r[l]].toLowerCase() == s.toLowerCase() && (t[f.InlineFilterOperator[r[l]]] = e[s]);
        }
        return t;
      }, i.$_TEXT_POPUP = "$$_textOperators_$$", i.$_NUMBER_POPUP = "$$_numberOperators_$$", i.$_DATE_POPUP = "$$_dateOperators_$$", i.$_DefaultTextOperators = { contains: "포함", notContains: "포함하지 않음", startsWith: "시작 문자", endsWith: "끝 문자", equal: "같음", notEqual: "같지 않음", empty: "값 없음", reset: "초기화" }, i.$_DefaultNumberOperators = { equal: "같음", notEqual: "같지 않음", greater: "보다 큼", greaterEqual: "크거나 같음", lower: "보다 작음", lowerEqual: "작거나 같음", between: "범위", empty: "값 없음", reset: "초기화" }, i.$_DefaultDateOperators = { contains: "포함", notContains: "포함하지 않음", startsWith: "시작 문자", endsWith: "끝 문자", equal: "같음", notEqual: "같지 않음", greater: "보다 큼", greaterEqual: "크거나 같음", lower: "보다 작음", lowerEqual: "작거나 같음", empty: "값 없음", reset: "초기화" }, i;
    }(_i), vf = function(a) {
      function i() {
        var e = a !== null && a.apply(this, arguments) || this;
        return e.input = null, e.operatorButton = null, e.popupMenu = null, e;
      }
      return w(i, a), i.prototype.span = function() {
        this.spanned = !0, this.clear(!1);
      }, i.prototype.clear = function(e) {
        return a.prototype.clear.call(this, e), this.className && (this.cell.className = this.className = ""), this;
      }, i.prototype.setOperator = function(e) {
        this.setClass(e), this.setPlaceHolder(e);
      }, i.prototype.setClass = function(e) {
        this.operatorButton && (this.operatorButton.className = "rg-filter-panel-operator " + (e ? " rg-inline-filter-".concat(b.camelToHyphen(e)) : ""));
      }, i.prototype.setPlaceHolder = function(e) {
        this.input && (this.input.placeholder = e === f.InlineFilterOperator.BETWEEN ? "value1 ~ value2" : "");
      }, i.prototype.setFocus = function() {
        this.input.focus();
      }, i;
    }(Fi), Ar = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t, "filterPanelView") || this;
        return o._rowPoints = [], o._cells = [], o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        for (var e = 0; e < this._cells.length; e++)
          for (var t = this._cells[e], o = 0; o < t.length; o++)
            t[o].dispose(), t[o] = null;
        this._cells = null, a.prototype._doDispose.call(this);
      }, i.prototype.tableCellByCell = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          for (var o = this._cells[t], r = 0; r < o.length; r++) {
            var n = o[r];
            if (n && n.cell === e)
              return n;
          }
      }, i.prototype.tableCellByLayout = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          for (var o = this._cells[t], r = 0; r < o.length; r++)
            if (o[r].layout === e)
              return o[r];
      }, i.prototype.layoutByCell = function(e) {
        var t = this.tableCellByCell(e);
        return t && t.layout;
      }, i.prototype.columnByCell = function(e) {
        var t = this.layoutByCell(e);
        return t && t._columnObj;
      }, i.prototype.operatorChange = function(e, t, o, r) {
        var n = t.tag, s = o.getDataColumn(), l = this.model.getCell(o);
        n === f.InlineFilterOperator.RESET && (e.input.value = "", n = l.filterOperator), e.setOperator(n), this._filterRun(this.model, e.input.value, n, s);
      }, i.prototype.clearInput = function(e, t) {
        if (e)
          e.input.value = "", this._filterRun(this.model, "", void 0, t);
        else
          for (var o = 0, r = this._cells.length; o < r; o++)
            for (var n = 0, s = this._cells[o].length; n < s; n++) {
              (e = this._cells[o][n]).input.value = "";
              var l = e.layout.getDataColumn();
              l._inlineFilterText = "", l && l.setInlineFilter(void 0, !1);
            }
      }, i.prototype.setFocus = function(e) {
        e.setFocus();
      }, i.prototype._getCssSelector = function() {
        return "rg-filter-panel";
      }, i.prototype._getRendererStyle = function() {
        return "rg-filter-panel-renderer";
      }, i.prototype._getTableRowCount = function(e) {
        return e.dataRows;
      }, i.prototype._getTableRowHeight = function(e, t) {
        return this._rowPoints[t + 1] - this._rowPoints[t];
      }, i.prototype._getCellCount = function(e) {
        return e.cellCount - e.fixedCellCount - e.rightCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getCellWidth(t);
      }, i.prototype._doPrepareTableRow = function(e, t, o, r) {
        a.prototype._doPrepareTableRow.call(this, e, t, o, r);
      }, i.prototype._prepareCellContent = function(e, t) {
        var o = te(e).createElement("div");
        return o.className = this._getRendererStyle(), o;
      }, i.prototype._doMeasure = function(e, t, o) {
        for (var r = e.layoutManager.dataRows, n = Math.max(e.filterPanel.height, e.filterPanel.minRowHeight * r), s = 0, l = this._rowPoints = [s], h = 0; h < r - 1; h++)
          l.push(s += Math.round(n / r));
        return l.push(s = n), Xt.create(t, s);
      }, i.prototype._doPrepareTableExtents = function(e) {
      }, i.prototype._doLayoutContent = function(e) {
        var t = e.grid, o = e.cellLayouts._dataCells, r = o.length, n = this._getFirstCell(e), s = this._getStartCell(e) - n, l = this._getEndCell(e) - n, h = this.model;
        this.$_refreshCells(e, o, this._tbody), this.$_refreshSpans(e, r), this.$_refreshHeadTitle(e, this._thead);
        for (var u = 0; u < r; u++) {
          var c = this._cells[u], d = this._getTableRow(e, u);
          b.setClassName(d, "rg-filter-panel-row");
          for (var p = s; p <= l; p++) {
            var _ = c[p];
            if (_.visible) {
              var g = _.layout;
              if (g.isProxy || g instanceof Ie)
                _.clear(!1);
              else {
                var y = h.getCell(g);
                this._updateCell(t, h, y, _);
              }
            }
          }
        }
      }, i.prototype._updateCell = function(e, t, o, r) {
        var n = e.doc, s = e.container, l = r.input, h = r.operatorButton, u = r.cell.firstElementChild;
        h || (h = r.operatorButton = n.createElement("span"), u.appendChild(h)), l || ((l = r.input = n.createElement("input")).type = "text", s.$_addListener(l, "keyup", this._keyupHandler.bind(this), !1), s.$_addListener(l, "input", this._inputHandler.bind(this), !1), u.appendChild(l)), l.value = o.filterText;
        var c = this._rowPoints[1] - this._rowPoints[0];
        u.style.display = o.showInput ? "" : "none";
        var d = h.style;
        d.width = "20px", d.height = "".concat(c - 6, "px"), (d = l.style).width = r.width - 30 + "px", d.height = "".concat(c - 6, "px"), r.setOperator(o.filterOperator), r.popupMenu = t.getPopup(r.layout.getDataColumn());
      }, i.prototype._keyupHandler = function(e) {
        var t = this.grid, o = e.keyCode || e.charCode;
        if (b.included(o, 38, 40)) {
          var r = t.getTableCell(e.target), n = this.tableCellByCell(r), s = W.temp(t, -1, n.layout), l = void 0;
          if (o !== 38 || s.isTop) {
            if (o === 40) {
              if (s.isBottom)
                return s.itemIndex = t.topIndex, t.setFocusedIndex(s, !0, !0, !0), void t.setFocus();
              s.down(f.VerticalMoveStep.CELL), l = s.layout;
            }
          } else
            s.up(f.VerticalMoveStep.CELL), l = s.layout;
          l && (n = this.tableCellByLayout(s.layout)).setFocus();
        } else
          o === 13 && this.$_search(e, !0);
      }, i.prototype._inputHandler = function(e) {
        this.$_search(e, !1);
      }, i.prototype.$_search = function(e, t) {
        var o, r = e.target, n = this.grid, s = this.model;
        o = r.value;
        var l = n.getTableCell(r), h = this.columnByCell(l);
        if (h) {
          var u = s.getCell(h.layout);
          t ? (clearTimeout(this._timer), this._filterRun(s, o, u.filterOperator, h)) : this._startTimer(o, u.filterOperator, h);
        }
      }, i.prototype._startTimer = function(e, t, o) {
        var r = this.model;
        clearTimeout(this._timer), this._timer = setTimeout(function() {
          this._filterRun(r, e, t, o);
        }.bind(this), r.filterDelay);
      }, i.prototype._filterRun = function(e, t, o, r) {
        var n, s, l = t, h = e.filterPanelCallback;
        if (h) {
          var u = this.grid;
          if (h.call(this, u.handler, r, o, t) !== !1)
            return r.setInlineFilter(void 0, !0), void (r._inlineFilterText = t);
        }
        if (t != null && t != "" || o === f.InlineFilterOperator.EMPTY)
          switch (r.valueType) {
            case f.ValueType.DATE:
            case f.ValueType.DATETIME:
            case f.ValueType.NUMBER:
              var c = t = t.replace(/[^0-9\-.~]/g, "");
              switch (b.included(r.valueType, f.ValueType.DATE, f.ValueType.DATETIME) ? (t = t.replace(/-/g, ""), s = "datestr(value)", c = '"'.concat(t, '"')) : s = "value", o) {
                case f.InlineFilterOperator.EQUAL:
                  n = "".concat(s, " = ").concat(c);
                  break;
                case f.InlineFilterOperator.NOT_EQUAL:
                  n = "".concat(s, " <> ").concat(c);
                  break;
                case f.InlineFilterOperator.GREATER:
                  n = "".concat(s, " > ").concat(c);
                  break;
                case f.InlineFilterOperator.GREATER_EQUAL:
                  n = "".concat(s, " >= ").concat(c);
                  break;
                case f.InlineFilterOperator.LOWER:
                  n = "".concat(s, " < ").concat(c);
                  break;
                case f.InlineFilterOperator.LOWER_EQUAL:
                  n = "".concat(s, " <= ").concat(c);
                  break;
                case f.InlineFilterOperator.CONTAINS:
                  n = "".concat(s, " like '%").concat(t, "%'");
                  break;
                case f.InlineFilterOperator.NOT_CONTAINS:
                  n = "".concat(s, " not like '%").concat(t, "%'");
                  break;
                case f.InlineFilterOperator.STARTS_WITH:
                  n = "".concat(s, " like '").concat(t, "%'");
                  break;
                case f.InlineFilterOperator.ENDS_WITH:
                  n = "".concat(s, " like '%").concat(t, "'");
                  break;
                case f.InlineFilterOperator.EMPTY:
                  n = "value is empty";
                  break;
                case f.InlineFilterOperator.BETWEEN:
                  var d = c.split("~").sort(function(g, y) {
                    return parseFloat(g) - parseFloat(y);
                  });
                  n = d.length === 2 && d[1] ? "(value >= ".concat(d[0], ") and (value <= ").concat(d[1], ")") : "value >= ".concat(d[0]);
              }
              break;
            case f.ValueType.TEXT:
            default:
              s = r.lookupDisplay ? "text" : "value", s = e.trimData ? "trim(".concat(s, ")") : s;
              var p = e.ignoreCase ? "i" : "";
              switch (t = e.trimData && t ? t.trim() : t, t = e.ignoreCase && t ? t.toLowerCase() : t, o) {
                case f.InlineFilterOperator.CONTAINS:
                  n = "".concat(s, " ").concat(p, "likehan '%").concat(t, "%'");
                  break;
                case f.InlineFilterOperator.NOT_CONTAINS:
                  n = "".concat(s, " not ").concat(p, "likehan '%").concat(t, "%'");
                  break;
                case f.InlineFilterOperator.STARTS_WITH:
                  n = "".concat(s, " ").concat(p, "likehan '").concat(t, "%'");
                  break;
                case f.InlineFilterOperator.ENDS_WITH:
                  n = "".concat(s, " ").concat(p, "likehan '%").concat(t, "'");
                  break;
                case f.InlineFilterOperator.EQUAL:
                  n = "".concat(s, " ").concat(p, "like '").concat(t, "'");
                  break;
                case f.InlineFilterOperator.NOT_EQUAL:
                  n = "".concat(s, " not ").concat(p, "like '").concat(t, "'");
                  break;
                case f.InlineFilterOperator.EMPTY:
                  n = "value is empty";
              }
          }
        else
          n = void 0;
        var _ = this.tableCellByLayout(r.layout);
        n != _.criteria && (_.criteria = n, r.setInlineFilter(n, !0)), o && (r._inlineFilterOp = o), r._inlineFilterText = l;
      }, i.prototype._getStartCell = function(e) {
        return e.getStartCell();
      }, i.prototype._getEndCell = function(e) {
        return e.getEndCell();
      }, i.prototype.$_getCellHeight = function(e) {
        var t = e.layout.hrow, o = this._rowPoints[t];
        return this._rowPoints[t + e.rowSpan] - o;
      }, i.prototype.$_refreshCells = function(e, t, o) {
        for (var r = this._cells, n = o.children, s = n.length, l = this._getFirstCell(e), h = this._getLastCell(e) - l + 1, u = r.length; u < s; u++)
          r.push([]);
        for (var c = 0; c < s; c++) {
          for (var d = r[c], p = n[c].children, _ = t[c], g = 0; g < h; g++) {
            var y = p[g], m = _[g + l], v = d[g];
            v ? v.cell !== y || v.layout != m && (v.layout = m, v.clear(!0)) : (v = d[g] = new vf(p[g])).layout = m, v.height = this.$_getCellHeight(v), v.width = this._getCellWidth(e, g), v.spanned = !1;
          }
          for (g = h; g < d.length; g++)
            d[g].dispose();
          d.length = h;
        }
        for (c = s; c < r.length; c++) {
          var C = r[c];
          for (g = 0; g < C.length; g++)
            C[g].dispose(), C[g] = null;
        }
        r.length = s;
      }, i.prototype.$_refreshSpans = function(e, t) {
        for (var o = this._getFirstCell(e), r = this._getFirstCell(e) - o, n = this._getLastCell(e) - o, s = e.cellLayouts._dataCells.length, l = 0; l < t; l++)
          for (var h = this._cells[l], u = h.length, c = r; c <= n; c++) {
            var d = h[c], p = d.layout, _ = p.parent, g = _ && _.vertical;
            if (!d.spanned)
              if (p.isProxy)
                d.clear(!1);
              else {
                var y = 0, m = 0, v = p.getDataSpan() - 1;
                if (v > 0) {
                  var C = 0, x = p.vindex + 1;
                  if (g)
                    for (; C++ < v && C < s && (S = _.getVisible(x++)); )
                      m += S._dspan, this._cells[l + C][c].span();
                  else
                    for (; C++ < v && c - r + C < u && x < _.visibleCount; ) {
                      var S;
                      if (!(S = _.getVisible(x++)))
                        break;
                      y += S._cspan, h[c + C].span();
                    }
                }
                p.isNull && d.clear(!0), d.set(p._cspan + y, p._dspan + m, !0);
              }
          }
      }, i.prototype.$_refreshHeadTitle = function(e, t) {
        for (var o = this._cells[0], r = t.children[0], n = 0; r && n < o.length; n++) {
          var s = o[n].layout.source, l = r.children[n];
          l && s && (l[b.TextProp] = s.header.getDisplayText() || s.firstColumn.header.displayText);
        }
      }, i.RENDERER_STYLE = "rg-filter-renderer", i;
    }(xi), wf = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-fixed-filter-panel";
      }, i.prototype._getExplicitWidth = function(e) {
        return e.fixedWidth - e.fixedBarWidth;
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return 0;
      }, i.prototype._getEndCell = function(e) {
        return e.fixedCellCount - 1;
      }, i.prototype._getCellCount = function(e) {
        return e.fixedCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getFixedCellWidth(t);
      }, i;
    }(Ar), Cf = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-fixed-filter-panel";
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return e.cellCount - e.rightCellCount;
      }, i.prototype._getEndCell = function(e) {
        return e.cellCount - 1;
      }, i.prototype._getCellCount = function(e) {
        return e.rightCellCount;
      }, i.prototype._getCellWidth = function(e, t) {
        return e.getRightCellWidth(t);
      }, i;
    }(Ar), xf = function(a) {
      function i(e) {
        var t = a.call(this, e, "gridFilterCellView") || this;
        return t._text = "", t._styleName = "", t._textChanged = !1, t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "model", { get: function() {
        return this._model;
      }, set: function(e) {
        e !== this._model && (this._model = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, set: function(e) {
        e != this._text && (this._text = e || "", this._textChanged = !0, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype.setStyleName = function(e, t) {
        t != this._styleName && (this._styleName = t, this._setClassName(e));
      }, i.prototype._getCssSelector = function() {
        return this._styleName;
      }, i.prototype._doUpdateContent = function(e, t, o) {
        this._textChanged && (this._textChanged = !1, o[b.TextProp] = this._text);
      }, i.prototype._doRender = function(e) {
      }, i;
    }(ni), lh = function(a) {
      function i(e) {
        var t = a.call(this, e, null, "gridFilterView") || this;
        t._cells = [], t._count = 0;
        for (var o = 0; o < 3; o++)
          t.addChild(t._cells[o] = new xf(e));
        return t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cells = null, a.prototype._doDispose.call(this);
      }, i.prototype.getFilterModel = function(e) {
        for (var t = 0; t < this._cells.length; t++)
          if (e === this._getTableCell(0, t))
            return this._cells[t].model;
      }, i.prototype.getCellType = function(e) {
        var t = this.getFilterModel(e);
        return t instanceof Di ? t.getCellType() : void 0;
      }, i.prototype._getCssSelector = function() {
        return "rg-filter";
      }, i.prototype._doPrepareTableExtents = function(e) {
        var t, o = e.grid.rowBarContainer, r = e.sectionObjects;
        this._count = 0;
        for (var n = 0, s = r; n < s.length; n++) {
          var l = s[n];
          l.visible && ((t = this._cells[this._count++]).model = l, l instanceof oo ? t.width = o.rowIndicator.width : l instanceof ro ? t.width = o.stateBar.width : l instanceof no && (t.width = o.checkBar.width));
        }
      }, i.prototype._prepareCellContent = function(e, t) {
        return this.grid.doc.createElement("div");
      }, i.prototype._doLayoutContent = function(e) {
        for (var t = e.grid, o = this._count, r = this._thead, n = r && r.children[0]; this.childCount < o; )
          this.addChild(this._cells[this.childCount]);
        for (; this.childCount > o; )
          this.removeLast();
        for (var s = 0; s < o; s++) {
          var l = this.getChild(s), h = l.model, u = h.getFilterCell(), c = this._getTableCell(0, s), d = c.firstElementChild, p = this.$_getCellSelector() + " " + h.getFilterStyleName();
          if (n) {
            var _ = n.children[s];
            _ && (_[b.TextProp] = h.getCellType() + " filter");
          }
          l.setStyleName(c, p), l.updateCell(t, u, d);
        }
      }, i.prototype._doRender = function(e) {
      }, i.prototype._getTableRowCount = function(e) {
        return 1;
      }, i.prototype._getTableRowHeight = function(e, t) {
        return this.height;
      }, i.prototype._getCellCount = function(e) {
        return this._count;
      }, i.prototype._getCellWidth = function(e, t) {
        return this._cells[t].width;
      }, i.prototype.$_getCellSelector = function() {
        return i.CELL_CSS;
      }, i.CELL_CSS = "rg-filter-cell", i;
    }(xi), hh = function() {
      function a(i, e) {
        this._containerDom = i, this._commandType = e, this.$_createDom();
      }
      return a.prototype.getCommandType = function() {
        return this._commandType;
      }, a.prototype.$_getStyle = function() {
        return this._commandType === "commit" ? "rg-editor-commit" : this._commandType === "cancel" ? "rg-editor-cancel" : void 0;
      }, a.prototype.$_createDom = function() {
        var i = this._containerDom, e = te(i), t = this._dom = e.createElement("div");
        t.style.touchAction = "none", this.$_createButton(), b.addChild(i, t);
      }, a.prototype.$_createButton = function() {
        var i = te(this._containerDom), e = this._button = i.createElement("div");
        e.style.touchAction = "none", e.style.pointerEvents = "none", e.className = this.$_getStyle(), b.addChild(this._dom, e);
      }, a;
    }(), If = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._owner = e, t._commands = [], t.$_clickHandler = t._clickHandler.bind(t), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "showing", { get: function() {
        return this._showing;
      }, enumerable: !1, configurable: !0 }), i.prototype.setContainerDom = function(e) {
        this._containerDom = e;
      }, i.prototype.show = function(e) {
        var t = te(this._containerDom);
        if (this._dom || ((this._dom = t.createElement("div")).className = i.STYLE), !this._commands || this._commands.length == 0) {
          var o = new hh(this._dom, "commit");
          this._commands.push(o), o = new hh(this._dom, "cancel"), this._commands.push(o);
        }
        b.addChild(this._containerDom, this._dom), this._dom.addEventListener("click", this.$_clickHandler), this._showing = !0, this.$_setPosition(e);
      }, i.prototype.hide = function() {
        this._showing = !1, this._dom.removeEventListener("click", this.$_clickHandler), b.detach(this._dom);
      }, i.prototype.setPosition = function(e) {
        this._dom && this.$_setPosition(e);
      }, i.prototype._clickHandler = function(e) {
        e.target !== this._dom && this.$_doClick(e);
      }, i.prototype.$_doClick = function(e) {
        var t = this.$_findCommand(e.target);
        if (t)
          switch (t.getCommandType()) {
            case "commit":
              this._owner.commitCommand(e);
              break;
            case "cancel":
              this._owner.cancelCommand(e);
          }
      }, i.prototype.$_findCommand = function(e) {
        for (var t = 0; t < this._commands.length; t++)
          if (this._commands[t]._dom === e)
            return this._commands[t];
        return null;
      }, i.prototype.$_setPosition = function(e) {
        var t = this._dom.style, o = this._dom.getBoundingClientRect(), r = e.right - o.width, n = e.top - o.height;
        t.left = r + "px", t.top = n + "px";
      }, i.STYLE = "rg-mobile-command-view", i;
    }(J), Sf = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._commandView = new If(t), t._commandView.setContainerDom(e.container._containerDom), t;
      }
      return w(i, a), i.prototype.commitCommand = function(e) {
        this.commitEditor(!0, !1, !0, !1);
      }, i.prototype.cancelCommand = function(e) {
        this.cancelEditor(!0);
      }, i.prototype._showCommand = function(e) {
        this._commandView && this._commandView.show(e);
      }, i.prototype._resetPosition = function(e) {
        this._commandView && this._commandView.setPosition(e);
      }, i.prototype._hideCommand = function() {
        this._commandView && this._commandView.showing && this._commandView.hide();
      }, i.prototype._editorActivated = function(e) {
        a.prototype._editorActivated.call(this, e);
        var t = this._grid;
        if (this._grid.mobileOptions.showEditCommander && t.$_canShowEditCommand(this._editIndex)) {
          var o = this._grid.getEditCellBounds(this._editor, this._editIndex);
          this._showCommand(o);
        }
      }, i.prototype._internalHideEditor = function(e) {
        a.prototype._internalHideEditor.call(this, e), this._hideCommand();
      }, i.prototype._resetBounds = function() {
        a.prototype._resetBounds.call(this);
        var e = this._grid.getEditCellBounds(this._editor, this._editIndex);
        this._resetPosition(e);
      }, i;
    }(Kl), li = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e.doc, !0) || this;
        r._debugging = !1, r._scrollBarWidth = 16, r._scrollBarHeight = 16, r._keepNullFocus = !0, r._loading = !0, r._dataLoad = !1, r._gridObjects = [], r._tableViews = {}, r._columnMap = {}, r._columnLayouts = new ad(), r._columnLock = 0, r._columnsDirty = !1, r._columnSummaryRuntime = new ll(), r._columnValidationRuntime = new Qc(), r._rowValidationRuntime = new Zc(), r._layouted = !1, r._resetting = !1, r._needMerge = !1, r._leftPos = 0, r._horzScrolled = !1, r._topIndex = 0, r._prevTop = 0, r._prevLeftPos = 0, r._prevLast = -1, r._updateLock = !1, r._hoveredY = -1, r._focusing = !1, r._dataChanged = !1, r._validations = new Ua(!1), r.$_editFocused = !1, r.$_showFocusCell = !1, r._itemCheckChanged = !1, r._cellUpdateEventLock = !1, r._currentRowId = -1, r._currentRow = -1, r._scrolledTime = 0, r._cellLayoutDirty = !1, r._needRefresh = !0, r._needPosition = !0, r._fitHeader = !1, r._cellGhostStyle = {};
        var n = e.doc, s = e._lkCheck = hf();
        switch (s) {
          case 0:
          case 32:
            break;
          default:
            return r;
        }
        r._container = e, r._addGridObject(r._header = new yd(r)), r._addGridObject(r._footers = new wd(r)), r._addGridObject(r._headerSummaries = new Xp(r)), r._addGridObject(r._rowIndicator = new oo(r)), r._addGridObject(r._stateBar = new ro(r)), r._addGridObject(r._checkBar = new no(r)), r._addGridObject(r._body = new Cr(r)), r._addGridObject(r._filterPanel = new bf(r)), r.addChild(r._rootElement = new Ve(n, "grid root view")), r._debugView = new pf(r), s === 32 && r.addChild(r._watermarkLayer = new mf(r)), r.addChild(r._emptyView = new rs(n)), r.addElement(r._contentPane = new Vl(n, "contentPane")), r.addElement(r._rightContentPane = new bp(n, "rightContentPane")), r.addElement(r._fixedContentPane = new $l(n, "fixedContentPane")), r._doContentPanesCreated(), r.addElement(r._leftContentPane = new gp(n, "leftContentPane")), r._sideContentPane = r._createSidePane(), r._sideContentPane && r.addElement(r._sideContentPane), r.addElement(r._topContentPane = new ho(n, "topContentPane")), r._filterPanelView = new Ar(n, r._filterPanel), r._fixedFilterView = new wf(n, r._filterPanel), r._rightFilterView = new Cf(n, r._filterPanel), r._bodyView = r._createBodyView(r._body), r._fixedBodyView = r._createFixedBodyView(r._body), r._rightBodyView = r._createRightBodyView(r._body), r._headerView = new Ei(n, r._header), r._fixedHeaderView = new Yd(n, r._header), r._rightHeaderView = new qd(n, r._header), r._headerSummaryView = new Vr(n, r._headerSummaries), r._fixedHeaderSummaryView = new Jp(n, r._headerSummaries), r._rightHeaderSummaryView = new Zp(n, r._headerSummaries), r._footerView = new Tr(n, r.footers), r._fixedFooterView = new Xd(n, r.footers), r._rightFooterView = new Jd(n, r.footers), r._rowBarContainer = new uo(r), r._headView = new ds(r), r._sumView = new rh(n), r._footView = new Nl(n), r._filterView = new lh(n);
        for (var l = [r._rowBarContainer, r._bodyView, r._fixedBodyView, r._rightBodyView, r._headerView, r._fixedHeaderView, r._rightHeaderView, r._headerSummaryView, r._fixedHeaderSummaryView, r._rightHeaderSummaryView, r._footerView, r._fixedFooterView, r._rightFooterView, r._headView, r._sumView, r._footView, r._filterView, r._filterPanelView, r._fixedFilterView, r._rightFilterView], h = l.length - 1; h >= 0; h--) {
          var u = l[h];
          r._tableViews[u.$_hash] = u;
        }
        return r._contentPane.addChild(r._headerView), r._contentPane.addChild(r._headerSummaryView), r._contentPane.addChild(r._filterPanelView), r._contentPane.addChild(r._bodyView), r._contentPane.addChild(r._footerView), r._fixedContentPane.addChild(r._fixedBodyView), r._fixedContentPane.addChild(r._fixedFooterView), r._fixedContentPane.addChild(r._fixedHeaderSummaryView), r._fixedContentPane.addChild(r._fixedHeaderView), r._fixedContentPane.addChild(r._fixedFilterView), r._rightContentPane.addChild(r._rightBodyView), r._rightContentPane.addChild(r._rightFooterView), r._rightContentPane.addChild(r._rightHeaderSummaryView), r._rightContentPane.addChild(r._rightHeaderView), r._rightContentPane.addChild(r._rightFilterView), r._leftContentPane.addChild(r._rowBarContainer), r._leftContentPane.addChild(r._footView), r._leftContentPane.addChild(r._sumView), r._leftContentPane.addChild(r._headView), r._leftContentPane.addChild(r._filterView), r._doCreateOtherElements(), r.addElement(r._selectionLayer = r._createSelectionLayer()), r.addElement(r._feedbackLayer = new Ve(n, "feedbackLayer")), r.addFeedbackElement(r._rowHoverView = new Wp(n)), r.addElement(r._hscrollBar = new Lr(e, !1)), r.addElement(r._vscrollBar = new Lr(e, !0)), r.addElement(r._scrollEdge = new np(n)), r._hscrollBar.addListener(r), r._vscrollBar.addListener(r), r._selections = new Rd(r), r._selections.addListener(r), r._fixedOptions = new ri(r), r._displayOptions = new xr(r), r._formatOptions = new dp(r), r._editOptions = new Sp(r), r._editorOptions = new Op(r), r._copyOptions = new Rp(r), r._pasteOptions = new Pp(r), r._dataDropOptions = new Zd(r), r._sortingOptions = new _p(r), r._filteringOptions = new ef(r), r._waiOptions = new yf(r), r._mobileOptions = new kp(r), r._initStyles(), r._columns = new _d(r), r._activeCellLayout = r._defaultCellLayout = new cd(r), r._defaultCellLayout.addListener(r), r._delegate = r._createDelegate(), r._layoutManager = r._createLayoutManager(), r._editController = r._createEditController(), r._validationManager = new ed(r), r._lookupProvider = new Cs(), r._lookupProvider.addListener(r), r._clipboardManager = new jd(r), r._progressManager = new _f(r._container._containerDom), r._popupMenuManager = new Wo(r._container), r._popupMenuManager.addListener(r), r._tooltipManager = new Dp(r), r._filterSelector = new sf(r._container, r._filteringOptions, r), r._toastManager = new fp(r), r._currentIndex = new W(r), r._editorIndex = new W(r), r._focusedIndex = new W(r), (r._accessibility = t) && r._waiOptions.assignFrom(o), r;
      }
      return w(i, a), i.createColumn = function(e) {
        return e ? e.type == "series" ? new Bt(e) : new re(e) : null;
      }, i.prototype._doDispose = function() {
        return this.clearListener(), this._container = this._container.dispose(), this._gridObjects.length = 0, this._header = this._header.dispose(), this._headerSummaries = this._headerSummaries.dispose(), this._footers = this._footers.dispose(), this._rowIndicator = this._rowIndicator.dispose(), this._stateBar = this._stateBar.dispose(), this._checkBar = this._checkBar.dispose(), this._body = this._body.dispose(), this._filterPanel = this._filterPanel.dispose(), this._rootElement = this._rootElement.dispose(), this._contentPane = this._contentPane.dispose(), this._rightContentPane = this._rightContentPane.dispose(), this._fixedContentPane = this._fixedContentPane.dispose(), this._leftContentPane = this._leftContentPane.dispose(), this._sideContentPane = this._sideContentPane && this._sideContentPane.dispose(), this._topContentPane = this._topContentPane && this._topContentPane.dispose(), this._bodyView = this._bodyView.dispose(), this._fixedBodyView = this._fixedBodyView.dispose(), this._rightBodyView = this._rightBodyView.dispose(), this._headerView = this._headerView.dispose(), this._fixedHeaderView = this._fixedHeaderView.dispose(), this._rightHeaderView = this._rightHeaderView.dispose(), this._headerSummaryView = this._headerSummaryView.dispose(), this._fixedHeaderSummaryView = this._fixedHeaderSummaryView.dispose(), this._rightHeaderSummaryView = this._rightHeaderSummaryView.dispose(), this._footerView = this._footerView.dispose(), this._fixedFooterView = this._fixedFooterView.dispose(), this._rightFooterView = this._rightFooterView.dispose(), this._rowBarContainer = this._rowBarContainer.dispose(), this._headView = this._headView.dispose(), this._sumView = this._sumView.dispose(), this._footView = this._footView.dispose(), this._filterPanelView = this._filterPanelView.dispose(), this._fixedFilterView = this._fixedFilterView.dispose(), this._rightFilterView = this._rightFilterView.dispose(), this._selectionLayer = this._selectionLayer.dispose(), this._feedbackLayer = this._feedbackLayer.dispose(), this._hscrollBar = this._hscrollBar.dispose(), this._vscrollBar = this._vscrollBar.dispose(), this._scrollEdge = this._scrollEdge.dispose(), this._selections = this._selections.dispose(), this._fixedOptions = this._fixedOptions.dispose(), this._displayOptions = this._displayOptions.dispose(), this._formatOptions = this._formatOptions.dispose(), this._editOptions = this._editOptions.dispose(), this._editorOptions = this._editorOptions.dispose(), this._copyOptions = this._copyOptions.dispose(), this._pasteOptions = this._pasteOptions.dispose(), this._sortingOptions = this._sortingOptions.dispose(), this._filteringOptions = this._filteringOptions.dispose(), this._mobileOptions = this._mobileOptions && this._mobileOptions.dispose(), this._columns = this._columns.dispose(), this._activeCellLayout = null, this._defaultCellLayout = this._defaultCellLayout.dispose(), this._delegate = this._delegate.dispose(), this._layoutManager = this._layoutManager.dispose(), this._editController = this._editController && this._editController.dispose(), this._filterSelector = this._filterSelector.dispose(), this._toastManager = this._toastManager.dispose(), this._tableViews = null, this._lookupProvider = this._lookupProvider && this._lookupProvider.dispose(), this._columnSummaryRuntime = this._columnSummaryRuntime && this._columnSummaryRuntime.dispose(), this._popupMenuManager = this._popupMenuManager && this._popupMenuManager.dispose(), this._tooltipManager = this._tooltipManager && this._tooltipManager.dispose(), this._focusedIndex = this._focusedIndex.dispose(), this._scrollTipView = this._scrollTipView && this._scrollTipView.dispose(), this._waiOptions = this._waiOptions && this._waiOptions.dispose(), this._watermarkLayer = this._watermarkLayer && this._watermarkLayer.dispose(), W.clearTemp(), this._cellGhostStyle = {}, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "debugging", { get: function() {
        return this._debugging;
      }, set: function(e) {
        e != this._debugging && (this._debugging = e, e ? (this.addChild(this._debugView), this.invalidateLayout()) : this.removeChild(this._debugView));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "activeTool", { get: function() {
        return this.container.activeTool;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollBarWidth", { get: function() {
        return this._scrollBarWidth;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._scrollBarWidth && (this._scrollBarWidth = e, this.invalidateLayout());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "scrollBarHeight", { get: function() {
        return this._scrollBarHeight;
      }, set: function(e) {
        (e = Math.max(0, e)) != this._scrollBarHeight && (this._scrollBarHeight = e, this.invalidateLayout());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "body", { get: function() {
        return this._body;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "header", { get: function() {
        return this._header;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footers", { get: function() {
        return this._footers;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footer", { get: function() {
        return this._footers.get(0);
      }, enumerable: !1, configurable: !0 }), i.prototype.setFooters = function(e) {
        this._footers.assignFrom(e);
      }, Object.defineProperty(i.prototype, "headerSummaries", { get: function() {
        return this._headerSummaries;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerSummary", { get: function() {
        return this._headerSummaries.get(0);
      }, enumerable: !1, configurable: !0 }), i.prototype.setHeaderSummaries = function(e) {
        this._headerSummaries.assignFrom(e);
      }, Object.defineProperty(i.prototype, "rowIndicator", { get: function() {
        return this._rowIndicator;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkBar", { get: function() {
        return this._checkBar;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "stateBar", { get: function() {
        return this._stateBar;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterPanel", { get: function() {
        return this._filterPanel;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "activeCellLayout", { get: function() {
        return this._activeCellLayout;
      }, enumerable: !1, configurable: !0 }), i.prototype._cellLayoutChanged = function() {
        this._cellLayoutDirty = !0;
      }, Object.defineProperty(i.prototype, "layoutCount", { get: function() {
        return this._activeCellLayout.visibleCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visibleLayoutCount", { get: function() {
        return this._activeCellLayout.visibleCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "columnCount", { get: function() {
        return this._columns.count;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataSource", { get: function() {
        return this._items ? this._items.dataSource : null;
      }, set: function(e) {
        this.dataSource, this._items && (this._items.dataSource = e), this.dataSource;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemSource", { get: function() {
        return this._items;
      }, set: function(e) {
        this._items && this._items.removeListener(this), this._items = e, this._items && this._items.addListener(this);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxItemCount", { get: function() {
        return this.itemSource.maxItemCount;
      }, set: function(e) {
        this.itemSource.maxItemCount = Math.max(0, e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemCount", { get: function() {
        return this._items ? this._items.itemCount : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._items ? this._items.rowCount : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visibleRowCount", { get: function() {
        return this._items ? this._items.rowCount : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataCount", { get: function() {
        var e = this.dataSource;
        return e ? e.rowCount : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "columnSummaryRuntime", { get: function() {
        return this._columnSummaryRuntime;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "columnValidationRuntime", { get: function() {
        return this._columnValidationRuntime;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowValidationRuntime", { get: function() {
        return this._rowValidationRuntime;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focusedIndex", { get: function() {
        return this._focusedIndex;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focusedLayout", { get: function() {
        return this._focusedIndex && this._focusedIndex.layout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focusedColumn", { get: function() {
        return this._focusedIndex && this._focusedIndex.layout && this._focusedIndex.layout.firstColumn;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focusedRow", { get: function() {
        return this._focusedIndex ? this._focusedIndex.itemIndex : -1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "focusedItem", { get: function() {
        return this._focusedIndex && this._focusedIndex.item;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowBarContainer", { get: function() {
        return this._rowBarContainer;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topContentPane", { get: function() {
        return this._topContentPane;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sideContentPane", { get: function() {
        return this._sideContentPane;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "leftContentPane", { get: function() {
        return this._leftContentPane;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "contentPane", { get: function() {
        return this._contentPane;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedContentPane", { get: function() {
        return this._fixedContentPane;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightContentPane", { get: function() {
        return this._rightContentPane;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bodyView", { get: function() {
        return this._bodyView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedBodyView", { get: function() {
        return this._fixedBodyView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightBodyView", { get: function() {
        return this._rightBodyView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerView", { get: function() {
        return this._headerView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedHeaderView", { get: function() {
        return this._fixedHeaderView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightHeaderView", { get: function() {
        return this._rightHeaderView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerSummaryView", { get: function() {
        return this._headerSummaryView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedHeaderSummaryView", { get: function() {
        return this._fixedHeaderSummaryView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightHeaderSummaryView", { get: function() {
        return this._rightHeaderSummaryView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerView", { get: function() {
        return this._footerView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedFooterView", { get: function() {
        return this._fixedFooterView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightFooterView", { get: function() {
        return this._rightFooterView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterPanelView", { get: function() {
        return this._filterPanelView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedFilterView", { get: function() {
        return this._fixedFilterView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rightFilterView", { get: function() {
        return this._rightFilterView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headView", { get: function() {
        return this._headView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sumView", { get: function() {
        return this._sumView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footView", { get: function() {
        return this._footView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterView", { get: function() {
        return this._filterView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixedOptions", { get: function() {
        return this._fixedOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "displayOptions", { get: function() {
        return this._displayOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "formatOptions", { get: function() {
        return this._formatOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editOptions", { get: function() {
        return this._editOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editorOptions", { get: function() {
        return this._editorOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "copyOptions", { get: function() {
        return this._copyOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pasteOptions", { get: function() {
        return this._pasteOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "dataDropOptions", { get: function() {
        return this._dataDropOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortingOptions", { get: function() {
        return this._sortingOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filteringOptions", { get: function() {
        return this._filteringOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mobileOptions", { get: function() {
        return this._mobileOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "WaiOptions", { get: function() {
        return this._waiOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "accessibility", { get: function() {
        return this._accessibility;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "delegate", { get: function() {
        return this._delegate;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "heightMeasurer", { get: function() {
        return this.container.heightMeasurer;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "layoutManager", { get: function() {
        return this._layoutManager;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selections", { get: function() {
        return this._selections;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "selectionLayer", { get: function() {
        return this._selectionLayer;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "editController", { get: function() {
        return this._editController;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "validations", { get: function() {
        return this._validations;
      }, set: function(e) {
        this._validations.assignFrom(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "validationManager", { get: function() {
        return this._validationManager;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "popupMenuManager", { get: function() {
        return this._popupMenuManager;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "tooltipManager", { get: function() {
        return this._tooltipManager;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "toastManager", { get: function() {
        return this._toastManager;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topIndex", { get: function() {
        return this._topIndex;
      }, set: function(e) {
        if ((e = Math.max(0, Math.min(e, this.itemCount - this.layoutManager.fixedItemCount - 1, this._vscrollBar ? this._vscrollBar.maxPosition : 0))) != this._topIndex) {
          var t = this.topIndexChanging(this._topIndex, e - this._topIndex, !1, !1);
          t == null || isNaN(t) || (e = this._topIndex + t, e = Math.min(this.itemCount - 1, Math.max(0, e))), this._topIndex !== e && (this._needRefresh = !0), this._topIndex = e, this.refreshView(), b.isMobile() && this.isEditing() && !this.isItemEditing() ? this.closePopups(!1) : this.closePopups();
        }
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topItem", { get: function() {
        return this._topIndex + this.layoutManager.fixedItemCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "leftPos", { get: function() {
        return this._leftPos;
      }, set: function(e) {
        (e = Math.max(0, Math.min(e, this._hscrollBar ? this._hscrollBar._maxPosition : 0))) != this._leftPos && (this._leftPos = e, this._horzScrolled = !0, this._displayOptions.refreshMode == f.RefreshMode.VISIBLE_ONLY || this.isRecycleMode() && this._needRefresh ? this.refreshView() : this.invalidate(), this.closePopups()), !this.isRecycleMode() && this._debugging && this._debugView.layout();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "leftCell", { get: function() {
        return this._layoutManager.getCellIndex(this.leftPos);
      }, set: function(e) {
        this.leftPos = this._layoutManager.getCellPoint(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "leftLayout", { get: function() {
        return this._layoutManager.firstLayout;
      }, set: function(e) {
        var t = this._layoutManager;
        e = Math.max(t.fixedLayoutCount, Math.min(e, t.layoutCount - 1)), this.leftPos = t.getLayoutBounds(e).x;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lookupProvider", { get: function() {
        return this._lookupProvider;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canHovering", { get: function() {
        return !this.isEditing();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hoveredCell", { get: function() {
        return this._hoveredCell;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "empty", { get: function() {
        return this.itemCount == 0 || this.visibleLayoutCount == 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sorted", { get: function() {
        return this.itemSource.sorted;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "spanned", { get: function() {
        return this._bodyView.visible && this._bodyView.spanned || this._fixedBodyView.visible && this._fixedBodyView.spanned || this._rightBodyView.visible && this._rightBodyView.spanned;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "isSwiping", { get: function() {
        var e = this.activeTool, t = e.dragTracker;
        return t instanceof bs && t.dragging || e._touchMoving;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "cellGhostStyle", { get: function() {
        return this._cellGhostStyle = this._cellGhostStyle || {};
      }, enumerable: !1, configurable: !0 }), i.prototype.addFeedbackElement = function(e) {
        if (e && !this._feedbackLayer.contains(e))
          return this._feedbackLayer.addChild(e), !0;
      }, i.prototype.removeFeedbackElement = function(e) {
        var t = this._feedbackLayer.indexOf(e);
        return t >= 0 && (this._feedbackLayer.removeChildAt(t), !0);
      }, i.prototype.setEventFrom = function(e) {
        this._eventFrom = e;
      }, i.prototype.getVisibleLayout = function(e) {
        return this._activeCellLayout.getVisible(e);
      }, i.prototype.getColumn = function(e) {
        return this._columns.getColumn(e);
      }, i.prototype.setColumns = function(e) {
        this._columns.setColumns(e), this._columnMap = {};
        for (var t = this._columns.count - 1; t >= 0; t--) {
          var o = this._columns.getColumn(t);
          this._columnMap[o.$_hash] = o;
        }
        this._columnsReset(), this.dataSource && this.applyFilters();
      }, i.prototype.setCellLayout = function(e) {
        this._beforeChangeLayout();
        var t = this.isValid(this._focusedIndex) && this._focusedIndex.layout.firstColumn;
        this._activeCellLayout && this._activeCellLayout !== this._defaultCellLayout && this._activeCellLayout.dispose();
        var o = e && new Fo(this).load(e);
        o && o.addListener(this);
        var r = this._focusedIndex && this._focusedIndex.clone();
        this._activeCellLayout = o || this._defaultCellLayout, this._cellLayoutDirty = !0, this._clearSelectionViews(), this.invalidateLayout(), this._activeCellLayout.isDefault() && this.setColumns(this._columns.columns), this._activeCellLayout.resetColumns(this._columns), this._activeCellLayout.$_refresh(this._columns, this.displayOptions.minCellWidth), this._activeCellLayout.invalidate(), this.refreshView(), r && t && setTimeout(function() {
          r.layout = this._activeCellLayout.layoutByColumn(t), this.setFocusedIndex(r);
        }.bind(this), 10), this.clearRowHeights(), this._populateMerges();
      }, i.prototype._checkEditing = function() {
        if (this.itemSource instanceof ft && this.itemSource.isEditing())
          throw new Error("Item is editing");
      }, i.prototype.addColumn = function(e, t) {
        this._checkEditing();
        var o = this._columns.add(e, t);
        return o && (this._columnMap[o.$_hash] = o, this._columnsReset(), this.dataSource && this.applyFilters()), o;
      }, i.prototype.removeColumn = function(e) {
        return typeof e == "string" && (e = this.columnByName(e)), !!e && (this._checkEditing(), !!this._columns.remove(e) && (delete this._columnMap[e.$_hash], this._columnsReset(), this.dataSource && this.applyFilters(), !0));
      }, i.prototype.addLayout = function(e, t) {
        return this.activeCellLayout.addLayout(e, t);
      }, i.prototype.removeLayout = function(e) {
        this.activeCellLayout.removeLayout(e);
      }, i.prototype.restoreColumns = function(e) {
        this._columns.restoreColumns(), this._columnsReset();
      }, i.prototype.linearizeColumns = function(e) {
        var t = this._activeCellLayout.collectColumns(!0, !0, !0);
        if (e = b.makeArray(e), t && t.length > 0) {
          if (e && e.length > 0)
            for (var o = function(s) {
              t.sort(function(l, h) {
                var u = l[e[s]], c = h[e[s]];
                return u < c ? 1 : u > c ? -1 : 0;
              });
            }, r = 0; r < e.length; r++)
              o(r);
          var n = [];
          t.forEach(function(s) {
            n.push(s.name);
          }), this.setCellLayout(n);
        }
      }, i.prototype.registerColumnLayouts = function(e) {
        this._columnLayouts.load(e);
      }, i.prototype.findColumnLayout = function(e) {
        return this._columnLayouts.find(e);
      }, i.prototype.invalidateColumn = function(e) {
        this._columnLock <= 0 && this._resetColumnIndices(e), this._columnsDirty || (this._columnsDirty = !0, this.refreshView());
      }, i.prototype.invalidateColumns = function() {
        this._columnsDirty || (this._columnsDirty = !0, this.refreshView());
      }, i.prototype.beginUpdate = function() {
        this._updateLock = !0;
      }, i.prototype.endUpdate = function(e) {
        (e || this._updateLock) && (this._updateLock = !1, this.refreshView());
      }, i.prototype.invalidate = function() {
        this._container && this._container.invalidate(!1);
      }, i.prototype.invalidateLayout = function() {
        this._updateLock || this._loading || a.prototype.invalidateLayout.call(this);
      }, i.prototype.invalidatePosition = function() {
        this._needPosition = !0;
      }, i.prototype.setNeedRefresh = function(e) {
        this._needRefresh = !0, e && a.prototype.invalidate.call(this, !1, !0);
      }, i.prototype.invalidateCellLayouts = function() {
        this._updateLock || (this.clearRowHeights(), a.prototype.invalidateLayout.call(this), this._columnsDirty = !0);
      }, i.prototype.refreshView = function(e) {
        if (!this._loading) {
          if (e) {
            var t = this._container;
            t._layoutNeeded = !0, this._needPosition = !0, this._horzScrolled = this._horzScrolled || this._needRefresh, t._render(Date.now());
          } else
            this.invalidateLayout();
          this.topIndex = this._topIndex, this.leftPos = this._leftPos;
        }
      }, i.prototype.resetGrid = function() {
        this._resetting = !0, this.topIndex = 0, this.leftPos = 0, this.refreshView();
      }, i.prototype.getFirstCell = function() {
        if (this.itemCount > 0) {
          for (var e = 0, t = 0, o = this.itemCount; t < o; t++)
            if (this.getItem(t) instanceof Fe) {
              e = t;
              break;
            }
          return new W(this, e >= 0 ? e : 0, this.getFirstColumn());
        }
        return null;
      }, i.prototype.$_setEditFocused = function(e, t) {
        if (e != this.$_editFocused) {
          if (this.$_editFocused = e, e && this.$_showFocusCell) {
            var o = this.focusedIndex;
            !o || this.isValid(o);
          }
          this.$_showFocusCell = !1;
        }
        e && t && t.type == "focusin" && b.isAncestorOf(this._container._container, t.target, t) && lo.setActiveGrid(this.container.$_hash);
      }, i.prototype.getItem = function(e) {
        return this._items.getItem(e);
      }, i.prototype.getItemIndexOfRow = function(e) {
        return this._items.getIndexOfRow(e, !1);
      }, i.prototype.getItemOfRow = function(e, t) {
        return this._items.getItemOfRow(e, t);
      }, i.prototype.getItemIndicesOfRows = function(e) {
        return this._items.getIndicesOfRows(e, !1);
      }, i.prototype.getRowOfItem = function(e) {
        var t = this.getItem(e);
        return t ? t.dataRow : -1;
      }, i.prototype.getItemOfModel = function(e) {
        return null;
      }, i.prototype.getRowsOfItems = function(e, t) {
        t === void 0 && (t = !1);
        for (var o = [], r = 0, n = e; r < n.length; r++) {
          var s = n[r], l = this.getItem(s), h = l ? l.dataRow : -1;
          (t || h >= 0) && o.push(h);
        }
        return o;
      }, i.prototype.getIndicatorIndex = function(e, t) {
        return t ? this.itemCount - e.index - 1 : e.index;
      }, i.prototype.indicatorReverse = function(e) {
        return e === f.IndicatorValue.REVERSE;
      }, i.prototype.getAllItems = function() {
        return this._items.getAllItems();
      }, i.prototype.getImage = function(e) {
        return null;
      }, i.prototype.getIndex = function(e, t) {
        return e === void 0 && (e = -1), t === void 0 && (t = null), new W(this, e, t);
      }, i.prototype.getDataCellIndex = function(e, t) {
        var o = e.parentElement, r = this._tableViews[o.$_view], n = o.$_row, s = r.layoutByCell(e);
        return t != null ? t.set(n, s) : W.temp(this, n, s);
      }, Object.defineProperty(i.prototype, "handler", { get: function() {
        return this.$_handler;
      }, enumerable: !1, configurable: !0 }), i.prototype.getDataColumns = function(e) {
        return e === void 0 && (e = !0), this._activeCellLayout.getDataColumns(e);
      }, i.prototype.optionsChanged = function(e) {
        this._columnsDirty = !0, this.refreshView();
      }, i.prototype.scrollRow = function(e) {
        var t = this.topIndex;
        this.topIndex = t + e;
      }, i.prototype.selectColumnFilters = function(e) {
        if (this.isItemEditing(null)) {
          if (!this.filteringOptions.commitBeforeFiltering)
            return;
          try {
            if (!this.commit(!1))
              return;
          } catch (o) {
            var t = this.focusedItem;
            if (t && o instanceof Me)
              return void ((o = this._fireValidationFail(t.index, o.column, o)) && alert(this.editOptions.showOnlyValidationMessage && o.userMessage ? o.userMessage : o.toString()));
            throw o;
          }
        }
        this._fireFiltering() && (this.hideEditor(!0), this._filterSelector.show(e.layout.firstColumn, e.cell, this.dataSource));
      }, i.prototype.closeFilterSelector = function() {
        this._filterSelector.hide();
      }, i.prototype.closePopups = function(e) {
        e === void 0 && (e = !0), this._filterRunning || this._filterSelector.hide(), this._popupMenuManager.close(), this._tooltipManager.close(), e && this._editController.closeList(!1);
      }, i.prototype.layoutByDataCell = function(e) {
        var t = e.parentElement;
        return this._tableViews[t.$_view].layoutByCell(e);
      }, i.prototype.columnByHash = function(e) {
        return this._columnMap[e];
      }, i.prototype.columnByDataCell = function(e) {
        return this._bodyView.columnByCell(e) || this._fixedBodyView.columnByCell(e) || this._rightBodyView.columnByCell(e);
      }, i.prototype.columnByName = function(e) {
        return this._columns.columnByName(e);
      }, i.prototype.columnByField = function(e) {
        return typeof e == "string" && (e = this.dataSource.getFieldIndex(e)), this._columns.columnByField(e);
      }, i.prototype.columnsByField = function(e) {
        return typeof e == "string" && (e = this.dataSource.getFieldIndex(e)), this._columns.columnsByField(e);
      }, i.prototype.columnByTag = function(e) {
        return this._columns.columnByTag(e);
      }, i.prototype.columnsByTag = function(e) {
        return this._columns.columnsByTag(e);
      }, i.prototype.getHorzColumns = function(e, t) {
        return this._activeCellLayout.getHorzColumns(e, t);
      }, i.prototype.getGroupLevel = function(e) {
        return -1;
      }, i.prototype.isGroupedColumn = function(e) {
        return !1;
      }, i.prototype.layoutByColumn = function(e) {
        return e instanceof ti || (e = this.columnByName(e)), e ? this._activeCellLayout.layoutByColumn(e) : null;
      }, i.prototype.layoutByName = function(e) {
        return this._activeCellLayout.layoutByName(e);
      }, i.prototype.setFocus = function(e) {
        function t(o) {
          this.$_showFocusCell = !0;
          var r = this.focusedIndex.clone();
          if (r && !this.isValid(r) && (r.set(Math.max(this.topIndex === 0 ? 0 : this.topItem, 0), this.getFirstColumn(), this), this.setFocusedIndex(r, !0, !0)), this._accessibility && !this.isEditing() && this.isValid(r))
            if (this.layoutManager.cellIsVisible(r) && !this._resetTdFocus) {
              var n = this.getBodyCellAt(r, !0);
              n && o !== n.cell && this.getBodyViewAt(r).refreshTdFocused(r, !1);
            } else
              this._resetTdFocus = !0;
          else
            b.isMobile() ? this.container.setFocus() : this._editController.setFocus(!0, o);
          lo.getActiveGrid() !== this && lo.setActiveGrid(this.container.$_hash);
        }
        this.activeCellLayout.visibleCount > 0 ? t.call(this, e) : (this._setFocusTimer && clearTimeout(this._setFocusTimer), this._setFocusTimer = setTimeout(function() {
          this._setFocusTimer = null, t.call(this, e);
        }.bind(this), 10));
      }, i.prototype.getFirstLayout = function() {
        return this._activeCellLayout.first;
      }, i.prototype.getFirstColumn = function() {
        return this._activeCellLayout.firstColumn;
      }, i.prototype.collectColumns = function(e, t, o) {
        return this._activeCellLayout.collectColumns(e, t, o);
      }, i.prototype.collectColumnNames = function(e, t) {
        return this._activeCellLayout.collectColumnNames(e, t);
      }, i.prototype.collectGroupNames = function() {
        return this._activeCellLayout.collectColumnNames(!1, !1, !0);
      }, i.prototype.getChildColumnNames = function(e) {
        return this._activeCellLayout.collectColumnNames(!1, !1, !1, e);
      }, i.prototype.collectDataColumns = function(e, t) {
        return this._activeCellLayout.collectDataColumns(e, t);
      }, i.prototype.isValid = function(e) {
        return e && e.grid === this && e.itemIndex >= 0 && e.itemIndex < this.itemCount && e.layout && e.layout.grid === this;
      }, i.prototype.getSelection = function(e) {
        return e === void 0 && (e = 0), e >= 0 && e < this._selections.count ? this._selections.getItem(e) : null;
      }, i.prototype.getSelections = function() {
        return this._selections.getItems();
      }, i.prototype.clearAddSelection = function(e, t) {
        e === void 0 && (e = !0), t === void 0 && (t = !0);
        var o = this.focusedIndex;
        e && this._selections.clear(), t && this.isValid(o) && this.itemCount > 0 && this.visibleLayoutCount > 0 && this._selections.add(o, o, this._displayOptions.selectionStyle);
      }, i.prototype.deleteSelection = function(e) {
        e === void 0 && (e = !1), this.$_deleteSelection(null, e);
      }, i.prototype.$_deleteSelection = function(e, t) {
        function o(x, S) {
          try {
            if (S && S.length > 0) {
              for (var I = [], E = 0, O = S.length; E < O; E++) {
                var P = x.getItem(S[E]);
                P && P.dataRow >= 0 && I.push(P.dataRow);
              }
              if (I.length > 0 && !x._fireRowsDeleting(I))
                return !1;
            }
          } catch (R) {
            return alert(R), !1;
          }
          return !0;
        }
        function r(x, S) {
          var I = x.recursiveDeleting();
          return !!S && ((t || !x.editOptions.confirmWhenDelete || confirm(x.editOptions.deleteRowsMessage) && o(x, [S.index])) && (x.cancel(), wt(S.itemState) || x.itemSource.remove(S, I)), !0);
        }
        function n(x, S) {
          for (var I = null, E = S.length; E--; ) {
            var O = x.getItem(S[E]), P = O.itemState;
            if (nt(P)) {
              I = O, wt(P) && S.splice(E, 1);
              break;
            }
          }
          var R = null;
          S.length > 0 && (R = x.itemSource.getRemovableRows(S)), I && x.cancel(), R && x.itemSource.removeRows(R, x.recursiveDeleting());
        }
        t === void 0 && (t = !1);
        var s = this.editOptions, l = this.selections, h = this.itemSource;
        if ((t || s.deletable) && h instanceof ft)
          if (!this.isItemEditing(null) || s.deletableWhenEdit) {
            if (this.commitEditor(!0), r(this, e))
              return !0;
            if (!function(x, S) {
              if (S.count == 0 || S.count == 1 && S.getItem(0).single) {
                var I, E = -1;
                return (E = S.count == 0 ? x.focusedIndex.itemIndex : S.getItem(0).getBounds().r1) >= 0 && x.canDelete(I = x.getItem(E)) && r(x, I), !0;
              }
              return !1;
            }(this, l)) {
              for (var u = l.count, c = [], d = 0; d < u; d++) {
                var p = l.getItem(d);
                if (No(p) || b.included(p.style, f.SelectionStyle.BLOCK, f.SelectionStyle.GROUP))
                  for (var _ = p.getBounds(), g = Math.min(_.r1, _.r2), y = Math.max(_.r1, _.r2), m = g; m <= y; m++) {
                    var v = this.getItem(m);
                    (v.dataRow >= 0 || v.editable) && c.push(m);
                  }
              }
              c.sort(function(x, S) {
                return x - S;
              });
              var C = -1;
              for (d = c.length; d--; )
                c[d] == C ? c.splice(d, 1) : C = c[d];
              c.length > 0 && this.canDelete(this.getItem(c[0])) && (t || !s.confirmWhenDelete ? o(this, c) && (n(this, c), this.clearAddSelection(!0)) : confirm(s.deleteRowsMessage) && o(this, c) && (n(this, c), this.clearAddSelection(!0)));
            }
          } else
            alert(window.RG_CONST && window.RG_CONST.COMMITEDITING ? window.RG_CONST.COMMITEDITING : "먼저 편집을 완료 하십시오.");
      }, i.prototype.revertSelection = function(e) {
        e === void 0 && (e = !1);
        var t = this.editOptions, o = this.selections, r = this.itemSource;
        if ((e || t.revertable) && r instanceof ft && (this.commitEditor(!0), !function(y, m) {
          if (m.count == 0 || m.count == 1 && m.getItem(0).single) {
            var v = -1;
            if ((v = m.count == 0 ? y.focusedIndex.itemIndex : m.getItem(0).getBounds().r1) >= 0)
              return y.itemSource.revert(v), !0;
          }
          return !1;
        }(this, o))) {
          for (var n = o.count, s = [], l = 0; l < n; l++) {
            var h = o.getItem(l);
            if (No(h) || b.included(h.style, f.SelectionStyle.BLOCK, f.SelectionStyle.GROUP))
              for (var u = h.getBounds(), c = Math.min(u.r1, u.r2), d = Math.max(u.r1, u.r2), p = c; p <= d; p++) {
                var _ = this.getItem(p);
                (_.dataRow >= 0 || _.editable) && s.push(p);
              }
          }
          s.sort(function(y, m) {
            return y - m;
          });
          var g = -1;
          for (l = s.length; l--; )
            s[l] == g ? s.splice(l, 1) : g = s[l];
          s.length > 0 && r.revertAll(s);
        }
      }, i.prototype.eraseSelection = function(e) {
        var t = this.editOptions, o = this.selections, r = this.itemSource;
        if (t.readOnly || !e && !t.erasable || !t.updatable || !(r instanceof ft) || this.isItemEditing())
          return !1;
        if (function(u, c) {
          if (c.count == 0 || c.count == 1 && c.getItem(0).single) {
            var d = u.focusedIndex;
            return u.getWritableAt(d) && u.setCellValue(d, void 0), !0;
          }
          return !1;
        }(this, o))
          return !0;
        var n = o.count;
        if (n < 1)
          return !1;
        for (var s = [], l = 0; l < n; l++) {
          var h = o.getItem(l);
          (No(h) || b.included(h.style, f.SelectionStyle.BLOCK, f.SelectionStyle.GROUP)) && (s = s.concat(h.getItems()));
        }
        if (s.length > 0) {
          for (l = 0; l < n; l++)
            o.getItem(l).setValues(void 0);
          return !0;
        }
      }, i.prototype.getSelectedItems = function(e) {
        e === void 0 && (e = !1);
        var t = this._selections.getItem(0);
        return t && t.getItems(e);
      }, i.prototype.getSelectedItemIndices = function(e) {
        e === void 0 && (e = !1);
        for (var t = this._selections, o = [], r = 0; r < t.count; r++)
          t.getItem(r).getItemIndices(e).forEach(function(n) {
            o.indexOf(n) < 0 && o.push(n);
          });
        return o;
      }, i.prototype.getSelectedRows = function() {
        for (var e = this._selections, t = [], o = 0; o < e.count; o++)
          e.getItem(o).getRows().forEach(function(r) {
            t.indexOf(r) < 0 && t.push(r);
          });
        return t;
      }, i.prototype.getSelectedLayouts = function() {
        for (var e = this.activeCellLayout.collectLayouts(!0), t = this._selections, o = [], r = 0; r < e.length; r++)
          t.containsLayout(e[r]) && o.indexOf(e[r]) < 0 && o.push(e[r]);
        return o;
      }, i.prototype.setFocusedIndex = function(e, t, o, r) {
        if (t === void 0 && (t = !0), o === void 0 && (o = !1), r === void 0 && (r = !0), !this._focusing && !this.disposing) {
          this._focusing = !0;
          try {
            return this.$_doSetFocusedIndex(e, t, o, !0, r);
          } finally {
            this._focusing = !1;
          }
        }
      }, i.prototype.setFocusedItem = function(e) {
        e instanceof Le && (e = e.index), this.setFocusedIndex(this.getIndex(e));
      }, i.prototype.resetFocusedIndex = function() {
        this.setFocusedIndex(this._focusedIndex);
      }, i.prototype.clearFocusedIndex = function(e) {
        if (e === void 0 && (e = !1), !this._focusing && !this.disposing) {
          this._focusing = !0;
          try {
            var t = void 0;
            e && this.focusedRow >= this.itemCount && ((t = this.focusedIndex.clone()).itemIndex = Math.max(-1, this.itemCount - 1)), this._editController.remainFocusing(!0), this.$_doSetFocusedIndex(t, !0, !1, !1, !1);
          } finally {
            this._focusing = !1;
          }
        }
      }, i.prototype.getTableCell = function(e) {
        if (!e)
          return null;
        for (var t = e, o = be(t); t && !(t instanceof o.HTMLTableCellElement); )
          t = t.parentElement;
        if (t instanceof o.HTMLTableCellElement && t.parentElement) {
          var r = t.parentElement[Pi];
          if (r)
            return t;
          for (t = t.parentElement; t; ) {
            if (t instanceof o.HTMLTableCellElement && (r = t.parentElement[Pi]))
              return t;
            t = t.parentElement;
          }
        }
        return null;
      }, i.prototype.getTableView = function(e) {
        return this._tableViews[e.parentElement[Pi]];
      }, i.prototype.getBodyViewAt = function(e) {
        return this._layoutManager.getBodyView(e);
      }, i.prototype.getBodyView = function(e) {
        return this.getTableView(e);
      }, i.prototype.getRowView = function(e, t) {
        return e.getRowView(t);
      }, i.prototype.getHeaderView = function(e) {
        return this.getTableView(e);
      }, i.prototype.getFooterView = function(e) {
        return this.getTableView(e);
      }, i.prototype.getSummaryView = function(e) {
        return this.getTableView(e);
      }, i.prototype.getFilterView = function(e) {
        return this.getTableView(e);
      }, i.prototype.getCellType = function(e) {
        if (e) {
          var t = e.parentElement;
          if (t[De] === -99)
            return "fixedbar";
          var o = this._tableViews[t[Pi]];
          if (!(o instanceof xt))
            return o instanceof uo ? o.getCellType(e) : o instanceof Ei ? "header" : o instanceof Tr ? "footer" : o instanceof Vr ? "summary" : o instanceof Ar ? "inlineFilter" : o instanceof ds ? "head" : o instanceof Nl ? "foot" : o instanceof rh ? "sum" : o instanceof lh ? "filter" : this._getCellTypeOf(o);
          var r = o.bodyCellByCell(e);
          if (r)
            return !(r.item instanceof Ke) || r.dataColumn && r.dataColumn.mergeGrouped ? "data" : "groupFooter";
        }
      }, i.prototype._getCellTypeOf = function(e) {
      }, i.prototype.getBodyCellAt = function(e, t) {
        var o = this._layoutManager, r = this._bodyView.visible && this._bodyView.getCellAt(o, e) || this._fixedBodyView.visible && this._fixedBodyView.getCellAt(o, e) || this._rightBodyView.visible && this._rightBodyView.getCellAt(o, e);
        return r && t && r.merged && r.head ? r.head : r;
      }, i.prototype.getHeaderCellAt = function(e) {
        return this._headerView.visible && this._headerView.tableCellByLayout(e) || this._fixedHeaderView.visible && this._fixedHeaderView.tableCellByLayout(e) || this._rightHeaderView.visible && this._rightHeaderView.tableCellByLayout(e);
      }, i.prototype.getBodyCellbyCell = function(e) {
        return this.getBodyCellAt(this.cellToIndex(e), !1);
      }, i.prototype.cellToIndex = function(e) {
        var t = W.temp(this, -1, null);
        if ((e = this.getCellViewOf(e)) && e instanceof be(e).HTMLTableCellElement) {
          var o = this.getBodyView(e);
          o && o instanceof xt && (t.layout = o.layoutByCell(e), t.itemIndex = e.parentElement[De]);
        }
        return t;
      }, i.prototype.cellToContainer = function(e, t) {
        t === void 0 && (t = null);
        var o = this.getTableView(e);
        t = o.getCellPoint(e, t);
        var r = o.boundsByContainer(ue.Temp.set(t.x, t.y, 0, 0));
        return t.set(r.x, r.y), t;
      }, i.prototype.pointToIndex = function(e, t, o, r) {
        var n = W.temp(this, -1, null);
        return r ? this._layoutManager.mouseToIndex(this.getCellViewOf(e), t, o, n) : this._layoutManager.mouseToIndexEx(this.getCellViewOf(e), t, o, n), n;
      }, i.prototype.getCellRectAt = function(e, t, o) {
        var r = this.getBodyViewAt(t);
        if (r) {
          var n = r.getCellAt(e, t);
          return n && r.getCellRect(e, n, o);
        }
      }, i.prototype.getEditCellBounds = function(e, t) {
        var o = this.layoutManager, r = o.getBodyView(t), n = r.getCellAt(o, t);
        if (n) {
          var s = this.canMergeEditing(n), l = r.getCellRectAt(o, t, s);
          return l = r.boundsByContainer(l), !t.colFixed && l.width > o.nonFixedBounds.width && (l.width = o.nonFixedBounds.width), l;
        }
        return b.$_INVISIBLE_EDIT_BOUNDS.clone();
      }, i.prototype.getEditBounds = function(e, t) {
        var o = t.item;
        if (!o)
          return null;
        var r = this.layoutManager, n = r.fixedItemCount;
        if (n > 0 && o.index >= n && o.index - n < r.topIndex)
          return b.$_INVISIBLE_EDIT_BOUNDS.clone();
        var s = r.getBodyView(t), l = s.getCellAt(r, t);
        if (l) {
          l = l.merged ? l.head : l;
          var h = s.getCellRectAt(r, t, !1);
          return (h = s.boundsByContainer(h)).width -= (e.native ? 0 : l.editWidth) + l.buttonWidth + l.errorWidth, h;
        }
        return b.$_INVISIBLE_EDIT_BOUNDS.clone();
      }, i.prototype.getCellViewOf = function(e) {
        for (var t = be(e); e; ) {
          if (e instanceof t.HTMLTableCellElement)
            return e;
          e = e.parentElement;
        }
        return null;
      }, i.prototype.getFocusedCellView = function(e) {
        var t = e.item;
        if (!t)
          return null;
        var o = this.layoutManager, r = o.fixedItemCount;
        if (r > 0 && t.index >= r && t.index - r < o.topIndex)
          return null;
        var n = t.merged, s = e.colFixed, l = e.rightFixed;
        return t.isData || n ? (l ? this._rightBodyView : s ? this._fixedBodyView : this._bodyView).getCellView(o, e) : null;
      }, i.prototype.isFocusedCell = function(e) {
        return W.areEquals(e, this._focusedIndex);
      }, i.prototype.isFocusedRow = function(e) {
        return this._focusedIndex.itemIndex == e;
      }, i.prototype.isFocusedColumn = function(e) {
        return this._focusedIndex.column === e;
      }, i.prototype.fitSyncHeight = function() {
        return this._layoutManager.fitSyncHeight();
      }, i.prototype.pasteFromClipboard = function(e, t) {
        var o = this.focusedIndex.clone(), r = this.pasteOptions;
        if (o.normalize(this), this.isValid(o) && o.dataColumn && r.enabled && this._firePaste(o, t))
          try {
            r.singleMode ? this._clipboardManager.pasteCellFromClipboard(o, e) : (this._clipboardManager.pasteFromClipboard(o, e), o.item && nt(o.item.itemState) && this.refreshView()), this._firePasted();
          } catch (n) {
            throw n instanceof Me && (n = this._fireValidationFail(this._clipboardManager.appendingIndex.itemIndex, n.column, n)) && alert(this._editOptions.showOnlyValidationMessage && n.userMessage ? n.userMessage : n.toString()), n;
          }
      }, i.prototype.copyToClipboard = function(e, t, o) {
        o === void 0 && (o = !1);
        var r, n = !1, s = this.focusedIndex, l = this.selections;
        if (o || this.copyOptions.enabled) {
          if (o || (r = (n = this.copyOptions.singleMode || l.count == 0 || l.single) ? new oi(l, f.SelectionStyle.BLOCK, s, s) : l.getItems(), o = this._fireCopy(r, e)), o) {
            var h = void 0, u = void 0;
            if (!t && Array.isArray(r)) {
              var c = r.length > 1, d = r.length > 1, p = !0;
              if (r.length > 1 && r.forEach(function(_) {
                p = p && (_ instanceof Kt || _ instanceof Ci), c = c && _ instanceof Kt, d = d && _ instanceof Ci;
              }), !p)
                return alert("multi selection copy not supported"), null;
              h = c ? this.getSelectedItemIndices(!1) : null, u = d ? this.getSelectedLayouts() : null;
            }
            return t = t || (Array.isArray(r) ? r[0].getBounds() : r.getBounds()), n ? this._clipboardManager.copyCellToClipboard(s) : this._clipboardManager.copyToClipboard(t, h, u);
          }
          return null;
        }
        return this._clipboardManager.copyEmtpyToClipboard();
      }, i.prototype.toClipboard = function(e, t) {
        t === void 0 && (t = !0);
        var o = function(_) {
          var g;
          return typeof _ == "string" ? g = this.columnByName(_) : _ instanceof ti && (g = _), g && g.layout;
        }.bind(this);
        if (!this.empty) {
          var r;
          if (!(e && e instanceof Ot)) {
            var n = void 0, s = void 0;
            if (e ? (n = o(e.startColumn), s = o(e.endColumn)) : (n = this._activeCellLayout.first, s = this._activeCellLayout.last), !n || !s)
              return;
            var l = (e = e || {}).startItem == null ? 0 : Math.max(0, e.startItem), h = e.endItem == null ? this.itemCount - 1 : Math.min(e.endItem, this.itemCount - 1);
            r = Ot.createRange(l, n, h, s);
          }
          var u = this.copyToClipboard(null, r, !0);
          if (u = u ?? "", !t)
            return u;
          if (b.isIE && window.clipboardData)
            window.clipboardData.setData("text", u);
          else {
            var c = this.doc, d = c.createElement("textarea"), p = d.style;
            p.position = "absolute", p.top = "-10000px", c.body.appendChild(d), d.value = u, d.select(), c.execCommand("copy"), setTimeout(function() {
              c.body.removeChild(d);
            }, 100);
          }
        }
      }, i.prototype.showToast = function(e, t) {
        this._toastManager.show(e, t, null);
      }, i.prototype.hideToast = function(e) {
        this._toastManager.close(), e && setTimeout(e, 0);
      }, i.prototype.isEditing = function(e) {
        return this._editController.editing && (!e || W.areEquals(e, this._editController.editIndex));
      }, i.prototype.getEditItem = function() {
        return this.itemSource instanceof ft && this.itemSource.editingItem;
      }, i.prototype.isItemEditing = function(e) {
        return (e = e || this.focusedIndex.item) && this.itemSource instanceof ft && this.itemSource.isEditing(e);
      }, i.prototype.isItemEdited = function(e) {
        return (e = e || this.focusedIndex.item) && this.itemSource instanceof ft && this.itemSource.isEdited(e);
      }, i.prototype.getEditValue = function(e, t, o) {
        this._doGetEditValue(t, o);
      }, i.prototype._doGetEditValue = function(e, t) {
        this._fireGetEditValue(e, t);
      }, i.prototype.isCellEditing = function() {
        return !!this._editOptions.commitByCell && this._items.isUpdating;
      }, i.prototype.editorCommit = function(e, t, o) {
        return this._doCellCommit(e, t, o);
      }, i.prototype.scrollOnEditing = function() {
        if (this.isEditing())
          switch (this.editOptions.scrollOnEditing) {
            case f.ScrollOnEditing.CANCEL:
              this.cancelEditor(!0);
              break;
            case f.ScrollOnEditing.COMMIT:
              this.commitEditor(!0);
            case f.ScrollOnEditing.DEFAULT:
          }
      }, i.prototype._doCellCommit = function(e, t, o) {
        return this._fireEditCommit(e, t, o);
      }, i.prototype.editorActivated = function(e) {
        this._doEditorActivated(e.editIndex, !0, e);
      }, i.prototype._doEditorActivated = function(e, t, o) {
        var r = this.getBodyCellAt(e, !1), n = r && this.getBodyView(r.cell);
        n && n.$_buttonZIndexChanged(this, r, t, o);
      }, i.prototype.setCellUpdateEventLock = function(e) {
        this._cellUpdateEventLock = e;
      }, i.prototype.$_validateCellValue = function(e, t) {
        try {
          var o = wt(e.item.itemState);
          return this._validationManager.validateCell(e, o, !1), !0;
        } catch (r) {
          if (!(r instanceof Me))
            throw r;
          this._validationManager.addInvalidateCell(e, r);
        }
        return !1;
      }, i.prototype.$_refreshInvalidList = function(e) {
        this.itemCount <= 0 || e ? this.validationManager.clearInvalidateList() : this.validationManager.checkRowIds();
      }, i.prototype.validateCellCommit = function(e, t) {
        this.editOptions.validateOnEdited && this.$_validateCellValue(e, t);
      }, i.prototype.validateCells = function(e, t, o) {
        return this._validationManager.validateCells(e, t, o);
      }, i.prototype.getInvalidCells = function(e) {
        return this._validationManager.getInvalidCells(e);
      }, i.prototype.clearInvalidCells = function() {
        this._validationManager.clearInvalidCells();
      }, i.prototype.getEditableAt = function(e, t) {
        var o = e.dataColumn;
        if (!o)
          return !1;
        if (t && t.editable != null)
          return t.editable;
        if (e.item.isDataRow) {
          var r = e.item;
          if (r.editable != null)
            return r.editable;
        }
        var n = this.editOptions;
        if (n.columnEditableFirst) {
          if (!(o.editable != null ? o.editable : n.editable))
            return !1;
        } else if (!n.editable || o.editable === !1)
          return !1;
        var s = this.fixedOptions;
        return !(e.colFixed && !s.editable) && !(e.rowFixed && !s.rowEditable);
      }, i.prototype.getReadOnlyAt = function(e, t) {
        var o = e.dataColumn;
        if (!o)
          return !0;
        var r, n, s = this._items.getItem(e.itemIndex);
        return !s || (t && t.readOnly != null ? t.readOnly : (s = s.merged && s instanceof Se ? s.firstDataItem : s, !this.editOptions.updatable && (r = s.itemState, n = s.rowState, r != f.ItemState.INSERTING && r != f.ItemState.APPENDING && n != f.RowState.CREATED) || !this._items.canUpdate(s, o.dataIndex) || !!this._editOptions.readOnly || !!o.readOnly));
      }, i.prototype.getWritableAt = function(e) {
        if (!this.isValid(e))
          return !1;
        var t = this.getBodyViewAt(e);
        if (t) {
          var o = t.getCellAt(this._layoutManager, e);
          if (o) {
            var r = o.merged && o.head || o;
            return (o.editable == null || o.editable || r.renderer2 && r.renderer2.canEdit()) && !o.readonly;
          }
          var n = e.dataColumn, s = this.body.getCell(e, !1), l = s && n.getCellStyle(s), h = n.readOnly, u = n.isWritable();
          return l && typeof l != "string" && (h = l.readOnly !== null ? l.readOnly : n.readOnly, u = l.editable !== null ? l.editable : n.isWritable()), u && !h;
        }
      }, i.prototype.getWritable = function(e, t) {
        var o = t.layout, r = W.temp(this, e, o), n = this.getWritableAt(r);
        return n === void 0 ? t.isWritable() : n;
      }, i.prototype.canEditAt = function(e) {
        var t = this.getBodyViewAt(e);
        if (t) {
          var o = t.getCellAt(this._layoutManager, e);
          return o && o.editable !== void 0 ? o.editable : this.getEditableAt(e, null);
        }
      }, i.prototype.canWriteAt = function(e) {
        var t = this.getBodyViewAt(e);
        if (t) {
          var o = t.getCellAt(this._layoutManager, e);
          return o && o.readonly !== void 0 ? !o.readonly : !this.getReadOnlyAt(e, null);
        }
      }, i.prototype.canUpdate = function(e, t) {
        return this.editOptions.canUpdate(e.rowState === f.RowState.CREATED) && this.visibleLayoutCount > 0 && this.itemSource && this.itemSource.canUpdate(e, t);
      }, i.prototype.canAppend = function() {
        var e = this.itemSource, t = !this.isEditing() && this.editOptions.canAppend() && this.visibleLayoutCount > 0 && e && e.canAppend();
        if (t)
          try {
            if (!this._fireRowInserting(e.itemCount, -1))
              return !1;
          } catch (o) {
            return alert(o.message || o), !1;
          }
        return t;
      }, i.prototype.canInsert = function(e, t, o) {
        var r = this.itemSource, n = !this.isEditing() && this._doCanInsert(e, t, o) && this.editOptions.canInsert() && this.visibleLayoutCount > 0 && r && r.canInsert(e);
        if (n)
          try {
            if (!this._fireRowInserting(e.index + (t ? 1 : 0), -1))
              return !1;
          } catch (s) {
            return alert(s.message || s), !1;
          }
        return n;
      }, i.prototype._doCanInsert = function(e, t, o) {
        return !0;
      }, i.prototype.canDelete = function(e) {
        var t = this.itemSource;
        return this.editOptions.canDelete() && this.visibleLayoutCount > 0 && t && (this.isItemEditing(e) || t.canDelete(e));
      }, i.prototype.canCommit = function(e) {
        return this.isItemEditing(e) && (this.isItemEdited() || this.editOptions.commitWhenNoEdit);
      }, i.prototype.canCancel = function(e) {
        return this.isItemEditing(e);
      }, i.prototype.canMergeEditing = function(e) {
        return !this.isTree() && e && e.merged && this.editOptions.commitByCell && e.dataColumn && e.dataColumn.mergeEdit;
      }, i.prototype.edit = function(e) {
        return e || (e = this.focusedIndex), !!(this.isValid(e) && this.itemSource instanceof ft) && !(e.dataColumn && !this.canUpdate(e.item, e.dataField)) && (!nt(e.item.itemState) && this.validationManager.cloneError(e.dataId, -1), this.itemSource.edit(e.item));
      }, i.prototype.insertAt = function(e, t) {
        return this.insert(this.getItem(e), t);
      }, i.prototype.insert = function(e, t, o) {
        if (e === void 0 && (e = null), t === void 0 && (t = !1), o === void 0 && (o = !1), e || (e = this.focusedIndex ? this.focusedIndex.item : null), !e)
          return !1;
        var r = this.itemSource;
        if (r instanceof ft && this.canInsert(e, t, o)) {
          var n = this.$_getInsertDefaults(null);
          return this._cancelDummy(), r.insert(e, n, t, o);
        }
        return !1;
      }, i.prototype.append = function() {
        var e = this.itemSource;
        if (e instanceof ft && e.dataSource && this.canAppend()) {
          var t = this.$_getInsertDefaults(null);
          return this._cancelDummy(), e.append(t);
        }
        return !1;
      }, i.prototype._appendDummy = function() {
        var e = this._editOptions;
        e.displayEmptyEditRow && e.appendable && this._items.appendDummy();
      }, i.prototype._cancelDummy = function() {
        this._items.cancelDummy();
      }, i.prototype.setValueAt = function(e, t, o) {
        var r = this.getItem(e);
        if (r && t >= 0)
          if (r instanceof Ji || r instanceof yr)
            r.setValue(t, o);
          else {
            var n = r.dataRow;
            n >= 0 && this.dataSource.setValue(n, t, o);
          }
      }, i.prototype.setCellValue = function(e, t) {
        this.isValid(e) && this.setValueAt(e.itemIndex, e.dataField, t);
      }, i.prototype.recallHeight = function() {
        this._container.recallHeight();
      }, i.prototype.$_canShowEditor = function(e, t, o) {
        return !!this.isValid(e) && this._fireShowEditor(this._editorIndex.assign(e), t, o);
      }, i.prototype.$_canShowEditCommand = function(e) {
        if (this.isValid(e))
          return this._fireShowEditCommand(e);
      }, i.prototype.hideEditor = function(e) {
        e === void 0 && (e = !1), this._editController.closeList(!1), this._editController.hideEditor(), e && this.activeTool.resetFocused();
      }, i.prototype.requestPrepareEditor = function() {
        this._editController.requestPrepareEditor();
      }, i.prototype.fillEditSearchItems = function(e, t, o, r) {
        this._editController.fillSearchItems(e, t, o, r);
      }, i.prototype.showEditor = function(e, t, o) {
        if (t === void 0 && (t = !1), o === void 0 && (o = !1), e = e || this.focusedIndex, this._editController.showEditor(e, o))
          return this.activeTool.resetFocused(), t && this._editController.caretToLast(), !0;
      }, i.prototype.showEditList = function(e) {
        if (this._editController.showList(e))
          return !0;
      }, i.prototype.editorButtonClicked = function(e, t) {
        this._editController.buttonClicked(e, t), this._fireEditButtonClicked(e);
      }, Object.defineProperty(i.prototype, "canUndo", { get: function() {
        var e = this.dataSource;
        return e && e.canUndo && !this.isItemEditing();
      }, enumerable: !1, configurable: !0 }), i.prototype.undo = function() {
        return !!this.canUndo && (this.dataSource.undo(), !0);
      }, Object.defineProperty(i.prototype, "canRedo", { get: function() {
        var e = this.dataSource;
        return e && e.canRedo && !this.isItemEditing();
      }, enumerable: !1, configurable: !0 }), i.prototype.redo = function() {
        return !!this.canRedo && (this.dataSource.redo(), !0);
      }, i.prototype.execute = function(e) {
      }, i.prototype.clearCommandStack = function(e) {
        this.dataSource.clearCommandStack();
      }, i.prototype.setLookups = function(e) {
        e && (this._lookupProvider || (this._lookupProvider = new Cs(), this._lookupProvider.addListener(this)), this._lookupProvider.load(e));
      }, i.prototype.addLookupSource = function(e) {
        (this._lookupProvider || (this._lookupProvider = new Cs())).add(e);
      }, i.prototype.removeLookupSource = function(e) {
        this._lookupProvider && this._lookupProvider.remove(e);
      }, i.prototype.existsLookupData = function(e, t) {
        if (e && t) {
          var o = this._lookupProvider && this._lookupProvider.getSource(e);
          if (!o)
            throw new Error("Invalid lookup source id: " + e);
          return o.exists(b.makeArray(t));
        }
      }, i.prototype.fillLookupData = function(e, t) {
        if (e && t) {
          var o = this._lookupProvider && this._lookupProvider.getSource(e);
          if (!o)
            throw new Error("Invalid lookup source id: " + e);
          t.rows ? o.fillRows(t.rows) : o.fill(t.keys, t.values);
        }
      }, i.prototype.clearLookupData = function(e) {
        if (e) {
          var t = this._lookupProvider && this._lookupProvider.getSource(e);
          if (!t)
            throw new Error("Invalid lookup source id: " + e);
          t.clear();
        }
      }, i.prototype.addLookupData = function(e, t, o) {
        if (o === void 0 && (o = null), e && t) {
          t = b.makeArray(t);
          var r = this._lookupProvider && this._lookupProvider.getSource(e);
          if (!r)
            throw new Error("Invalid lookup source id: " + e);
          o ? r.add(t, o) : r.addRow(t);
        }
      }, i.prototype.setOptions = function(e) {
      }, i.prototype.doContextMenu = function(e) {
        var t, o, r, n, s, l, h, u = e.mouseX, c = e.mouseY, d = this.activeTool, p = d._findTableCell(), _ = d.findElementAt(u, c, !1);
        if (p) {
          var g = this.getTableView(p), y = this.getCellType(p), m = void 0, v = void 0;
          switch (y) {
            case "head":
              t = ae.getSub(y, this.headView.getCellType(p)), l = (o = this.headView.getHeadModel(p)) && o.popupMenuName;
              break;
            case "foot":
              t = ae.getSub(y, this.footView.getCellType(p)), l = (o = this.footView.getFootModel(p)) && o.popupMenuName;
              break;
            case "indicator":
              m = this.rowBarContainer.rowOf(p), v = this.getRowOfItem(m), t = ae.getItem(y, m, v), l = this.rowIndicator.popupMenuName;
              break;
            case "state":
              m = this.rowBarContainer.rowOf(p), v = this.getRowOfItem(m), t = ae.getItem(y, m, v), l = this.stateBar.popupMenuName;
              break;
            case "check":
              m = this.rowBarContainer.rowOf(p), v = this.getRowOfItem(m), t = ae.getItem(y, m, v), l = this.checkBar.popupMenuName;
              break;
            case "header":
              h = g.layoutByCell(p), t = ae.getLayout(y, h), l = h.firstColumn.header.popupMenuName;
              break;
            case "data":
              if ((n = g.bodyCellByCell(p)).grouped)
                t = ae.getItem("groupHeader", n.item.index, null);
              else {
                var C = W.temp(this, _ instanceof mt ? _.itemIndex : n.item.index, n.layout);
                t = ae.getCell(y, n, C), l = n.dataColumn.popupMenuName;
              }
              break;
            case "groupFooter":
              n = g.bodyCellByCell(p), s = _ && _._item && _._item.$_footerIndex, t = ae.getGroupFooter(y, n.item.index, n.layout, s);
              var x = n.dataColumn.groupFooters.get(s);
              l = x && x.popupMenuName;
              break;
            case "footer":
            case "summary":
              var S = g.tableCellByCell(p);
              s = S.summaryIndex;
              var I = y === "footer" ? S.layout.firstColumn.footers.get(s) : S.layout.firstColumn.headerSummaries.get(s);
              t = ae.getSummary(y, S.summaryIndex, S.layout), l = I && I.popupMenuName;
              break;
            case "groupHead":
            case "groupFoot":
              var E = p[Ko];
              t = ae.getGroupElt(y, E);
              break;
            case "groupBar":
              var O = p[De];
              v = this.getRowOfItem(O), t = ae.getItem(y, O, v);
          }
        } else
          _ && _ === d._clickElement && (t = d._getClickData(_));
        if ((r = this._fireContextMenuPopup(u, c, t, l || this._contextMenu, !0)) !== !1) {
          var P = this._popupMenuManager;
          if (typeof r == "string" ? l = r : r != null && typeof r == "object" || (l = l || this._contextMenu), l) {
            e.preventDefault();
            var R = P.getMenu(l);
            R && P.showContext(R, e, u, c, t);
          }
        }
        return null;
      }, i.prototype.setContextMenu = function(e) {
        return e ? this.addPopupMenu(this._contextMenu = "gridContextMenu", e, !0, this) : this._contextMenu = null;
      }, i.prototype.addPopupMenu = function(e, t, o, r) {
        if (o === void 0 && (o = !0), t = b.makeArray(t), e && t)
          return this.popupMenuManager.addMenu(e, t, o, r);
      }, i.prototype.removePopupMenu = function(e) {
        this.popupMenuManager.removeMenu(e);
      }, i.prototype.getPopupMenu = function(e) {
        return this.popupMenuManager.getMenu(e);
      }, i.prototype.setCursor = function(e, t) {
        if (e) {
          var o = this.getTableCell(e), r = o ? this.getTableView(o) : this._tableViews[e[Pi]];
          if (r instanceof Ir)
            return void r.setCursor(t);
        }
        this._container.setCursor(t);
      }, i.prototype.canMoveLayout = function(e) {
        var t = e.root.vindex, o = this.layoutManager;
        return !(o.mergedRowGrouped && t < o.rowGroupLevels) && (this.fixedOptions.movable || t >= o.fixedLayoutCount && t < o.rightFirstLayout);
      }, i.prototype.canMoveToLayout = function(e) {
        return this.canMoveLayout(e);
      }, i.prototype.getEditCellValue = function() {
        return this._editController.editValue;
      }, i.prototype.setEditCellValue = function(e, t, o) {
        (this.isEditing() || t) && this._editController.setEditValue(e, o);
      }, i.prototype.searchItem = function(e) {
        e instanceof Ui || (e = new Ui(e));
        var t = b.makeArray(e.fields), o = b.makeArray(e.values), r = this.itemSource, n = e.startIndex, s = e.reverse, l = -1;
        if (t && t.length > 0 && o && o.length > 0 && r) {
          var h = void 0, u = void 0, c = void 0, d = void 0, p = t.length, _ = [];
          for (h = 0; h < p; h++)
            u = parseFloat(t[h]), !isNaN(u) && u >= 0 ? _.push(u) : (c = this.dataSource.getFieldIndex(t[h])) >= 0 && _.push(c);
          if (_.length > 0) {
            var g = r.itemCount;
            n = s ? Math.min(g - 1, n) : Math.max(0, n), (l = (s ? n >= 0 : n < g) ? r.findItem(_, o, e, n, s ? 0 : g - 1) : -1) < 0 && e.wrap && (s ? n < g - 1 : n > 0) && (l = r.findItem(_, o, e, s ? g - 1 : 0, s ? n + 1 : n - 1));
          }
          l >= 0 && e.select && (d = this.getIndex(l, b.pick(this.focusedIndex.column, this.getFirstColumn())), this.setFocusedIndex(d, !0, !0));
        }
        return l;
      }, i.prototype.searchCell = function(e) {
        var t, o, r, n = this.itemSource, s = n && n.dataSource, l = n.itemCount, h = e.fields = b.makeArray(e.fields), u = e.columns = b.makeArray(e.columns), c = [], d = null;
        if (s)
          if (!h && u)
            for (t = 0, o = u.length; t < o; t++) {
              var p = this.columnByName(u[t]);
              if (p instanceof re) {
                if (p.dataIndex < 0)
                  throw new Error("invalid search Column " + u[t]);
                c.push(p.dataIndex);
              }
            }
          else
            for (t = 0, o = (h = h || s.getOrgFieldNames()).length; t < o; t++)
              r = parseFloat(h[t]), !isNaN(r) && r >= 0 ? c.push(r) : c.push(s.getFieldIndex(h[t]));
        e instanceof zi || (e.reverse && (e.hasOwnProperty("startIndex") || (e.startIndex = l - 1), e.hasOwnProperty("startFieldIndex") || (e.startFieldIndex = c.length - 1)), e = new zi(e));
        var _ = e.wrap, g = e.select, y = e.value, m = e.reverse;
        if (s && c && c.length > 0 && y != null) {
          if (c.length > 0) {
            var v = m ? Math.min(l - 1, e.startIndex) : Math.max(0, e.startIndex), C = Math.max(m ? -1 : 0, e.startFieldIndex), x = m ? v >= 0 : v < l, S = m ? v < l - 1 || C < c.length : v > 0 || C > 0, I = m ? 0 : l - 1;
            !(d = x ? n.findCell(c, y, e, v, I, C) : null) && _ && S && (d = n.findCell(c, y, e, m ? l - 1 : 0, v, m ? C : 0)), d && (d.fieldName = s.getOrgFieldName(d.fieldIndex));
          }
          if (d && g) {
            var E = void 0;
            (E = u ? this.getIndex(d.itemIndex, b.pick(this.columnByName(u[d.searchFieldIndex]), this.focusedIndex.column)) : this.getIndex(d.itemIndex, b.pick(this.columnByField(d.fieldIndex), this.focusedIndex.column))) && this.setFocusedIndex(E, !0, !0);
          }
        }
        return d;
      }, i.prototype.isCheckable = function(e) {
        var t = this.getItem(e);
        return t && t.checkable;
      }, i.prototype.isCheckableOfRow = function(e) {
        var t = this.getItemOfRow(e, !0);
        return t && t.checkable;
      }, i.prototype.setCheckable = function(e, t) {
        var o = this.getItem(e);
        o && o.setCheckable(t);
      }, i.prototype.setCheckableOfRow = function(e, t) {
        var o = this.getItemOfRow(e, !0);
        o && o.setCheckable(t);
      }, i.prototype.isCheckedItem = function(e) {
        var t = this.getItem(e);
        return t && t.checked;
      }, i.prototype.isCheckedRow = function(e) {
        var t = this._items.getItemOfRow(e, !0);
        return t && t.checked;
      }, i.prototype.checkAll = function(e, t, o, r) {
        var n = this._checkBar.showGroup && !this._checkBar.merged;
        this._items.checkAll(e, t, o, r, n);
      }, i.prototype.toggleCheck = function(e) {
        var t = this.getItem(e);
        t && t.checkable && this.checkItem(t.index, !t.checked, this.checkBar.exclusive, !0);
      }, i.prototype.toggleChecks = function(e, t) {
        var o = [];
        if (t && t.isDataRow && t.checkable) {
          if (this.checkBar.merged) {
            var r = e[0], n = e[e.length - 1], s = r.index, l = n.index, h = this.checkBar.merges, u = h.getRoom(W.temp(this, s, null));
            s = Math.min(s, u ? u.head : s), u = h.getRoom(W.temp(this, l, null)), l = Math.max(l, u ? u.tail : l), e = [];
            for (var c = s; c <= l; c++) {
              var d = this.getItem(c);
              d.checkable && d.isDataRow && e.push(d);
            }
          }
          for (c = 0; c < e.length; c++)
            e[c].checkable && e[c].dataRow >= 0 && o.push(e[c]);
          var p = !t.checked;
          this.checkBar.exclusive && this.itemSource._clearChecked(), o.length > 0 && this._items.checkItems(o, p, !0);
        }
      }, i.prototype.checkItem = function(e, t, o, r) {
        var n = this.getItem(e);
        n && this._items.checkItem(n, t, o, r);
      }, i.prototype.checkRow = function(e, t, o, r) {
        var n, s = this.getItemIndexOfRow(e);
        s > -1 && (n = this.getItem(s)) && (n = n instanceof Ji ? n : null), (n = n || this.getItemOfRow(e, !0)) && this._items.checkItem(n, t, o, r);
      }, i.prototype.checkItems = function(e, t, o) {
        var r = this._items.getItemsByIndices(e);
        this._items.checkItems(r, t, o);
      }, i.prototype.checkRows = function(e, t, o) {
        var r = this._items.getItemsByRows(e, !0);
        this._items.checkItems(r, t, o);
      }, i.prototype.setAllCheck = function(e, t) {
        var o = this.checkBar.exclusive;
        if (this._headView.allChecked = e, t && (!o || !e)) {
          var r = this.checkBar;
          this.checkAll(e, r.visibleOnly, r.checkableOnly, !1);
        }
      }, Object.defineProperty(i.prototype, "allChecked", { get: function() {
        return this._headView.allChecked;
      }, enumerable: !1, configurable: !0 }), i.prototype.resetCheckables = function() {
      }, i.prototype.applyCheckables = function() {
      }, i.prototype.registerCustomRenderer = function(e, t) {
        this._delegate.addCustomRenderer(e, t);
      }, i.prototype.unregisterCustomRenderer = function(e) {
        this._delegate.removeCustomRenderer(e);
      }, i.prototype.existsCustomRenderer = function(e) {
        return this._delegate.existsCustomRenderer(e);
      }, i.prototype.unregisterAllCustomRenderer = function() {
        this._delegate.clearCustomRenderers();
      }, i.prototype.getValueAt = function(e, t) {
        var o = this.getItem(t), r = e.firstColumn;
        if (r instanceof re)
          return o && o.getData(r.dataIndex);
      }, i.prototype.getCellValue = function(e) {
        if (this.isValid(e)) {
          var t = this.getItem(e.itemIndex), o = e.dataColumn;
          if (t && o)
            return t.getData(o.dataIndex);
        }
      }, i.prototype.getDistinctItemValues = function(e, t, o) {
        t === void 0 && (t = -1), o === void 0 && (o = f.SortDirection.ASCENDING);
        var r = this.columnByField(e);
        if (!r)
          return null;
        if (t != 0) {
          var n = r.getField().dataType, s = [], l = [];
          return this._items._rs.getAllItems().forEach(function(h) {
            if (h instanceof Fe || h instanceof xe) {
              var u = h.getData(e);
              switch (n) {
                case f.ValueType.NUMBER:
                  u != null && isNaN(u) || s.indexOf(u) < 0 && s.push(u);
                  break;
                case f.ValueType.DATE:
                case f.ValueType.DATETIME:
                  u ? l.indexOf(u.getTime()) < 0 && (l.push(u.getTime()), s.push(u)) : s.indexOf(u) < 0 && s.push(u);
                  break;
                default:
                  s.indexOf(u) < 0 && s.push(u);
              }
            }
          }), o !== f.SortDirection.NONE && (b.included(n, f.ValueType.DATETIME, f.ValueType.DATE, f.ValueType.NUMBER) ? s.sort(function(h, u) {
            return h - u;
          }) : s.sort(), o === f.SortDirection.DESCENDING && s.reverse()), t < 0 ? s : s.slice(0, t);
        }
        return null;
      }, i.prototype.getDisplayText = function(e) {
        var t = e.dataColumn;
        if (t) {
          var o = t.dataIndex;
          if (o >= 0) {
            var r = e.item;
            if (r instanceof Fe || r instanceof xe) {
              var n = r.getData(o);
              if (t instanceof Bt)
                return _r.getText(n);
              var s = new Lo(), l = this._body.getCellFormatters(t, null, e, s);
              return Wt._getDisplayText(this, r, t, n, l);
            }
            if (r instanceof Ke) {
              var h = t.groupFooters.get(r.$_footerIndex);
              return n = ai.getValue(r, t), l = this._rowGroup.getFooterCellFormatters(h, null), ai.$_displayText(r, t, n, l);
            }
          }
        }
        return "";
      }, i.prototype._fitLayoutWidth = function(e, t) {
        var o, r, n = function(M) {
          var V = be(M).getComputedStyle(M), B = {};
          if (V) {
            c = V.paddingLeft;
            var N = parseInt(c.substr(0, c.indexOf("px")));
            d += N > 0 ? N : 0, c = V.paddingRight, N = parseInt(c.substr(0, c.indexOf("px"))), d += N > 0 ? N : 0, B = { fontSize: V.fontSize, fontFamily: V.fontFamily, fontWeight: V.fontWeight, fontStyle: V.fontStyle };
          }
          return { w: d, font: B };
        };
        if (!e.visible)
          return 0;
        var s = this.itemSource, l = this.getIndex(this.topIndex, e.firstColumn), h = e.firstColumn.header, u = "", c = "", d = 0, p = 0, _ = 0, g = (r = (o = this.getHeaderCellAt(e)) === null || o === void 0 ? void 0 : o.cell) === null || r === void 0 ? void 0 : r.firstElementChild;
        if (t && g) {
          var y = n(g), m = y.w, v = y.font;
          p = m + this.container.measureText("rg-header-cell", h.displayText, v) + 2;
        } else
          t && (_ = b.getTextLength(u), p = d + this.container.measureText("rg-header-cell", h.displayText, null) + 2);
        var C, x = this.getBodyCellAt(l, !1), S = x && x.renderer2 && x.renderer2._dom;
        if (S) {
          var I = n(S), E = I.w;
          C = I.font, d = E;
        }
        for (var O = 0, P = s.itemCount; O < P; O++)
          l.itemIndex = O, c = this.getDisplayText(l), b.getTextLength(c) > _ && (_ = b.getTextLength(c), u = c);
        if (_ > 0) {
          d += this.container.measureText("rg-data-cell", u, C) + 2;
          var R = e.getDataColumn(), T = R.editor, D = this.delegate.getCellEditor($e.getEditorType(T));
          D.hasButton(this.displayOptions.showNativeEditButton, T) && (d += this.body.editButtonWidth * D.buttonCount), R.button !== f.CellButton.NONE && (d += this.body.cellButtonWidth);
        }
        return Math.max(d, p);
      }, i.prototype.fitLayoutWidth = function(e, t, o, r) {
        var n = 0;
        function s(l, h) {
          var u = this.getHeaderCellAt(l);
          if (r && u) {
            var c = u.textSpan, d = c.style.whiteSpace;
            c.style.whiteSpace = "nowrap";
            var p = c.getBoundingClientRect().width;
            return c.style.whiteSpace = d, p += u.expander ? u.expander.getBoundingClientRect().width : 0, Math.max(p + 6, h);
          }
          return h;
        }
        return r = r == null || r, e instanceof de ? n = this._fitLayoutWidth(e, r) : e instanceof Ie && (n = function l(h) {
          for (var u = h.direction === f.ColumnLayoutDirection.HORIZONTAL, c = 0, d = 0, p = h.visibles; d < p.length; d++) {
            var _ = p[d], g = 0;
            _ instanceof de ? (g = this._fitLayoutWidth(_, r), _._defColSpan === 1 && (_.cellWidth = g)) : _ instanceof Ie && (g = l.call(this, _), g = s.call(this, _, g)), c = u ? c + g : Math.max(c, g);
          }
          return c;
        }.call(this, e), n = s.call(this, e, n)), o && o > this.displayOptions.minCellWidth && (n = Math.max(n, o)), t && t > this.displayOptions.minCellWidth && (n = Math.min(n, t)), e.cellWidth = n;
      }, i.prototype.$_fitHeaderHeight = function() {
        var e = this._headerView.getMeasureHeights(), t = e.reduce(function(o, r) {
          return o + r;
        }, 0);
        return this.header.heights = e.slice(), this.header.height = t, t;
      }, i.prototype.fitHeaderHeight = function() {
        this._loading ? this._fitHeader = !0 : this.$_fitHeaderHeight();
      }, i.prototype.canMoveRow = function(e, t) {
        return t === void 0 && (t = !0), !this.isEditing() && !this.isItemEditing() && (t || this._editOptions.movable) && (!e || this.itemSource.movable);
      }, i.prototype.moveRows = function(e, t) {
        if (this.canMoveRows(e, !0, t))
          return this._doMoveRows(e, t);
      }, i.prototype.moveSelection = function(e, t) {
        var o = this.getSelectedItems(!1);
        if (o && o.length > 0) {
          var r = o[0], n = r.index, s = this.itemSource;
          if (e > 0 && n + e <= s.itemCount || e < 0 && n > 0) {
            var l = this._getMoveTarget(t, o, n, e);
            if (this.moveRows(o, l)) {
              e = this.isTree() ? r.index - n : e;
              var h = this.getSelection();
              h.moveRow(e), this._selections.clear(), this._selections.$_addItem(h);
              var u = this._focusedIndex.clone();
              u.itemIndex = this.isTree() ? r.index : n + e, this.setFocusedIndex(u, !1, !0, !1);
            }
          }
        }
      }, i.prototype.isSelectedItem = function(e) {
        return this.selections.containsItem(e, null);
      }, i.prototype.isSelectedLayout = function(e) {
        return this.selections.containsLayout(e);
      }, i.prototype.getFilteredColumns = function() {
        for (var e = this.columnCount, t = [], o = 0; o < e; o++) {
          var r = this.getColumn(o);
          r.isFiltered() && t.push(r);
        }
        return t;
      }, i.prototype.showProgress = function() {
        this._progressManager.show(this._container._containerDom, null, this.displayOptions.baseZindex);
      }, i.prototype.setProgress = function(e, t, o, r) {
        this._progressManager.setProperties(e, t, o, r);
      }, i.prototype.closeProgress = function() {
        this._progressManager.close();
      }, i.prototype.showLoading = function(e) {
        this._progressManager.loaderShowing() || (e ? (this._progressManager._gridDisabled = this.container.disabled, this.container.disabled = !0) : this._progressManager._gridDisabled = void 0, this._progressManager.showLoader(this._container._containerDom, this._displayOptions.baseZindex));
      }, i.prototype.hideLoading = function() {
        this._progressManager.closeLoader(), this._progressManager._gridDisabled !== void 0 && (this.container.disabled = this._progressManager._gridDisabled);
      }, i.prototype.beginExportProgress = function(e) {
        this._progressManager.show(this._container._containerDom, e, this._displayOptions.baseZindex);
      }, i.prototype.endExportProgress = function() {
        this._progressManager.close();
      }, i.prototype.setExportProgress = function(e, t, o) {
        this._progressManager.setProperties(0, e, t, o);
      }, i.prototype.setEmptyMessage = function(e) {
        this._emptyView.setMessage(e);
      }, i.prototype.setWatchTimer = function(e) {
        this._container.setWatchTimer(e);
      }, i.prototype.layoutExpandAll = function(e, t) {
        this._activeCellLayout.expandAll(e, t);
      }, i.prototype.isRecycleMode = function() {
        return this.displayOptions.refreshMode === f.RefreshMode.RECYCLE;
      }, i.prototype.invalidateGridObject = function() {
        var e = !1, t = this._gridObjects;
        return t.forEach(function(o) {
          o instanceof Cr || (e = e || o.dirty);
        }), e && t.forEach(function(o) {
          o instanceof Cr || (o._dirty = !0);
        }), e;
      }, i.prototype._getCssSelector = function() {
        return "";
      }, Object.defineProperty(i.prototype, "container", { get: function() {
        return this._container;
      }, enumerable: !1, configurable: !0 }), i.prototype._createDelegate = function() {
        return new zp(this);
      }, i.prototype._createLayoutManager = function() {
        return new as(this);
      }, i.prototype._createEditController = function() {
        return b.isMobile() ? new Sf(this) : new Kl(this);
      }, i.prototype._createSelectionLayer = function() {
        return b.isMobile() ? new eh(this, "mobileSelectionLayer") : new gl(this, "selectionLayer");
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), e.style.setProperty("overflow", "hidden", "important");
      }, i.prototype.setRect = function(e) {
        var t = e.width != this.width || e.height != this.height;
        a.prototype.setRect.call(this, e), t && (this._dirty = !0);
      }, i.prototype._doDraw = function(e) {
      }, i.prototype.$_containerResized = function() {
        b.isMobile() && this.isEditing() && !this.isItemEditing() && setTimeout(function() {
          var e = this.topItem, t = this.layoutManager.fullItemCount, o = this.focusedIndex.itemIndex;
          e + t < o && (this.topIndex = o - Math.round(t / 2));
        }.bind(this), 10), this._columnsDirty = !0;
      }, i.prototype._doCreateOtherElements = function() {
      }, i.prototype._doContentPanesCreated = function() {
      }, i.prototype._createSidePane = function() {
        return null;
      }, i.prototype.isSidePaneVisible = function() {
        return !1;
      }, i.prototype._createBodyView = function(e) {
        return new xt(this.doc, e);
      }, i.prototype._createFixedBodyView = function(e) {
        return new Ol(this.doc, e);
      }, i.prototype._createRightBodyView = function(e) {
        return new Rl(this.doc, e);
      }, i.prototype._initStyles = function() {
      }, i.prototype._columnsReset = function() {
        this._resetColumnIndices(), this._activeCellLayout._columnsChanged(this._columns), this._columnsDirty = !0;
      }, i.prototype._columnVisibleChanged = function(e) {
        this._activeCellLayout._columnChanged(e);
      }, i.prototype._resetColumnIndices = function(e) {
        e === void 0 && (e = null), e ? e._resetIndices(this) : this._columns.resetIndices(), !e && !this._cellLayoutDirty && this.clearAddSelection(!0);
      }, i.prototype._resetColumnSortStates = function() {
        this._columns.resetSortStates();
      }, i.prototype._cleanGridObjects = function() {
        for (var e = 0, t = this._gridObjects.length; e < t; e++)
          this._gridObjects[e].clean();
      }, i.prototype._visualObjectChanged = function(e) {
        this.invalidateLayout();
      }, i.prototype._addGridObject = function(e) {
        this._gridObjects.push(e);
      }, i.prototype.addElement = function(e) {
        this._rootElement.addChild(e);
      }, i.prototype.$_prepareRender = function(e) {
        this._doPrepareRender(e);
      }, i.prototype._doPrepareRender = function(e) {
        if (this._horzScrolled)
          try {
            var t = this._layoutManager;
            t.setLeftPos(e, this._leftPos), this._leftPos = t.leftPos, this.$_updateScrollBars(t), this._layoutSelectionViews(), this._editController.resetEditor(!1), this.container.defaultTool.layoutChanged();
          } finally {
            this._horzScrolled = !1;
          }
      }, i.prototype.$_layout = function(e) {
        this._doLayout(e);
      }, i.prototype.$_detectWidth = function() {
        return !this.displayOptions.watchDisplayChange && this.layoutManager.syncHeight();
      }, i.prototype.$_beforeRender = function() {
        this._itemCheckChanged && this._syncHeadCheck([]), this._beforeCount = this.layoutManager.itemCount, this.$_detectWidth() && (this._beforeWidth = this.container.getContainerWidth());
      }, i.prototype.$_afterRender = function() {
        var e = this.$_detectWidth() && this._beforeWidth != this.container.getContainerWidth();
        if (this._layoutManager.needRelayout() || this._fitHeader || e)
          this._fitHeader && this.$_fitHeaderHeight(), this._fitHeader = !1, this.invalidateLayout();
        else {
          if (this._topIndexChanged && (this._topIndexChanged = !1, this._needRefresh = !0, this._resetTdFocus = this.accessibility, this._fireTopIndexChanged(this.topIndex)), this.leftPos !== this._prevLeftPos && (this._fireLeftPosChanged(this.leftPos), this._prevLeftPos = this.leftPos), this._beforeCount < this.layoutManager.itemCount && (this._needRefresh = !0), this._resetTdFocus && this._container._focused) {
            var t = this.focusedIndex, o = this.doc;
            b.isAncestorOf(this.container._containerDom, o.activeElement, null) && this.accessibility && this.isValid(t) && this.layoutManager.cellIsVisible(t) && (this._setFocusTimer && clearTimeout(this._setFocusTimer), this._setFocusTimer = setTimeout(function() {
              this._setFocusTimer = null, this.getBodyViewAt(t).refreshTdFocused(t, !0);
            }.bind(this), 20)), delete this._resetTdFocus;
          }
          [this.fixedBodyView, this.bodyView, this.rightBodyView].forEach(function(r) {
            if (r.visible)
              for (var n = r._tbody.rows, s = 0, l = n.length; s < l; s++)
                n[s].recycle = !1;
          }), this._fireDataLoadComplated(), this._horzScrolled && this._needRefresh && (this._needRefresh = !1), this._horzScrolled = !1, this._dataChanged = !1, this._needPosition = !1, this._itemCheckChanged = !1, this._fitHeader = !1, this._watermarkLayer && this._watermarkLayer.refresh();
        }
      }, i.prototype._fireDataLoadComplated = function() {
        this._dataLoad && (this._dataLoad = !1, this.fireEvent("onGridBaseDataLoadComplated"));
      }, i.prototype._doLayout = function(e) {
        var t = this._layoutManager;
        this._resetting = !1;
        try {
          this.$_doLayout(t, e);
        } finally {
          this._loading = !1, this._eventFrom = null;
        }
        if (this.$_checkFocusedLayout(), this._emptyView.visible = this.empty && this._displayOptions.showEmptyMessage) {
          var o = t.bodyBounds.clone();
          o.topBy(t.topContentBounds.bottom), this._emptyView.setBounds(0, o.y, this.width, o.height);
        }
        if (this._debugging && this._debugView.layout(), this._cleanGridObjects(), this._columnsDirty && (this._columnsDirty = !1, this._activeCellLayout.cleanColumns()), this.$_resetHovering(this.container._currentX, this.container._currentY, !0), this.$_resetFocusRender(this.container._currentX, this.container._currentY), this.$_resetRowHover(), t.itemCount > 0) {
          var r = t.topIndex, n = r + t.fullItemCount;
          this._topIndexChanged = r !== this._prevTop, this._prevTop = r, n == this._prevLast || n != this.itemCount || b.included(this.displayOptions.syncGridHeight, [f.SyncGridHeight.ALWAYS, f.SyncGridHeight.OVER]) || setTimeout(function() {
            this._fireScrollToBottom();
          }.bind(this), 1), this._prevLast = n;
        }
        this.$_checkCurrentRow(), this._editController.prepareEditor(this.focusedIndex), this._editController.remainFocusing(!1), this._cellLayoutDirty = !1, this.container.defaultTool.layoutChanged(), !this._editController.resetEditor(!1) && this.isValid(this._focusedIndex) && this._editController.resetEditable(this._focusedIndex);
      }, i.prototype.$_doLayout = function(e, t) {
        var o = this._displayOptions, r = this._fixedOptions, n = t.clone(), s = o.vscrollBar ? this._scrollBarWidth : 0, l = o.hscrollBar ? this._scrollBarHeight : 0;
        this.setFocusedClass(this._focusedIndex, !1), this.setFocusedRowClass(this._focusedIndex, !1), this._activeCellLayout.$_refresh(this._columns, o.minCellWidth), this._columnsDirty && this._activeCellLayout.$_prepareLayout(this, r.colCount, r.rightCount), this._needMerge && (this.$_populateMerges(), this._needMerge = !1), this._body._prepareUpdate();
        var h = e.topIndex, u = e.leftPos;
        if (e.measure(n, this._leftPos, this._topIndex, s, l), h !== e.topIndex) {
          var c = e.topIndex - h, d = [this.fixedBodyView, this.bodyView, this.rightBodyView];
          this.isRecycleMode() && !this._dataLoad && c && Math.abs(c) < e.fullItemCount / 2 ? d.forEach(function(_) {
            _ && _.visible && _.reArrangeRows(e, c);
          }) : d.forEach(function(_) {
            _ && _.cleanRecycle();
          });
        }
        if (this._horzScrolled = this._horzScrolled || u !== e.leftPos, e.layout(n), this._leftPos = e.leftPos, this._topIndex = e.topIndex, this.displayOptions.refreshMode !== f.RefreshMode.RECYCLE) {
          var p = this.container._containerDom;
          n = new ue(0, 0, p.clientWidth, p.clientHeight);
        }
        this.$_updateScrollBars(e, n), this._layoutSelectionViews(), this._layouted = !0;
      }, i.prototype._columnCheckedChanged = function(e) {
        this._fireColumnCheckedChanged(e);
      }, i.prototype.$_updateScrollBars = function(e, t) {
        if (e.hscrollBar) {
          var o = e.bodyBounds.width, r = Math.min(e.scrollWidth);
          this._hscrollBar.setProperties(0, o, r), this._hscrollBar.setPosition(e.leftPos), this._hscrollBar.visible = !0;
        } else
          this._hscrollBar && (this._hscrollBar.setProperties(0, 0, 0), this._hscrollBar.setPosition(0), this._hscrollBar.visible = !1);
        if (e.vscrollBar) {
          var n = this.itemCount, s = n - e.fixedItemCount, l = Math.min(e.fullItemCount, n - e.topIndex);
          this._vscrollBar.setProperties(0, s, l), this._vscrollBar.setPosition(e.topIndex), this._vscrollBar.visible = !0;
        } else
          this._vscrollBar && (this._vscrollBar.setProperties(0, 0, 0), this._vscrollBar.setPosition(0), this._vscrollBar.visible = !1);
        t && this.$_layoutScrollBars(e, t);
      }, i.prototype.$_layoutScrollBars = function(e, t) {
        var o = e.scrollBarWidth, r = e.scrollBarHeight, n = this._hscrollBar, s = this._vscrollBar;
        e.hscrollBar && (n.setBounds(t.x, t.bottom - r, t.width - o, r), n.layoutContent()), e.vscrollBar && (s.setBounds(t.right - o, t.y, o, t.height - r), s.layoutContent()), (this._scrollEdge.visible = e.vscrollBar && e.hscrollBar) && this._scrollEdge.setBounds(t.right - o, t.bottom - r, o, r);
      }, i.prototype._columnMergeRuleChanged = function(e) {
        this._populateMerges(), this.refreshView();
      }, i.prototype._canMerge = function() {
        return !1;
      }, i.prototype._populateMerges = function() {
        this._needMerge = !0;
      }, i.prototype.$_populateMerges = function() {
        if (this._canMerge()) {
          for (var e = this.getHorzColumns(), t = 0, o = e.length; t < o; t++) {
            var r, n = e[t], s = n && n.layout;
            s && s.canMerge() && ((r = s.merges) || (r = new mr(s)), r.clear(), n instanceof re && n.mergeGrouped ? this.getGroupLevel(n.dataIndex) > 0 && r.initialize(zt.INIT_COUNT) : r.initialize(zt.INIT_COUNT));
          }
          this._checkBar.canMerge() && ((r = this._checkBar.merges || new pl(this._checkBar)).clear(), r.initialize(zt.INIT_COUNT));
        }
      }, i.prototype._doRowGroupMergeModeChanged = function() {
      }, i.prototype._addSelectionView = function(e) {
        this._selectionLayer.addView(e);
      }, i.prototype._clearSelectionViews = function() {
        this._selectionLayer.clearViews();
      }, i.prototype._removeSelectionView = function(e) {
        this._selectionLayer.removeView(e);
      }, i.prototype._layoutSelectionViews = function() {
        this._layouted && !this._resetting && this._selectionLayer.layout();
      }, i.prototype.$_checkCurrentRow = function(e) {
        if (e === void 0 && (e = !1), this._focusedIndex) {
          var t = this._focusedIndex.dataId, o = this._focusedIndex.dataRow;
          if (e || t != this._currentRowId) {
            clearTimeout(this._rowChangeTimer);
            var r = this.container.defaultTool, n = this._currentRow, s = this._displayOptions.rowChangeDelay, l = e || s <= 0;
            return this._currentRowId = t, this._currentRow = o, l ? (this._fireCurrentRowChanged(n, o), r.currentRowChanged(n, o)) : s > 0 && (this._rowChangeTimer = setTimeout(function() {
              this._fireCurrentRowChanged(n, o), r.currentRowChanged(n, o);
            }.bind(this), s)), !0;
          }
        }
        return !1;
      }, i.prototype.$_doSetFocusedIndex = function(e, t, o, r, n) {
        if (r === void 0 && (r = !0), n === void 0 && (n = !0), !e) {
          if (r)
            return !1;
          e = this.getIndex(-1, null);
        }
        var s, l, h;
        if (!this.isValid(e) && r && (e = e.clone()).normalize(this), !this.isValid(e)) {
          var u = this.dataSource;
          if (!u || u.rowCount == 0 || this.itemCount == 0)
            return this._focusedIndex.itemIndex = -1, this._focusedIndex.layout = null, this.clearAddSelection(!0), !1;
        }
        var c = this.selections.count === 1 ? this.getSelection(0) : null;
        if (W.areEquals(e, this._focusedIndex))
          return !(c && c.single && this.selections.containsCell(e)) && this.clearAddSelection(t, n), !0;
        var d = this._editOptions, p = this._focusedIndex.clone(), _ = this.itemSource, g = this.container.defaultTool, y = this.layoutManager;
        if (this.editOptions.currentChangingFirst ? !this._fireCurrentChanging(p, e) || !this._editController.focusedIndexChanging() : !this._editController.focusedIndexChanging() || !this._fireCurrentChanging(p, e)) {
          var m = this.activeTool.dragTracker;
          return m instanceof Bi && (m.dragging ? m.cancel() : this.activeTool.dragTracker = null), !1;
        }
        var v = p.item;
        if (!this.isItemEditing(v) || this.isItemEdited(v) || e.itemIndex == p.itemIndex || v.itemState !== f.ItemState.UPDATING || d.commitWhenNoEdit)
          if (_ && e.itemIndex != p.itemIndex)
            try {
              if (v)
                switch (v.itemState) {
                  case f.ItemState.INSERTING:
                    if (!this.commit(d.forceInsert, !0))
                      return this.cancel(!0), !1;
                    break;
                  case f.ItemState.APPENDING:
                    if (!this.commit(d.forceAppend, !0))
                      return this.cancel(!0), !1;
                    break;
                  case f.ItemState.UPDATING:
                    if (!this.commit(d.commitWhenNoEdit, !0))
                      return this.cancel(!0), !1;
                }
            } catch (O) {
              if (O instanceof Me)
                return (O = this._fireValidationFail(v.index, O.column, O)) && alert(d.showOnlyValidationMessage && O.userMessage ? O.userMessage : O.toString()), this.invalidateLayout(), !1;
              if (O instanceof yi)
                return !1;
              throw O;
            }
          else
            v && this.isItemEditing(v) && d.validateOnExit && this.invalidateLayout();
        else
          this.cancel(!0);
        g.focusedIndexChanging(e), this._focusedIndex.assign(e), this.$_checkFocusedLayout(), h = this.getBodyCellAt(p, !1), l = this.getBodyCellAt(e, !1), this.isValid(p) && (s = y.getBodyView(p)).$_focusChanged(this, h, !1), this.isValid(e) && (s = y.getBodyView(e)).$_focusChanged(this, l, !0), _ instanceof ft && _.setDiffs(this._editOptions.checkDiff, this._editOptions.checkCellDiff, this._editOptions.strictDiff), this._editController.focusedIndexChanged(p, e, !1), g.focusedIndexChanged(p, e);
        var C = this._focusedIndex, x = this.isValid(C);
        c && Mi(c.style) && this.selections.containsCell(C) || this.clearAddSelection(t, n), this._layouted && this._refreshSideViews();
        var S = !W.areEquals(C, y._prevFocused);
        if (o || S)
          if (this.$_makeFocusedIndexVisible())
            this._resetTdFocus = !1, this.accessibility && !this.isEditing() && this.isValid(C) && this.isValid(p) && (s = this.getBodyViewAt(p), this._eventFrom !== "mousedown" && p.itemIndex !== C.itemIndex && s && s.tdClone(p), this._resetTdFocus = !0);
          else {
            var I, E;
            this._editController.resetEditor(!1), this.isValid(C) && this.getItem(C.itemIndex).canEdit() && this._editController.prepareEditor(C), this.isValid(p) && (I = this.getBodyViewAt(p)) && (E = I.getRowView(p.item)) instanceof mt && E.resetButtons(this, h, l), !this.container.isLayoutNeeded() && x && (I = this.getBodyViewAt(C)) && (E = I.getRowView(C.item)) instanceof mt && E.resetButtons(this, h, l), this.accessibility && !this.isEditing() && this.isValid(C) && this.layoutManager.cellIsVisible(C) && (s = this.getBodyViewAt(C)) && s.refreshTdFocused(C, !0);
          }
        return this._fireCurrentChanged(this._currentIndex.assign(C)), this.$_checkCurrentRow(), !0;
      }, i.prototype._refreshSideViews = function() {
        this.container.isLayoutNeeded() || (this._rowBarContainer.visible && this._rowBarContainer.refresh(this), this._headerView.visible && this._headerView.refresh(this), this._fixedHeaderView.visible && this._fixedHeaderView.refresh(this), this._rightHeaderView.visible && this._rightHeaderView.refresh(this));
      }, i.prototype.$_makeFocusedIndexVisible = function() {
        return this.makeCellVisible(this._focusedIndex);
      }, i.prototype.makeCellVisible = function(e) {
        if (this.isValid(e) || e && e.column) {
          if (this.layoutManager.makeCellVisible(e), !this.layoutManager.focusIsVisible())
            return this._eventFrom !== "mousedown" && this.invalidateLayout(), !0;
          this.layoutManager.clearFocusRequest();
        }
        return !1;
      }, i.prototype.makeColumnVisible = function(e) {
        if (e) {
          var t = this.getIndex(this._focusedIndex ? this._focusedIndex.itemIndex : -1, e);
          this.makeCellVisible(t);
        }
      }, i.prototype.makeItemVisible = function(e) {
        if (e >= 0) {
          var t = this.getIndex(e, this._focusedIndex && this._focusedIndex.layout);
          this.makeCellVisible(t);
        }
      }, i.prototype.cancelEditor = function(e) {
        this.isEditing() && (e = !(arguments.length > 0) || e, this._editController.cancelEditor(e));
      }, i.prototype.itemEditCancel = function() {
        return this._fireItemEditCancel(this.itemSource.editingItem);
      }, i.prototype.$_cancelItem = function(e, t) {
        t === void 0 && (t = !1);
        var o = b.cast(this.itemSource, ft);
        return !!(o && e && o.isEditing(e)) && (this._validationManager.clearInvalidCells(-1), o.cancel(), t && this.resetFocusedIndex(), !0);
      }, i.prototype.cancel = function(e) {
        e === void 0 && (e = !1);
        var t = this.editController;
        this.isEditing() && (t.cancelEditor(!0), t.invalidateEditor());
        var o = this.focusedIndex;
        return !(!this.isValid(o) || !this.$_cancelItem(o.item)) && (o = o.clone(), this._rowBarContainer.stateError = void 0, t._prepareEditor(t._editIndex), o.normalize(this), o.item instanceof Xi && o.up(), this.setFocusedIndex(o), e && this.$_makeFocusedIndexVisible(), !0);
      }, i.prototype.commitEditor = function(e, t) {
        e === void 0 && (e = !0), t === void 0 && (t = !1), this.isEditing() && this.editController.commitEditor(e, !1, !0, t);
      }, i.prototype.$_commitItem = function(e, t, o) {
        var r = b.cast(this.itemSource, ft), n = this.validationManager;
        if (r && e && r.isEditing(e) && (t || r.isEdited(e))) {
          var s = wt(e.itemState);
          try {
            n.validateRow(e, s, !1, !1), this._rowBarContainer.stateError = void 0;
          } catch (l) {
            throw l instanceof Me && (l.level = l.level || f.ValidationLevel.ERROR, !l.column && (this._rowBarContainer.stateError = l)), l;
          }
          if (!r.commit()) {
            if (o)
              throw new yi("Commit failed.");
            return !1;
          }
          return e.dataId > -1 && n.cloneError(-1, e.dataId), n.clearInvalidCells(-1), this.editOptions.removeValidateOnCommit && e.dataId > -1 && n.clearInvalidCells(e.dataId), !0;
        }
      }, i.prototype.commit = function(e, t, o) {
        o === void 0 && (o = !0);
        var r = this.focusedIndex, n = !0;
        return !!this.isValid(r) && (this.isEditing() && (n = this.editController.commitEditor(!0, !1, o, e), this.editController.invalidateEditor()), n && this.$_commitItem(r.item, e, t));
      }, i.prototype.editorCancel = function(e, t) {
        this._doCellCancel(t);
      }, i.prototype._doCellCancel = function(e) {
        return this._fireEditCanceled(e);
      }, i.prototype.editorCanceled = function() {
        this.activeTool.resetFocused();
      }, i.prototype._editorStarted = function(e, t) {
        if (this.closePopups(!1), this.edit(t))
          return !0;
      }, i.prototype._editorChange = function(e, t, o) {
        this._fireEditChange(t, o);
      }, i.prototype._editorSearch = function(e, t, o) {
        this._fireEditSearch(t, o);
      }, i.prototype._searchCellButtonClick = function(e, t, o) {
        return this._fireSearchCellButtonClick(t, o);
      }, i.prototype.$_getFieldDefaults = function(e) {
        function t(l, h) {
          for (var u = 0; u < l.columnCount; u++) {
            var c = l.getColumn(u);
            if (c instanceof re && c.dataIndex == h) {
              var d = c.getField();
              return d && d.defaultValue;
            }
          }
        }
        for (var o = this.dataSource.fieldCount, r = [], n = 0; n < o; n++)
          r.push(void 0);
        for (n = 0; n < o; n++) {
          var s = t(this, n);
          s && (r[n] = s);
        }
        return r;
      }, i.prototype.$_getColumnDefaults = function(e) {
        for (var t = 0, o = this.columnCount; t < o; t++) {
          var r = this.getColumn(t);
          r instanceof re && r.defaultValue != null && (e[r.dataIndex] = r.defaultValue);
        }
      }, i.prototype.$_getItemDefaults = function(e, t) {
      }, i.prototype.$_readDefaultValues = function(e) {
      }, i.prototype.$_getInsertDefaults = function(e) {
        var t = this.$_getFieldDefaults(this.itemSource.dataSource);
        return this.$_getColumnDefaults(t), this.$_getItemDefaults(null, t), this.$_readDefaultValues(t), t;
      }, i.prototype.sortColumn = function(e, t) {
        e && (this.sortingOptions.style == f.SortStyle.EXCLUSIVE ? t && t.shiftKey ? this.sortColumnWithStyle(f.SortStyle.INCLUSIVE, e) : this.sortColumnWithStyle(f.SortStyle.EXCLUSIVE, e) : this.sortColumnWithStyle(this.sortingOptions.style, e));
      }, i.prototype.sortColumnWithStyle = function(e, t) {
        if (!t)
          throw new Error("column is null");
        if (!(this.isItemEditing(null) || t.dataIndex < 0)) {
          var o = this._sortingOptions.textCase;
          e == f.SortStyle.EXCLUSIVE ? t.sortOrder < 0 ? this.orderBy([t], [f.SortDirection.ASCENDING], [o]) : t.sortDirection == f.SortDirection.ASCENDING ? this.orderBy([t], [f.SortDirection.DESCENDING], [o]) : this.isGroupedColumn(t) && this.itemSource._groupSorting ? this.orderBy([t], [f.SortDirection.ASCENDING], [o]) : this.unsortColumnWithStyle(e, t) : e != f.SortStyle.INCLUSIVE && e != f.SortStyle.REVERSE || (t.sortOrder < 0 ? this.$$_addSort(t, f.SortDirection.ASCENDING, o, e == f.SortStyle.REVERSE) : t.sortDirection == f.SortDirection.ASCENDING ? this.$$_addSort(t, f.SortDirection.DESCENDING, o, e == f.SortStyle.REVERSE) : this.isGroupedColumn(t) && this.itemSource._groupSorting ? this.$$_addSort(t, f.SortDirection.ASCENDING, o, e == f.SortStyle.REVERSE) : this.unsortColumnWithStyle(e, t));
        }
      }, i.prototype.orderBy = function(e, t, o) {
        if (!this.isItemEditing(null))
          if (!e || e.length < 1)
            this._sortItems([], [], []);
          else {
            for (var r = [], n = e.length, s = 0; s < n; s++) {
              var l = e[s];
              r.push(l.dataIndex);
            }
            this._sortItems(r, t, o);
          }
      }, i.prototype.unsortColumnWithStyle = function(e, t) {
        if (!this.isItemEditing() && t) {
          var o = this.getSortFields(), r = this.getSortDirections(), n = this.getSortCases(), s = o.indexOf(t.dataIndex);
          s < 0 || (e == f.SortStyle.EXCLUSIVE ? this.orderBy([], [], []) : e != f.SortStyle.INCLUSIVE && e != f.SortStyle.REVERSE || (o.splice(s, 1), r.splice(s, 1), n.splice(s, 1), this._sortItems(o, r, n)));
        }
      }, i.prototype.$$_addSort = function(e, t, o, r) {
        var n = this.getSortFields(), s = this.getSortDirections(), l = this.getSortCases(), h = e.dataIndex, u = n.indexOf(h);
        u >= 0 ? (s[u] = t, l[u] = o) : r ? (n.splice(0, 0, h), s.splice(0, 0, t), l.splice(0, 0, o)) : (n.push(h), s.push(t), l.push(o)), this._sortItems(n, s, l);
      }, i.prototype._sortItems = function(e, t, o) {
        var r = this, n = e.concat(), s = t ? t.concat() : [], l = o ? o.concat() : [];
        this._fireSorting(n, s) && this._toastManager.show(this.sortingOptions.toast, !0, function() {
          var h = r.sortingOptions.keepFocusedRow && r.focusedIndex ? r.focusedIndex.dataRow : -1;
          if (r._doSortItems(e, s, l), h >= 0) {
            var u = W.temp(r, r.getItemIndexOfRow(h), r.focusedIndex.column);
            r._editController.remainFocusing(!0), r.setFocusedIndex(u, !0, !0);
          }
        });
      }, i.prototype._doPrepareComparer = function(e) {
        for (var t = {}, o = 0; o < e.length; o++) {
          var r = this.columnByField(e[o]);
          r.sortByLabel && (t[e[o]] = n(r));
        }
        return t;
        function n(s) {
          var l = s.grid;
          return function(h, u, c) {
            var d = l.getItemOfRow(u, !0), p = l.getItemOfRow(c, !0), _ = Wt.getText(d, s), g = Wt.getText(p, s);
            return _ == g ? 0 : _ == null ? g == null ? 0 : -1 : g == null || _ > g ? 1 : _ < g ? -1 : 0;
          };
        }
      }, i.prototype._doSortItems = function(e, t, o) {
      }, i.prototype.getSortFields = function() {
        return null;
      }, i.prototype.getSortDirections = function() {
        return null;
      }, i.prototype.getSortCases = function() {
        return null;
      }, i.prototype.canFiltering = function() {
        return this._fireFiltering();
      }, Object.defineProperty(i.prototype, "filterSelecting", { get: function() {
        return this._filterSelector.opened;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterSelector", { get: function() {
        return this._filterSelector;
      }, enumerable: !1, configurable: !0 }), i.prototype.applyFilters = function(e, t) {
        var o = this;
        return !this.isItemEditing(null) && !!this._fireFiltering() && (this._toastManager.show(this.filteringOptions.toast, !0, function() {
          o._editController.remainFocusing(!0), o.$_doApplyFilters(e, t);
        }), !0);
      }, i.prototype.$_findFilterView = function(e) {
        if (!e)
          return {};
        for (var t, o = [this._fixedFilterView, this._filterPanelView, this._rightFilterView], r = 0; r < o.length; r++)
          if (o[r].visible && (t = o[r].tableCellByLayout(e)))
            return { view: o[r], cell: t };
        return {};
      }, i.prototype.filterOperatorCallback = function(e, t, o) {
        var r = this.layoutByName(o.column), n = this.$_findFilterView(r), s = n.view, l = n.cell;
        l && s.operatorChange(l, t, r, o);
      }, i.prototype.clearInlineFilter = function(e) {
        var t = e && e.layout;
        if (t) {
          var o = this.$_findFilterView(t), r = o.view, n = o.cell;
          r.clearInput(n, e);
        } else
          [this._fixedFilterView, this._filterPanelView, this._rightFilterView].forEach(function(s) {
            return s.clearInput();
          }), this.$_doApplyFilters(null, null);
      }, i.prototype.inlineFilterFocus = function(e) {
        var t = this.$_findFilterView(e), o = t.view, r = t.cell;
        o.setFocus(r);
      }, i.prototype.$_doApplyFilters = function(e, t) {
        var o = this._items.itemCount;
        this._items.beginFiltering();
        try {
          this._filterRunning = !0, this._items.clearAllFilters(), this.$_addFilters();
        } finally {
          this._items.endFiltering(e, t), o !== this._items.itemCount && (this.topIndex = 0), this._filterRunning = !1;
        }
      }, i.prototype.$_addFilters = function() {
        for (var e = this.columnCount, t = 0; t < e; t++) {
          var o = this.getColumn(t), r = o.autoFilter ? o.autoFilters : o.filters;
          if (r && r.activeCount > 0)
            for (var n = 0, s = r.count; n < s; n++) {
              var l;
              (l = r.getItem(n)).active && this._items.addFilter(o.dataIndex, l);
            }
          (r = o._inlineFilters) && r.activeCount > 0 && (l = r.getItem(0)).active && this._items.addFilter(o.dataIndex, l);
        }
      }, i.prototype.columnFilterChanged = function(e, t) {
        this._doColumnFiltersChanged(e, t);
      }, i.prototype.canGrouping = function() {
        return !1;
      }, i.prototype.$_layoutRowHover = function(e, t, o) {
        var r = this._layoutManager, n = r.footerBounds.y + r.contentBounds.y, s = this.getBodyView(e.cell);
        if (s) {
          var l = r.getTableRowIndex(t);
          if (!(l < 0)) {
            l = s.getViewIndex(l);
            var h = r.getTableItemBounds(l);
            switch (h.y += r.contentBounds.y + r.bodyBounds.y, h.bottom > n && (h.bottom = n), o) {
              case f.RowMaskType.DATA:
                h.x = this._fixedContentPane.x, h.right = this._rightContentPane.width ? this._rightContentPane.right : this._contentPane.right;
                break;
              case f.RowMaskType.FILL:
                h.x = 0, h.width = this.width;
                break;
              case f.RowMaskType.CELL:
                var u = s.pointByContainer(0, 0), c = s.getCellRect(r, e, !0);
                h.x = c.x + u.x, h.width = c.width;
                break;
              case f.RowMaskType.ROW:
                h.x = 0, h.right = this._rightContentPane.width ? this._rightContentPane.right : this._contentPane.right;
            }
            this._rowHoverView.setRect(h);
          }
        }
      }, i.prototype.$_resetHovering = function(e, t, o) {
        o === void 0 && (o = !1);
        var r = this.activeTool;
        if (r instanceof ws && this.canHovering) {
          var n = this.container.getTableCell(r.mouseEventTarget);
          if (o && this.isRecycleMode()) {
            var s = W.temp(this);
            this.layoutManager.mouseToIndex(n, e, t, s);
            var l = this.getBodyCellAt(s);
            l && (n = l.cell);
          }
          var h = this.getCellType(n), u = !1, c = !1, d = !1;
          if (h === "data") {
            var p = this.getBodyView(n).bodyCellByCell(n);
            this.$_setHoveredCell(p, t, o), r.$_setHoveredCell(p, e, t), u = !0;
          } else if (h === "header")
            p = this.getHeaderView(n).tableCellByCell(n), r.$_setHoveredHeaderCell(p, e, t), c = !0;
          else if (h === "state" && this._rowBarContainer.stateError && this._stateBar.errorVisible && this.editOptions.hintOnError) {
            var _ = this._rowBarContainer.rowOf(n);
            this.isItemEditing(this.getItem(_)) && (d = !0, r.$_showStateError(n, this._rowBarContainer.stateError.message));
          }
          return !(u || c || d) && r._hideTooltip(), u || this.$_setHoveredCell(null, t, !1), !0;
        }
      }, i.prototype.$_getCellAt = function(e, t) {
        var o = this.getBodyView(e), r = this.layoutManager, n = this.getDataCellIndex(e, this._currentIndex), s = o.getCellAt(r, n);
        if (s && s.merged) {
          var l = r.getTableRowIndex(t);
          if (l < 0)
            return s;
          var h = o.getRowIndex(l);
          return n.itemIndex = Math.min(Math.max(s.item.index, h), s.item.index + s.rowSpan - 1), o.getCellAt(r, n);
        }
        return s;
      }, i.prototype.$_setHoveredCell = function(e, t, o) {
        o === void 0 && (o = !1);
        var r = e && this.$_getCellAt(e.cell, t);
        (o || r !== this._hoveredCell) && (this._hoveredCell && this._hoveredCell.cell && this.getBodyView(this._hoveredCell.cell).$_mouseEnteredChanged(this, this._hoveredCell, !1), r && this.getBodyView(r.cell).$_mouseEnteredChanged(this, r, !0), this._doHoveredCellChanged(this._hoveredCell = r)), (o || t != this._hoveredY) && (this._hoveredY = t, this.$_resetRowHover());
      }, i.prototype.$_resetRowHover = function() {
        var e = this._displayOptions.rowHoverType;
        this._hoveredCell && e && e != f.RowMaskType.NONE ? (this._rowHoverView.visible = !0, this.$_layoutRowHover(this._hoveredCell, this._hoveredY, e)) : this._rowHoverView.visible = !1;
      }, i.prototype.$_resetFocusRender = function(e, t) {
        var o = this.getBodyCellAt(this.focusedIndex, !0), r = o && o.merged && (o.renderer2 || o.head.renderer2), n = this.canMergeEditing(o);
        if (r && r.refreshFocusChanged) {
          var s = this.layoutManager, l = this.getBodyViewAt(this.focusedIndex), h = l.getCellRectAt(s, this.focusedIndex, !1), u = l.getCellRectAt(s, this.focusedIndex, !0), c = h.top - u.top + h.height / 2 - u.height / 2;
          r.moveClickElement(c, n);
        }
      }, i.prototype._doHoveredCellChanged = function(e) {
      }, i.prototype._doCellButtonClicked = function(e) {
        this._fireCellButtonClicked(e);
      }, i.prototype._syncHeadCheck = function(e, t) {
        var o = this.checkBar;
        if (o.syncHeadCheck) {
          var r = o.showGroup && !o.merged;
          if (t === !1)
            this._headView.allChecked = t;
          else if (e == null)
            this._headView.allChecked = t;
          else {
            for (var n = 0, s = void 0, l = o.visibleOnly, h = l ? this._items.itemCount : (s = this.getAllItems()).length, u = 0; u < h; u++) {
              var c = l ? this._items.getItem(u) : s[u];
              if ((c.isDataRow || r) && c.checkable) {
                if (!c.checked) {
                  n = -1;
                  break;
                }
                n++;
              }
            }
            this._headView.allChecked = n > 0;
          }
        }
      }, i.prototype.getRowHeight = function(e) {
        var t = this.getItem(e);
        return t ? t.height : NaN;
      }, i.prototype.setRowHeight = function(e, t, o) {
        o === void 0 && (o = !0);
        var r = this.getItem(e);
        r && (this._items.setRowHeight(r, t, !0), o && this.refreshView());
      }, i.prototype.clearRowHeights = function(e) {
        e === void 0 && (e = !1), this._items.clearRowHeights(e) && this.refreshView();
      }, i.prototype.setFocusedClass = function(e, t) {
        if (this.displayOptions.useFocusClass) {
          var o = this.getBodyCellAt(e, !0);
          o && o.cell && (t ? b.addClassName(o.cell, "rg-focused-cell") : b.removeClassName(o.cell, "rg-focused-cell"));
        }
      }, i.prototype.setFocusedRowClass = function(e, t) {
        function o(n, s) {
          var l = n.getRowView(s);
          if (l)
            for (var h = 0, u = l._getTableRows(this.layoutManager); h < u.length; h++) {
              var c = u[h];
              t ? b.addClassName(c, "rg-focused-row") : b.removeClassName(c, "rg-focused-row");
            }
        }
        if (this.displayOptions.useFocusClass) {
          var r = e.item;
          o.call(this, this.bodyView, r), o.call(this, this.fixedBodyView, r), o.call(this, this.rightBodyView, r);
        }
      }, i.prototype.getSummaryCount = function(e) {
        switch (e) {
          case "summary":
            return this.headerSummaries.count;
          case "footer":
            return this.footers.count;
          default:
            return 0;
        }
      }, i.prototype.topIndexChanging = function(e, t, o, r) {
        return this._fireTopIndexChanging(e, t, o, r);
      }, i.prototype.$_rendererChanged = function(e) {
        var t = this._layoutManager.getBodyView(e);
        t && t.$_rendererChanged(e);
      }, i.prototype.$_clearDropData = function(e) {
        var t = this.getRowsOfItems(e, !1);
        t.length > 0 && this.dataSource.removeRows(t);
      }, i.prototype.$_dropData = function(e, t, o) {
        var r = this.dataDropOptions, n = r.callback, s = o.index;
        if (n)
          n(e.handler, t, this.handler, o.index, o.column);
        else if (s >= 0) {
          var l = e.getRowsOfItems(t), h = void 0, u = r.fieldMapCallback;
          if (u && (h = u(e.handler, t, this.handler, s, o.column)), h = h || r.fieldMap, s < this.itemCount) {
            var c = this.getRowOfItem(s);
            c >= 0 && this.dataSource.insertRowsFrom(e.dataSource, h, l, c);
          } else
            this.dataSource.appendRowsFrom(e.dataSource, h, l);
        }
        r.dropMode == f.DataDropMode.MOVE && e.$_clearDropData(t);
      }, i.prototype.$_checkFocusedLayout = function() {
        if (this._focusedIndex) {
          var e = this.getBodyCellAt(this._focusedIndex);
          e && e.spanned && (e = this.getBodyView(e.cell).getCheckedLayout(e), this._focusedIndex.layout = e && e.layout);
        }
      }, i.prototype.$_isBottomCell = function(e) {
        var t = this.getBodyCellAt(e);
        if (t)
          return this.getBodyView(t.cell).isBottomCell(t);
      }, i.prototype.$_getLowerOfCell = function(e) {
        var t = this.getBodyCellAt(e);
        if (t)
          return (t = this.getBodyView(t.cell).getLowerOf(t)) && t.layout.source;
      }, i.prototype.$_isTopCell = function(e) {
        var t = this.getBodyCellAt(e);
        if (t)
          return this.getBodyView(t.cell).isTopCell(t);
      }, i.prototype.$_getUpperOfCell = function(e) {
        var t = this.getBodyCellAt(e);
        if (t)
          return (t = this.getBodyView(t.cell).getUpperOf(t)) && t.layout.source;
      }, i.prototype.setCheckFieldIndex = function(e) {
        this._items.setCheckFieldIndex(e);
      }, i.prototype._fireCurrentChanging = function(e, t) {
        return this.fireConfirmEvent("onGridBaseCurrentChanging", e, t);
      }, i.prototype._fireCurrentChanged = function(e) {
        this.fireEvent("onGridBaseCurrentChanged", e);
      }, i.prototype._fireCurrentRowChanged = function(e, t) {
        this.fireEvent("onGridBaseCurrentRowChanged", e, t);
      }, i.prototype._fireValidateCell = function(e, t, o) {
        this.fireEvent("onGridBaseValidateCell", e, t, o);
      }, i.prototype._fireValidateRow = function(e, t, o) {
        this.fireEvent("onGridBaseValidateRow", e, t, o);
      }, i.prototype._fireValidationFail = function(e, t, o) {
        return this.fireObjectEvent("onGridBaseValidationFail", e, t, o);
      }, i.prototype._fireCellClicked = function(e) {
        this.fireEvent("onGridBaseCellClicked", e);
      }, i.prototype._fireCellDblClicked = function(e) {
        this.fireEvent("onGridBaseCellDblClicked", e);
      }, i.prototype._fireCellItemClicked = function(e, t) {
        return this.fireConfirmEvent("onGridBaseCellItemClicked", e, t);
      }, i.prototype._fireColumnCheckedChanged = function(e) {
        this.fireEvent("onGridBaseColumnCheckedChanged", e, e.checked);
      }, i.prototype._firePopupMenuPopup = function(e, t, o, r, n) {
        return this.fireObjectEvent("onGridBaseContextMenuPopup", e, t, o, r, n);
      }, i.prototype._fireMenuItemClicked = function(e, t) {
        this.fireEvent("onGridBaseMenuItemClicked", e, t);
      }, i.prototype._fireContextMenuPopup = function(e, t, o, r, n) {
        return this.fireObjectEvent("onGridBaseContextMenuPopup", e, t, o, r, n);
      }, i.prototype._fireContextMenuItemClicked = function(e, t) {
        this.fireEvent("onGridBaseContextMenuItemClicked", e, t);
      }, i.prototype._fireCellButtonClicked = function(e) {
        this.fireEvent("onGridBaseCellButtonClicked", e);
      }, i.prototype._fireEditButtonClicked = function(e) {
        this.fireEvent("onGridBaseEditButtonClicked", e);
      }, i.prototype._fireScrollToBottom = function() {
        this.fireEvent("onGridBaseScrollToBottom");
      }, i.prototype._fireTopIndexChanging = function(e, t, o, r) {
        return this.fireObjectEvent("onGridBaseTopIndexChanging", e, t, o, r);
      }, i.prototype._fireTopIndexChanged = function(e) {
        this.fireEvent("onGridBaseTopIndexChanged", e);
      }, i.prototype._fireLeftPosChanged = function(e) {
        this.fireEvent("onGridBaseLeftPosChanged", e);
      }, i.prototype._fireDataCellClicked = function(e) {
        this.fireEvent("onGridBaseDataCellClicked", e);
      }, i.prototype._fireDataCellDblClicked = function(e) {
        this.fireEvent("onGridBaseDataCellDblClicked", e);
      }, i.prototype._fireRowsDeleting = function(e) {
        return this.fireConfirmEvent("onGridBaseRowsDeleting", e);
      }, i.prototype._fireRowInserting = function(e, t) {
        return this.fireConfirmEvent("onGridBaseRowInserting", e, t);
      }, i.prototype._fireItemCommit = function(e, t) {
        this.fireEvent("onGridBaseItemCommit");
      }, i.prototype._fireSelectionChanged = function(e) {
        return this.fireEvent("onGridBaseSelectionChanged", e);
      }, i.prototype._fireSelectionAdded = function(e) {
        return this.fireEvent("onGridBaseSelectionAdded", e);
      }, i.prototype._fireSelectionRemoved = function() {
        return this.fireEvent("onGridBaseSelectionRemoved");
      }, i.prototype._fireSelectionCleared = function() {
        return this.fireEvent("onGridBaseSelectionCleared");
      }, i.prototype._fireSelectionResized = function(e) {
        return this.fireEvent("onGridBaseSelectionResized");
      }, i.prototype._fireSelectionEnded = function(e) {
        return this.fireEvent("onGridBaseSelectionEnded", e);
      }, i.prototype._fireUpdateStarted = function(e, t) {
        this.fireEvent("onGridBaseUpdateStarted", e);
      }, i.prototype._fireInsertStarted = function(e, t) {
        this.fireEvent("onGridBaseInsertStarted", e, t);
      }, i.prototype._fireShowEditor = function(e, t, o) {
        return this.fireConfirmEvent("onGridBaseShowEditor", e, t, o);
      }, i.prototype._fireShowEditCommand = function(e) {
        return this.fireConfirmEvent("onGridBaseShowEditCommand", e);
      }, i.prototype._fireHideEditor = function(e) {
        return this._doEditorActivated(e, !1, null), this.fireEvent("onGridBaseHideEditor", e);
      }, i.prototype._fireEditChange = function(e, t) {
        this.fireEvent("onGridBaseEditChange", e, t);
      }, i.prototype._fireGetEditValue = function(e, t) {
        this.fireEvent("onGridBaseGetEditValue", e, t);
      }, i.prototype._fireEditCommit = function(e, t, o) {
        return this.fireConfirmEvent("onGridBaseEditCommit", e, t, o);
      }, i.prototype._fireEditCanceled = function(e) {
        this.fireEvent("onGridBaseEditCanceled", e);
      }, i.prototype._fireItemEditCancel = function(e) {
        return this.fireConfirmEvent("onGridBaseItemEditCancel", e);
      }, i.prototype._fireItemEditCanceled = function(e) {
        this.fireEvent("onGridBaseItemEditCanceled", e);
      }, i.prototype._fireEditSearch = function(e, t) {
        this.fireEvent("onGridBaseEditSearch", e, t);
      }, i.prototype._fireSearchCellButtonClick = function(e, t) {
        return this.fireObjectEvent("onGridBaseSearchCellButtonClick", e, t);
      }, i.prototype._fireCellEdited = function(e, t) {
        this.fireEvent("onGridBaseCellEdited", e, t);
      }, i.prototype._fireEditRowChanged = function(e, t, o, r) {
        this.fireEvent("onGridBaseEditRowChanged", e, t, o, r);
      }, i.prototype._fireEditItemPasted = function(e, t, o, r) {
        this.fireEvent("onGridBaseEditRowPasted", e, t, o, r);
      }, i.prototype._fireItemsPasted = function(e) {
        this.fireEvent("onGridBaseRowsPasted", e);
      }, i.prototype._fireCellPasting = function(e, t) {
        return this.fireObjectEvent("onGridBaseCellPasting", e, t);
      }, i.prototype._fireItemChecked = function(e) {
        this.fireEvent("onGridBaseItemChecked", e, e.checked);
      }, i.prototype._fireItemsChecked = function(e, t) {
        this.fireEvent("onGridBaseItemsChecked", e, t);
      }, i.prototype._fireItemAllChecked = function(e) {
        this.fireEvent("onGridBaseItemAllChecked", e);
      }, i.prototype._fireErrorClicked = function(e, t) {
        this.fireEvent("onGridBaseErrorClicked", t);
      }, i.prototype._fireSorting = function(e, t) {
        return this.fireConfirmEvent("onGridBaseSorting", e, t);
      }, i.prototype._fireFiltering = function() {
        return this.fireConfirmEvent("onGridBaseFiltering");
      }, i.prototype._fireKeyDown = function(e) {
        return this.fireConfirmEvent("onGridBaseKeyDown", e);
      }, i.prototype._fireWheel = function(e) {
        return this.fireConfirmEvent("onGridBaseWheel", e);
      }, i.prototype._fireKeyPress = function(e) {
        this.fireEvent("onGridBaseKeyPress", e);
      }, i.prototype._fireKeyUp = function(e) {
        this.fireEvent("onGridBaseKeyUp", e);
      }, i.prototype._fireShowTooltip = function(e, t) {
        return this.fireObjectEvent("onGridBaseShowTooltip", e, t);
      }, i.prototype._fireShowHeaderTooltip = function(e, t, o) {
        return this.fireObjectEvent("onGridBaseShowHeaderTooltip", e, t, o);
      }, i.prototype._fireColumnPropertyChanged = function(e, t, o, r) {
        this.fireEvent("onGridBaseColumnPropertyChanged", e, t, o, r);
      }, i.prototype._fireLayoutPropertyChanged = function(e, t, o, r) {
        this.fireEvent("onGridBaseLayoutPropertyChanged", e, t, o, r);
      }, i.prototype._fireGridActivated = function() {
        return this.fireEvent("onGridBaseGridActivated", this);
      }, i.prototype._fireCopy = function(e, t) {
        return this.fireConfirmEvent("onGridBaseCopy", e, t);
      }, i.prototype._firePaste = function(e, t) {
        return this.fireConfirmEvent("onGridBasePaste", e, t);
      }, i.prototype._firePasted = function() {
        this.fireEvent("onGridBasePasted");
      }, i.prototype._fireCommandStackChanged = function(e, t) {
        this.fireEvent("onGridBaseCommandStackChanged", e, t);
      }, i.prototype.onPopupMenuManagerMenuItemClicked = function(e, t, o) {
        this._fireMenuItemClicked(t, o);
      }, i.prototype.onPopupMenuManagerPopup = function(e, t, o, r, n, s) {
        return this._firePopupMenuPopup(t, o, r, n, s);
      }, i.prototype.onScrollBarScrolled = function(e, t, o, r) {
        var n, s, l, h = this.displayOptions, u = this.fixedOptions, c = h.scrollMessageCallback, d = t === We.SCROLL_END;
        if (!d && this.scrollOnEditing(), e.vertical) {
          var p = -1;
          switch (t) {
            case We.LINE:
              return void this.scrollRow(o);
            case We.PAGE:
              p = this.topIndex + o * e._page;
              break;
            case We.THUMB_TRACK:
              var _ = h.scrollDuration;
              h.liveScroll || this._scrolledTime > 0 && b.getTimer() - this._scrolledTime > _ ? (p = r, this._scrolledTime = 0) : (this._scrollTipView || (this._scrollTipView = new Bl(this.container)), this._vscrollBar.tipView = this._scrollTipView, this._vscrollBar.setPosition(r, !0), s = this._vscrollBar.pos + u.rowCount, n = c ? c(this.handler, e.vertical, s) : String(s + 1), this._vscrollBar.setText(n), _ > 0 && this._scrolledTime == 0 && (this._scrolledTime = b.getTimer()));
              break;
            case We.THUMB_END:
              this._scrollTipView && this._scrollTipView.hide(), this._vscrollBar.tipView = null, p = r, d = !0;
              break;
            default:
              p = r;
          }
          p >= 0 && (this.topIndex = p);
        } else {
          var g = -1;
          switch (t) {
            case We.LINE:
              g = this.leftPos + 8 * o;
              break;
            case We.PAGE:
              g = o > 0 ? this._layoutManager.scrollToNextCell() : this._layoutManager.scrollToPrevCell();
              break;
            case We.THUMB_TRACK:
              _ = h.hscrollDuration, h.liveScroll || this._scrolledTime > 0 && b.getTimer() - this._scrolledTime > _ ? (g = r, this._scrolledTime = 0) : (this._scrollTipView || (this._scrollTipView = new Bl(this.container)), this._hscrollBar.tipView = this._scrollTipView, (l = this._layoutManager.getPositionToVIndex(r)) > -1 && (n = c ? c(this.handler, e.vertical, l) : this.getVisibleLayout(l).getDataColumn().header.displayText, this._hscrollBar.setText(n)), this._hscrollBar.setPosition(r, !0), _ > 0 && this._scrolledTime == 0 && (this._scrolledTime = b.getTimer()));
              break;
            case We.THUMB_END:
              this._scrollTipView && this._scrollTipView.hide(), this._hscrollBar.tipView = null, g = r, d = !0;
              break;
            default:
              g = r;
          }
          g >= 0 && (this.leftPos = g);
        }
        d && !b.isMobile() && this.setFocus();
      }, i.prototype.$_checkFocusedRow = function(e) {
        e === void 0 && (e = !1), this.focusedRow >= this.itemCount && this.clearFocusedIndex(e);
      }, i.prototype.onItemProviderReset = function(e) {
        this.hideEditor(), this._dataChanged = !0, this._needRefresh = !0, this.clearRowHeights(), this._columnsReset(), this._populateMerges(), this.$_checkFocusedRow(), this._itemCheckChanged = !0, this.resetGrid(), this.$_refreshInvalidList(!0);
      }, i.prototype.onItemProviderRefresh = function(e) {
        this.hideEditor(), this._dataChanged = !0, this._needRefresh = !0, this._resetColumnSortStates(), this.clearRowHeights(), this._populateMerges(), this.$_checkFocusedRow(!0), this._itemCheckChanged = !0, this.refreshView(), !this._keepNullFocus && this.setFocusedIndex(this.focusedIndex, !0), this.$_refreshInvalidList(!1);
      }, i.prototype.onItemProviderRefreshClient = function(e) {
        this.hideEditor(), this._dataChanged = !0, this._needRefresh = !0, this._populateMerges(), this.$_checkFocusedRow(), this.refreshView();
      }, i.prototype.onItemProviderItemInserted = function(e, t) {
        if (e.dataSource.undoing || e.dataSource.redoing) {
          var o = this._focusedIndex.clone();
          o.itemIndex = t.index, this.setFocusedIndex(o, !0, !0);
        }
      }, i.prototype.onItemProviderItemDeleted = function(e, t) {
        if (e.dataSource.undoing || e.dataSource.redoing) {
          var o = this._focusedIndex.clone();
          o.itemIndex = t.index, this.setFocusedIndex(o, !0, !0);
        }
      }, i.prototype.onItemProviderItemUpdated = function(e, t) {
        if (e.dataSource.undoing || e.dataSource.redoing) {
          var o = this._focusedIndex.clone();
          o.itemIndex = t.index, this.setFocusedIndex(o, !0, !0);
        }
      }, i.prototype.onItemProviderCheckableChanged = function(e, t) {
        this._itemCheckChanged = !0, this.refreshView();
      }, i.prototype.onItemProviderItemChecked = function(e, t) {
        this.refreshView(), this._fireItemChecked(t);
      }, i.prototype.onItemProviderItemsChecked = function(e, t, o) {
        this.refreshView(), this._fireItemsChecked(t, o);
      }, i.prototype.onItemProviderItemAllChecked = function(e, t) {
        this.refreshView(), this._fireItemAllChecked(t);
      }, i.prototype.onItemProviderItemCheckChanged = function(e, t, o) {
        this._itemCheckChanged = !0, this.checkBar.canMerge() && this._populateMerges();
      }, i.prototype.onItemProviderRowStateChanged = function(e, t) {
        this.refreshView();
      }, i.prototype.onItemProviderRowStatesChanged = function(e, t) {
        this.refreshView();
      }, i.prototype.onItemProviderRowStatesCleared = function(e) {
        this.refreshView();
      }, i.prototype.onItemProviderSort = function(e, t, o) {
        this.refreshView();
      }, i.prototype.onItemProviderSorted = function(e) {
        this.header.dirty = !0, this._needRefresh = !0, this.refreshView(), this.fireEvent("onGridBaseSortingChanged");
      }, i.prototype.onItemProviderFiltered = function(e, t, o) {
        this._populateMerges(), this.$_checkFocusedRow(), this._itemCheckChanged = !this._loading, this.header.dirty = !0, this._needRefresh = !0, this.refreshView(), this.fireEvent("onGridBaseFilteringChanged", t, o);
      }, i.prototype.onItemProviderCommandStackChanged = function(e, t, o) {
        this._fireCommandStackChanged(t, o);
      }, i.prototype.onItemProviderDataLoadComplated = function(e) {
        this._prevLast = 0, this._dataLoad = !0;
      }, i.prototype.$_focusEditItem = function(e) {
        var t = this.getIndex(e.index, this.focusedIndex ? this.focusedIndex.column : null);
        !t.column && this.visibleLayoutCount > 0 && (t._layout = this.getVisibleLayout(0)), this.setFocusedIndex(t, !0), this.makeCellVisible(this.focusedIndex);
      }, i.prototype.$_beforeEditing = function(e, t) {
      }, i.prototype.onItemEditUpdateStarted = function(e, t) {
        this.$_beforeEditing(e, t), this.refreshView(), this._fireUpdateStarted(t, !1);
      }, i.prototype.onItemEditAppendStarted = function(e, t) {
        this.$_beforeEditing(e, t), this.hideEditor(), this._populateMerges(), this.refreshView(), this.$_focusEditItem(t), this.requestPrepareEditor(), this._fireInsertStarted(t, !0);
      }, i.prototype.onItemEditInsertStarted = function(e, t) {
        this.$_beforeEditing(e, t), this.hideEditor(), this._populateMerges(), this.refreshView(), this.$_focusEditItem(t), this.requestPrepareEditor(), this._fireInsertStarted(t, !1);
      }, i.prototype.onItemEditCellEdited = function(e, t, o) {
        this.refreshView(), !this._cellUpdateEventLock && this._fireCellEdited(t, o);
      }, i.prototype.onItemEditCellUpdated = function(e, t, o, r, n) {
        this.refreshView(), !this._cellUpdateEventLock && this._fireEditRowChanged(t, o, r, n);
      }, i.prototype.onItemEditCommitting = function(e, t) {
      }, i.prototype.onItemEditCommitted = function(e, t) {
        this._appendDummy(), this.hideEditor(), this.refreshView();
      }, i.prototype.onItemEditCanceled = function(e) {
        this._appendDummy(), this.hideEditor(), this._populateMerges(), this.refreshView(), this._fireItemEditCanceled(e._editingItem);
      }, i.prototype.onItemEditCommitRequest = function(e) {
        this.commit(!1);
      }, i.prototype.onItemEditCancelReuqest = function(e) {
        this.cancel();
      }, i.prototype.onLookupSourceProviderChanged = function(e) {
        this._resetColumnIndices(), this.refreshView();
      }, i.prototype.onSelectionChanged = function(e, t) {
        this._refreshSideViews(), this._fireSelectionChanged(t);
      }, i.prototype.onSelectionAdded = function(e, t) {
        this._addSelectionView(t), this._layoutSelectionViews(), this._fireSelectionAdded(t);
      }, i.prototype.onSelectionRemoved = function(e, t) {
        this._removeSelectionView(t), this._fireSelectionRemoved();
      }, i.prototype.onSelectionCleared = function(e) {
        this._clearSelectionViews(), this._refreshSideViews(), this._fireSelectionCleared();
      }, i.prototype.onSelectionResized = function(e, t) {
        this._layoutSelectionViews(), this._fireSelectionResized(t);
      }, i.prototype.onSelectionEnded = function(e, t) {
        this._fireSelectionEnded(t);
      }, i.prototype.onLayoutExpanding = function(e, t) {
        return this.fireConfirmEvent("onGridBaseLayoutExpanding", t);
      }, i.prototype.onLayoutExpanded = function(e, t) {
        this.fireEvent("onGridBaseLayoutExpanded", t);
      }, i.prototype.onLayoutCollapsing = function(e, t) {
        return this.fireConfirmEvent("onGridBaseLayoutCollapsing", t);
      }, i.prototype.onLayoutCollapsed = function(e, t) {
        this.fireEvent("onGridBaseLayoutCollapsed", t);
      }, i.prototype.onMenuItemClick = function(e, t) {
        this._fireContextMenuItemClicked(e, t);
      }, i;
    }(Od), uh = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e.prepareProgress = 10, e.indicatorNo = 1, e;
      }
      return w(i, a), i.prototype.dispose = function() {
        return null;
      }, i.prototype.export = function(e, t) {
        this.grid = e;
      }, i;
    }(ba), Ef = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype.dispose = function() {
        return a.prototype.dispose.call(this), null;
      }, i.prototype.export = function(e, t) {
        a.prototype.export.call(this, e, t);
        var o = this._exportOptions = t;
        this._cols = [];
        var r = e.collectColumns(!0, !0, !0);
        this._cols = r.filter(function(n) {
          return n instanceof Et;
        }), this.indicator = o.indicatorVisible(e) ? e.rowIndicator : null, this.header = o.headerVisible(e), this.headerSummary = o.headerSummaryVisible(e), this.footer = o.footerVisible(e), this.indicatorHead = e.rowIndicator.headText || "No", this.indicatorFoot = e.rowIndicator.footText || "", this.indicatorSummary = e.rowIndicator.sumText, this.done = function() {
          this.save();
        }, this.buildBook();
      }, i.prototype.prepare = function() {
      }, i.prototype.finallize = function() {
      }, i.prototype.buildBook = function() {
        this.buildSheet(this.grid);
      }, i.prototype.buildSheet = function(e) {
        this._rows = [], this.header && this.buildHeader(e), this.headerSummary && this.buildSummaryItem(e, !1, this._exportOptions.headerSummary), this.buildItems(e), this.footer && this.buildSummaryItem(e, !0, this._exportOptions.footer), this.done();
      }, i.prototype.addQuatation = function(e, t) {
        return b.addQuatation(e, t === f.ValueType.TEXT, this._exportOptions.replaceLfText, this._exportOptions.replaceCrText);
      }, i.prototype.buildHeader = function(e) {
        var t = [], o = this._cols;
        this.indicator && t.push(this.indicatorHead);
        for (var r = o.length, n = 0; n < r; n++) {
          var s = o[n];
          t.push(this.addQuatation(s.header.displayText));
        }
        this._rows.push(t.join(","));
      }, i.prototype.buildSummaryItem = function(e, t, o) {
        var r, n = this._exportOptions, s = t ? e.footers : e.headerSummaries;
        if (s.visible)
          for (var l = s.visibleCount, h = 0; h < l; h++) {
            var u = [];
            this.indicator && u.push(h == 0 ? this.indicatorFoot : "");
            for (var c = s.getVisible(h), d = 0, p = this._cols.length; d < p; d++) {
              var _ = this._cols[d], g = c.getCell(_.layout), y = g.getSummary(), m = g.value;
              r = typeof m == "number" ? isNaN(m) ? g.text : String(m) : m instanceof Date ? n.datetimeCallback ? (m = n.datetimeCallback(-1, _.name, m, e.handler)) instanceof Date ? Ne.Default.getText(m) : m : Ne.Default.getText(m) : m == null ? g.text || y.text : String(m), u.push(this.addQuatation(r));
            }
            this._rows.push(u.join(","));
          }
      }, i.prototype.buildItems = function(e) {
        for (var t = this.allItems ? this.allItems.length : e.itemSource.itemCount, o = this.allItems, r = 0; r < t; r++) {
          var n = o ? o[r] : e.getItem(r);
          this.buildRow(e, n);
        }
      }, i.prototype.buildRow = function(e, t) {
        var o, r = this._exportOptions, n = [];
        if (this.indicator) {
          var s = r.showIndicatorRow(e) ? t.dataRow : this.indicatorNo++;
          n.push(s.toString());
        }
        for (var l = 0, h = this._cols.length; l < h; l++) {
          var u = this._cols[l], c = void 0;
          if (o = void 0, u instanceof re)
            if (c = u.getField()) {
              var d = gt.tempItem(e, t, u);
              o = e.getDisplayText(d);
            } else
              o = "";
          n.push(this.addQuatation(o, c && c.dataType));
        }
        this._rows.push(n.join(","));
      }, i.prototype.buildGroupHeader = function(e, t) {
      }, i.prototype.buildGroupFooter = function(e, t) {
      }, i.prototype.buildMergedGroupHeader = function(e, t) {
      }, i.prototype.buildMergedGroupFooter = function(e, t) {
      }, i.prototype.buildTreeSheet = function(e) {
        this._rows = [], this.header && this.buildHeader(e), this.headerSummary && this.buildSummaryItem(e, !1, this._exportOptions.headerSummary), this.buildTreeItems(e), this.footer && this.buildSummaryItem(e, !0, this._exportOptions.footer), this.done();
      }, i.prototype.buildTreeItems = function(e) {
        for (var t = this.allItems ? this.allItems.length : e.itemCount, o = this.allItems, r = 0; r < t; r++) {
          var n = o ? o[r] : e.getItem(r);
          if (!(n instanceof xe))
            throw "Unkonw tree item type";
          this.buildTreeRow(e, n);
        }
      }, i.prototype.buildTreeRow = function(e, t) {
        this.buildRow(e, t);
      }, i.prototype.save = function() {
        var e = this._exportOptions, t = e.fileName, o = "\uFEFF" + this._rows.join(`
`), r = this.grid.doc;
        e.done && typeof e.done == "function" && (e.target === f.ExportTarget.STREAM ? e.done(o) : e.done()), e.target == f.ExportTarget.LOCAL ? this.saveLocal(t, o, r) : e.target == f.ExportTarget.REMOTE && this.saveServer(t, Eo.encode(o), e.url, r, e.params);
      }, i;
    }(uh), Es = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._styles = null, t.message = "", t.visible = !0, t.spaceTop = 0, t.spaceBottom = 0, t.height = -1, t.styleName = "", e && t.extend(e), t._styles = e && e.styles ? e.styles : null, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._styles = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "cssStyle", { get: function() {
        return this._styles;
      }, enumerable: !1, configurable: !0 }), i;
    }(J), jr = "default", po = "hidden", It = "visible", Of = "default", ch = "item", dh = "reverse";
    f.ExportLayoutExpand = void 0, ($r = f.ExportLayoutExpand || (f.ExportLayoutExpand = {})).IGNORE = "ignore", $r.CURRENT = "current", $r.EXPAND = "expand", $r.COLLAPSE = "collapse";
    var Hr = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t.nullDateText = "", t.linear = !1, t.allColumns = !1, t.allItems = !0, t.onlyCheckedItems = !1, t.pagingAllItems = !1, t.indicator = jr, t.checkBar = po, t.header = jr, t.footer = jr, t.headerSummary = jr, t.indicatorValue = Of, t.checkMark = "v", t.unCheckMark = "", t.indenting = !0, t.separateRows = !1, t.lookupDisplay = !1, t.showLevelOutline = !1, t.applyFitStyle = !0, t.applyDynamicStyles = !1, t.applyDefaultColumnFormat = !1, t.applyFixed = !1, t.sheetName = null, t.exportSeriesColumn = !1, t.showColumns = [], t.hideColumns = [], t.hiddenColumns = [], t.exportLink = !1, t.exportTemplate = !1, t.sheetAttrs = null, t.stylePrefix = "", t.layoutExpand = null, t.exportImage = void 0, t.bulkImageDownload = !0, t.exportLayout = void 0, t.userCells = void 0, t.userCellsCallback = void 0, t.sheetProtect = !1, t.protectPassword = void 0, t.extend(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._documentTitle && (this._documentTitle = this._documentTitle.dispose()), this._documentSubtitle && (this._documentSubtitle = this._documentSubtitle.dispose()), this._documentTail && (this._documentTail = this._documentTail.dispose()), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "documentTitle", { get: function() {
        return this._documentTitle;
      }, set: function(e) {
        this._documentTitle = new Es(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "documentSubtitle", { get: function() {
        return this._documentSubtitle;
      }, set: function(e) {
        this._documentSubtitle = new Es(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "documentTail", { get: function() {
        return this._documentTail;
      }, set: function(e) {
        this._documentTail = new Es(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "protectProperties", { get: function() {
        return this.sheetProtect && (this._protectProperties = this._protectProperties || {}, b.extendObj({ objects: "1", scenarios: "1" }, this._protectProperties)), this._protectProperties;
      }, set: function(e) {
        this._protectProperties = e ? b.deepCopy(e) : void 0;
      }, enumerable: !1, configurable: !0 }), i.prototype.indicatorVisible = function(e) {
        if (e)
          switch (this.indicator) {
            case It:
              return !0;
            case po:
              return !1;
            default:
              return e.rowIndicator.visible;
          }
        return !1;
      }, i.prototype.checkBarVisible = function(e) {
        if (e)
          switch (this.checkBar) {
            case It:
              return !0;
            case po:
              return !1;
            default:
              return e.checkBar.visible;
          }
        return !1;
      }, i.prototype.headerVisible = function(e) {
        if (e)
          switch (this.header) {
            case It:
              return !0;
            case po:
              return !1;
            default:
              return e.header.visible;
          }
        return !1;
      }, i.prototype.headerSummaryVisible = function(e) {
        if (e)
          switch (this.headerSummary) {
            case It:
              return !0;
            case po:
              return !1;
            default:
              return e.headerSummaries.visible && e.headerSummaries.visibleCount > 0;
          }
        return !1;
      }, i.prototype.footerVisible = function(e) {
        if (e)
          switch (this.footer) {
            case It:
              return !0;
            case po:
              return !1;
            default:
              return e.footers.visible && e.footers.visibleCount > 0;
          }
        return !1;
      }, i.prototype.showIndicatorRow = function(e) {
        if (e)
          switch (this.indicatorValue) {
            case dh:
            case ch:
              return !1;
            case "row":
              return !0;
            default:
              return e.rowIndicator.displayValue == f.IndicatorValue.ROW;
          }
        return !1;
      }, i.prototype.showIndicatorReverse = function(e) {
        if (e)
          switch (this.indicatorValue) {
            case "row":
            case ch:
              return !1;
            case dh:
              return !0;
            default:
              return e.rowIndicator.displayValue == f.IndicatorValue.REVERSE;
          }
      }, Object.defineProperty(i.prototype, "yOffset", { get: function() {
        return this._yOffset == null ? 0 : this._yOffset;
      }, set: function(e) {
        this._yOffset = Math.floor(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "xOffset", { get: function() {
        return this._xOffset == null ? 0 : this._xOffset;
      }, set: function(e) {
        this._xOffset = Math.floor(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "xOffsetWidth", { get: function() {
        return this._xOffsetWidth == null ? 100 : this._xOffsetWidth;
      }, set: function(e) {
        this._xOffsetWidth = Math.floor(e);
      }, enumerable: !1, configurable: !0 }), i;
    }(ma), Rf = function(a) {
      function i(e, t) {
        var o = a.call(this, t) || this;
        return o._grids = [], o._parseGrids(e, t), o;
      }
      return w(i, a), Object.defineProperty(i.prototype, "exportGrids", { get: function() {
        return this._grids;
      }, enumerable: !1, configurable: !0 }), i.prototype._doDispose = function() {
        this._grids = null, a.prototype._doDispose.call(this);
      }, i.prototype._parseGrids = function(e, t) {
        var o = t.exportGrids;
        if (o && Array.isArray(o))
          for (var r = 0, n = o.length; r < n; r++) {
            var s, l = o[r].grid;
            l = l.$_handler ? l : l._view, (s = new Hr(t)).assignFrom(o[r]), s.extend(o[r]), s.grid = l;
            var h = { grid: l, sheetName: o[r].sheetName, options: s };
            this._grids.push(h);
          }
        else
          (s = new Hr(t)).extend(t), s.grid = e, this._grids.push({ grid: e, sheetName: t.sheetName ? String(t.sheetName) : "sheet1", options: s });
      }, i;
    }(Hr), Nt = b.hex, F = function() {
      function a(i, e) {
        i === void 0 && (i = null), e === void 0 && (e = !1), this._r = 0, this._g = 0, this._b = 0, this._a = 0, typeof i == "string" ? a._parse(i, this, e, !1) : i instanceof a ? (this._r = i._r, this._g = i._g, this._b = i._b, this._a = i._a) : isNaN(i) ? (this._r = this._g = this._b = 0, this._a = e ? NaN : 1) : (this._a = (i >>> 24) / 255, this._r = (16711680 & i) >> 16, this._g = (65280 & i) >> 8, this._b = 255 & i);
      }
      return a._parse = function(i, e, t, o) {
        if (i) {
          var r = i.length;
          if ((i = i.trim().toLowerCase()).charAt(0) == "#")
            if (i = i.substr(1), --r >= 6 && r <= 8)
              e._b = b.toInt(i.substr(r - 2, 2), 16), e._g = b.toInt(i.substr(r - 4, 2), 16), e._r = b.toInt(i.substr(r - 6, 2), 16), e._a = r == 6 ? t ? NaN : 1 : b.toInt(i.substr(0, r - 6), 16) / 255;
            else {
              if (r != 3) {
                if (o)
                  throw "Invalid color value text: " + i;
                return !1;
              }
              e._r = b.toInt(i.charAt(0) + i.charAt(0), 16), e._g = b.toInt(i.charAt(1) + i.charAt(1), 16), e._b = b.toInt(i.charAt(2) + i.charAt(2), 16), e._a = t ? NaN : 1;
            }
          else if (i.indexOf("rgba(") == 0 && i.charAt(r - 1) == ")") {
            var n = (i = i.substring(5, r - 1)).split(",");
            e._r = b.toInt(n[0]), e._g = b.toInt(n[1]), e._b = b.toInt(n[2]), e._a = b.toFloat(n[3]);
          } else {
            if (i.indexOf("rgb(") != 0 || i.charAt(r - 1) != ")") {
              if (ph.hasOwnProperty(i))
                return n = ph[i], e._r = n._r, e._g = n._g, e._b = n._b, e._a = n._a, n;
              if (o)
                throw new Error("Invalid color text: " + i);
              return !1;
            }
            var n = (i = i.substring(4, r - 1)).split(",");
            e._r = b.toInt(n[0]), e._g = b.toInt(n[1]), e._b = b.toInt(n[2]), e._a = t ? NaN : 1;
          }
          return !0;
        }
        return !1;
      }, a.prototype.toHex = function() {
        return "" + Nt(Math.floor(255 * this._a)) + Nt(this._r) + Nt(this._g) + Nt(this._b);
      }, a.prototype.toColorHex = function() {
        return "" + Nt(this._r) + Nt(this._g) + Nt(this._b);
      }, a.prototype.toString = function() {
        return "#" + Nt(Math.floor(255 * this._a)) + Nt(this._r) + Nt(this._g) + Nt(this._b);
      }, a;
    }(), ph = { transparent: new F("#00000000"), ltGray: new F("#d3d3d3"), ltgray: new F("#d3d3d3"), aliceblue: new F("#f0f8ff"), antiquewhite: new F("#faebd7"), aqua: new F("#00ffff"), aquamarine: new F("#7fffd4"), azure: new F("#f0ffff"), beige: new F("#f5f5dc"), bisque: new F("#ffe4c4"), black: new F("#000000"), blanchedalmond: new F("#ffebcd"), blue: new F("#0000ff"), blueviolet: new F("#8a2be2"), brown: new F("#a52a2a"), burlywood: new F("#deb887"), cadetblue: new F("#5f9ea0"), chartreuse: new F("#7fff00"), chocolate: new F("#d2691e"), coral: new F("#ff7f50"), cornflowerblue: new F("#6495ed"), cornsilk: new F("#fff8dc"), crimson: new F("#dc143c"), cyan: new F("#00ffff"), darkblue: new F("#00008b"), darkcyan: new F("#008b8b"), darkgoldenrod: new F("#b8860b"), darkgray: new F("#a9a9a9"), darkgreen: new F("#006400"), darkgrey: new F("#a9a9a9"), darkkhaki: new F("#bdb76b"), darkmagenta: new F("#8b008b"), darkolivegreen: new F("#556b2f"), darkorange: new F("#ff8c00"), darkorchid: new F("#9932cc"), darkred: new F("#8b0000"), darksalmon: new F("#e9967a"), darkseagreen: new F("#8fbc8f"), darkslateblue: new F("#483d8b"), darkslategray: new F("#2f4f4f"), darkslategrey: new F("#2f4f4f"), darkturquoise: new F("#00ced1"), darkviolet: new F("#9400d3"), deeppink: new F("#ff1493"), deepskyblue: new F("#00bfff"), dimgray: new F("#696969"), dimGray: new F("#696969"), dimgrey: new F("#696969"), dodgerblue: new F("#1e90ff"), firebrick: new F("#b22222"), floralwhite: new F("#fffaf0"), forestgreen: new F("#228b22"), fuchsia: new F("#ff00ff"), gainsboro: new F("#dcdcdc"), ghostwhite: new F("#f8f8ff"), goldenrod: new F("#daa520"), gold: new F("#ffd700"), gray: new F("#808080"), green: new F("#008000"), greenyellow: new F("#adff2f"), grey: new F("#808080"), honeydew: new F("#f0fff0"), hotpink: new F("#ff69b4"), indianred: new F("#cd5c5c"), indigo: new F("#4b0082"), ivory: new F("#fffff0"), khaki: new F("#f0e68c"), lavenderblush: new F("#fff0f5"), lavender: new F("#e6e6fa"), lawngreen: new F("#7cfc00"), lemonchiffon: new F("#fffacd"), lightblue: new F("#add8e6"), lightcoral: new F("#f08080"), lightcyan: new F("#e0ffff"), lightgoldenrodyellow: new F("#fafad2"), lightgray: new F("#d3d3d3"), lightgreen: new F("#90ee90"), lightgrey: new F("#d3d3d3"), lightpink: new F("#ffb6c1"), lightsalmon: new F("#ffa07a"), lightseagreen: new F("#20b2aa"), lightskyblue: new F("#87cefa"), lightslategray: new F("#778899"), lightslategrey: new F("#778899"), lightsteelblue: new F("#b0c4de"), lightyellow: new F("#ffffe0"), lime: new F("#00ff00"), limegreen: new F("#32cd32"), linen: new F("#faf0e6"), magenta: new F("#ff00ff"), maroon: new F("#800000"), mediumaquamarine: new F("#66cdaa"), mediumblue: new F("#0000cd"), mediumorchid: new F("#ba55d3"), mediumpurple: new F("#9370db"), mediumseagreen: new F("#3cb371"), mediumslateblue: new F("#7b68ee"), mediumspringgreen: new F("#00fa9a"), mediumturquoise: new F("#48d1cc"), mediumvioletred: new F("#c71585"), midnightblue: new F("#191970"), mintcream: new F("#f5fffa"), mistyrose: new F("#ffe4e1"), moccasin: new F("#ffe4b5"), navajowhite: new F("#ffdead"), navy: new F("#000080"), oldlace: new F("#fdf5e6"), olive: new F("#808000"), olivedrab: new F("#6b8e23"), orange: new F("#ffa500"), orangered: new F("#ff4500"), orchid: new F("#da70d6"), palegoldenrod: new F("#eee8aa"), palegreen: new F("#98fb98"), paleturquoise: new F("#afeeee"), palevioletred: new F("#db7093"), papayawhip: new F("#ffefd5"), peachpuff: new F("#ffdab9"), peru: new F("#cd853f"), pink: new F("#ffc0cb"), plum: new F("#dda0dd"), powderblue: new F("#b0e0e6"), purple: new F("#800080"), rebeccapurple: new F("#663399"), red: new F("#ff0000"), rosybrown: new F("#bc8f8f"), royalblue: new F("#4169e1"), saddlebrown: new F("#8b4513"), salmon: new F("#fa8072"), sandybrown: new F("#f4a460"), seagreen: new F("#2e8b57"), seashell: new F("#fff5ee"), sienna: new F("#a0522d"), silver: new F("#c0c0c0"), skyblue: new F("#87ceeb"), slateblue: new F("#6a5acd"), slategray: new F("#708090"), slategrey: new F("#708090"), snow: new F("#fffafa"), springgreen: new F("#00ff7f"), steelblue: new F("#4682b4"), tan: new F("#d2b48c"), teal: new F("#008080"), thistle: new F("#d8bfd8"), tomato: new F("#ff6347"), turquoise: new F("#40e0d0"), violet: new F("#ee82ee"), wheat: new F("#f5deb3"), white: new F("#ffffff"), whitesmoke: new F("#f5f5f5"), yellow: new F("#ffff00"), yellowgreen: new F("#9acd32") }, qe = function() {
      function a() {
      }
      return a.parseDocumentStyles = function(i) {
        for (var e, t, o, r = {}, n = i.styleSheets, s = 0, l = n.length; s < l; s++) {
          e = n[s];
          try {
            e.rules ? t = e.rules : e.cssRules && (t = e.cssRules);
          } catch {
            continue;
          }
          if (t)
            for (var h = t.length; h--; ) {
              var u = (o = t[h]).selectorText;
              if (u)
                if (u.indexOf(",") > -1)
                  for (var c = u.split(","), d = c.length; d--; ) {
                    var p = c[d].trim();
                    p && (r[p] = o.style);
                  }
                else
                  r[o.selectorText] = o.style;
            }
        }
        return r;
      }, a.extendCssStyle = function(i, e) {
        for (var t = 0, o = i.length; t < o; t++) {
          var r = i[t];
          i[r] == "inherit" || b.included(r, "background-color") && b.included(i[r], "none", "initial", "unset") || (e[r] || (e[e.length] = r, e.length++), e[r] = i[r]);
        }
      }, a.$_getSelectorStyle = function(i, e) {
        return i[e];
      }, a.getSelectorStyle = function(i, e) {
        if (a.prefix) {
          var t = [], o = { length: 0 };
          t.push(a.$_getSelectorStyle(i, e)), t.push(a.$_getSelectorStyle(i, a.prefix + e));
          for (var r = 0, n = t.length; r < n; r++)
            t[r] && a.extendCssStyle(t[r], o);
          return o;
        }
        return a.$_getSelectorStyle(i, e);
      }, a;
    }(), Pf = function() {
      function a(i, e) {
        this._grid = i, this._exportOptions = e, this._exportLayout = e.exportLayout, this._dataColumns = [], this._sparkColumns = {}, this.parse(e);
      }
      return a.prototype.dispose = function() {
        this._headerCells = null, this._dataCells = null, this._dataColumns = null, this._sparkColumns = null, this._exportLayout = null, this._layout = this._layout && this._layout.dispose();
      }, Object.defineProperty(a.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "colCount", { get: function() {
        var i = this._layout && this._layout._dataCells;
        return i && i.length ? i[0].length : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "headerRowCount", { get: function() {
        return (this._layout && this._layout._headerCells).length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "dataRowCount", { get: function() {
        return (this._layout && this._layout._dataCells).length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "sparkColumns", { get: function() {
        return this._sparkColumns;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "documentCssStyles", { get: function() {
        return this._documentCssStyles;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "groupModel", { get: function() {
        return this._groupModel;
      }, enumerable: !1, configurable: !0 }), a.prototype.getHeader = function(i, e) {
        return this._headerCells[i][e];
      }, a.prototype.getItem = function(i, e) {
        return this._dataCells[i][e];
      }, a.prototype.getFooterItem = function(i, e) {
        return this._footerCells[i][e];
      }, a.prototype.getSummaryItem = function(i, e) {
        return this._summaryCells[i][e];
      }, a.prototype.clearDataSpanned = function() {
        for (var i = this._dataCells, e = 0; e < i.length; e++)
          for (var t = 0; t < i[e].length; t++)
            i[e][t].spanned = !1;
      }, a.prototype.getItemLevel = function(i) {
        for (var e = this.grid, t = i.parent, o = i.level - 1; t && t.level > 0; ) {
          var r = e.columnByField(t.groupField), n = r.layout;
          r.visible && n.visible || o--, t = t.parent;
        }
        return Math.max(o, 0);
      }, a.prototype.prepareLayout = function() {
        var i, e = this.grid, t = this._exportOptions, o = e.activeCellLayout;
        if (t.linear) {
          for (var r = o.getDataColumns(!1), n = [], s = 0; s <= r.length - 1; s++) {
            var l = r[s], h = l.visible && l.layout.visible || t.allColumns;
            (h = h && t.hideColumns.indexOf(l.name) < 0 || t.showColumns.indexOf(l.name) >= 0) && n.push({ column: l.name, width: l.layout.domWidth || l.layout.width });
          }
          i = new Fo(e).load(n);
        } else
          i = t.exportLayout ? new Fo(e).load(t.exportLayout) : new Fo(e).load(e.activeCellLayout.getLayout(!0, t.applyFitStyle, t.allColumns, t.showColumns, t.hideColumns, t.layoutExpand));
        return i;
      }, a.prototype.parse = function(i) {
        var e = this._grid, t = this._layout = this.prepareLayout(), o = this._exportOptions.stylePrefix;
        qe.prefix = o ? o.trim() + " " : void 0, t.$_refresh2(e._columns, e.displayOptions.minCellWidth), t.$_prepareLayout(e, e.fixedOptions.colCount, e.fixedOptions.rightCount), t.$_prepareMerges(e);
        var r = e.footers, n = e.headerSummaries;
        this._setCellInfo(t._headerCells, this._headerCells = []), this._setCellInfo(t._dataCells, this._dataCells = []), this._setFooterInfo(t._dataCells, i.footer === It ? r.count : r.visibleCount, this._footerCells = []), this._setFooterInfo(t._dataCells, i.headerSummary === It ? n.count : n.visibleCount, this._summaryCells = []), this._documentCssStyles = qe.parseDocumentStyles(e.doc), this._setDataColumns(t._dataCells), this._setSparkInfo(this._dataCells);
      }, a.prototype._setCellInfo = function(i, e) {
        for (var t = 0; t < i.length; t++) {
          for (var o = [], r = 0; r < i[t].length; r++)
            o.push({ layout: i[t][r], spanned: !1 });
          e.push(o);
        }
      }, a.prototype._setFooterInfo = function(i, e, t) {
        for (var o = 0; o < e; o++)
          for (var r = 0; r < i.length; r++) {
            for (var n = [], s = 0; s < i[r].length; s++)
              n.push({ footerIndex: o, layout: i[r][s], spanned: !1 });
            t.push(n);
          }
      }, a.prototype.setGroupFooterItms = function(i, e, t) {
        this._groupModel = i;
        var o = this._groupFooterCells = [], r = this._dataCells, n = !1;
        if (!(i.footerCount > 0)) {
          var s = i.provider._expandedAdornments, l = i.provider._collapsedAdornments;
          n = t ? e && !i.expanded && b.included(l, f.RowGroupAdornments.SUMMARY, f.RowGroupAdornments.FOOTER) : (n = i.expanded && s === f.RowGroupAdornments.SUMMARY) || !e && !i.expanded && b.included(l, f.RowGroupAdornments.SUMMARY, f.RowGroupAdornments.FOOTER);
        }
        for (var h = n ? i.allFooterCount : i.footerCount, u = 0; u < h; u++)
          for (var c = n ? i._allFooters[u] : i.getFooter(u), d = 0; d < r.length; d++) {
            for (var p = [], _ = 0; _ < r[d].length; _++)
              p.push({ footerIndex: c.footerIndex, layout: r[d][_].layout, spanned: !1 });
            o.push(p);
          }
      }, a.prototype.getGroupFooterCells = function() {
        return this._groupFooterCells;
      }, a.prototype._setDataColumns = function(i) {
        var e, t;
        this._dataColumns = [];
        for (var o = 0, r = i.length; o < r; o++) {
          e = [];
          for (var n = 0, s = i[o].length; n < s; n++)
            (t = i[o][n]).isProxy && (t = t.source), e.push(t.firstColumn);
          this._dataColumns.push(e);
        }
      }, a.prototype._setSparkInfo = function(i) {
        function e(V, B) {
          var N = { start: void 0, end: void 0, row: void 0 }, A = s[0], z = s[s.length - 1], Z = l.columnByField(A), ee = l.columnByField(z);
          if (!Z || !ee)
            return null;
          for (var Y = 0, q = B.length; Y < q; Y++)
            for (var G = 0, ce = B[Y].length; G < ce; G++)
              Z == B[Y][G] && (N.start = G, N.row = Y - V), ee == B[Y][G] && (N.end = G);
          return N;
        }
        var t, o, r, n, s, l, h = this.documentCssStyles;
        this._sparkColumns = [];
        for (var u = 0, c = i.length; u < c; u++)
          for (var d = 0, p = i[u].length; d < p; d++)
            if ((r = (o = (t = i[u][d]).layout) instanceof de ? o.firstColumn : null) instanceof Bt && (n = r.renderer) && Vo.interfaced(n)) {
              s = r.fields, l = r.grid;
              var _ = s.length > 0 && e(u, this._dataColumns);
              if (_) {
                var g = n.firstStyle, y = n.lastStyle, m = n.highStyle, v = n.lowStyle, C = void 0, x = void 0, S = void 0;
                if (Ii.interfaced(n)) {
                  C = "line", !y && (y = Ii.LAST_STYLE), !m && (m = Ii.HIGH_STYLE), !v && (v = Ii.LOW_STYLE);
                  var I = n.pointStyle ? qe.getSelectorStyle(h, "." + n.pointStyle) : void 0;
                  x = I ? new F(I.fill).toHex() : void 0, S = (O = qe.getSelectorStyle(h, "." + Ii.CHART_STYLE)) ? new F(O.stroke).toHex() : void 0;
                } else {
                  var E = void 0;
                  Si.interfaced(n) ? (C = "column", E = Si.CHART_STYLE, !y && (y = Si.LAST_STYLE), !m && (m = Si.HIGH_STYLE), !v && (v = Si.LOW_STYLE)) : (C = "stacked", E = Er.CHART_STYLE);
                  var O = qe.getSelectorStyle(h, "." + E);
                  S = new F(O.fill).toHex();
                }
                var P = m ? qe.getSelectorStyle(h, "." + m) : void 0, R = v ? qe.getSelectorStyle(h, "." + v) : void 0, T = g ? qe.getSelectorStyle(h, "." + g) : void 0, D = y ? qe.getSelectorStyle(h, "." + y) : void 0, M = { type: C, colors: { colorHigh: P && P.fill ? new F(P.fill).toHex() : void 0, colorLow: R && R.fill ? new F(R.fill).toHex() : void 0, colorFirst: T && T.fill ? new F(T.fill).toHex() : void 0, colorLast: D && D.fill ? new F(D.fill).toHex() : void 0, colorMarkers: x, colorSeries: S }, sparkLines: {}, range: _ };
                t.sparkLineGroup = M, this._sparkColumns[r.$_hash] = t;
              }
            }
      }, a;
    }(), fo = function() {
      function a() {
      }
      return a.convertNumberFormat = function(i) {
        return i.indexOf(";") > 0 && (i = i.split(";")[0]), i.indexOf(".#") > 0 ? i.replace(".#", ".0") : i;
      }, a.convertDateFormat = function(i) {
        for (var e = "", t = i.length, o = 0; o < t; o++) {
          var r = i.charAt(o);
          switch (r) {
            case "y":
            case "d":
            case "m":
            case "s":
            case ":":
              e += r;
              break;
            case "M":
              e += "m";
              break;
            case "a":
              e += "AM/PM";
              break;
            case "H":
              e += "h", (o >= t - 1 || i.charAt(o + 1) != "H") && (e += "h");
              break;
            case "h":
              o != 0 && i.charAt(o - 1) == "h" || (e += "h");
              break;
            case "S":
            case "T":
            case "t":
            case "Z":
            case "z":
            case "+":
              break;
            case ".":
            case "/":
            case "-":
            case " ":
              (o >= t - 1 || i.charAt(o + 1) != "S") && (e = e + "\\" + r);
              break;
            default:
              e = e + '"' + r + '"';
          }
        }
        return e;
      }, a;
    }(), kf = function() {
      function a() {
        this._contentTypes = {}, this._bulkDownload = !0;
      }
      return Object.defineProperty(a.prototype, "bulkDownload", { get: function() {
        return this._bulkDownload;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "buldDownload", { set: function(i) {
        this._bulkDownload = i;
      }, enumerable: !1, configurable: !0 }), a.prototype.executeDownLoad = function(i, e, t) {
        return X(this, void 0, void 0, function() {
          var o, r, n, s, l;
          return Ee(this, function(h) {
            switch (h.label) {
              case 0:
                if (o = [], r = Object.keys(e), !this.bulkDownload)
                  return [3, 1];
                for (n = 0; n < r.length; n++)
                  s = r[n], l = e[s], o.push(this.download(l).then(function(u) {
                    return new Promise(function(c, d) {
                      var p = new Uint8Array(u.buffer);
                      try {
                        var _ = Array.prototype.map.call(p, function(m) {
                          return String.fromCharCode(m);
                        }).join(""), g = "data:".concat(u.type, ";base64,").concat(Eo.btoa(_)), y = document.createElement("img");
                        y.style.position = "fixed", y.style.top = "-10000px", y.style.left = "-10000px", y.src = g, y.onload = function() {
                          u.width = y.width, u.height = y.height, y.src = "", c(u);
                        }, y.onerror = function() {
                          d();
                        };
                      } finally {
                      }
                    });
                  }).catch(function() {
                  }));
                return Promise.all(o).catch(function() {
                }).finally(function() {
                  t && t.call(i, e);
                }), [3, 6];
              case 1:
                n = 0, h.label = 2;
              case 2:
                return n < r.length ? (s = r[n], l = e[s], [4, this.download(l).then(function(u) {
                  return new Promise(function(c, d) {
                    var p = new Uint8Array(u.buffer);
                    try {
                      var _ = Array.prototype.map.call(p, function(m) {
                        return String.fromCharCode(m);
                      }).join(""), g = "data:".concat(u.type, ";base64,").concat(Eo.btoa(_)), y = document.createElement("img");
                      y.style.position = "fixed", y.style.top = "-10000px", y.style.left = "-10000px", y.src = g, y.onload = function() {
                        u.width = y.width, u.height = y.height, y.src = "", c(u);
                      }, y.onerror = function() {
                        d();
                      };
                    } finally {
                    }
                  });
                }).catch(function() {
                })]) : [3, 5];
              case 3:
                h.sent(), h.label = 4;
              case 4:
                return n++, [3, 2];
              case 5:
                t && t.call(i, e), h.label = 6;
              case 6:
                return [2];
            }
          });
        });
      }, a.prototype.getContentTypes = function() {
        return this._contentTypes;
      }, a.prototype.getExtension = function(i, e) {
        var t = function(c) {
          return Array.prototype.map.call(c, function(d) {
            return b.hex(d);
          }).join("");
        };
        if (i) {
          var o = "", r = i.toLowerCase().split(/\s*(?:;|$)\s*/), n = b.find(r, function(c) {
            return c.indexOf("image") === 0;
          });
          n && (o = n.indexOf("svg") >= 0 ? "svg" : n.substring(6));
          var s = b.find(r, function(c) {
            return c.indexOf("octet-stream") >= 0;
          });
          if (!o && s && e.byteLength > 20) {
            var l = new Uint8Array(e), h = t(l.slice(0, 10)), u = t(l.slice(-18));
            h.indexOf("474946") === 0 ? (o = "gif", i = "image/gif") : h.indexOf("89504e47") === 0 ? (o = "png", i = "image/png") : h.indexOf("ffd8") === 0 && u.substr(-4) === "ffd9" ? (o = "jpeg", i = "image/jpeg") : h.indexOf("424d") === 0 && (o = "bmp", i = "image/bmp");
          }
          return o && !this._contentTypes.hasOwnProperty(o) && (this._contentTypes[o] = i), { ext: o, type: i };
        }
      }, a.prototype.download = function(i) {
        var e = this;
        return new Promise(function(t, o) {
          var r = new XMLHttpRequest();
          r.open("GET", i.url), r.onload = function() {
            if (r.status === 200) {
              var n = e.getExtension(r.getResponseHeader("content-type"), r.response), s = n.ext, l = n.type;
              s ? (i.fileName = "".concat(i.id, ".").concat(s), i.type = l, i.buffer = r.response, t(i)) : t(null);
            } else
              t(null);
          }, r.onerror = function() {
            o();
          }, r.responseType = "arraybuffer", r.send();
        });
      }, a;
    }(), Tf = /\<|\>|\&|\"/;
    function fh(a) {
      return Tf.test(a) ? a.replace(/\&/g, "&amp;").replace(/\</g, "&lt;").replace(/\>/g, "&gt;").replace(/\"/g, "&quot;") : a;
    }
    var U = function() {
      function a() {
      }
      return a.createDocument = function(i, e) {
        var t = { name: i, attrs: {} };
        for (var o in e)
          t.attrs[o] = e[o];
        return t;
      }, a.removeItem = function(i) {
        if (i.texts = null, i.attrs = null, i.childs)
          for (var e = i.childs.length; e--; )
            a.removeItem(i.childs[e]), delete i.childs[e];
        i.childs = null;
      }, a.addChild = function(i, e, t, o) {
        var r = { name: e, attrs: t };
        return o && a.addText(r, fh(o)), a.addChildElement(i, r), r;
      }, a.addChildElement = function(i, e) {
        i.childs || (i.childs = []), i.childs.push(e);
      }, a.addProperty = function(i, e, t) {
        i.attrs || (i.attrs = {}), i.attrs[e] = fh(t);
      }, a.addText = function(i, e) {
        i.texts || (i.texts = []), i.texts.push(e);
      }, a.toString = function(i) {
        var e = "<" + i.name;
        for (var t in i.attrs)
          e += " " + t + '="' + i.attrs[t] + '"';
        if (i.childs || i.texts) {
          if (e += ">", i.texts)
            for (var o = 0, r = i.texts.length; o < r; o++)
              e += i.texts[o];
          if (i.childs)
            for (o = 0, r = i.childs.length; o < r; o++)
              e += a.toString(i.childs[o]);
          e += "</" + i.name + ">";
        } else
          e += "/>";
        return e;
      }, a;
    }(), ht = function() {
      function a() {
      }
      return a.toColCaption = function(i) {
        for (var e = ""; i >= 0; )
          e = String.fromCharCode(i % 26 + 65) + e, i = Math.floor(i / 26) - 1;
        return e;
      }, a.toRange = function(i, e, t, o, r) {
        t === void 0 && (t = !1), o === void 0 && (o = 1), r === void 0 && (r = 1);
        var n = e + 1;
        return t ? a.toColCaption(i) + n + ":" + a.toColCaption(i + o - 1) + (n + r - 1) : a.toColCaption(i) + n;
      }, a.daysOfYear = function(i) {
        for (var e = 0, t = 0; t < i.getMonth(); t++)
          e += a.$$_MONTH_DAYS[t];
        if (i.getMonth() >= 2) {
          var o = i.getFullYear();
          (o % 400 == 0 || o % 4 == 0 && o % 100 != 0) && e++;
        }
        return e += i.getDate();
      }, a.daysOfPriorYears = function(i) {
        return i <= 1900 ? 0 : 365 * (--i - 1899) + (Math.floor(i / 4) - Math.floor(i / 100) + Math.floor(i / 400) - 460);
      }, a.toExcelDate = function(i) {
        var e = (1e3 * (60 * (60 * i.getHours() + i.getMinutes()) + i.getSeconds()) + i.getMilliseconds()) / a.$$_DAY_MILLISECONDS, t = a.daysOfPriorYears(i.getFullYear()) + this.daysOfYear(i) + e;
        return t >= 60 && t++, t;
      }, a.XML_HEAD_STRING = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>', a.$$_DAY_MILLISECONDS = 864e5, a.$$_MONTH_DAYS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30], a;
    }(), Df = function() {
      function a() {
        this._nextId = 0, this._count = 0, this._stringMap = {}, this._strings = [];
      }
      return a.prototype.dispose = function() {
        for (var i in this._strings = null, this._stringMap)
          delete this._stringMap[i];
        this._stringMap = null;
      }, Object.defineProperty(a.prototype, "count", { get: function() {
        return this._count;
      }, enumerable: !1, configurable: !0 }), a.prototype.uniqueCount = function() {
        return this._nextId;
      }, a.prototype.add = function(i) {
        this._count++;
        var e = this._stringMap[i];
        return e === void 0 && (e = this._nextId++, this._stringMap[i] = e, this._strings[e] = i), e;
      }, a.prototype.getIndex = function(i) {
        return this._stringMap[i];
      }, a.prototype.createPart = function() {
        var i = U.createDocument("sst", { xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main" });
        U.addProperty(i, "count", this._count.toString()), U.addProperty(i, "uniqueCount", this._nextId.toString());
        for (var e = /^\s|\s$|\r|\n|\r\n/, t = 0, o = this._strings.length; t < o; t++) {
          var r = U.addChild(i, "si"), n = this._strings[t].replace(/([\u0000-\u0008\u000b\u000c\u000e-\u001F])/g, function(h) {
            return "_x".concat(("0000" + h.charCodeAt(0).toString(16)).substr(-4), "_");
          }), s = U.addChild(r, "t", null, n);
          e.test(this._strings[t]) && U.addProperty(s, "xml:space", "preserve");
        }
        var l = U.toString(i);
        return ht.XML_HEAD_STRING + l;
      }, a;
    }(), Mf = function() {
      function a(i, e) {
        this._id = i, this._url = e;
      }
      return Object.defineProperty(a.prototype, "id", { get: function() {
        return this._id;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "url", { get: function() {
        return this._url;
      }, enumerable: !1, configurable: !0 }), a;
    }(), Lf = function() {
      function a() {
        this._images = [], this._imageMap = {};
      }
      return a.prototype.add = function(i) {
        if (this._images.indexOf(i) < 0) {
          var e = this._images.push(i);
          this._imageMap[i] = new Mf(e, i);
        }
        return i;
      }, a.prototype.getImageMap = function() {
        return this._imageMap;
      }, a.prototype.getImage = function(i) {
        return this._imageMap && this._imageMap[i];
      }, a.prototype.getImageId = function(i) {
        return this._imageMap && this._imageMap[i] && this._imageMap[i].id;
      }, a;
    }(), Ff = function() {
      function a(i, e, t, o, r, n) {
        switch (this._cols = 1, this._cHeights = [], this._col = i, this._row = e, this._cWidth = 7 * t, this._cHeight = o > 0 ? o / 0.75 : -1, this._imageUrl = n, r) {
          case f.IconLocation.CENTER:
            this._location = f.IconLocation.CENTER;
            break;
          case f.IconLocation.RIGHT:
          case f.IconLocation.RIGHT_EDGE:
            this._location = f.IconLocation.RIGHT;
            break;
          default:
            this._location = f.IconLocation.LEFT;
        }
      }
      return Object.defineProperty(a.prototype, "col", { get: function() {
        return this._col.toString();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "row", { get: function() {
        return this._row.toString();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "toCol", { get: function() {
        return (this._col + this._cols - 1).toString();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "toRow", { get: function() {
        return this._toRow.toString();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "fromX", { get: function() {
        return Math.round((this._fromX != null ? this._fromX : 2) * a.emu).toString();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "fromY", { get: function() {
        return Math.round((this._fromY != null ? this._fromY : 2) * a.emu).toString();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "colOff", { get: function() {
        return Math.round(this._xOffset * a.emu).toString();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "rowOff", { get: function() {
        return Math.round(this._yOffset * a.emu).toString();
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "imageUrl", { get: function() {
        return this._imageUrl;
      }, enumerable: !1, configurable: !0 }), a.prototype.calcPosition = function(i, e) {
        var t, o = this._rHeight, r = this._rWidth;
        o != null && o > 0 && r != null && r > 0 ? (i = r, e = o) : o != null && o > 0 ? (t = o / e, e = o, i *= t) : r != null && r > 0 && (t = r / i, i = r, e *= t), this._cWidth = this._cWidth < 0 ? i : this._cWidth, this._cHeight = this._cHeight < 0 ? e : this._cHeight, t = 1, (this._cWidth < i || this._cHeight < e) && (e *= t = Math.min((this._cWidth - 2) / i, (this._cHeight - 2) / e), i *= t);
        var n = 1;
        this._location === f.IconLocation.CENTER ? n = Math.max(1, this._cWidth / 2 - i / 2) : this._location === f.IconLocation.RIGHT && (n = this._cWidth - i - 1);
        for (var s = this._cHeight / 2 - e / 2, l = this._row, h = l, u = s, c = s + e, d = 1; d < this._cHeights.length; d++)
          s >= this._cHeights[d] && (l++, u -= this._cHeights[d] - this._cHeights[d - 1]), s + e > this._cHeights[d] && (h++, c -= this._cHeights[d] - this._cHeights[d - 1]);
        this._row = l, this._toRow = h, this._fromX = n, this._fromY = Math.max(1, u), this._xOffset = this._fromX + i, this._yOffset = Math.min(c, this._cHeight - 1);
      }, a.emu = 9525, a;
    }(), Bf = function() {
      function a(i, e, t) {
        this._infos = [], this._book = i, this._sheet = e, this._index = t;
      }
      return a.prototype.dispose = function() {
        return null;
      }, Object.defineProperty(a.prototype, "fileName", { get: function() {
        return "drawing" + this._index + ".xml";
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "relationId", { get: function() {
        return "rId" + this._rId;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "rId", { set: function(i) {
        this._rId = i;
      }, enumerable: !1, configurable: !0 }), a.prototype.createPart = function() {
        for (var i = U, e = i.createDocument("xdr:wsDr", { "xmlns:xdr": "http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing", "xmlns:a": "http://schemas.openxmlformats.org/drawingml/2006/main" }), t = this._infos, o = 0; o < t.length; o++) {
          var r = t[o], n = this._book.getExcelImage(r.imageUrl);
          if (n && n.fileName) {
            var s = this._sheet.getMergeInfo(r.row, r.col);
            if (s) {
              for (var l = [0], h = -1, u = s.row; u < s.row + s.rows; u++) {
                var c = this._sheet.getRow(u);
                if (!(c._height > 0)) {
                  h = -1, l = [];
                  break;
                }
                l.push(h += c._height / 0.75);
              }
              r._cols = s.cols, r._cHeight = h, r._cHeights = l;
            }
            r.calcPosition(n.width, n.height);
            var d = i.addChild(e, "xdr:twoCellAnchor", { editAs: "oneCell" }), p = i.addChild(d, "xdr:from");
            i.addChild(p, "xdr:col", null, r.col), i.addChild(p, "xdr:colOff", null, r.fromX), i.addChild(p, "xdr:row", null, r.row), i.addChild(p, "xdr:rowOff", null, r.fromY), p = i.addChild(d, "xdr:to"), i.addChild(p, "xdr:col", null, r.toCol), i.addChild(p, "xdr:colOff", null, r.colOff), i.addChild(p, "xdr:row", null, r.toRow), i.addChild(p, "xdr:rowOff", null, r.rowOff);
            var _ = i.addChild(d, "xdr:pic"), g = i.addChild(_, "xdr:nvPicPr");
            i.addChild(g, "xdr:cNvPr", { id: o + 2, name: "picture " + o });
            var y = i.addChild(g, "xdr:cNvPicPr");
            i.addChild(y, "a:picLocks", { noChangeAspect: "1" });
            var m = i.addChild(_, "xdr:blipFill"), v = i.addChild(m, "a:blip", { "xmlns:r": "http://schemas.openxmlformats.org/officeDocument/2006/relationships", "r:embed": "rId" + this._book.getImageIndex(r.imageUrl) }), C = i.addChild(v, "a:extLst"), x = i.addChild(C, "a:ext", { uri: "{28A0092B-C50C-407E-A947-70E740481C1C}" });
            i.addChild(x, "a14:useLocalDpi", { "xmlns:a14": "http://schemas.microsoft.com/office/drawing/2010/main", val: "0" }), i.addChild(i.addChild(m, "a:stretch"), "a:fillRect");
            var S = i.addChild(_, "xdr:spPr"), I = i.addChild(S, "a:xfrm");
            i.addChild(I, "a:off", { x: "1", y: "1" }), i.addChild(I, "a:ext", { cx: "1181100", cy: "1189663" }), i.addChild(i.addChild(S, "a:prstGeom", { prst: "rect" }), "a:avLst"), i.addChild(d, "xdr:clientData");
          }
        }
        var E = U.toString(e);
        return ht.XML_HEAD_STRING + E;
      }, a.prototype.add = function(i, e, t, o, r, n, s, l) {
        var h = new Ff(i, e, t, o, r, n);
        return h._rWidth = s, h._rHeight = l, this._infos.push(h), h;
      }, a.prototype.createSheetRel = function() {
        var i = U.createDocument("Relationships", { xmlns: "http://schemas.openxmlformats.org/package/2006/relationships" }), e = U.addChild(i, "Relationship", { Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" });
        U.addProperty(e, "Id", this.relationId), U.addProperty(e, "Target", "../drawings/" + this.fileName);
        var t = U.toString(i);
        return ht.XML_HEAD_STRING + t;
      }, a.prototype.createRel = function() {
        var i = [];
        this._infos.forEach(function(l) {
          i.indexOf(l.imageUrl) < 0 && i.push(l.imageUrl);
        });
        for (var e = U.createDocument("Relationships", { xmlns: "http://schemas.openxmlformats.org/package/2006/relationships" }), t = 0; t < i.length; t++) {
          var o = i[t], r = this._book.getExcelImage(o);
          if (r && r.fileName) {
            var n = U.addChild(e, "Relationship", { Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" });
            U.addProperty(n, "Id", "rId" + this._book.getImageIndex(o).toString()), U.addProperty(n, "Target", "../media/" + r.fileName);
          }
        }
        var s = U.toString(e);
        return ht.XML_HEAD_STRING + s;
      }, a;
    }(), _o = function() {
      function a(i) {
        this._id = i;
      }
      return a.EqualsById = function(i, e) {
        return !i && !e || !(!i && e || i && !e) && i._id == e.id;
      }, Object.defineProperty(a.prototype, "id", { get: function() {
        return this._id;
      }, enumerable: !1, configurable: !0 }), a.prototype.dispose = function() {
      }, a;
    }(), go = function() {
      function a() {
        this._items = [], this._indexer = 0;
      }
      return a.prototype.dispose = function() {
        for (var i = this._items.length; i--; )
          this._items[i].dispose();
        this._items = null;
      }, a.prototype.getIndexer = function() {
        return this._indexer++;
      }, a.prototype.create = function() {
        for (var i, e = [], t = 0; t < arguments.length; t++)
          e[t] = arguments[t];
        for (var o = this._items.length; o--; )
          if ((i = this._items[o]).equals.apply(i, e))
            return i;
        return i = this.createInstance.apply(this, e), this._items.push(i), i;
      }, a.prototype.createUnique = function() {
        for (var i = [], e = 0; e < arguments.length; e++)
          i[e] = arguments[e];
        var t = this.createInstance.apply(this, i);
        return this._items.push(t), t;
      }, a;
    }(), _h = function(a) {
      function i(e, t, o, r, n, s, l) {
        var h = a.call(this, e) || this;
        return h._bold = void 0, h._italic = void 0, h._underline = void 0, h._name = t, h._size = o, h._color = r, h._bold = n, h._italic = s, h._underline = l, h;
      }
      return w(i, a), i.prototype.assignFrom = function(e) {
        this._name = this._name || e._name, this._size = this._size || e._size, this._color = this._color || e._color, this._bold = this._bold == null ? e._bold : this._bold, this._italic = this._italic == null ? e._italic : this._italic, this._underline = this._underline == null ? e._underline : this._underline;
      }, i.prototype.equals = function(e, t, o, r, n, s) {
        return e === void 0 && (e = "Tahoma"), t === void 0 && (t = 10), o === void 0 && (o = "ff000000"), r === void 0 && (r = !1), n === void 0 && (n = !1), s === void 0 && (s = !1), this._name == e && this._size == t && this._color == o && this._bold == r && this._italic == n && this._underline == s;
      }, i.prototype.toXml = function(e, t) {
        oe.addChildWithAttr(e, t, "sz", "val", this._size || 10), oe.addChildWithAttr(e, t, "name", "val", this._name || "Calibri"), oe.addChildWithAttr(e, t, "color", "rgb", this._color || "ff000000"), oe.addChildWithAttr(e, t, "b", "val", this._bold ? "true" : "false"), oe.addChildWithAttr(e, t, "i", "val", this._italic ? "true" : "false"), this._underline && oe.addChild(e, t, "u");
      }, i;
    }(_o), Nf = function(a) {
      function i(e) {
        var t = a.call(this) || this, o = be(e).getComputedStyle(e);
        return t._defFontSize = t.$_convertUnit(o.fontSize || "16px"), t;
      }
      return w(i, a), i.prototype.createInstance = function(e, t, o, r, n, s) {
        return new _h(this.getIndexer(), e, t, o, r, n, s);
      }, i.prototype.createFromCss = function(e) {
        var t = e["font-family"];
        t ? (t.indexOf(",") > -1 && (t = t.split(",")[0]), t = t.replace(/\"/g, "")) : t = void 0;
        var o = this.$_convertUnit(e["font-size"]);
        o = isNaN(o) ? void 0 : 72 * o / 96;
        var r = e.color;
        r && (r = r.charAt(0) == "#" ? e.color : new F(r).toColorHex());
        var n = e["font-weight"] == "bold", s = e["font-style"] == "italic", l = e["font-decoration"] == "underline";
        return this.create(t, o, r, n, s, l);
      }, i.prototype.toXml = function(e, t) {
        for (var o = this._items.length, r = 0; r < o; r++) {
          var n = oe.addChild(e, t, "font");
          this._items[r].toXml(e, n);
        }
        oe.setAttr(t, "count", o);
      }, i.prototype.$_convertUnit = function(e) {
        return e == null ? void 0 : typeof e == "string" ? e.indexOf("px") > 0 ? parseFloat(e) : e.indexOf("pt") > 0 ? Math.round(1.3333 * parseFloat(e)) : e.indexOf("em") > 0 ? parseFloat(e) * this._defFontSize : 12 : parseInt(e);
      }, i;
    }(go), gh = function(a) {
      function i(e, t, o, r, n, s, l) {
        t === void 0 && (t = "solid"), r === void 0 && (r = 0), n === void 0 && (n = !1), l === void 0 && (l = 90);
        var h = a.call(this, e) || this;
        return h._pattern = t, h._color = o, h._linear = n, h._color2 = s, h._degree = l, h._tint = r, h;
      }
      return w(i, a), i.prototype.assignFrom = function(e) {
        this._pattern = e._pattern || this._pattern, this._color = e._color || this._color, this._tint = e._tint || this._tint, this._linear = e._linear == null ? this._linear : e._linear, this._color2 = e._color2 || this._color2, this._degree = e._degree || this._degree;
      }, i.prototype.equalsObj = function(e) {
        return this._pattern == e._pattern && this._color == e._color && this._color2 == e._color2 && this._linear == e._linear && this._degree == e._degree && this._tint == e._tint;
      }, i.prototype.equals = function(e, t, o, r, n, s) {
        return e === void 0 && (e = "solid"), o === void 0 && (o = 0), r === void 0 && (r = !1), s === void 0 && (s = 90), this._pattern == e && this._color == t && this._color2 == n && this._linear == r && this._degree == s && this._tint == o;
      }, i.prototype.toXml = function(e, t) {
        var o, r = this._tint || 0;
        if (this._linear) {
          var n = oe.addChildWithAttr(e, t, "gradientFill", "degree", this._degree || 90), s = oe.addChildWithAttr(e, n, "stop", "position", "0");
          o = oe.addChild(e, s, "color"), oe.setAttr(o, "rgb", this._color), oe.setAttr(o, "tint", this._tint || 0), s = oe.addChildWithAttr(e, n, "stop", "position", "1"), o = oe.addChild(e, s, "color"), oe.setAttr(o, "rgb", this._color2), oe.setAttr(o, "tint", r);
        } else {
          var l = oe.addChildWithAttr(e, t, "patternFill", "patternType", this._pattern.toString());
          this._pattern != "none" && this._color != null && (o = oe.addChild(e, l, "fgColor"), oe.setAttr(o, "rgb", this._color), oe.setAttr(o, "tint", r));
        }
      }, i;
    }(_o), Vf = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.createInstance = function(e, t, o, r, n, s) {
        return new gh(this.getIndexer(), e, t, o, r, n, s);
      }, i.prototype.createFromCss = function(e) {
        var t = e["background-image"], o = "linear-gradient(", r = t ? t.indexOf(o) : -1;
        if (r > -1) {
          var n = this._splitEscape(t.slice(r + o.length, t.length - 1)), s = void 0, l = void 0, h = void 0;
          n.length > 2 ? (s = new F(n[1]), l = new F(n[2]), h = parseInt(n[0])) : (s = new F(n[0]), l = new F(n[1]), h = 180), h = (h + 270) % 360;
          var u = 1 - s._a;
          return this.create("none", s.toHex(), u, !0, l.toHex(), h);
        }
        if (e["background-color"]) {
          var c = new F(e["background-color"]);
          return u = 1 - c._a, c ? this.create("solid", c.toHex(), u) : this._items[0];
        }
      }, i.prototype.toXml = function(e, t) {
        for (var o = this._items.length, r = 0; r < o; r++) {
          var n = oe.addChild(e, t, "fill");
          this._items[r].toXml(e, n);
        }
        oe.setAttr(t, "count", o);
      }, i.prototype._splitEscape = function(e, t) {
        if (t === void 0 && (t = ","), e) {
          for (var o = [], r = !1, n = "", s = 0; s < e.length; s++) {
            var l = e[s];
            l != t || r ? (l != " " || r) && (n += l) : (o.push(n), n = ""), l == "(" && (r = !0), l == ")" && (r = !1);
          }
          return n && o.push(n), o;
        }
        return null;
      }, i;
    }(go), hi = function(a) {
      function i(e, t, o, r) {
        o === void 0 && (o = 1), r === void 0 && (r = "none");
        var n = a.call(this, e) || this;
        return n._color = t, n._width = o, n._type = r, n;
      }
      return w(i, a), i.equalsObj = function(e, t) {
        return !e && !t || !(!e && t || e && !t) && e._color == t._color && e._type == t._type && e._width == t._width;
      }, i.prototype.equals = function(e, t, o) {
        return t === void 0 && (t = 1), o === void 0 && (o = "none"), this._color == e && this._width == t && this._type == o;
      }, i.prototype.toXml = function(e, t) {
        var o = this._width <= 1 ? "thin" : this._width <= 2 ? "medium" : "thick";
        oe.setAttr(t, "style", o), oe.addChildWithAttr(e, t, "color", "rgb", this._color);
      }, i;
    }(_o), $f = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.createInstance = function(e, t, o) {
        return new hi(this.getIndexer(), e, t, o);
      }, i.prototype.createFromCss = function(e, t) {
        var o = e[t + "-style"];
        if (o && o != "none") {
          var r = new F(e[t + "-color"]), n = o, s = parseInt(e[t + "-width"]);
          if (!r && isNaN(s))
            return this._items[0];
          if (isNaN(s))
            s = 0;
          else if (s === 0)
            return;
          return this.create(r.toColorHex(), s, n);
        }
      }, i;
    }(go), Gr = function(a) {
      function i(e, t, o, r, n) {
        var s = a.call(this, e) || this;
        return s._left = t, s._top = o, s._right = r, s._bottom = n, s;
      }
      return w(i, a), i.equalsObj = function(e, t) {
        return hi.equalsObj(e._left, t._left) && hi.equalsObj(e._top, t._top) && hi.equalsObj(e._right, t._right) && hi.equalsObj(e._bottom, t._bottom);
      }, Object.defineProperty(i.prototype, "left", { get: function() {
        return this._left;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "right", { get: function() {
        return this._right;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "top", { get: function() {
        return this._top;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "bottom", { get: function() {
        return this._bottom;
      }, enumerable: !1, configurable: !0 }), i.prototype.dispose = function() {
        this._left = null, this._top = null, this._right = null, this._bottom = null, a.prototype.dispose.call(this);
      }, i.prototype.equals = function(e, t, o, r) {
        return hi.EqualsById(this._left, e) && hi.EqualsById(this._top, t) && hi.EqualsById(this._right, o) && hi.EqualsById(this._bottom, r);
      }, i.prototype.toXml = function(e, t) {
        this.borderToXml(e, t, "left"), this.borderToXml(e, t, "right"), this.borderToXml(e, t, "top"), this.borderToXml(e, t, "bottom");
      }, i.prototype.borderToXml = function(e, t, o) {
        var r = oe.addChild(e, t, o), n = this[o];
        n && n.toXml(e, r);
      }, i;
    }(_o), Af = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._lines = e, t;
      }
      return w(i, a), i.prototype.dispose = function() {
        this._lines = null, a.prototype.dispose.call(this);
      }, i.prototype.createInstance = function(e, t, o, r) {
        return new Gr(this.getIndexer(), e, t, o, r);
      }, i.prototype.createFromCss = function(e) {
        var t = this._lines, o = t.createFromCss(e, "border-left"), r = t.createFromCss(e, "border-right"), n = t.createFromCss(e, "border-top"), s = t.createFromCss(e, "border-bottom");
        return o || r || n || s ? this.create(o, n, r, s) : void 0;
      }, i.prototype.extend = function(e, t) {
        e = e || {};
        for (var o = new Gr(null, t.left || e.left, t.top || e.top, t.right || e.right, t.bottom || e.bottom), r = this._items.length; r--; ) {
          var n = this._items[r];
          if (Gr.equalsObj(this._items[r], o))
            return n;
        }
        return o._id = this.getIndexer(), this._items.push(o), o;
      }, i.prototype.toXml = function(e, t) {
        for (var o = this._items.length, r = 0; r < o; r++) {
          var n = oe.addChild(e, t, "border");
          this._items[r].toXml(e, n);
        }
        oe.setAttr(t, "count", o);
      }, i;
    }(go), jf = function(a) {
      function i(e, t, o, r, n, s, l, h, u) {
        n === void 0 && (n = !1), s === void 0 && (s = 0);
        var c = a.call(this, t) || this;
        return c._collection = e, c._horzAlign = o, c._vertAlign = r, c._wrapText = n, c._formatId = s, c._font = l, c._fill = h, c._border = u, c;
      }
      return w(i, a), Object.defineProperty(i.prototype, "horzAlign", { get: function() {
        return this._horzAlign;
      }, set: function(e) {
        this._horzAlign = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "vertAlign", { get: function() {
        return this._vertAlign;
      }, set: function(e) {
        this._vertAlign = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.dispose = function() {
        this._font = null, this._fill = null, this._border = null, this._collection = null, a.prototype.dispose.call(this);
      }, i.prototype.equals = function(e, t, o, r, n, s, l, h) {
        return this._horzAlign == e && this._vertAlign == t && this._wrapText == o && this._formatId == r && _h.EqualsById(this._font, n) && gh.EqualsById(this._fill, s) && Gr.EqualsById(this._border, l) && b.equalObjects(this._cellProptectProps, h);
      }, i.prototype.toXml = function(e, t) {
        var o = this;
        oe.setAttr(t, "borderId", (this._border ? this._border.id : 0) + ""), oe.setAttr(t, "fillId", (this._fill ? this._fill.id : 0) + ""), oe.setAttr(t, "fontId", (this._font ? this._font.id : 0) + ""), oe.setAttr(t, "numFmtId", this._formatId + ""), oe.setAttr(t, "xfId", "0");
        var r = oe.addChild(e, t, "alignment");
        if (oe.setAttr(r, "horizontal", this._horzAlign || "left"), oe.setAttr(r, "vertical", this._vertAlign || "center"), this._wrapText && oe.setAttr(r, "wrapText", "1"), this._cellProptectProps) {
          var n = oe.addChild(e, t, "protection");
          Object.keys(this._cellProptectProps).forEach(function(s) {
            oe.setAttr(n, s, o._cellProptectProps[s]);
          });
        }
      }, i.prototype.cloneAsNew = function(e, t, o, r, n, s, l, h, u) {
        return new i(this._collection, e, t || this._horzAlign, o || this._vertAlign, r ?? this._wrapText, n ?? this._formatId, s || this._font, l || this._fill, h || this._border);
      }, i;
    }(_o), Hf = function(a) {
      function i(e, t, o) {
        var r = a.call(this) || this;
        return r._fonts = e, r._fills = t, r._borders = o, r;
      }
      return w(i, a), i.prototype.dispose = function() {
        this._fonts = null, this._fills = null, this._borders = null, a.prototype.dispose.call(this);
      }, i.prototype.addStyle = function(e) {
        for (var t = this._items.length; t--; ) {
          var o = this._items[t];
          if (o.equals(e.horzAlign, e.vertAlign, e._wrapText, e._formatId, e._font, e._fill, e._border, e._cellProptectProps))
            return o;
        }
        return e._id = this.getIndexer(), e._collection = this, e;
      }, i.prototype.changeFormatId = function(e, t) {
        for (var o, r = this._items.length; r--; )
          if ((o = this._items[r]).equals(e.horzAlign, e.vertAlign, e._wrapText, t, e._font, e._fill, e._border, e._cellProptectProps))
            return o;
        return (o = e.cloneAsNew(this.getIndexer(), null, null, null, t, null, null, null))._cellProptectProps = b.deepCopy(e._cellProptectProps), this._items.push(o), o;
      }, i.prototype.changeBorder = function(e, t) {
        for (var o, r = this._borders.extend(e._border, t), n = this._items.length; n--; )
          if ((o = this._items[n]).equals(e.horzAlign, e.vertAlign, e._wrapText, e._formatId, e._font, e._fill, r, e._cellProptectProps))
            return o;
        var s = e.cloneAsNew(this.getIndexer(), null, null, null, null, null, null, r);
        return s._cellProptectProps = b.deepCopy(e._cellProptectProps), this._items.push(s), s;
      }, i.prototype.createInstance = function(e, t, o, r, n, s, l) {
        return o === void 0 && (o = !1), r === void 0 && (r = 0), n === void 0 && (n = null), s === void 0 && (s = null), l === void 0 && (l = null), new jf(this, this.getIndexer(), e, t, o, r, n, s, l);
      }, i.prototype.createFromCss = function(e, t, o, r, n, s, l) {
        t === void 0 && (t = !0), o === void 0 && (o = !0), r === void 0 && (r = !0), n === void 0 && (n = !1), s === void 0 && (s = 0), l === void 0 && (l = null);
        var h, u, c = t ? this._borders.createFromCss(e) : null, d = o ? this._fonts.createFromCss(e) : null, p = r ? this._fills.createFromCss(e) : null, _ = e["text-align"];
        _ && (_ == "center" ? h = "center" : _ == "right" ? h = "right" : _ == "left" && (h = "left"));
        var g = e["vertical-align"];
        return g && (g == "top" ? u = "top" : g == "bottom" && (u = "bottom")), this.create(h, u, n, s, d, p, c, l);
      }, i.prototype.toXml = function(e, t) {
        for (var o = this._items.length, r = 0; r < o; r++) {
          var n = oe.addChild(e, t, "xf");
          this._items[r].toXml(e, n);
        }
        oe.setAttr(t, "count", o);
      }, i;
    }(go), Gf = function() {
      function a(i) {
        this._numberFmts = [], this._fonts = new Nf(i), this._fills = new Vf(), this._lines = new $f(), this._borders = new Af(this._lines), this._styles = new Hf(this._fonts, this._fills, this._borders), this._fills.create("none"), this._fills.create("gray125"), this._borders.create(), this._fonts.create(), this._styles.create();
      }
      return a.prototype.dispose = function() {
        this._styles.dispose(), this._borders.dispose(), this._lines.dispose(), this._fills.dispose(), this._fonts.dispose();
      }, a.prototype.addNumberFormat = function(i) {
        var e = this._numberFmts.indexOf(i);
        return e < 0 && (this._numberFmts.push(i), e = this._numberFmts.length - 1), a.EXCEL_NUMFMT_START + e;
      }, a.prototype.addStyle = function(i, e, t, o, r, n) {
        return i ? this._styles.createFromCss(i, e, t, o, r, n) : null;
      }, a.prototype.extendStyle = function(i, e, t, o, r) {
        o = o ?? i._formatId;
        var n = this._styles.createFromCss(e, !0, !0, !0, t, o, r);
        return n._border = n._border || i._border, n._fill = n._fill || i._fill, n._font && i._font ? n._font.assignFrom(i._font) : n._font = n._font || i._font, n._horzAlign = n._horzAlign || i._horzAlign, n._vertAlign = n._vertAlign || i._vertAlign, n._wrapText = n._wrapText != null ? n._wrapText : i._wrapText, n._formatId = o != null && n._formatId != null ? n._formatId : i._formatId, n._cellProptectProps = b.deepCopy(r) || b.deepCopy(i._cellProptectProps), this._styles.addStyle(n);
      }, a.prototype.changeFormatId = function(i, e) {
        return this._styles.changeFormatId(i, e);
      }, a.prototype.changeBorder = function(i, e) {
        return this._styles.changeBorder(i, e);
      }, a.prototype.createPart = function() {
        var i = '<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"></styleSheet>', e = oe.parse(i), t = e.documentElement;
        if (this._numberFmts.length > 0) {
          var o = oe.addChild(e, t, "numFmts");
          this._createNumberFormats(e, o);
        }
        var r = oe.addChild(e, t, "fonts");
        this._createFonts(e, r);
        var n = oe.addChild(e, t, "fills");
        this._createFills(e, n);
        var s = oe.addChild(e, t, "borders");
        this._createBorders(e, s);
        var l = oe.addChild(e, t, "cellStyleXfs");
        this._createDefXfs(e, l);
        var h = oe.addChild(e, t, "cellXfs");
        return this._createStyles(e, h), i = oe.toString(e), ht.XML_HEAD_STRING + i;
      }, a.prototype._createNumberFormats = function(i, e) {
        for (var t = 0, o = this._numberFmts.length; t < o; t++) {
          var r = oe.addChild(i, e, "numFmt");
          oe.setAttr(r, "formatCode", this._numberFmts[t]), oe.setAttr(r, "numFmtId", a.EXCEL_NUMFMT_START + t);
        }
      }, a.prototype._createFonts = function(i, e) {
        this._fonts.toXml(i, e);
      }, a.prototype._createFills = function(i, e) {
        this._fills.toXml(i, e);
      }, a.prototype._createBorders = function(i, e) {
        this._borders.toXml(i, e);
      }, a.prototype._createDefXfs = function(i, e) {
        var t = oe.addChildWithAttr(i, e, "xf", "count", 1);
        oe.setAttr(t, "borderId", 0), oe.setAttr(t, "fillId", 0), oe.setAttr(t, "fontId", 0), oe.setAttr(t, "numFmtId", 0);
      }, a.prototype._createStyles = function(i, e) {
        this._styles.toXml(i, e);
      }, a.EXCEL_NUMFMT_START = 200, a;
    }(), Wf = function(a) {
      function i(e, t, o, r, n) {
        var s = a.call(this, e) || this;
        return s._hash = t, s._width = o, s._style = r, s._hidden = n, s;
      }
      return w(i, a), i.prototype.dispose = function() {
        this._style = null, a.prototype.dispose.call(this);
      }, i.prototype.equals = function(e) {
        return this.id == e;
      }, i.prototype.toTextXml = function(e) {
        var t = this.id + 1, o = { min: t, max: t, width: this._width, customWidth: "1" };
        this._style && (o.style = this._style.id), this._hidden && (o.hidden = "1"), U.addChild(e, "col", o);
      }, i;
    }(_o), Uf = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.createInstance = function(e, t, o, r) {
        return new Wf(this.getIndexer(), e, t, o, r);
      }, Object.defineProperty(i.prototype, "count", { get: function() {
        return this._items.length;
      }, enumerable: !1, configurable: !0 }), i.prototype.toTextXml = function(e) {
        for (var t = U.addChild(e, "cols"), o = 0, r = this.count; o < r; o++)
          this._items[o].toTextXml(t);
      }, i.prototype.getWidth = function(e) {
        for (var t = 0; t < this._items.length; t++) {
          var o = this._items[t];
          if (o._hash === e)
            return o._width;
        }
        return -1;
      }, i;
    }(go), zf = function() {
      function a(i, e, t, o, r, n) {
        r === void 0 && (r = ""), this._range = ht.toRange(e, i), this._style = t, this._type = r, this._fomula = n, this._value = o;
      }
      return a.prototype.dispose = function() {
        this._style = null;
      }, Object.defineProperty(a.prototype, "style", { get: function() {
        return this._style;
      }, set: function(i) {
        this._style = i;
      }, enumerable: !1, configurable: !0 }), a.prototype.toXmlText = function() {
        var i = [];
        return i.push("<" + a.ELEMENT_NAME), i.push(' r="'.concat(this._range, '"')), this._type != "" && i.push(' t="'.concat(this._type, '"')), this._style && i.push(' s="'.concat(this._style.id, '"')), i.push(">"), this._fomula && i.push("<f>".concat(this._fomula, "</f>")), this._value != null && i.push("<v>".concat(this._value, "</v>")), i.push("</" + a.ELEMENT_NAME + ">"), i.join("");
      }, a.ELEMENT_NAME = "c", a;
    }(), Yf = function() {
      function a(i, e, t) {
        this._row = 0, this._sheet = i, this._book = i.workbook, this._index = e, this._height = t, this._cells = [];
      }
      return Object.defineProperty(a.prototype, "outLineLevel", { get: function() {
        return this._outlineLevel;
      }, set: function(i) {
        this._outlineLevel = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "index", { get: function() {
        return this._index;
      }, enumerable: !1, configurable: !0 }), a.prototype.dispose = function() {
        for (var i = this._cells.length; i--; )
          this._cells[i].dispose(), this._cells[i] = null;
        this._cells = null;
      }, a.prototype.toXmlText = function() {
        var i = [];
        i.push("<" + a.ELEMENT_NAME), i.push(' r="'.concat(this._index + 1, '"')), this._height && this._height > -1 && (i.push(' ht="'.concat(this._height, '"')), i.push(' customHeight="1"')), this._outlineLevel != null && i.push(' outlineLevel="'.concat(this._outlineLevel, '"')), i.push(">");
        for (var e = 0, t = this._cells.length; e < t; e++) {
          var o = this._cells[e];
          o && i.push(o.toXmlText());
        }
        return i.push("</" + a.ELEMENT_NAME + ">"), i.join("");
      }, a.prototype.borrowCell = function(i, e, t, o, r) {
        o === void 0 && (o = "");
        var n = this._cells[i];
        n && n.dispose(), n = new zf(this._index, i, e, t, o, r), this._cells[i] = n;
      }, a.prototype.addBlank = function(i, e) {
        this.borrowCell(i, e);
      }, a.prototype.addCell = function(i, e, t, o, r) {
        this.borrowCell(i, o, t, e, r);
      }, a.prototype.addText = function(i, e, t) {
        var o = e != null ? String(e) : "", r = this._book.addSharedString(o);
        this.addCell(i, "s", r, t);
      }, a.prototype.addNumber = function(i, e, t, o) {
        var r = isNaN(e) || e == null ? "" : String(e);
        this.addCell(i, "n", r, t, o);
      }, a.prototype.addBool = function(i, e, t) {
        this.addCell(i, "b", e == null ? "" : e ? 1 : 0, t);
      }, a.prototype.addDate = function(i, e, t) {
        if (e) {
          var o = ht.toExcelDate(e);
          this.addNumber(i, o, t);
        } else
          this.addCell(i, "s", "", t);
      }, a.prototype.addLink = function(i, e, t, o) {
        if (t && t != "") {
          var r = document.createElement("div");
          r.innerText = r.textContent = t, t = r.innerHTML.replace(/(<br>|<br\/>)/gi, "&#13;&#10;"), r.innerText = r.textContent = e, t = 'HYPERLINK("' + t + ((e = r.innerHTML.replace(/(<br>|<br\/>)/gi, `\r
`)) ? '","' + e + '")' : '")'), this.addCell(i, "str", e, o, t);
        } else
          this.addText(i, e, o);
      }, a.prototype.addImage = function(i, e, t, o, r, n, s, l) {
        if (r)
          return e && o !== f.IconLocation.CENTER ? this.addText(i, e, n) : this.addBlank(i, n), this._sheet.addImage(i, this._index, t, this._height, o, r, s, l);
        e ? this.addText(i, e, n) : this.addBlank(i, n);
      }, a.prototype.addSparkLine = function(i, e, t, o) {
        var r = t.layout.firstColumn, n = this._sheet, s = this._index, l = n.borrowSparkGroup(r.index, t.sparkLineGroup), h = l.range.start, u = l.range.end - h + 1, c = l.range.row;
        c = c ?? 0;
        var d = l.sparkLines, p = n.name + "!" + ht.toRange(e + h, s + c, !0, u);
        d[ht.toRange(i, this._index)] = p, this.addBlank(i, o);
      }, a.ELEMENT_NAME = "row", a.LINE_REGEX = /\r|\n|\r\n/, a.BR_REGEX = /<br>|<br\/>/, a;
    }(), qf = function() {
      function a(i, e, t, o) {
        this._mergeCount = 0, this._outlineLevel = 0, this._dataRows = [], this._sparkGroups = {}, this._firstRow = -1, this._firstCol = -1, this._lastRow = -1, this._fixedCol = 0, this._fixedRow = 0, this._relation_indexer = 1, this._mergeInfos = {}, this._book = i, this._index = e, this._name = t, this._attrs = o.sheetAttrs, this._protectPassword = o.protectPassword, this._protectProperties = o.protectProperties, this._sheetProtect = o.sheetProtect, this._columns = new Uf(), this._prepare();
      }
      return a.prototype.dispose = function() {
        this._txmerge = null, U.removeItem(this._txdoc), this._txdoc = null, this._columns = null, this.clearRows(), this._dataRows = null, this._borderEdges = null;
      }, Object.defineProperty(a.prototype, "id", { get: function() {
        return a.RELATION_ID + this._index;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "name", { get: function() {
        return this._name;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "colCount", { get: function() {
        return this._columns.count;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "rowCount", { get: function() {
        return this._dataRows.length;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "workbook", { get: function() {
        return this._book;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "drawing", { get: function() {
        return this._drawing;
      }, enumerable: !1, configurable: !0 }), a.prototype.setFirstRow = function(i) {
        this._firstRow < 0 && (this._firstRow = i);
      }, a.prototype.setLastRow = function(i) {
        this._lastRow = Math.max(this._lastRow, i);
      }, a.prototype.setFirstCol = function(i) {
        this._firstCol < 0 && (this._firstCol = i);
      }, a.prototype.clearRows = function() {
        for (var i = this._dataRows.length; i--; )
          this._dataRows[i].dispose(), this._dataRows[i] = null;
        this._dataRows = [];
      }, a.prototype.addColumn = function(i, e, t, o) {
        return this._columns.createUnique(i, e, t, o);
      }, a.prototype.getColumnWidth = function(i) {
        return this._columns.getWidth(i);
      }, a.prototype.getMergeInfo = function(i, e) {
        return this._mergeInfos["".concat(i, ":").concat(e)];
      }, a.prototype.addRow = function(i, e) {
        return this._dataRows[i] = new Yf(this, i, e);
      }, a.prototype.getRow = function(i) {
        return this._dataRows[i];
      }, a.prototype.borrowRow = function(i, e) {
        return this._dataRows[i] || this.addRow(i, e);
      }, a.prototype.borrowSparkGroup = function(i, e) {
        return this._sparkGroups[i] || (this._sparkGroups[i] = e), this._sparkGroups[i];
      }, a.prototype.setRowLevel = function(i, e) {
        if (e >= 0) {
          var t = this._dataRows[i];
          t && (t.outLineLevel = e, this._outlineLevel = Math.max(e, this._outlineLevel));
        }
      }, a.prototype.addMerge = function(i, e, t, o) {
        if (t > 1 || o > 1) {
          var r = ht.toRange(e, i, !0, o, t);
          this._mergeInfos["".concat(i, ":").concat(e)] = { row: i, rows: t, col: e, cols: o, range: r };
        }
      }, a.prototype.createPart = function() {
        var i = this._txdoc, e = "A1:" + ht.toRange(this._columns.count - 1, this._dataRows.length - 1);
        U.addChild(i, "dimension", { ref: e }), this._outlineLevel > 0 && U.addChild(i, "sheetFormatPtr", { outlineLevelRow: this._outlineLevel });
        var t = U.addChild(i, "sheetViews"), o = { workbookViewId: 0, showOutlineSymbols: "true" };
        this._attrs && b.extendObj(this._attrs, o), this._book.count == 0 && (o.tabSelected = 1);
        var r = U.addChild(t, "sheetView", o);
        (this._fixedCol > 0 || this._fixedRow > 0) && U.addChild(r, "pane", { xSplit: this._fixedCol, ySplit: this._fixedRow, topLeftCell: ht.toRange(this._fixedCol, this._fixedRow), activePane: "bottomRight", state: "frozen" }), this._columns && this._columns.toTextXml(i);
        for (var n = U.addChild(i, "sheetData"), s = this._dataRows, l = this._borderEdges, h = 0, u = s.length; h < u; h++) {
          if (h == this._firstRow) {
            for (var c = 0, d = Math.max(0, this._firstCol); d < s[h]._cells.length; d++)
              (p = s[h]._cells[d]) && l && (p.style = this._book.changeBorderId(p.style, l[c++ ? "top" : "leftTop"]));
            for (d = s[h]._cells.length; d--; )
              if ((p = s[h]._cells[d]) && l) {
                p.style = this._book.changeBorderId(p.style, l.rightTop);
                break;
              }
          } else if (h === this._lastRow) {
            for (c = 0, d = Math.max(0, this._firstCol); d < s[h]._cells.length; d++)
              (p = s[h]._cells[d]) && l && (p.style = this._book.changeBorderId(p.style, l[c++ ? "bottom" : "leftBottom"]));
            for (d = s[h]._cells.length; d--; )
              if ((p = s[h]._cells[d]) && l) {
                p.style = this._book.changeBorderId(p.style, l.rightBottom);
                break;
              }
          } else if (h > this._firstRow && h < this._lastRow) {
            for (d = Math.max(0, this._firstCol); d < s[h]._cells.length; d++)
              if ((p = s[h]._cells[d]) && l) {
                p.style = this._book.changeBorderId(p.style, l.left);
                break;
              }
            for (d = s[h]._cells.length; d--; ) {
              var p;
              if ((p = s[h]._cells[d]) && l) {
                p.style = this._book.changeBorderId(p.style, l.right);
                break;
              }
            }
          }
          s[h] && U.addText(n, s[h].toXmlText());
        }
        if (this._sheetProtect) {
          var _ = U.addChild(i, "sheetProtection");
          if (U.addProperty(_, "sheet", "1"), this._protectPassword) {
            var g = function(D) {
              var M, V, B = 0, N = function(Z) {
                for (var ee = [], Y = Z.split(""), q = 0; q < Y.length; ++q)
                  ee[q] = Y[q].charCodeAt(0);
                return ee;
              }(D), A = N.length + 1;
              V = A, (M = typeof Buffer < "u" ? Buffer.alloc ? Buffer.alloc(V) : new Buffer(V) : typeof Uint8Array < "u" ? new Uint8Array(V) : new Array(V))[0] = N.length;
              for (var z = 1; z < A; ++z)
                M[z] = N[z - 1];
              for (z = A - 1; z >= 0; --z)
                B = ((16384 & B ? 1 : 0) | B << 1 & 32767) ^ M[z];
              return (52811 ^ B).toString(16).toUpperCase();
            }(this._protectPassword);
            U.addProperty(_, "password", g);
          }
          if (this._protectProperties) {
            var y = this._protectProperties;
            Object.keys(y).forEach(function(D) {
              U.addProperty(_, D, y[D]);
            });
          }
        }
        if (this._mergeCount = Object.keys(this._mergeInfos).length, this._mergeCount > 0) {
          for (var m in U.addProperty(this._txmerge, "count", this._mergeCount + ""), this._mergeInfos)
            U.addChild(this._txmerge, "mergeCell", { ref: this._mergeInfos[m].range });
          U.addChildElement(this._txdoc, this._txmerge);
        }
        if (this._drawing && U.addChild(i, "drawing", { "r:id": this._drawing.relationId }), Object.keys(this._sparkGroups).length > 0) {
          var v = U.addChild(i, "extLst"), C = U.addChild(v, "ext", { uri: "{05C60535-1F16-4fd2-B633-F4F36F0B64E0}", "xmlns:x14": "http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" }), x = U.addChild(C, "x14:sparklineGroups", { "xmlns:xm": "http://schemas.microsoft.com/office/excel/2006/main" });
          for (var h in this._sparkGroups) {
            var S = this._sparkGroups[h], I = S.colors, E = S.sparkLines, O = U.addChild(x, "x14:sparklineGroup", { type: S.type || "line" });
            I.colorSeries && U.addChild(O, "x14:colorSeries", { rgb: I.colorSeries }), I.colorMarkers && (U.addProperty(O, "markers", "1"), U.addChild(O, "x14:colorMarkers", { rgb: I.colorMarkers })), I.colorFirst && (U.addProperty(O, "first", "1"), U.addChild(O, "x14:colorFirst", { rgb: I.colorFirst })), I.colorLast && (U.addProperty(O, "last", "1"), U.addChild(O, "x14:colorLast", { rgb: I.colorLast })), I.colorHigh && (U.addProperty(O, "high", "1"), U.addChild(O, "x14:colorHigh", { rgb: I.colorHigh })), I.colorLow && (U.addProperty(O, "low", "1"), U.addChild(O, "x14:colorLow", { rgb: I.colorLow }));
            var P = U.addChild(O, "x14:sparklines");
            for (var R in E) {
              var T = U.addChild(P, "x14:sparkline");
              U.addChild(T, "xm:f", void 0, E[R]), U.addChild(T, "xm:sqref", void 0, R);
            }
          }
        }
        return ht.XML_HEAD_STRING + U.toString(i);
      }, a.prototype.createBorderEdges = function(i) {
        function e(t) {
          var o = {};
          return t.forEach(function(r) {
            o["border-".concat(r, "-style")] = i["border-".concat(r, "-style")], o["border-".concat(r, "-color")] = i["border-".concat(r, "-color")], o["border-".concat(r, "-width")] = i["border-".concat(r, "-width")];
          }), this._book._styles._borders.createFromCss(o) || {};
        }
        i && (this._borderEdges = { leftTop: e.call(this, ["left", "top"]), top: e.call(this, ["top"]), rightTop: e.call(this, ["right", "top"]), left: e.call(this, ["left"]), right: e.call(this, ["right"]), leftBottom: e.call(this, ["left", "bottom"]), bottom: e.call(this, ["bottom"]), rightBottom: e.call(this, ["right", "bottom"]) });
      }, a.prototype.setFixedInfo = function(i, e) {
        this._fixedRow = i == null ? this._fixedRow : Math.max(this._fixedRow, i), this._fixedCol = e == null ? this._fixedCol : Math.max(this._fixedCol, e);
      }, a.prototype.addImage = function(i, e, t, o, r, n, s, l) {
        this._drawing === void 0 && (this._drawing = this._book.createDrawing(this), this._drawing.rId = this._relation_indexer++);
        var h = this._book.addImage(n);
        return this._drawing.add(i, e, t, o, r, h, s, l);
      }, a.prototype._prepare = function() {
        this._txdoc = U.createDocument("worksheet", { xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main", "xmlns:r": "http://schemas.openxmlformats.org/officeDocument/2006/relationships" }), this._txmerge = U.createDocument("mergeCells");
      }, a.RELATION_ID = "rId", a;
    }(), Kf = function() {
      function a(i) {
        this._sheet_indexer = 3, this._drawing_indexer = 1, this._parts = {}, this._parts = {}, this._strings = new Df(), this._images = new Lf(), this._styles = new Gf(i), this._downloader = new kf(), this._sheets = [], this._drawings = [], this._preapreTemplateParts();
      }
      return a.prototype.dispose = function() {
        this._parts = {}, this._strings.dispose(), this._strings = null, this._styles.dispose(), this._styles = null, this._drawings.forEach(function(i) {
          i.dispose();
        }), this._drawings = null, this._sheets.forEach(function(i) {
          i.dispose();
        }), this._sheets = null;
      }, Object.defineProperty(a.prototype, "currentSheet", { get: function() {
        return this._currentSheet;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "count", { get: function() {
        return this._sheets ? this._sheets.length : 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "styles", { get: function() {
        return this._styles;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "downloader", { get: function() {
        return this._downloader;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "hasDrawing", { get: function() {
        return this._drawing_indexer > 1;
      }, enumerable: !1, configurable: !0 }), a.prototype.createSheet = function(i, e) {
        var t = new qf(this, this._sheet_indexer++, i || "Sheet" + (this._sheets.length + 1), e);
        return this._sheets.push(t), this._currentSheet = t, t;
      }, a.prototype.createDrawing = function(i) {
        var e = new Bf(this, i, this._drawing_indexer++);
        return this._drawings.push(e), e;
      }, a.prototype.addSharedString = function(i) {
        return this._strings.add(i);
      }, a.prototype.addImage = function(i) {
        return this._images.add(i);
      }, a.prototype.getImageMap = function() {
        return this._images.getImageMap();
      }, a.prototype.getExcelImage = function(i) {
        return this._images.getImage(i);
      }, a.prototype.getImageIndex = function(i) {
        return this._images.getImageId(i);
      }, a.prototype.addNumberFormat = function(i) {
        return this._styles.addNumberFormat(i);
      }, a.prototype.addStyle = function(i, e, t, o, r, n) {
        if (r == null) {
          var s = i.whiteSpace || i["white-space"];
          r = s != null && s !== "none" && s !== "nowrap";
        }
        return this._styles.addStyle(i, e, t, o, r, n);
      }, a.prototype.changeFormatId = function(i, e) {
        return this._styles.changeFormatId(i, e);
      }, a.prototype.changeBorderId = function(i, e) {
        return this._styles.changeBorder(i, e);
      }, a.prototype.extendStyle = function(i, e, t, o, r) {
        return this._styles.extendStyle(i, e, t, o, r);
      }, a.prototype.createParts = function() {
        var i = this._parts, e = U.createDocument("Types", { xmlns: "http://schemas.openxmlformats.org/package/2006/content-types" });
        if (U.addChild(e, "Default", { Extension: "rels", ContentType: "application/vnd.openxmlformats-package.relationships+xml" }), U.addChild(e, "Default", { Extension: "xml", ContentType: "application/xml" }), U.addChild(e, "Override", { PartName: "/docProps/app.xml", ContentType: "application/vnd.openxmlformats-officedocument.extended-properties+xml" }), U.addChild(e, "Override", { PartName: "/docProps/core.xml", ContentType: "application/vnd.openxmlformats-package.core-properties+xml" }), U.addChild(e, "Override", { PartName: "/xl/sharedStrings.xml", ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" }), U.addChild(e, "Override", { PartName: "/xl/styles.xml", ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" }), U.addChild(e, "Override", { PartName: "/xl/workbook.xml", ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" }), this._drawings.length > 0) {
          for (var t = 0; t < this._drawings.length; t++) {
            var o = "/xl/drawings/" + (_ = this._drawings[t]).fileName;
            U.addChild(e, "Override", { PartName: o, ContentType: "application/vnd.openxmlformats-officedocument.drawing+xml" });
          }
          var r = this.downloader.getContentTypes();
          Object.keys(r).forEach(function(y) {
            U.addChild(e, "Default", { Extension: y, ContentType: r[y] });
          });
        }
        var n = U.createDocument("Relationships", { xmlns: "http://schemas.openxmlformats.org/package/2006/relationships" });
        U.addChild(n, "Relationship", { Id: "rId1", Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings", Target: "sharedStrings.xml" }), U.addChild(n, "Relationship", { Id: "rId2", Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles", Target: "styles.xml" });
        var s = U.createDocument("workbook", { xmlns: "http://schemas.openxmlformats.org/spreadsheetml/2006/main", "xmlns:r": "http://schemas.openxmlformats.org/officeDocument/2006/relationships" });
        U.addChild(s, "workbookPr", { date1904: "false" });
        var l = U.addChild(s, "bookViews");
        U.addChild(l, "workbookView", { activeTab: "0" });
        for (var h = U.addChild(s, "sheets"), u = (t = 0, this._sheets.length); t < u; t++) {
          var c = this._sheets[t], d = "worksheets/sheet" + (t + 1).toString() + ".xml", p = "xl/" + d;
          if (i[p] = c.createPart(), e && U.addChild(e, "Override", { PartName: "/" + p, ContentType: "application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" }), h && U.addChild(h, "sheet", { name: c.name || "Sheet" + (t + 1).toString(), sheetId: (t + 1).toString(), "r:id": c.id }), n && U.addChild(n, "Relationship", { Id: c.id, Type: "http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet", Target: d }), c.drawing) {
            var _ = c.drawing;
            i[p = "xl/worksheets/_rels/sheet" + (t + 1).toString() + ".xml.rels"] = _.createSheetRel(), i[p = "xl/drawings/_rels/" + _.fileName + ".rels"] = _.createRel(), i[p = "xl/drawings/" + _.fileName] = _.createPart();
          }
        }
        var g = ht.XML_HEAD_STRING;
        return i["[Content_Types].xml"] = g + U.toString(e), i["xl/workbook.xml"] = g + U.toString(s), i["xl/_rels/workbook.xml.rels"] = g + U.toString(n), i["xl/sharedStrings.xml"] = this._strings.createPart(), i["xl/styles.xml"] = this._styles.createPart(), i;
      }, a.prototype._preapreTemplateParts = function() {
        var i = this._parts, e = ht.XML_HEAD_STRING, t = (/* @__PURE__ */ new Date()).toISOString();
        i["_rels/.rels"] = e + '<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/></Relationships>', i["docProps/app.xml"] = e + '<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>RealGrid</Application><AppVersion>2.0</AppVersion></Properties>', i["docProps/core.xml"] = e + '<coreProperties xmlns="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dcterms:created xsi:type="dcterms:W3CDTF">' + t + "</dcterms:created><dc:creator>Wooritech</dc:creator></coreProperties>";
      }, a;
    }(), yh = function(a) {
      function i(e, t) {
        t === void 0 && (t = null);
        var o = a.call(this, null, e) || this;
        return o._groupSorting = !0, o._groupSortDirection = f.SortDirection.ASCENDING, o._groupSortCase = f.SortCase.SENSITIVE, o.source = o._rs = new Uc(!1), o._groupedProvider = new gi(o._rs, !1), o._groupedProvider.footerCounter = t, o._summarizer = new Wa(o._rs), o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this.clearListener(), this._rs && this._rs.dispose(), this._rs = null, this._groupedProvider && this._groupedProvider.dispose(), this._groupedProvider = null, this._summarizer && this._summarizer.dispose(), this._summarizer = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "maxRowCount", { get: function() {
        return this._rs.maxItemCount;
      }, set: function(e) {
        this._rs.maxItemCount = Math.max(0, e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "hideDeleted", { get: function() {
        return this._rs.hideDeleted;
      }, set: function(e) {
        this._rs.hideDeleted = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "inclusiveFiltering", { get: function() {
        return this._rs.isFilterOr;
      }, set: function(e) {
        this._rs.isFilterOr = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summaryMode", { get: function() {
        return this._rs.summaryMode;
      }, set: function(e) {
        this._rs.summaryMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupSummaryMode", { get: function() {
        return this._groupedProvider.summaryMode;
      }, set: function(e) {
        this._groupedProvider.summaryMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sortMode", { get: function() {
        return this._rs.sortMode;
      }, set: function(e) {
        this._rs.sortMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterMode", { get: function() {
        return this._rs.filterMode;
      }, set: function(e) {
        this._rs.filterMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "grouped", { get: function() {
        return this._groupedProvider.grouped;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergedGrouped", { get: function() {
        return this._groupedProvider.grouped && this._groupedProvider.mergeMode;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupLevels", { get: function() {
        return this._groupedProvider.groupCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupByFieldCount", { get: function() {
        return this._groupedProvider.groupCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupByFields", { get: function() {
        return this._groupedProvider.groupedFields;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandWhenGrouping", { set: function(e) {
        this._groupedProvider.expandWhenGrouping = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summarizer", { get: function() {
        return this._summarizer;
      }, enumerable: !1, configurable: !0 }), i.prototype.canGrouping = function(e) {
        return this.source.canGrouping(e);
      }, i.prototype.getFieldDomain = function(e) {
        return this._rs.getFieldDomain(e);
      }, i.prototype.isFiltered = function(e) {
        return e != null ? this._rs.hasFilter(e) : this._rs.hasFilters();
      }, i.prototype.addFilter = function(e, t) {
        this._rs.addFilter(e, t);
      }, i.prototype.clearAllFilters = function() {
        this._rs.clearAllFilters();
      }, i.prototype.beginFiltering = function() {
        this._rs.beginFilter();
      }, i.prototype.endFiltering = function(e, t) {
        this._rs.endFilter(!0, e, t);
      }, i.prototype.setHideDeletedRows = function(e) {
        this._rs.hideDeleted = e;
      }, i.prototype.orderBy = function(e, t, o) {
        if (this._groupedProvider.grouped && this._groupSorting) {
          for (var r = t ? t.length : 0, n = o ? o.length : 0, s = this._groupedProvider.groupedFields, l = this._rs.getSortDirections(), h = this._rs.getSortCases(), u = [], c = 0, d = s.length; c < d; c++)
            u.push(s[c]);
          for (c = 0, d = e.length; c < d; c++) {
            var p = e[c], _ = u.indexOf(p), g = void 0, y = void 0;
            g = r > c ? t[c] : r > 0 ? t[r - 1] : f.SortDirection.ASCENDING, y = n > c ? o[c] : n > 0 ? o[n - 1] : f.SortCase.SENSITIVE, _ < 0 ? (u.push(p), l[u.length - 1] = g, h[u.length - 1] = y) : (l[_] = g, h[_] = y);
          }
          s = u, this._rs.orderBy(s, l, h);
        } else
          this._rs.orderBy(e, t, o);
      }, i.prototype.getSortFields = function() {
        return this._rs.getSortFields();
      }, i.prototype.getSortDirections = function() {
        return this._rs.getSortDirections();
      }, i.prototype.getSortCases = function() {
        return this._rs.getSortCases();
      }, i.prototype.setLabelComparer = function(e) {
        this._rs.labelComparer = e;
      }, i.prototype.groupBy = function(e, t, o, r) {
        t === void 0 && (t = !0), o === void 0 && (o = f.SortDirection.ASCENDING), r === void 0 && (r = f.SortCase.SENSITIVE), (e && !(e.length < 1) || this._groupedProvider.grouped) && this.source.canGrouping(e) && (this._groupSorting = t, this._groupSortDirection = o, t && this._rs.orderBy(e, [o], [r], !1), this.$_groupBy(e));
      }, i.prototype.groupByMode = function(e, t) {
        this._groupSorting && this._rs.orderBy(e, [this._groupSortDirection], [this._groupSortCase], !1), this.source.canGrouping(e) && this._groupedProvider.groupByMode(e, t);
      }, i.prototype.$_groupBy = function(e, t) {
        e && e.length > 0 ? (this.source = this._groupedProvider, this._groupedProvider.groupByMode(e, t)) : (this._groupedProvider.groupByMode(e, t), this.source = this._rs);
      }, i.prototype.addGroupBy = function(e, t, o) {
        var r;
        if (this._groupedProvider.groupCount < 1 ? r = [t] : (r = this._groupedProvider.groupedFields).splice(e, 0, t), this._groupSorting = e === 0 ? o : this._groupSorting, this.source.canGrouping(r)) {
          if (this._groupSorting) {
            var n = [this._groupSortDirection];
            this._rs.orderBy(r, n, null, !1);
          }
          this.$_groupBy(r);
        }
      }, i.prototype.removeGroupBy = function(e, t) {
        if (this._groupedProvider.grouped) {
          for (var o = this._groupedProvider.groupedFields, r = -1, n = 0, s = o.length - 1; s >= 0; s--)
            if (n++, o[s] == e) {
              r = s;
              break;
            }
          if (r >= 0) {
            if (o.splice(r, t ? n : 1), !this.source.canGrouping(o))
              return;
            this._groupSorting && this._rs.orderBy(o, [this._groupSortDirection], null, !1), this.$_groupBy(o);
          } else {
            if (!this.source.canGrouping(null))
              return;
            this._groupSorting && this._rs.orderBy(null, null, null, !1);
          }
        }
      }, i.prototype.isGroupedField = function(e) {
        return this._groupedProvider.isGroupedField(e);
      }, i.prototype.getGroupLevel = function(e) {
        return this._groupedProvider.getGroupLevel(e);
      }, i.prototype.expand = function(e, t, o, r) {
        this._groupedProvider.expand(e, t, o, r);
      }, i.prototype.collapse = function(e, t, o, r) {
        this._groupedProvider.collapse(e, t, o, r);
      }, i.prototype.collapseAll = function(e) {
        this._groupedProvider.collapseAll(e);
      }, i.prototype.expandAll = function(e, t) {
        this._groupedProvider.expandAll(e, t);
      }, i.prototype.setPaging = function(e, t, o, r) {
        this._rs.setPaging(e, t, o, r);
      }, Object.defineProperty(i.prototype, "page", { get: function() {
        return this._rs.page;
      }, enumerable: !1, configurable: !0 }), i.prototype.setPage = function(e, t) {
        this._rs.setPage(e, t);
      }, Object.defineProperty(i.prototype, "pageCount", { get: function() {
        return this._rs.pageCount;
      }, set: function(e) {
        this._rs.pageCount = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.getPageOfDataRow = function(e) {
        return this._rs.getPageOfDataRow(e);
      }, i.prototype.getDisplayItemIndex = function(e) {
        return this._rs.isPaging ? e.index + this._rs.pageStartIndex : e.index;
      }, i.prototype.getCheckedRows = function(e) {
        return this._rs.getCheckedRows(e);
      }, Object.defineProperty(i.prototype, "checkableExpression", { set: function(e) {
        this._rs.checkableExpression = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "checkableCallback", { set: function(e) {
        this._rs.checkableCallback = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.resetCheckables = function() {
        this._rs.resetCheckables();
      }, i.prototype.applyCheckables = function() {
        this._rs.applyCheckables();
      }, i.prototype.getFirstRow = function() {
        if (this.itemCount > 0)
          return this._groupedProvider.grouped ? this._groupedProvider.getFirstRow() : this._rs.getItem(0);
      }, i.prototype.getLastRow = function() {
        if (this.itemCount > 0)
          return this._groupedProvider.grouped ? this._groupedProvider.getLastRow() : this._rs.getItem(this._rs.itemCount - 1);
      }, i.prototype.getPrevRow = function(e) {
        if (this.itemCount > 0)
          return this._groupedProvider.grouped ? this._groupedProvider.getPrevRow(e) : e && e.index > 0 ? this._rs.getItem(e.index - 1) : this._rs.getItem(0);
      }, i.prototype.getNextRow = function(e) {
        if (this.itemCount > 0)
          return this._groupedProvider.grouped ? this._groupedProvider.getNextRow(e) : e && e.index < this._rs.itemCount - 1 ? this._rs.getItem(e.index + 1) : this._rs.getItem(0);
      }, i.prototype.getGroupItem = function(e) {
        if (this._groupedProvider.grouped)
          return this._groupedProvider.getGroupItem(e);
      }, i.prototype.getJsonRows = function() {
        return this._rs.getJsonRows();
      }, Object.defineProperty(i.prototype, "rowCount", { get: function() {
        return this._rs.rowCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemLength", { get: function() {
        return this._rs.itemLength;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "visibleRowCount", { get: function() {
        return this.grouped ? this._groupedProvider.visibleRowCount : this._rs.rowCount;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "sorted", { get: function() {
        return this._rs.sorted;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "movable", { get: function() {
        return !this.grouped && this._rs.movable;
      }, enumerable: !1, configurable: !0 }), i.prototype.getAllItems = function() {
        return this.source.getAllItems();
      }, i.prototype.getPagingAllItems = function() {
        var e = this._rs;
        return e.isSorted ? e._sortedItems.slice() : e._items.slice();
      }, i.prototype.findItem = function(e, t, o, r, n) {
        return this._groupedProvider.findItem(e, t, o, r, n);
      }, i.prototype.findCell = function(e, t, o, r, n, s) {
        return this._groupedProvider.findCell(e, t, o, r, n, s);
      }, i.prototype.checkItems = function(e, t, o) {
        this.source.checkItems(e, t, o);
      }, i.prototype.checkItem = function(e, t, o, r) {
        this.source.checkItem(e, t, o, r);
      }, i.prototype.checkAll = function(e, t, o, r, n) {
        this.source.checkAll(e, t, o, r, n);
      }, i.prototype.setCheckFieldIndex = function(e) {
        this._rs.setCheckFieldIndex(e);
      }, i.prototype.setItemChecked = function(e, t) {
        return this._rs.setItemChecked(e, t);
      }, i.prototype.getItemChecked = function(e, t) {
        return this._rs.getItemChecked(e, t);
      }, i.prototype.setGroupCheckable = function(e) {
        this.grouped && this._groupedProvider.setGroupCheckable(e);
      }, i.prototype.getItemOfRow = function(e, t) {
        return this._rs.getItemOfRow(e, t);
      }, i.prototype.addCellStyle = function(e, t, o) {
        return this._rs.addCellStyle(e, t, o);
      }, i.prototype.removeCellStyle = function(e, t) {
        return this._rs.removeCellStyle(e, t);
      }, i.prototype.getUserCellStyle = function(e, t) {
        return this._rs.getUserCellStyle(e, t);
      }, i.prototype._doBeginUpdate = function(e) {
        var t = a.prototype._doBeginUpdate.call(this, e);
        return this._groupedProvider.$_setEditItem(t), t;
      }, i.prototype._doBeginAppendDummy = function() {
        var e = a.prototype._doBeginAppendDummy.call(this);
        return this._groupedProvider.$_setDummyEditItem(e), e;
      }, i.prototype._doBeginAppend = function(e) {
        var t = a.prototype._doBeginAppend.call(this, e);
        return this._groupedProvider.$_setEditItem(t), t;
      }, i.prototype._doBeginInsert = function(e, t, o, r) {
        var n = a.prototype._doBeginInsert.call(this, e, t, o, r);
        return this._groupedProvider.$_setEditItem(n), n;
      }, i.prototype._doCancelDummyEdit = function() {
        a.prototype._doCancelDummyEdit.call(this), this._groupedProvider.$_setDummyEditItem(null);
      }, i.prototype._doCancelEdit = function(e, t) {
        a.prototype._doCancelEdit.call(this, e, t), this._groupedProvider.$_setEditItem(null);
      }, i.prototype._doCommitEdit = function(e, t) {
        return !!a.prototype._doCommitEdit.call(this, e, t) && (this._groupedProvider.$_setEditItem(null), !0);
      }, i.prototype.onGroupedItemProviderGrouping = function(e, t) {
        return this.fireConfirmEvent(gi.GROUPING, t);
      }, i.prototype.onGroupedItemProviderGrouped = function(e) {
        this.fireEvent(gi.GROUPED);
      }, i.prototype.onGroupedItemProviderExpand = function(e, t) {
        return this.fireConfirmEvent(gi.EXPAND, t);
      }, i.prototype.onGroupedItemProviderExpanded = function(e, t) {
        this.fireEvent(gi.EXPANDED, t);
      }, i.prototype.onGroupedItemProviderCollapse = function(e, t) {
        return this.fireConfirmEvent(gi.COLLAPSE, t);
      }, i.prototype.onGroupedItemProviderCollapsed = function(e, t, o) {
        this.fireEvent(gi.COLLAPSED, t, o);
      }, i.prototype.onItemProviderFiltered = function(e, t, o) {
        this._fireFiltered(t, o);
      }, i.prototype.onItemProviderSort = function(e, t, o) {
        this._fireSort(t, o, null);
      }, i.prototype.onItemProviderSorted = function(e) {
        this._fireSorted();
      }, i;
    }(Ec), mh = function(a) {
      function i(e, t, o) {
        return o === void 0 && (o = null), a.call(this, e, t, o) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "cellView", { get: function() {
        return this.owner;
      }, enumerable: !1, configurable: !0 }), i;
    }(function(a) {
      function i(e, t, o) {
        o === void 0 && (o = null);
        var r = a.call(this, e, o) || this;
        return r._clickable = !1, r._owner = t, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "owner", { get: function() {
        return this._owner;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "clickable", { get: function() {
        return this._clickable;
      }, set: function(e) {
        e != this._clickable && (this._clickable = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
        return "";
      }, i.prototype._doDraw = function(e) {
      }, i.prototype._hoverChanged = function() {
        this.invalidate();
      }, i.prototype._changed = function() {
        this.invalidate();
      }, i;
    }(qt)), bh = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype._doUpdateContent = function(e, t, o) {
        o[b.TextProp] = "";
      }, i.prototype._doRender = function(e) {
      }, i;
    }(ni), vh = function(a) {
      function i(e, t) {
        var o = a.call(this, e, null, t) || this;
        return o._cells = [], o._levels = 0, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cells.forEach(function(e) {
          e.dispose();
        }), this._cells = null, a.prototype._doDispose.call(this);
      }, i.prototype.prepare = function(e) {
        for (this._levels = e; this._cells.length < e; ) {
          var t = this.$_createCell();
          this._cells.push(t);
        }
      }, i.prototype._doPrepareTableExtents = function(e) {
        if (this._levels > 0)
          for (var t = this.width / this._levels, o = 0; o < this._levels; o++)
            this._cells[o].width = t;
      }, i.prototype._doPrepareTableRow = function(e, t, o, r) {
        a.prototype._doPrepareTableRow.call(this, e, t, o, r), r.className = this.$_getRowClassName(t);
      }, i.prototype._prepareCellContent = function(e, t) {
        var o = te(e);
        return e[Ko] = t + 1, o.createElement("div");
      }, i.prototype._doLayoutContent = function(e) {
        for (var t = this._levels; this.childCount < t; )
          this.addChild(this._cells[this.childCount]);
        for (; this.childCount > t; )
          this.removeLast();
      }, i.prototype._doRender = function(e) {
      }, i.prototype._getCellCount = function(e) {
        return this._levels;
      }, i.prototype._getCellWidth = function(e, t) {
        return this._cells[t].width;
      }, i;
    }(xi), wh = function(a) {
      function i(e) {
        return a.call(this, e, "rowGroupHeadView") || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-rowgroup-head";
      }, i.prototype._getTableRowHeight = function(e, t) {
        var o = this.grid, r = [];
        return o.header.visible && r.push(e.headBounds.height), o.filterPanel.visible && r.push(e.filterPanelBounds.height), o.headerSummaries.visible && r.push(e.sumBounds.height), r[t] || 0;
      }, i.prototype.$_createCell = function() {
        return new bh(this.doc, "rowGroupHeadCellView");
      }, i.prototype._getTableRowCount = function(e) {
        var t = this.grid, o = 0;
        return t.header.visible && o++, t.filterPanel.visible && o++, t.headerSummaries.isVisible() && o++, o;
      }, i.prototype.$_getRowClassName = function(e) {
        var t = this.grid, o = [];
        return t.header.visible && o.push(""), t.filterPanel.visible && o.push("rg-rowgroup-filter-panel"), t.headerSummaries.isVisible() && o.push("rg-rowgroup-summary"), o[e] || "";
      }, i;
    }(vh), Ch = function(a) {
      function i(e) {
        return a.call(this, e, "rowGroupFootView") || this;
      }
      return w(i, a), i.prototype._getCssSelector = function() {
        return "rg-rowgroup-foot";
      }, i.prototype._getTableRowHeight = function(e, t) {
        return e.footBounds.height;
      }, i.prototype.$_createCell = function() {
        return new bh(this.doc, "rowGroupFootCellView");
      }, i.prototype._getTableRowCount = function(e) {
        return 1;
      }, i.prototype.$_getRowClassName = function(e) {
        return "rg-rowgroup-foot-row";
      }, i;
    }(vh), Os = "rg-rowgroup-expander", Xf = Os + " rg-rowgroup-expander-expanded", Jf = Os + " rg-rowgroup-expander-collapsed", Rs = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t, "rowGroupExpandHandle") || this;
        return o._expanded = !1, o.clickable = !0, o;
      }
      return w(i, a), i.isExpander = function(e) {
        var t = e.className;
        return t && t.indexOf(Os) >= 0;
      }, Object.defineProperty(i.prototype, "expanded", { get: function() {
        return this._expanded;
      }, set: function(e) {
        e != this._expanded && (this._expanded = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype._createDom = function(e) {
        return e.createElement("span");
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), e.style.position = "", e.style.display = "inline-block";
      }, i.prototype._getCssSelector = function() {
        return this._expanded ? Xf : Jf;
      }, i.prototype._getCssDisplay = function() {
        return "";
      }, i.prototype._beforeDraw = function(e) {
        this._setClassName(e);
      }, i;
    }(mh), Zf = function(a) {
      function i(e) {
        var t = a.call(this, e, "rowGroupBarCell") || this;
        return t._level = 0, t._expander = new Rs(e, t), t.addChild(t._expander), t;
      }
      return w(i, a), Object.defineProperty(i.prototype, "level", { get: function() {
        return this._level;
      }, set: function(e) {
        this._level = e;
      }, enumerable: !1, configurable: !0 }), i.prototype.updateCell = function(e, t, o) {
        a.prototype.updateCell.call(this, e, t, o);
        var r, n = t.item, s = n.getAncestor(this.bar.l);
        if (s) {
          var l = e.rowGroup;
          r = (s.expanded ? l.expandedAdornments : l.collapsedAdornments) === f.RowGroupAdornments.SUMMARY;
        }
        if (s && (n instanceof He && n === s || s.getFirstVisibleItem(r) === n) && s.level === this.bar.l) {
          var h = this._expander._dom;
          o.appendChild(h), this._expander.setBounds(1, 1, this.width - 2, this.width - 2), this._expander.expanded = s.expanded;
          var u = e.rowGroup.$_isExpanderVisible(s);
          this._expander.visible = !s.expanded || u == null || u, h[De] = n.index;
        } else
          this._expander.visible = !1;
        o.style.paddingTop = "2px";
      }, i.prototype.validate = function() {
        a.prototype.validate.call(this);
        var e = this._expander._dom;
        b.detach(e);
      }, i;
    }(ni), Ps = function(a) {
      function i(e) {
        var t = a.call(this, e, null, "rowGroupBarContainer") || this;
        return t._cells = [], t._levels = 0, t._bars = [], t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._cells = null, a.prototype._doDispose.call(this);
      }, i.prototype.prepare = function(e, t) {
        this._levels = t;
      }, i.prototype.getLevelIndent = function(e) {
        return e * this.width / this._levels;
      }, i.prototype.getViewOf = function(e) {
        for (var t = this.getChildren(), o = 0, r = t.length; o < r; o++) {
          var n = t[o];
          if (n._expander._dom === e)
            return n;
        }
      }, i.prototype._getCssSelector = function() {
        return "rg-rowgroup-bar";
      }, i.prototype._prepareCellContent = function(e, t) {
        return te(e).createElement("div");
      }, i.prototype._doLayoutContent = function(e) {
        for (var t, o = e.grid, r = o.rowGroup, n = this.width / this._levels, s = this._bars, l = s.length, h = e.topIndex, u = e.fixedItemCount, c = u > 0; this.childCount < l; )
          t = this._cells.length > 0 ? this._cells.pop() : this._createCell(), this.addChild(t);
        for (; this.childCount > l; )
          (t = this.removeLast()).validate(), this._cells.push(t);
        for (var d = 0; d < l; d++) {
          var p = s[d];
          t = this.getChild(d);
          var _ = p.tr1, g = c ? _ < u ? _ : _ - 1 + h : _ + h, y = W.temp(o, g), m = r.getBarCell(y), v = e.getTableItemBounds(p.r);
          t.bar = p, t.level = p.c + 1, t.updateCell(o, m, this.getCellContent(_, p.c)), v.x = n * p.c, v.width = n, t.setRect(v);
        }
      }, i.prototype._doRender = function(e) {
      }, i.prototype._doPrepareTableRows = function(e, t) {
        a.prototype._doPrepareTableRows.call(this, e, t), this.$_layoutBarCells(e, t);
      }, i.prototype._getTableRowHeight = function(e, t) {
        var o = e.fixedItemCount > 0 && t > e.fixedItemCount ? 1 : 0;
        return e.getTableItemHeight(t - o);
      }, i.prototype._getCellCount = function(e) {
        return this._levels;
      }, i.prototype._getCellWidth = function(e, t) {
        return this.width / this._levels;
      }, i.prototype._createCell = function() {
        return new Zf(this.doc);
      }, i.prototype.$_calcLevels = function(e, t, o, r) {
        for (var n, s = [], l = 1, h = 0, u = 0; u < r - o; u++) {
          var c = e[u + o].getAncestor(t);
          s.push(-1), c && n === c || (s[h] = l, n = c, h = s.length - 1, l = 0), l++;
        }
        return s[h] = l, s;
      }, i.prototype.$_layoutBarCells = function(e, t) {
        var o = e.$_getItems(), r = o.length, n = e.fixedItemCount, s = t.children, l = this._bars = [];
        if (!(r < 1)) {
          for (var h = 0, u = this._getCellCount(e); h < u; h++) {
            var c = h + 1, d = 0, p = 0;
            if (n > 0) {
              for (var _ = void 0, g = void 0; d < n; d++, p++)
                (g = (_ = s[p]).children[h]).style.display = "", g.removeAttribute("rowspan"), b.setClassName(g, ""), h === 0 && b.setClassName(_, ""), g[De] = d;
              _ = s[p++], h === 0 && b.setClassName(_, ri.ROW_BAR_STYLE), (g = _.children[h]).style.display = "", g.removeAttribute("rowspan"), b.setClassName(g, ri.ROW_BAR_CELL_STYLE);
            }
            if (d < r)
              for (var y = this.$_calcLevels(o, c, d, r), m = 0; d < r; d++, m++, p++) {
                var v = y[m], C = (g = (_ = s[p]).children[h], o[d]), x = C.getAncestor(c);
                if (h === 0 && b.setClassName(_, ""), g.removeAttribute("rowspan"), v > 0) {
                  var S = this.grid.rowGroup, I = x && (x.expanded ? S.expandedAdornments : S.collapsedAdornments) === f.RowGroupAdornments.SUMMARY, E = v === 1 && x && (C instanceof He || x.getFirstVisibleItem(I) === C);
                  (v > 1 || E) && (l.push({ r: d, tr1: p, tr2: p + v - 1, c: h, l: c }), g.rowSpan = v), g.style.display = "", b.setClassName(g, "rg-rowgroup-bar-cell rg-rowgroup-bar-level-" + String(c)), g[De] = C.index;
                } else
                  g.style.display = "none", b.setClassName(g, "");
              }
          }
          l.sort(function(O, P) {
            return O.r - P.r;
          });
        }
      }, i;
    }(ss), Qf = function(a) {
      function i(e) {
        var t = a.call(this, e, "rowGroupBarPane") || this;
        return t._barContainer = new Ps(e), t.addChild(t._barContainer), t._footView = new Ch(e), t.addChild(t._footView), t._headView = new wh(e), t.addChild(t._headView), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "levelCount", { get: function() {
        return this.grid.layoutManager.rowGroupLevels;
      }, enumerable: !1, configurable: !0 }), i.prototype.getLevelIndent = function(e) {
        return this._barContainer.getLevelIndent(e);
      }, i.prototype._doMeasure = function(e, t, o) {
        var r = this.levelCount;
        return this._headView.prepare(r), this._footView.prepare(r), this._barContainer.prepare(e, r), new Xt(this.levelCount * e.rowGroup.levelIndent, o);
      }, i.prototype._doLayoutContent = function(e) {
        var t = this.grid, o = e.headBounds;
        if (this._headView.visible = t.header.visible || t.headerSummaries.isVisible() || t.filterPanel.visible) {
          var r = 0;
          t.header.visible && (r += o.height), t.headerSummaries.isVisible() && (r += e.summaryBounds.height), t.filterPanel.visible && (r += e.filterPanelBounds.height), this._headView.setBounds(0, o.y, this.width, r), this._headView.layoutContent(e);
        }
        o = e.footBounds, (this._footView.visible = t.footers.isVisible()) && (this._footView.setBounds(0, o.y, this.width, o.height), this._footView.layoutContent(e)), o = e.rowBarBounds, this._barContainer.setBounds(0, o.y, this.width, o.height), this._barContainer.layoutContent(e);
      }, i.prototype._getCssSelector = function() {
        return "rg-rowgroup-bar-container";
      }, i;
    }(ho);
    (function(a) {
      function i(e) {
        return a.call(this, e, "rowGroupPane") || this;
      }
      w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      };
    })(ho);
    var e_ = function(a) {
      function i(e) {
        var t = a.call(this, e, "rowGroupHeaderCellView") || this;
        return t._indent = 0, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "indent", { get: function() {
        return this._indent;
      }, set: function(e) {
        this._indent = Math.max(0, e);
      }, enumerable: !1, configurable: !0 }), i.prototype._createDom = function(e) {
        return e.createElement("div");
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e);
        var t = e.style;
        t.top = "50%", t.msTransform = t.transform = "translate(0px, -50%)", t.setProperty("overflow", "hidden", "important"), t.setProperty("pointer-events", "none", "important");
      }, i.prototype._beforeDraw = function(e) {
      }, i.prototype._doUpdateContent = function(e, t, o) {
        o[b.TextProp] = t.text, o.style.left = this._indent > 0 ? this._indent + "px" : "";
      }, i;
    }(ni), ks = function(a) {
      function i(e) {
        var t = a.call(this, e, "rowGroupHeaderView") || this;
        return t._cellView = new e_(e), t.addChild(t._cellView), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._item = null, this._cellView = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "item", { get: function() {
        return this._item;
      }, set: function(e) {
        this._item = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "itemIndex", { get: function() {
        return this._item.index;
      }, enumerable: !1, configurable: !0 }), i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e), e.style.setProperty("overflow", "hidden", "important");
      }, i.prototype._getCssSelector = function() {
        return "rg-rowgroup-header rg-rowgroup-header-level-" + String(this._item.level);
      }, i.prototype._doLayoutContent = function(e) {
        var t = e.grid, o = t.rowGroup;
        this._cellView.indent = o.indentVisible ? 0 : t.groupBarPane.getLevelIndent(this._item.level - 1), this._cellView.updateCell(t, o.getHeaderCell(this._item), this._cellView._dom);
      }, i;
    }(Li), t_ = function(a) {
      function i(e) {
        return a.call(this, e, "rowGroupRightHeaderView") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._item = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "item", { get: function() {
        return this._item;
      }, set: function(e) {
        this._item = e;
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
        return "rg-rowgroup-header rg-rowgroup-header-level-" + String(this._item.level);
      }, i;
    }(Li), Ts = function(a) {
      function i(e) {
        return a.call(this, e, "rowGroupFooterView") || this;
      }
      return w(i, a), i.prototype._doLayoutContent = function(e) {
        var t = e.grid, o = t.rowGroup, r = e.cellLayouts._dataCells.length, n = this._getFirstCell(e), s = this._getStartCell(e) - n, l = s, h = this._getEndCell(e) - n, u = this._item instanceof Qe;
        u && (l = Math.max(s, this._item.parent.level - n)), this.$_refreshSpans(this._item.index, this._item.$_footerIndex, r, l, h), l = 0;
        for (var c = 0; c < r; c++) {
          var d = this._getTableRow(e, this._domIndex + c), p = this._getBodyCells(this._domIndex + c), _ = o.getFooterStyleName(this._item);
          d.className = _;
          for (var g = l; g <= h; g++) {
            var y = p[g], m = y.layout;
            if (!(u && y.merged && y.head && y === y.head) && !(t.isRecycleMode() && d.recycle)) {
              if (y.clearExpander(), y.clearButtons(), y.renderer2 && y.renderer2.clearContent(), y.visible)
                if (m.isNull)
                  m.isProxy || y.setClassName(Ss.FOOTER_CELL_STYLE);
                else {
                  var v = W.temp(t, this._item.index, m), C = o.getFooterCell(v);
                  this._updateCell(t, o, C, y);
                }
            }
          }
        }
      }, i.prototype._getBodyCells = function(e) {
        return this.parent.$_getBodyCells(e);
      }, i.prototype._getTableRow = function(e, t) {
        return this.parent.$_getTableRow(e, t);
      }, i.prototype._getTableCell = function(e) {
        return this.parent.$_getTableCell(this._domIndex, e);
      }, i.prototype._getFirstCell = function(e) {
        return e._firstCell;
      }, i.prototype._getLastCell = function(e) {
        return e._lastCell;
      }, i.prototype._getStartCell = function(e) {
        return e.getStartCell(!1);
      }, i.prototype._getEndCell = function(e) {
        return e.getEndCell(!1);
      }, i.prototype._getBodyView = function() {
        return this.parent._bodyView;
      }, i.prototype._updateCell = function(e, t, o, r) {
        var n = o.dataColumn.groupFooters.get(o.footerIndex), s = t.getFooterCellStyle(o, r.style.clear()), l = o.getSummary(), h = r.cell.firstElementChild;
        if (r.setClassName(s.styleName), b.setClassName(h, Ss.FOOTER_CELL_RENDERER), r.refreshFormatters(s), t.getFooterCellFormatters(n, r), l) {
          var u = o.getTemplate(r);
          u === void 0 ? h[b.TextProp] = o.getDisplayText(r) : h.innerHTML = u;
        } else
          h[b.TextProp] = "";
      }, i.prototype.$_refreshSpans = function(e, t, o, r, n) {
        for (var s = this.grid.layoutManager._tableRowPoints, l = 0; l < o; l++)
          for (var h = this._getBodyCells(this._domIndex + l), u = r; u <= n; u++) {
            var c = h[u], d = c.layout, p = d.parent, _ = p && p.vertical;
            if (!c.spanned)
              if (d.isProxy)
                c.clear(!1);
              else {
                var g = 0, y = 0, m = d.getGroupFooterUserSpan(this._item.parent, t), v = m ? 0 : d.getGroupFooterSpan(e, t) - 1;
                if (m) {
                  var C = this._item, x = (C.parent.footerCount - C.vindex) * o, S = m.footerCount || 0, I = S > 0 ? S * o : m.rowspan || 1, E = m.colspan || 1;
                  I = Math.min(I, x), c.set(E, I, !0);
                  for (var O = 0; O < I; O++)
                    for (var P = this._getBodyCells(this._domIndex + O + l), R = 0; R < E; R++) {
                      var T = P && P[R + u];
                      T && T !== c && T.span(c);
                    }
                } else if (v > 0) {
                  var D = 0, M = d.vindex + 1;
                  if (_)
                    for (; D++ < v && D < o; )
                      y += (V = p.getVisible(M++))._dspan, this._getBodyCells(this._domIndex + l + 1)[u].span(c);
                  else
                    for (; D++ < v && u - r + D < h.length && M < p.visibleCount; ) {
                      var V;
                      if (!(V = p.getVisible(M++)))
                        break;
                      g += V._cspan, h[u + D].span(c);
                    }
                }
                d.isNull && c.clear(!0), !m && c.set(d._cspan + g, d._dspan + y, !0), c.rowSpan > 1 && (c.height = s[c.rowIndex + c.rowSpan] - s[c.rowIndex], c.cell.firstElementChild.style.maxHeight = c.height - 2 + "px");
              }
          }
      }, i;
    }(Rr), i_ = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getBodyCells = function(e) {
        return this.parent.$_getFixedBodyCells(e);
      }, i.prototype._getTableRow = function(e, t) {
        return this.parent.$_getFixedTableRow(t);
      }, i.prototype._getTableCell = function(e) {
        return this.parent.$_getFixedTableCell(this._domIndex, e);
      }, i.prototype._getBodyView = function() {
        return this.parent._fixedView;
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return 0;
      }, i.prototype._getEndCell = function(e) {
        return e.fixedCellCount - 1;
      }, i;
    }(Ts), o_ = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getBodyCells = function(e) {
        return this.parent.$_getRightBodyCells(e);
      }, i.prototype._getTableRow = function(e, t) {
        return this.parent.$_getRightTableRow(t);
      }, i.prototype._getTableCell = function(e) {
        return this.parent.$_getRightTableCell(this._domIndex, e);
      }, i.prototype._getBodyView = function() {
        return this.parent._rightView;
      }, i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return e.cellCount - e.rightCellCount;
      }, i.prototype._getEndCell = function(e) {
        return e.cellCount - 1;
      }, i;
    }(Ts), r_ = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t || "rowGroupLayer") || this;
        return o._headerPool = [], o._headerViews = [], o._rightHeaderPool = [], o._rightHeaderViews = [], o._footerPool = [], o._footerViews = [], o._fixedFooterPool = [], o._fixedFooterViews = [], o._rightFooterPool = [], o._rightFooterViews = [], o._indents = [], o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._bodyView = this._fixedView = this._rightView = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this.getAncestor(Vi);
      }, enumerable: !1, configurable: !0 }), i.prototype.layout = function(e) {
        this._doPrepareContent(e), this._doLayoutContent(e);
      }, i.prototype.getHeaderView = function(e) {
        for (var t = 0, o = this._headerViews; t < o.length; t++) {
          var r = o[t];
          if (r.item === e)
            return r;
        }
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e);
        var t = e.style;
        t.setProperty("overflow", "hidden", "important"), t.setProperty("pointer-events", "none", "important");
      }, i.prototype._getCssSelector = function() {
        return "rg-rowgroup-layer";
      }, i.prototype._doDraw = function(e) {
      }, i.prototype._doPrepareContent = function(e) {
        this.$_prepareHeaders(e);
      }, i.prototype.$_prepareIndents = function(e) {
        for (var t = this._indents = [], o = e.rowGroupLevels + 1, r = 0; r < o; r++)
          t[r] = e.getLevelIndent(r);
        return t;
      }, i.prototype._doLayoutContent = function(e) {
        var t, o = this.$_prepareIndents(e), r = e.$_getItems(), n = r.length, s = e.fixedItemCount, l = s > 0, h = this._rightView, u = e.contentBounds.right - e.sideContentBounds.x, c = 0, d = 0, p = e.trs, _ = s, g = l ? _ * p + 1 : _ * p;
        for (h && (t = e.rightContentBounds.clone(), u = Math.min(u, this.width - t.width), t.x -= this.x, t.leftBy(e.rightBarWidth)); _ < n; _++) {
          var y = r[_];
          if (y instanceof He) {
            var m = this._headerViews[c], v = e.getTableItemBounds(_), C = o[y.level];
            if (m.item = y, m.setBounds(C, v.y, u - C, v.height), m.layoutContent(e), h) {
              var x = this._rightHeaderViews[c];
              x.item = y, x.setBounds(t.x, v.y, t.width, v.height), x.layoutContent(e);
            }
            c++, g++;
          } else if (y instanceof Ke) {
            var S = this.grid, I = S.displayOptions.refreshMode;
            (S._needRefresh || !S._horzScrolled || I === f.RefreshMode.VISIBLE_ONLY) && (this._fixedView && ((m = this._fixedFooterViews[d]).updateItem(y, g, p, !0), m.layoutContent(e)), this._rightView && ((m = this._rightFooterViews[d]).updateItem(y, g, p, !0), m.layoutContent(e)), this._bodyView && (m = this._footerViews[d++], b.isDebugging(), m.updateItem(y, g, p, !0), m.layoutContent(e))), g += p;
          } else
            g += p;
        }
      }, i.prototype.$_prepareHeaders = function(e) {
        for (var t = e.$_getItems(), o = 0, r = e.fixedItemCount, n = t.length; r < n; r++)
          t[r] instanceof He && o++;
        for (var s = this._headerPool, l = this._headerViews; l.length < o; )
          (h = s.pop()) || (h = new ks(this.doc)), this.addChild(h), l.push(h);
        for (; l.length > o; ) {
          var h = l.pop();
          this.removeChild(h), s.push(h);
        }
        var u = this._rightHeaderPool, c = this._rightHeaderViews;
        if (this._rightView) {
          for (; c.length < o; )
            (h = u.pop()) || (h = new t_(this.doc)), this.addChild(h), c.push(h);
          for (; c.length > o; )
            h = c.pop(), this.removeChild(h), u.push(h);
        } else
          for (; c.length > 0; )
            h = c.pop(), this.removeChild(h), u.push(h);
      }, i.prototype.$_prepareGroupItems = function(e, t, o, r) {
        this._bodyView = t, this._fixedView = o, this._rightView = r;
      }, i.prototype.$_prepareGroupFooters = function(e, t) {
        for (var o = 0, r = t.fixedItemCount, n = e.length; r < n; r++)
          e[r] instanceof Ke && o++;
        for (; this._footerViews.length < o; )
          (s = this._footerPool.pop()) || (s = new Ts(this.doc)), this.addChild(s), this._footerViews.push(s);
        for (; this._footerViews.length > o; ) {
          var s = this._footerViews.pop();
          this.removeChild(s), this._footerPool.push(s);
        }
        if (this._fixedView) {
          for (; this._fixedFooterViews.length < o; )
            (s = this._fixedFooterPool.pop()) || (s = new i_(this.doc)), this.addChild(s), this._fixedFooterViews.push(s);
          for (; this._fixedFooterViews.length > o; )
            s = this._fixedFooterViews.pop(), this.removeChild(s), this._fixedFooterPool.push(s);
        } else
          for (; this._fixedFooterViews.length > 0; )
            s = this._fixedFooterViews.pop(), this.removeChild(s), this._fixedFooterPool.push(s);
        if (this._rightView) {
          for (; this._rightFooterViews.length < o; )
            (s = this._rightFooterPool.pop()) || (s = new o_(this.doc)), this.addChild(s), this._rightFooterViews.push(s);
          for (; this._rightFooterViews.length > o; )
            s = this._rightFooterViews.pop(), this.removeChild(s), this._rightFooterPool.push(s);
        } else
          for (; this._rightFooterViews.length > 0; )
            s = this._rightFooterViews.pop(), this.removeChild(s), this._rightFooterPool.push(s);
      }, i.prototype.$_getTableRow = function(e, t) {
        return this._bodyView._tbody.children[t];
      }, i.prototype.$_getTableCell = function(e, t) {
        return this._bodyView._tbody.children[e].children[t];
      }, i.prototype.$_getFixedTableRow = function(e) {
        return this._fixedView._tbody.children[e];
      }, i.prototype.$_getFixedTableCell = function(e, t) {
        return this._fixedView._tbody.children[e].children[t];
      }, i.prototype.$_getRightTableRow = function(e) {
        return this._rightView._tbody.children[e];
      }, i.prototype.$_getRightTableCell = function(e, t) {
        return this._rightView._tbody.children[e].children[t];
      }, i.prototype.$_getBodyCells = function(e) {
        return this._bodyView._cells[e];
      }, i.prototype.$_getFixedBodyCells = function(e) {
        return this._fixedView._cells[e];
      }, i.prototype.$_getRightBodyCells = function(e) {
        return this._rightView._cells[e];
      }, i;
    }(Ve), n_ = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._enabled = !0, t._prompt = "컬럼 헤더를 이 곳으로 끌어다 놓으면 그 컬럼으로 그룹핑합니다.", t._expandWhenGrouping = !0, t._summarizing = !0, t._commitBeforeGrouping = !0, t._commitBeforeExpand = !0, t._commitBeforeCollapse = !0, t._fixMergedColumns = !0, t._toast = new jo({ visible: !1, message: "Grouping..." }), t._headerClickable = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "enabled", { get: function() {
        return this._enabled;
      }, set: function(e) {
        e != this._enabled && (this._enabled = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "prompt", { get: function() {
        return this._prompt;
      }, set: function(e) {
        e != this._prompt && (this._prompt = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandWhenGrouping", { get: function() {
        return this._expandWhenGrouping;
      }, set: function(e) {
        e != this._expandWhenGrouping && (this._expandWhenGrouping = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summarizing", { get: function() {
        return this._summarizing;
      }, set: function(e) {
        e != this._summarizing && (this._summarizing = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitBeforeGrouping", { get: function() {
        return this._commitBeforeGrouping;
      }, set: function(e) {
        this._commitBeforeGrouping = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitBeforeExpand", { get: function() {
        return this._commitBeforeExpand;
      }, set: function(e) {
        this._commitBeforeExpand = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "commitBeforeCollapse", { get: function() {
        return this._commitBeforeCollapse;
      }, set: function(e) {
        this._commitBeforeCollapse = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "fixMergedColumns", { get: function() {
        return this._fixMergedColumns;
      }, set: function(e) {
        this._fixMergedColumns = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerClickable", { get: function() {
        return this._headerClickable;
      }, set: function(e) {
        this._headerClickable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "toast", { get: function() {
        return this._toast;
      }, enumerable: !1, configurable: !0 }), i.prototype._changed = function() {
        this.grid._groupingOptionsChanged(this), this._layoutOwner();
      }, i;
    }(lt), Wr = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._field = -1, t._text = "", t._textWidth = 0, t._textHeight = 0, t._closeHeight = 0, t._padHorz = 5, t._padVert = 4, t._itemGap = 8, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        b.detach(this._textView), b.detach(this._closeView), this._textView = this._closeView = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "field", { get: function() {
        return this._field;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "text", { get: function() {
        return this._text;
      }, enumerable: !1, configurable: !0 }), i.prototype.setColumn = function(e) {
        this._field = e.dataIndex, this._textView[b.TextProp] = this._text = e.displayText;
      }, i.prototype.isCloseButton = function(e) {
        return e === this._closeView;
      }, i.prototype._getCssSelector = function() {
        return "rg-header rg-header-cell rg-group-panel-item";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e);
        var t = te(e);
        this._textView = t.createElement("span"), this._textView.className = "rg-group-panel-item-text", this._textView.style.display = "inline-block", e.appendChild(this._textView), this._closeView = t.createElement("span"), this._closeView.className = "rg-group-panel-item-close", e.appendChild(this._closeView);
      }, i.prototype._doMeasure = function(e, t, o) {
        var r = (this._textWidth = this._textView.offsetWidth) + this._itemGap + this._closeView.offsetWidth + 2 * this._padHorz, n = this._textHeight = this._textView.offsetHeight;
        return n = Math.max(n, this._closeHeight = this._closeView.offsetHeight), n += 2 * this._padVert, new Xt(r, n);
      }, i.prototype._doLayoutContent = function(e) {
      }, i.prototype._doDraw = function(e) {
        var t = this._dom.clientHeight;
        this._textView.style.left = this._padHorz + "px", this._textView.style.top = Math.floor((t - this._textHeight) / 2) + "px", this._closeView.style.left = this._padHorz + this._textWidth + this._itemGap + "px", this._closeView.style.top = Math.floor((t - this._closeHeight) / 2) + "px";
      }, i;
    }(Li), xh = function(a) {
      function i(e, t) {
        var o = a.call(this, e, t) || this;
        return o._minHeight = 0, o._itemViews = [], o._count = 0, o._padHorz = 16, o._padVert = 10, o._itemGap = 20, o.visible = !1, o;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._itemViews && this._itemViews.forEach(function(e, t) {
          e.dispose();
        }), this._itemViews = null, b.detach(this._messageView), this._messageView = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "minHeight", { get: function() {
        return this._minHeight;
      }, set: function(e) {
        this._minHeight !== e && (this._minHeight = e, this._doSizeChanged());
      }, enumerable: !1, configurable: !0 }), i.prototype._getCssSelector = function() {
        return "rg-group-panel";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e);
        var t = te(e);
        e.style.overflow = "hidden";
        var o = this._messageView = t.createElement("span");
        o.className = "rg-group-panel-message", e.appendChild(o);
      }, i.prototype._doMeasure = function(e, t, o) {
        var r = e.groupingOptions;
        this._count = e.rowGroupLevels;
        var n = this.minHeight, s = 0, l = this._messageView.style;
        if (this._count > 0 ? l.display = "none" : (l.display = "", this._messageView[b.TextProp] = r.prompt, s = this._messageView.offsetHeight, n = Math.max(n, s + 2 * this._padVert), l.left = this._padHorz + "px", l.top = (n - s) / 2 + "px"), this.$_prepareItemViews(e, this._count), this._count > 0) {
          for (var h = 0; h < this._count; h++) {
            var u = (c = this._itemViews[h]).measure(e, t, o);
            c.width = u.width, s = Math.max(s, u.height);
          }
          for (n = Math.max(n, s + 2 * this._padVert), h = 0; h < this._count; h++) {
            var c;
            (c = this._itemViews[h]).height = s, c.y = (n - s) / 2;
          }
        }
        return new Xt(t, n);
      }, i.prototype._doPrepareContent = function(e) {
      }, i.prototype._doLayoutContent = function(e) {
        if (this._count > 0) {
          var t = this._padHorz;
          this._padVert;
          for (var o = 0; o < this._count; o++) {
            var r = this._itemViews[o];
            r.x = t, t += this._itemGap + r.width;
          }
        }
      }, i.prototype._doDraw = function(e) {
      }, i.prototype._visibleChanged = function() {
        var e = this.grid;
        e && (e.invalidateLayout(), e.invalidatePosition());
      }, i.prototype._doSizeChanged = function() {
        var e = this.grid;
        this.invalidate(!0), e && (e.invalidateLayout(), e.invalidatePosition());
      }, i.prototype.$_prepareItemViews = function(e, t) {
        for (var o = this._itemViews, r = e.rowGroupFields, n = o.length; n < t; n++)
          o.push(new Wr(e.doc));
        for (n = 0; n < t; n++) {
          var s = o[n];
          s.setColumn(e.$_getVisibleRootByField(r[n], !0)), s.visible = !0, this.addChild(s);
        }
        for (n = t; n < o.length; n++)
          this.removeChild(o[n]);
      }, i;
    }(Ir), Vi = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, t, o) || this;
        r._rowGroupSummaryRuntime = new fd(), r._addGridObject(r._rowGroup = new Ss(r)), r._rs = r._createItemSource(), r.itemSource = r._rs, r._groupingOptions = new n_(r), r._groupingOptionsChanged(r._groupingOptions), r._groupPanelView = new xh(r.doc, r.rowGroup), r.topContentPane.addChild(r._groupPanelView);
        for (var n = [r._groupBarPane._headView, r._groupBarPane._footView, r._groupBarPane._barContainer], s = n.length - 1; s >= 0; s--) {
          var l = n[s];
          r._tableViews[l.$_hash] = l;
        }
        return r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._rs.dispose(), this._rs = null, this._groupPanelView = this.groupPanelView.dispose(), this._rowGroup = this._rowGroup && this._rowGroup.dispose(), this._groupingOptions = this._groupingOptions.dispose(), a.prototype._doDispose.call(this);
      }, i.prototype._doCreateOtherElements = function() {
        this._groupView = new r_(this.doc), this.addElement(this._groupView);
      }, Object.defineProperty(i.prototype, "maxRowCount", { get: function() {
        return this._rs.maxRowCount;
      }, set: function(e) {
        this._rs.maxRowCount = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGroup", { get: function() {
        return this._rowGroup;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupPanelView", { get: function() {
        return this._groupPanelView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupBarPane", { get: function() {
        return this._groupBarPane;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupView", { get: function() {
        return this._groupView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupingOptions", { get: function() {
        return this._groupingOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "paged", { get: function() {
        return this._rs.page >= 0;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "page", { get: function() {
        return this._rs.page;
      }, set: function(e) {
        this.setPage(e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "pageCount", { get: function() {
        return this._rs.pageCount;
      }, set: function(e) {
        var t = this._rs.pageCount;
        this._rs.pageCount = e, this._rs.pageCount != t && this.$_firePageCountChanged(this._rs.pageCount);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGroupLevels", { get: function() {
        return this._rs.groupLevels;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGroupFields", { get: function() {
        return this._rs.groupByFields;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGrouped", { get: function() {
        return this._rs.grouped;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergedRowGrouped", { get: function() {
        return this._rs.mergedGrouped;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGroupSummaryRuntime", { get: function() {
        return this._rowGroupSummaryRuntime;
      }, enumerable: !1, configurable: !0 }), i.prototype.isTree = function() {
        return !1;
      }, i.prototype.recursiveDeleting = function() {
        return !1;
      }, i.prototype._beforeChangeLayout = function() {
        this.ungroupBy();
      }, i.prototype.isGrouped = function(e) {
        return e && e.groupLevel > 0;
      }, i.prototype.isGroupedField = function(e) {
        return this._rs.isGroupedField(e);
      }, i.prototype.isSortByLabelColumn = function(e) {
        return this.columnByField(e).sortByLabel;
      }, i.prototype.getGroupLevel = function(e) {
        return this._rs.getGroupLevel(e);
      }, i.prototype.groupByFieldNames = function(e, t, o) {
        o === void 0 && (o = f.SortDirection.ASCENDING);
        var r = this.dataSource;
        if (r && e && e.length > 0) {
          for (var n = [], s = 0; s < e.length; s++) {
            var l = e[s], h = r.getFieldIndex(l), u = this.columnByField(l), c = u && this.layoutByColumn(u);
            !c || this.rowGroup.mergeMode && c.parent != this.activeCellLayout._root || h >= 0 && n.push(h);
          }
          n.length > 0 && (t = t === void 0 ? this.rowGroup.sorting : t, this.groupBy(n, t, o));
        } else
          this.ungroupBy();
      }, i.prototype.groupBy = function(e, t, o) {
        this.isItemEditing(null) || this.toastManager.show(this.groupingOptions.toast, !0, function() {
          this.$_doGroupBy(e, t, o);
        }.bind(this));
      }, i.prototype.clearGroupBy = function() {
        this.isItemEditing(null) || (this._rs.setLabelComparer(null), this._rs.groupBy(null, !0, f.SortDirection.ASCENDING), this.$_doRowGroupFooterMergeChanged(), this.$_clearColumnMergeGrouped());
      }, i.prototype.ungroupBy = function() {
        this.clearGroupBy();
      }, i.prototype.addGroupBy = function(e, t) {
        var o = this;
        t && (this.isItemEditing(null) || this.isGrouped(t) || t.layout && t.layout.visible && (!t.layout.isRoot && this.rowGroup.mergeMode || t.dataIndex >= 0 && this.toastManager.show(this.groupingOptions.toast, !0, function() {
          o.editController.remainFocusing(!0), o.$_doAddGroupBy(e, t);
        })));
      }, i.prototype.removeGroupByField = function(e) {
        !(e < 0) && !this.isItemEditing(null) && this.isGroupedField(e) && (this._rs.removeGroupBy(e, !1), this.$_doRowGroupFooterMergeChanged(), this.editController.remainFocusing(!0));
      }, i.prototype.expand = function(e, t, o, r) {
        this.isItemEditing(null) || this._rs.expand(e, t, o, r);
      }, i.prototype.expandAll = function(e, t) {
        this.isItemEditing(null) || this._rs.expandAll(e, t);
      }, i.prototype.collapse = function(e, t, o, r) {
        this.isItemEditing(null) || this._rs.collapse(e, t, o, r);
      }, i.prototype.collapseAll = function(e) {
        this.isItemEditing(null) || this._rs.collapseAll(e);
      }, i.prototype.isGroupedColumn = function(e) {
        return e && e.dataIndex >= 0 && this._rs.isGroupedField(e.dataIndex);
      }, i.prototype.getSortFields = function() {
        return this.itemSource.getSortFields();
      }, i.prototype.getSortDirections = function() {
        return this.itemSource.getSortDirections();
      }, i.prototype.getSortCases = function() {
        return this.itemSource.getSortCases();
      }, i.prototype.setPaging = function(e, t, o) {
        t === void 0 && (t = 10), o === void 0 && (o = -1), this._rs.setPaging(e, t, o, null);
      }, i.prototype.setPage = function(e, t) {
        if (t === void 0 && (t = -1), (e = Math.max(0, Math.min(e, this._rs.pageCount - 1))) != this._rs.page) {
          var o = !1;
          this.$_firePageChanging(e) && (this._rs.setPage(e, t), o = !0), o && this.$_firePageChanged(this._rs.page);
        }
      }, i.prototype.getPageOfDataRow = function(e) {
        return this._rs.getPageOfDataRow(e);
      }, Object.defineProperty(i.prototype, "isLayer", { get: function() {
        return !1;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summarizer", { get: function() {
        return this._rs.summarizer;
      }, enumerable: !1, configurable: !0 }), i.prototype._createSidePane = function() {
        return this._groupBarPane = new Qf(this.doc);
      }, i.prototype.isSidePaneVisible = function() {
        return this.rowGrouped && !this.mergedRowGrouped && this._rowGroup.indentVisible;
      }, i.prototype._createLayoutManager = function() {
        return new s_(this);
      }, i.prototype.canGrouping = function() {
        return this._groupPanelView.visible;
      }, i.prototype._canMerge = function() {
        return this.dataCount > 0;
      }, Object.defineProperty(i.prototype, "undoable", { get: function() {
        return this._rs.undoable;
      }, set: function(e) {
        this._rs.undoable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canUndo", { get: function() {
        return this._rs.canUndo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canRedo", { get: function() {
        return this._rs.canRedo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "undoing", { get: function() {
        return this._rs.undoing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "redoing", { get: function() {
        return this._rs.redoing;
      }, enumerable: !1, configurable: !0 }), i.prototype.undo = function() {
        return !!this._rs.canUndo && (this._rs.cancelWhenLastUndo = this.editOptions.cancelWhenLastUndo, this.editController.cancelEditor(!0), this._rs.undo(), !0);
      }, i.prototype.redo = function() {
        return !!this._rs.canRedo && (this._rs.redo(), !0);
      }, i.prototype.execute = function(e) {
        this._rs.execute(e);
      }, i.prototype.clearCommandStack = function(e) {
        e === void 0 && (e = !0), this._rs.clearCommandStack(e);
      }, i.prototype.getRowView = function(e, t) {
        return t instanceof He ? this._groupView.getHeaderView(t) : a.prototype.getRowView.call(this, e, t);
      }, i.prototype._doSortItems = function(e, t, o) {
        var r = this.itemSource;
        r.setLabelComparer(this._doPrepareComparer(e)), r.orderBy(e, t, o);
      }, i.prototype._doColumnFiltersChanged = function(e, t) {
        this.applyFilters(e, t), this.invalidateLayout();
      }, i.prototype.setOptions = function(e) {
        if (e) {
          var t = this._rs;
          e.hideDeleted !== void 0 && (t.hideDeleted = e.hideDeleted), e.hideDeletedRows !== void 0 && (t.hideDeleted = e.hideDeletedRows), e.inclusiveFiltering !== void 0 && (t.inclusiveFiltering = e.inclusiveFiltering), e.filterOr !== void 0 && (t.inclusiveFiltering = e.filterOr), e.summaryMode !== void 0 && (t.summaryMode = e.summaryMode), e.groupSummaryMode !== void 0 && (t.groupSummaryMode = e.groupSummaryMode), e.sortMode !== void 0 && (t.sortMode = e.sortMdoe), e.filterMode !== void 0 && (t.filterMode = e.filterMode), a.prototype.setOptions.call(this, e);
        }
      }, i.prototype._visualObjectChanged = function(e) {
        a.prototype._visualObjectChanged.call(this, e), e instanceof no && (this._rs.checkableExpression = e.checkableExpression);
      }, i.prototype.resetCheckables = function() {
        this._rs.resetCheckables();
      }, i.prototype.applyCheckables = function() {
        this._rs.applyCheckables();
      }, i.prototype.getCheckedRows = function(e, t, o) {
        var r, n;
        if (t) {
          r = [];
          for (var s = 0, l = this.itemCount; s < l; s++)
            (n = this.getItem(s)).checked && n.dataRow >= 0 && r.push(n.dataRow);
        } else
          r = this._rs.getCheckedRows(o);
        return e && r.sort(function(h, u) {
          return h - u;
        }), r;
      }, i.prototype.getCheckedItemIndices = function(e) {
        for (var t = [], o = 0, r = this.itemCount; o < r; o++) {
          var n = this.getItem(o);
          n.checked && (e || n.dataRow >= 0) && t.push(n.index);
        }
        return t;
      }, i.prototype.getCheckedItems = function(e) {
        for (var t = [], o = 0, r = this.itemCount; o < r; o++) {
          var n = this.getItem(o);
          n.checked && (e || n.dataRow >= 0) && t.push(n);
        }
        return t;
      }, i.prototype.getMergedItems = function(e, t, o, r) {
        var n = function() {
          return u.index < d ? c.mergeRows ? h.$_checkFixedMerge(this.itemSource, s, e, d) : null : h.$_checkMerge(this.itemSource, s, e, !0, d);
        }.bind(this), s = t instanceof re ? t : this.columnByName(t), l = s.layout, h = l.merges, u = this.getItem(e);
        if (!u)
          return null;
        if (!h)
          return r ? o && !u.isDataRow ? null : [u.index] : null;
        var c = this.fixedOptions, d = c.rowCount, p = n();
        if (!p) {
          var _ = this.getGroupLevel(s.dataIndex);
          (_ > 0 && s.mergeGrouped && !this.isTree() ? Gn.getDefault(_, this.rowGroup.mergeMode) : l.$_mergeRuleObj()).parseBounds(this.itemSource, s.dataIndex, 0, this.itemCount - 1, h._flags), p = n();
        }
        if (!p && r)
          return [e];
        if (p) {
          for (var g = [], y = p.top; y <= p.bottom; y++)
            (this.getItem(y).isDataRow || !o) && g.push(y);
          return g.length > 0 ? g : null;
        }
        return null;
      }, i.prototype.findGroupItem = function(e, t) {
        var o = this.getGroupLevel(t);
        if (o > 0)
          for (var r = e instanceof Se ? e : e.parent; r; ) {
            if (r.level == o)
              return r;
            r = r.parent;
          }
        return null;
      }, i.prototype.getItemOfModel = function(e) {
        return e.itemIndex >= 0 ? this.getItem(e.itemIndex) : e.id >= 0 ? this._rs.getGroupItem(e.id) : null;
      }, i.prototype.getJsonRows = function() {
        return this._rs.getJsonRows();
      }, i.prototype.getIndicatorIndex = function(e, t) {
        var o = this._rs.getDisplayItemIndex(e), r = this.paged ? this._rs.itemLength : this.itemCount;
        return t ? r - o - 1 : o;
      }, i.prototype.indicatorReverse = function(e) {
        return !(this.rowGrouped && this.paged) && e === f.IndicatorValue.REVERSE;
      }, i.prototype.getFirstRow = function() {
        return this._rs.getFirstRow();
      }, i.prototype.getLastRow = function() {
        return this._rs.getLastRow();
      }, i.prototype.getPrevRow = function(e) {
        return this._rs.getPrevRow(e);
      }, i.prototype.getNextRow = function(e) {
        return this._rs.getNextRow(e);
      }, i.prototype.canMoveRows = function(e, t, o) {
        if (o && this.canMoveRow(t, !1) && e) {
          for (var r = !1, n = 0; n < e.length; n++) {
            var s = e[n];
            s && s.isDataRow && (r = !0);
          }
          return r;
        }
      }, i.prototype._getMoveTarget = function(e, t, o, r) {
        return this.getItem(o + r);
      }, i.prototype._doMoveRows = function(e, t) {
        var o = t && t.dataRow;
        if (o >= 0) {
          for (var r = [], n = 0, s = e; n < s.length; n++) {
            var l = s[n], h = l && l.dataRow;
            h >= 0 && r.push(h);
          }
          if (r.length > 0)
            return this.dataSource.moveRowList(r, o);
        }
      }, i.prototype._getCellTypeOf = function(e) {
        return e instanceof wh ? "groupHead" : e instanceof Ch ? "groupFoot" : e instanceof Ps ? "groupBar" : void 0;
      }, i.prototype.updatePastedRow = function(e, t, o) {
        var r = e.dataRow;
        if (r >= 0) {
          var n = this.dataSource;
          n && n.updateRow(r, t, o);
        }
      }, i.prototype.appendPastedRow = function(e) {
        var t = this.dataSource;
        if (t)
          return t.appendRow(e);
      }, i.prototype.getSummaryCount = function(e) {
        return e === "groupFooter" ? this.rowGroup.footers.count : a.prototype.getSummaryCount.call(this, e);
      }, i.prototype.isRecycleMode = function() {
        return a.prototype.isRecycleMode.call(this) && (!this.rowGrouped || this.activeCellLayout.dataRows === 1);
      }, i.prototype._createItemSource = function() {
        return new yh(!0, this._rowGroup);
      }, i.prototype.$_rowGroupChanged = function(e) {
        this._doRowGroupMergeModeChanged();
      }, i.prototype._groupingOptionsChanged = function(e) {
        this._rs.expandWhenGrouping = e.expandWhenGrouping, this.groupPanelView && this.groupPanelView.invalidate();
      }, i.prototype.$_rowGroupAdornmentsChanged = function(e, t) {
        this._rs._groupedProvider.resetAdornments(this.handler, e, t);
      }, i.prototype.$_getVisibleRootByField = function(e, t) {
        for (var o = this.visibleLayoutCount, r = 0; r < o; r++) {
          var n = this.getVisibleLayout(r), s = n instanceof de && b.cast(n.firstColumn, re);
          if (s && s.dataIndex == e)
            return s;
        }
        return t ? this.columnByField(e) : null;
      }, i.prototype.$_clearColumnMergeGrouped = function() {
        this._activeCellLayout._clearMergeGrouped();
      }, i.prototype._doRowGroupMergeModeChanged = function() {
        a.prototype._doRowGroupMergeModeChanged.call(this), this.$_clearColumnMergeGrouped();
        var e = this._rs.groupByFields;
        if (this.rowGroup.mergeMode) {
          if (e && e.length > 0)
            for (var t = e.length - 1; t >= 0; t--) {
              var o = this.$_getVisibleRootByField(e[t], !1);
              o ? o.$_setMergeGrouped(!0) : e.splice(t, 1);
            }
          this._rs.groupByMode(e, !0);
        } else
          this._rs.groupByMode(e, !1);
      }, i.prototype.$_doRowGroupFooterMergeChanged = function() {
      }, i.prototype.$_doGroupBy = function(e, t, o) {
        var r, n = this.dataSource;
        if (this.$_clearColumnMergeGrouped(), n && e && (r = e.length) > 0) {
          for (var s = n.fieldCount, l = [], h = 0; h < r; h++)
            e[h] >= 0 && e[h] < s && l.push(e[h]);
          if (l.length > 0) {
            if (this.rowGroup.mergeMode)
              for (h = l.length - 1; h >= 0; h--) {
                var u = this.$_getVisibleRootByField(l[h], !1);
                u ? u.$_setMergeGrouped(!0) : l.splice(h, 1);
              }
            l.length > 0 && (this._rs.setLabelComparer(this._doPrepareComparer(l)), this._rs.groupBy(l, t, o));
          }
        } else
          this._rs.setLabelComparer(null), this._rs.groupBy(null, !0, f.SortDirection.ASCENDING);
        this.$_doRowGroupFooterMergeChanged();
      }, i.prototype.$_doAddGroupBy = function(e, t) {
        var o = t.dataIndex;
        t.$_setMergeGrouped(this.rowGroup.mergeMode);
        try {
          var r = this.rowGroupFields ? this.rowGroupFields.slice() : [];
          r.push(o), this._rs.setLabelComparer(this._doPrepareComparer(r)), this._rs.addGroupBy(e, o, this.rowGroup.sorting), this.$_doRowGroupFooterMergeChanged();
        } catch (n) {
          throw t.$_setMergeGrouped(!1), n;
        }
      }, i.prototype.$_clearGroupedIndices = function() {
        for (var e = this.columnCount - 1; e >= 0; e--) {
          var t = b.cast(this.getColumn(e), re);
          t && t.$_setGroupLevel(this._rs.getGroupLevel(-1));
        }
      }, i.prototype.$_setGroupedIndices = function() {
        for (var e = this.columnCount - 1; e >= 0; e--) {
          var t = b.cast(this.getColumn(e), re);
          t && t.$_setGroupLevel(this._rs.getGroupLevel(t.dataIndex));
        }
      }, i.prototype.$_firePageChanging = function(e) {
        return this.fireConfirmEvent(i.PAGE_CHANGING, e);
      }, i.prototype.$_firePageChanged = function(e) {
        this.fireEvent(i.PAGE_CHANGED, e);
      }, i.prototype.$_firePageCountChanged = function(e) {
        this.fireEvent(i.PAGE_COUNT_CHANGED, e);
      }, i.prototype.$_fireGrouping = function(e) {
        return this.fireConfirmEvent(i.GROUPING, e);
      }, i.prototype.$_fireGrouped = function() {
        this.fireEvent(i.GROUPED);
      }, i.prototype.$_fireExpanding = function(e) {
        return this.fireConfirmEvent(i.EXPANDING, e);
      }, i.prototype.$_fireExpanded = function(e) {
        this.fireEvent(i.EXPANDED, e);
      }, i.prototype.$_fireCollapsing = function(e) {
        return this.fireConfirmEvent(i.COLLAPSING, e);
      }, i.prototype.$_fireCollapsed = function(e) {
        this.fireEvent(i.COLLAPSED, e);
      }, i.prototype.onGroupedItemProviderGrouping = function(e, t) {
        return this.$_fireGrouping(t);
      }, i.prototype.onGroupedItemProviderGrouped = function(e) {
        this.selections.clear(), this.$_clearGroupedIndices(), this.groupPanelView.invalidate(), this.setNeedRefresh(!0);
        var t, o = this._rs.groupByFields;
        if (o && o.length > 0 && this.$_setGroupedIndices(), this.rowGroup.mergeMode) {
          for (var r = [], n = this.visibleLayoutCount, s = 0; s < n; s++) {
            var l = this.getVisibleLayout(s), h = b.cast(l.firstColumn, re);
            t = l.merges, h && (h.mergeGrouped && h.groupLevel <= 0 ? (t && t.clear(), h.$_setMergeGrouped(!1)) : h.mergeGrouped && (t || (t = new mr(l)), r.push(h)));
          }
          if ((n = r.length) > 0)
            for (r = r.sort(function(u, c) {
              return u.groupLevel - c.groupLevel;
            }), s = 0; s < n; s++)
              (t = r[s].layout.merges).clear(), t.initialize(zt.INIT_COUNT), r[s].layout.vindex = s;
          for (n = this.visibleLayoutCount, s = 0; s < n; s++)
            (h = b.cast(this.getVisibleLayout(s).firstColumn, re)) && !h.mergeGrouped && (t = h.layout.merges) && (t.clear(), t.initialize(zt.INIT_COUNT));
        }
        this.requestPrepareEditor(), this._itemCheckChanged = !0, this.$_fireGrouped(), this._cellLayoutChanged(), this.container.defaultTool.layoutChanged();
      }, i.prototype.onGroupedItemProviderExpand = function(e, t) {
        return this.$_fireExpanding(t);
      }, i.prototype.onGroupedItemProviderExpanded = function(e, t) {
        this.$_fireExpanded(t);
      }, i.prototype.onGroupedItemProviderCollapse = function(e, t) {
        return this.$_fireCollapsing(t);
      }, i.prototype.onGroupedItemProviderCollapsed = function(e, t, o) {
        if (o && this.topIndex > t.getFirstVisibleItem(!1).index && t instanceof _t) {
          var r = t.getFirstVisibleItem(!1), n = this.layoutByColumn(this.columnByField(t.groupField)), s = gt.tempItem(this, r, n);
          W.areEquals(this.focusedIndex, s) ? this.topIndex = s.itemIndex : this.setFocusedIndex(s);
        }
        this.$_fireCollapsed(t);
      }, i.PAGE_CHANGING = "onGridViewPageChanging", i.PAGE_CHANGED = "onGridViewPageChanged", i.PAGE_COUNT_CHANGED = "onGridViewPageCountChanged", i.GROUPING = "onGridViewGrouping", i.GROUPED = "onGridViewGrouped", i.EXPANDING = "onGridViewExpanding", i.EXPANDED = "onGridViewExpanded", i.COLLAPSING = "onGridViewCollapsing", i.COLLAPSED = "onGridViewCollapsed", i;
    }(li), s_ = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "panelVisible", { get: function() {
        return this.grid.groupPanelView.visible;
      }, enumerable: !1, configurable: !0 }), i.prototype.getLevelIndent = function(e) {
        var t = this.grid;
        if (this.mergedRowGrouped) {
          for (var o = this.fixedLayoutCount, r = 0, n = 0; n < e; n++)
            r += n < o ? this.getFixedLayoutWidth(n) : this.getLayoutWidth(n - o);
          return o ? e > o ? r = Math.max(this.fixedWidth, r + this.fixedBarWidth - this.leftPos) : e === o && (r += this.fixedBarWidth) : r -= this.leftPos, r;
        }
        return t.rowGroup.indentVisible ? t.groupBarPane.getLevelIndent(e) : 0;
      }, Object.defineProperty(i.prototype, "grid", { get: function() {
        return this._grid;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "topPanelVisible", { get: function() {
        return this.panelVisible;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGrouped", { get: function() {
        return !this.grid.rowGroup.mergeMode && this.grid.rowGrouped;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "mergedRowGrouped", { get: function() {
        return this.grid.rowGroup.mergeMode && this.grid.rowGrouped;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGroupLevels", { get: function() {
        return this.grid.rowGroupLevels;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "rowGroupFields", { get: function() {
        return this.grid.rowGroupFields;
      }, enumerable: !1, configurable: !0 }), i.prototype.$_groupView = function(e) {
        return this.grid.groupView;
      }, i.prototype.setLeftPos = function(e, t) {
        a.prototype.setLeftPos.call(this, e, t);
        var o = this.grid, r = o.mergedRowGrouped, n = this.$_groupView(r);
        n.visible && this.$_layoutRowGroupView(o, n);
      }, i.prototype._prepareItems = function(e) {
        a.prototype._prepareItems.call(this, e);
        var t = this.grid;
        if (t.rowGrouped) {
          var o = t.mergedRowGrouped, r = this.$_groupView(o), n = this.contentBounds.isEmpty ? null : t.bodyView, s = this.fixedContentBounds.isEmpty ? null : t.fixedBodyView, l = this.rightContentBounds.isEmpty ? null : t.rightBodyView;
          r.$_prepareGroupItems(this, n, s, l), r.$_prepareGroupFooters(this._items, this);
        }
      }, i.prototype._doMeasureTopPane = function(e, t) {
        var o = e.groupPanelView;
        if (this.panelVisible)
          if (o._dirty) {
            var r = o.measure(e, t.width, t.height);
            t.height = r.height;
          } else
            t.height = o.bounds.height;
        else
          t.height = 1, t.width = 1;
      }, i.prototype._doLayoutTopPane = function(e, t) {
        var o = e.groupPanelView;
        o.setBounds(0, 0, t.width, t.height), this.panelVisible && o.layoutContent(this);
      }, i.prototype._doLayout = function(e, t) {
        a.prototype._doLayout.call(this, e, t);
      }, i.prototype._adjustLayout = function(e, t) {
        a.prototype._adjustLayout.call(this, e, t);
        var o = e.rowGrouped, r = e.mergedRowGrouped, n = e._sideContentPane;
        n && this._layoutSidePane(e, n);
        var s = this.$_groupView(r);
        this.$_groupView(!r).visible = !1, (s.visible = o) && this.$_layoutRowGroupView(e, s);
      }, i.prototype.isMergedCell = function(e) {
        var t = this.grid;
        if (t.rowGroup.mergeMode && t.isGroupedColumn(e.dataColumn))
          return !0;
        var o = e.layout;
        if (o && o.isColumn && e.layout.merged) {
          var r = o.merges;
          if (r)
            return r.getRoom(e) != null;
        }
        return !1;
      }, i.prototype.$_layoutRowGroupView = function(e, t) {
        var o = this.contentBounds, r = this.sideContentBounds.clone();
        r.top = o.y + this.bodyBounds.y, r.right = this.rightContentBounds.right, r.bottom = Math.min(this.footBounds.y + o.y, o.bottom), t.setRect(r), t.layout(this);
      }, i;
    }(as), a_ = function(a) {
      function i(e) {
        var t = a.call(this, e, "gridSelectionTool") || this;
        return t._panelCellReq = new Ih(), t._panelCellFeedback = new l_(e.doc), t._groupingReq = new Ds(), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._panelCellReq = null, a.prototype._doDispose.call(this);
      }, i.prototype._doPointerDown = function(e) {
        var t = this.grid, o = this.mouseEventTarget;
        if (o instanceof be(e.target).HTMLElement && (mt.isExpander(o) || Rs.isExpander(o))) {
          var r = this._findTableCell(o), n = t.getTableView(r);
          if (mt.isExpander(o) && n instanceof xt) {
            var s = t.getDataCellIndex(r, this._tempIndex), l = n.getCellAt(t.layoutManager, s), h = t.findGroupItem(l.item, l.layout.firstColumn.dataIndex);
            this.$_toggleExpanded(t, h, e);
          } else if (Rs.isExpander(o) && n instanceof Ps) {
            var u = n.getViewOf(o);
            return void ((h = (h = t.getItem(o[De])).getAncestor(u.level)) instanceof He && this.$_toggleExpanded(t, h, e));
          }
        }
        a.prototype._doPointerDown.call(this, e);
      }, i.prototype._doClick = function(e) {
        var t = e.mouseX, o = e.mouseY, r = this.grid, n = this.findElementAt(t, o, !1);
        n instanceof Wr && n.isCloseButton(e.target) && r.removeGroupByField(n.field), a.prototype._doClick.call(this, e);
      }, i.prototype._doDblClick = function(e) {
        var t = e.mouseX, o = e.mouseY, r = this.grid, n = this.findElementAt(t, o, !1);
        n instanceof ks && r.groupingOptions.headerClickable ? this.$_toggleExpanded(r, n.item, e) : a.prototype._doDblClick.call(this, e);
      }, i.prototype._getEditRequest = function(e, t, o, r, n, s, l) {
        var h = a.prototype._getEditRequest.call(this, e, t, o, r, n, s, l);
        if (h)
          return h;
        var u = this.grid, c = this.findElementAt(o, r, !1), d = this._findTableCell(e), p = d && u.getTableView(d);
        if (p instanceof Ei) {
          var _ = p.layoutByCell(d), g = _.firstColumn;
          if (u.groupPanelView.visible && g && g.groupable && u.groupingOptions.enabled) {
            var y = u.layoutManager.getHeaderCellRect(_);
            return this._groupingReq.init(_, y, o, r);
          }
        }
        return c instanceof Wr ? this._panelCellReq.init(c, o, r) : void 0;
      }, i.prototype._getDragTracker = function(e, t, o) {
        var r = this.grid;
        return e instanceof Ih ? new h_(r, e, this._panelCellFeedback) : e instanceof Ds ? new u_(r, e, this._panelCellFeedback) : a.prototype._getDragTracker.call(this, e, t, o);
      }, i.prototype.getNextRequest = function(e, t, o, r) {
        if (!(e instanceof _s && e.layout instanceof de))
          return e instanceof Ds && e.layout instanceof de && t instanceof ih ? this._colMoveReq.init(e.layout, o, r, null) : a.prototype.getNextRequest.call(this, e, t, o, r);
        var n = this.grid, s = e.layout.firstColumn;
        return n.groupingOptions.enabled && n.layoutManager.topPanelVisible && s instanceof re && s.groupable && r + 3 < n.groupPanelView.bottom ? this._groupingReq.init(e.layout, t, o, r) : void 0;
      }, i.prototype._getClickData = function(e, t) {
        if (e instanceof ks)
          return ae.getItem("groupHeader", e.itemIndex, null);
        if (e instanceof xh)
          return ae.getData("groupPanel");
        if (e instanceof Wr) {
          if (e.isCloseButton(t.target))
            return;
          var o = this.grid.dataSource.getOrgFieldName(e.field);
          return ae.getField("groupColumn", e.field, o);
        }
        return a.prototype._getClickData.call(this, e, t);
      }, i.prototype.$_toggleExpanded = function(e, t, o) {
        t.expanded ? e.collapse(t, !1, !1, o) : e.expand(t, !1, !1, 0);
      }, i;
    }(ws), Ih = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._field = -1, e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "source", { get: function() {
        return this._source;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "x", { get: function() {
        return this._x;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "y", { get: function() {
        return this._y;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "field", { get: function() {
        return this._field;
      }, enumerable: !1, configurable: !0 }), i.prototype.init = function(e, t, o) {
        return this._source = e, this._x = t, this._y = o, this._field = e.field, this;
      }, Object.defineProperty(i.prototype, "cursor", { get: function() {
        return "pointer";
      }, enumerable: !1, configurable: !0 }), i;
    }(hs), l_ = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._no = !1, t;
      }
      return w(i, a), i.prototype.setField = function(e, t) {
        t === void 0 && (t = !1), this._textView[b.TextProp] = e, this._noMark.style.display = (this._no = t) ? "inline-block" : "none";
      }, i.prototype._getCssSelector = function() {
        return "rg-header rg-header-cell rg-group-panel-item rg-group-panel-cell-feedback";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e);
        var t = this.doc;
        this._textView = t.createElement("span"), this._textView.className = "rg-group-panel-item-text", this._textView.style.display = "inline-block", e.appendChild(this._textView), this._noMark = t.createElement("span"), this._noMark.className = "rg-group-panel-no-mark", this._noMark.style.display = "none", e.appendChild(this._noMark);
      }, i.prototype._doDraw = function(e) {
        var t = this._textView.offsetWidth, o = this._textView.offsetHeight, r = this._textView.style;
        r.left = Math.max(0, (this.width - t) / 2) + "px", r.top = Math.max(0, (this.height - o) / 2) + "px", this._no && (t = this._noMark.offsetWidth, o = this._noMark.offsetHeight, (r = this._noMark.style).left = Math.max(0, (this.width - t) / 2) + "px", r.top = Math.max(0, (this.height - o) / 2) + "px");
      }, i;
    }(qt), h_ = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, "groupPanelCellTracker") || this;
        return r._request = t, r._feedback = o, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._request = null, this._feedback = null, a.prototype._doDispose.call(this);
      }, i.prototype.getRequest = function() {
        return this._request;
      }, i.prototype._doStart = function(e, t, o, r) {
        var n = this.grid, s = this._request.source.boundsByContainer();
        return this._feedback.setRect(s), this._feedback.setField(this._request.source.text), this._feedback.visible = !0, n.addFeedbackElement(this._feedback), this._offsetX = t - s.x, this._offsetY = o - s.y, !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        return t -= this._offsetX, o -= this._offsetY, this._feedback.move(t, o), !0;
      }, i.prototype._doCompleted = function() {
        var e = this.grid, t = e.layoutManager;
        this.currentY > t.contentBounds.y && e.removeGroupByField(this._request.field);
      }, i.prototype._doEnded = function() {
        this.grid.removeFeedbackElement(this._feedback);
      }, i;
    }(si), Ds = function(a) {
      function i() {
        return a.call(this) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._layout = null, this._source = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "layout", { get: function() {
        return this._layout;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "source", { get: function() {
        return this._source;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "x", { get: function() {
        return this._x;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "y", { get: function() {
        return this._y;
      }, enumerable: !1, configurable: !0 }), i.prototype.init = function(e, t, o, r) {
        return this._layout = e, this._source = t, this._x = o, this._y = r, this;
      }, Object.defineProperty(i.prototype, "cursor", { get: function() {
        return "pointer";
      }, enumerable: !1, configurable: !0 }), i;
    }(hs), u_ = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, "groupingCellTracker") || this;
        return r._request = t, r._feedback = o, r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._request = null, this._feedback = null, a.prototype._doDispose.call(this);
      }, i.prototype.getRequest = function() {
        return this._request;
      }, i.prototype._doStart = function(e, t, o, r) {
        var n = this.grid, s = this._request.source, l = s instanceof qt ? s.boundsByContainer() : s, h = n.isGroupedField(this._request.layout.firstColumn.dataIndex);
        return this._feedback.setRect(l), this._feedback.setField(this._request.layout.firstColumn.displayText, h), this._feedback.visible = !0, n.addFeedbackElement(this._feedback), this._offsetX = t - l.x, this._offsetY = l.height / 3, !0;
      }, i.prototype._doDrag = function(e, t, o, r) {
        return !(o > this.grid.layoutManager.topContentBounds.bottom) && (t -= this._offsetX, o -= this._offsetY, this._feedback.move(t, o), !0);
      }, i.prototype._doCompleted = function() {
        var e = this.grid, t = e.layoutManager;
        if (this.currentY < t.contentBounds.y) {
          var o = e.$_getVisibleRootByField(this._request.layout.firstColumn.dataIndex, !0);
          e.addGroupBy(t.rowGroupLevels, o);
        }
      }, i.prototype._doEnded = function() {
        this.grid.removeFeedbackElement(this._feedback);
      }, i.prototype.getNextRequest = function(e, t) {
        return this.grid.activeTool.getNextRequest(this._request, this._request.source, e, t);
      }, i;
    }(si), Sh = function(a) {
      function i(e, t, o, r) {
        o === void 0 && (o = !1), r === void 0 && (r = null);
        var n = a.call(this, e, o, r) || this, s = n._containerDom.parentElement;
        return s.style.height && (n._orgCssHeight = s.style.height), n._gridView && (n._gridView.$_handler = t), n;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._gridView = null, this._watchTimer && clearInterval(this._watchTimer), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "gridView", { get: function() {
        return this._gridView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "heightMeasurer", { get: function() {
        return this._heightMeasurer;
      }, enumerable: !1, configurable: !0 }), i.prototype.setWatchTimer = function(e) {
        this._watchTimer && clearInterval(this._watchTimer), this._watchTimer = null, this._displayObserver = this._displayObserver || this.$_displayObserver.bind(this), e && (this._watchTimer = setInterval(this._displayObserver, 100));
      }, i.prototype.recallHeight = function() {
        var e = this._containerDom.parentElement.style;
        this.gridView._loading || (this._orgCssHeight ? e.height = this._orgCssHeight : e.removeProperty("height"));
      }, i.prototype.getTableCell = function(e) {
        return this._gridView.getTableCell(e);
      }, i.prototype._doResized = function(e) {
        a.prototype._doResized.call(this, e), this._gridView.$_containerResized();
      }, i.prototype._isOutChildElement = function(e) {
        var t = this.gridView, o = e.type === "focusout" ? e.relatedTarget : e.target;
        if (t.filterSelector.opened && b.isAncestorOf(t.filterSelector._element, o, e))
          return !0;
        if (o instanceof SVGElement)
          for (var r = b.getComposedPath(e); r && r.length && !((o = r.shift()) instanceof HTMLElement); )
            ;
        var n = o && o.className || "";
        if (n.indexOf("rg-popup") >= 0)
          return !0;
        try {
          if (n.indexOf("rg-editor") >= 0 && o.$_owner._grid.container !== this || n.indexOf("rg-root") >= 0 && o !== this._containerDom)
            return !1;
          if (t.isEditing())
            for (var s = o; s; ) {
              if ((s.className || "").indexOf("rg-") >= 0)
                return !0;
              s = s.parentElement;
            }
        } catch {
          b.log("check outer elements fail => ".concat(o));
        }
        return !1;
      }, i.prototype._doPrepareContainer = function(e, t, o) {
        e.className = "rg-root rg-grid", b.isMobile() && (e.style.touchAction = "unset"), this._gridView = this._createGridView(t, o), this.addElement(this._gridView), this._heightMeasurer = new c_(this.measurer), this._sizeInfo = new ue(0, 0, e.clientWidth, e.clientHeight);
      }, i.prototype._createDefaultTool = function() {
        return new a_(this);
      }, i.prototype._doLayout = function(e) {
        var t = this._gridView, o = e.clone();
        t.setRect(o), o.x = o.y = 0, t.$_layout(o);
      }, i.prototype._layoutChildren = function(e) {
        this._sizeInfo.width = e.width, this._sizeInfo.height = e.height;
      }, i.prototype._doBeforeRender = function() {
        var e = this.gridView, t = e._dom;
        if (t && t.scrollLeft > 0) {
          var o = t.scrollLeft;
          e.leftPos = o, t.scrollLeft = 0;
        }
        e.visible && e.$_beforeRender();
      }, i.prototype._doAfterRender = function() {
        if (!this.gridView.fitSyncHeight()) {
          var e = this._containerDom.parentElement;
          this._orgCssHeight = e.style.height;
        }
        this._gridView.visible && this._gridView.$_afterRender();
      }, i.prototype._doPrepareRender = function(e) {
        var t = e.clone();
        this._gridView.visible && (this._gridView.setRect(t), t.x = t.y = 0, this._gridView.$_prepareRender(t));
      }, i.prototype._createGridView = function(e, t) {
        return new Vi(this, e, t);
      }, i.prototype._resizeHandler = function(e) {
        if (this._watchTimer == null) {
          var t = this;
          this._resizeTimer = setTimeout(function() {
            t._displayObserver();
          }, 100);
        }
      }, i.prototype.$_displayObserver = function() {
        var e = this._containerDom, t = e.clientWidth, o = e.clientHeight, r = this._sizeInfo;
        t > 0 && o > 0 && (Math.abs(this._sizeInfo.width - t) >= 1 || Math.abs(this._sizeInfo.height - o) >= 1) && (this._gridView.fitSyncHeight() || (this._orgCssHeight = e.parentElement.style.height), r.width = t, r.height = o, this.invalidateLayout(), this._doResized(null));
      }, i;
    }(lo), c_ = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._bodyStyle = "rg-body", t._headerStyle = "rg-header", t._summaryStyle = "rg-header-summary", t._footerStyle = "rg-footer", t._dataRowStyle = "rg-data-row", t._headerRowStyle = "", t._summaryRowStyle = "", t._footerRowStyle = "", t._groupFooterStyle = "rg-rowgroup-footer", t._dataCellStyle = "rg-data-cell", t._headerCellStyle = "rg-header-cell", t._summaryCellStyle = "rg-header-summary-cell", t._footerCellStyle = "rg-footer-cell", t._groupFooterCellStyle = "rg-rowgroup-footer-cell", t._rowHeight = 0, t._headerHeight = 0, t._summaryHeight = 0, t._footerHeight = 0, t._gfooterHeight = 0, t._dirty = !0, t._container = e, t.$_prepareElements(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._container = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "rowHeight", { get: function() {
        return this._rowHeight || (this._rowHeight = this.$_measure(this._bodyStyle, this._dataRowStyle, this._dataCellStyle));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "headerHeight", { get: function() {
        return this._headerHeight || (this._headerHeight = this.$_measure(this._headerStyle, this._headerRowStyle, this._headerCellStyle));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summaryHeight", { get: function() {
        return this._summaryHeight || (this._summaryHeight = this.$_measure(this._summaryStyle, this._summaryRowStyle, this._summaryCellStyle));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "footerHeight", { get: function() {
        return this._footerHeight || (this._footerHeight = this.$_measure(this._footerStyle, this._footerRowStyle, this._footerCellStyle));
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupFooterHeight", { get: function() {
        return this._gfooterHeight || this.$_measure(this._bodyStyle, this._groupFooterStyle, this._groupFooterCellStyle);
      }, enumerable: !1, configurable: !0 }), i.prototype.measure = function(e) {
        this._dirty && (this._dirty = !1);
      }, i.prototype.invalidate = function() {
        this._dirty = !0;
      }, i.prototype.$_prepareElements = function(e) {
        var t = te(e), o = t.createElement("table");
        o.setAttribute("aria-hidden", "true");
        var r = o.createCaption();
        r.textContent = "grid measurer table", r.style.width = r.style.height = "0px", r.style.padding = "none", r.style.boxSizing = "border-box", r.style.overflow = "hidden", e.appendChild(o);
        var n = o.style;
        n.width = "1000px", n.height = "1px", n.left = "-10000px", n.position = "absolute", o.className = "rg-table";
        var s = t.createElement("tbody");
        o.appendChild(s);
        var l = t.createElement("tr");
        s.appendChild(l);
        var h = t.createElement("td");
        h.className = "rg-data-cell", l.appendChild(h);
        var u = t.createElement("div");
        h.appendChild(u), u[b.TextProp] = "AYwyhi우리테크";
      }, i.prototype.$_measure = function(e, t, o) {
        var r = this._container, n = this._container.firstElementChild.tBodies[0].rows[0], s = n.cells[0];
        return r.className = e, n.className = t, s.className = o, n.offsetHeight;
      }, i;
    }(J), d_ = function(a) {
      function i(e) {
        var t = a.call(this, e) || this;
        return t._levelIndent = 16, t._lineVisible = !0, t._showCheckBox = !1, t._iconImagesRoot = "", t._defaultIcon = -1, t._collapseWhenLeftKey = !0, t._collapseWhenCtrlKey = !0, t._expandWhenRightKey = !0, t._expandWhenCtrlKey = !0, t._iconVisible = !0, t._expanderIconStyle = f.TreeExpanderIconStyle.TRIANGLE, t._expandedIcon = -1, t._collapsedIcon = -1, t._recursiveSoftDeleting = !1, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "levelIndent", { get: function() {
        return this._levelIndent;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "lineVisible", { get: function() {
        return this._lineVisible;
      }, set: function(e) {
        e != this._lineVisible && (this._lineVisible = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "showCheckBox", { get: function() {
        return this._showCheckBox;
      }, set: function(e) {
        e != this._showCheckBox && (this._showCheckBox = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconImagesRoot", { get: function() {
        return this._iconImagesRoot;
      }, set: function(e) {
        e !== this._iconImagesRoot && (this._iconImagesRoot = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconImages", { get: function() {
        return this._iconImages;
      }, set: function(e) {
        e !== this._iconImages && (this._iconImages = e ? e.slice() : [], this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "defaultIcon", { get: function() {
        return this._defaultIcon;
      }, set: function(e) {
        e != this._defaultIcon && (this._defaultIcon = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandedIcon", { get: function() {
        return this._expandedIcon;
      }, set: function(e) {
        e != this._expandedIcon && (this._expandedIcon = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "collapsedIcon", { get: function() {
        return this._collapsedIcon;
      }, set: function(e) {
        e != this._collapsedIcon && (this._collapsedIcon = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconCallback", { get: function() {
        return this._iconCallback;
      }, set: function(e) {
        e != this._iconCallback && (this._iconCallback = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "collapseWhenLeftKey", { get: function() {
        return this._collapseWhenLeftKey;
      }, set: function(e) {
        this._collapseWhenLeftKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "collapseWhenCtrlKey", { get: function() {
        return this._collapseWhenCtrlKey;
      }, set: function(e) {
        this._collapseWhenCtrlKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandWhenRightKey", { get: function() {
        return this._expandWhenRightKey;
      }, set: function(e) {
        this._expandWhenRightKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expandWhenCtrlKey", { get: function() {
        return this._expandWhenCtrlKey;
      }, set: function(e) {
        this._expandWhenCtrlKey = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "iconVisible", { get: function() {
        return this._iconVisible;
      }, set: function(e) {
        e != this._iconVisible && (this._iconVisible = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "expanderIconStyle", { get: function() {
        return this._expanderIconStyle;
      }, set: function(e) {
        e != this._expanderIconStyle && (this._expanderIconStyle = e, this._changed());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "recursiveDeleting", { get: function() {
        return this._recursiveSoftDeleting;
      }, set: function(e) {
        this._recursiveSoftDeleting = e;
      }, enumerable: !1, configurable: !0 }), i;
    }(lt);
    (function(a) {
      function i(e, t) {
        var o = a.call(this, e, t, "treeExpandHandle") || this;
        return o._expanded = !1, o.clickable = !0, o;
      }
      w(i, a), Object.defineProperty(i.prototype, "expanded", { get: function() {
        return this._expanded;
      }, set: function(e) {
        e != this._expanded && (this._expanded = e, this._changed());
      }, enumerable: !1, configurable: !0 }), i.prototype._createDom = function() {
        return null;
      };
    })(mh);
    var yo = function(a) {
      function i(e) {
        var t = a.call(this) || this;
        return t._exclusive = !1, t.assignFrom(e), t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._dom.style.removeProperty("padding-left"), this._expander = this._check = this._icon = this._span = this._label = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "type", { get: function() {
        return i.TYPE;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "styleName", { get: function() {
        return i.STYLE_NAME;
      }, enumerable: !1, configurable: !0 }), i.prototype._doInitContent = function(e) {
        var t = te(e), o = this._expander = t.createElement("span");
        e.appendChild(o);
        var r = this._check = t.createElement("input");
        r.type = "checkbox", r.className = "rg-tree-checkbox", r.style.display = "inline-block", e.appendChild(r);
        var n = this._icon = t.createElement("img");
        n.className = "rg-tree-icon", n.alt = "", e.appendChild(n);
        var s = this._span = t.createElement("span");
        e.appendChild(s);
        var l = this._label = t.createElement("label");
        l.style.display = "none", e.appendChild(l);
      }, i.prototype._doRenderCell = function(e, t, o, r, n) {
        var s = e.treeOptions, l = s.showCheckBox, h = s.levelIndent, u = this._expander, c = this._dom, d = this._check, p = this._icon, _ = this._span, g = this._label, y = t.item, m = o.cell, v = s.expanderIconStyle === f.TreeExpanderIconStyle.SQUARE ? " square" : "";
        if (u.className = y.isLeaf ? "rg-tree-leaf" : y.expanded ? "rg-tree-expanded" + v : "rg-tree-collapsed" + v, e.accessibility && (y.isLeaf ? m.removeAttribute("aria-expanded") : m.setAttribute("aria-expanded", y.expanded ? "true" : "false")), this._exclusive != e.checkBar.exclusive && (this._exclusive = e.checkBar.exclusive, d.setAttribute("type", this._exclusive ? "radio" : "checkbox"), d.className = this._exclusive ? "rg-tree-radio" : "rg-tree-checkebox"), l) {
          d.parentElement || c.insertBefore(d, this._span), d.checked = y.checked;
          var C = d.id = i.FOR_ID + t.item.index;
          g.setAttribute("for", C), g[b.TextProp] = this._makeText(e, t, o) + (d.checked ? " checked" : " unchecked");
        } else
          d.parentElement && c.removeChild(d);
        if (s.iconVisible) {
          p.parentElement || c.insertBefore(p, this._span);
          var x = e.getTreeIcon(y);
          x ? (p.src = x, p.removeAttribute("height"), p.style.removeProperty("visibility")) : (p.removeAttribute("src"), p.height = 1, p.style.visibility = "hidden");
        } else
          p.parentElement && c.removeChild(p);
        _[b.TextProp] = this._makeText(e, t, o), c.style.setProperty("padding-left", 3 + (y.level - 1) * h + "px", "important");
      }, i.TYPE = "tree", i.FOR_ID = "$$-tree-check", i.STYLE = "rg-tree-renderer", i.STYLE_NAME = "rg-renderer " + i.STYLE, i;
    }(Ct), Uo = function(a) {
      function i(e) {
        return a.call(this, e, "treeItemView") || this;
      }
      return w(i, a), i.prototype.isCheckBox = function(e) {
        var t = e.className;
        return t == "rg-tree-checkbox" || t == "rg-tree-radio";
      }, i.prototype._doLayoutContent = function(e) {
        a.prototype._doLayoutContent.call(this, e);
      }, i.prototype._createRenderer = function(e, t, o, r, n) {
        var s = e.layoutManager, l = t.dataColumn.layout;
        return s.getHorzColumnIndex(l) === 0 ? new yo(r) : a.prototype._createRenderer.call(this, e, t, o, r, n);
      }, i.prototype.$_getDefaultRenderer = function(e, t) {
        var o = e.layoutManager, r = t.dataColumn.layout;
        return o.getHorzColumnIndex(r) === 0 ? yo.TYPE : Qi.TYPE;
      }, i;
    }(mt), p_ = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return 0;
      }, i.prototype._getEndCell = function(e) {
        return e.fixedCellCount - 1;
      }, i;
    }(Uo), f_ = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype._getFirstCell = function(e) {
        return this._getStartCell(e);
      }, i.prototype._getLastCell = function(e) {
        return this._getEndCell(e);
      }, i.prototype._getStartCell = function(e) {
        return e.cellCount - e.rightCellCount;
      }, i.prototype._getEndCell = function(e) {
        return e.cellCount - 1;
      }, i;
    }(Uo), __ = function(a) {
      function i(e, t) {
        return a.call(this, e, t) || this;
      }
      return w(i, a), i.prototype.isTreeCell = function(e) {
        var t = this.bodyCellAt(e);
        return t && t.renderer2 instanceof yo;
      }, i.prototype.createRowElement = function() {
        return new Uo(this.doc);
      }, i;
    }(xt), g_ = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.isTreeCell = function(e) {
        var t = this.bodyCellAt(e);
        return t && t.renderer2 instanceof yo;
      }, i.prototype.createRowElement = function() {
        return new p_(this.doc);
      }, i;
    }(Ol), y_ = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.isTreeCell = function(e) {
        var t = this.bodyCellAt(e);
        return t && t.renderer2 instanceof yo;
      }, i.prototype.createRowElement = function() {
        return new f_(this.doc);
      }, i;
    }(Rl), m_ = function(a) {
      function i(e) {
        var t = a.call(this, e.doc) || this;
        return t._levelWidth = 16, t._handleWidth = 9, t._handleHeight = 9, t._stroke = "gray", t._linePool = [], t._lines = [], t._startIndex = -1, t._endIndex = -1, t._treeView = e, t;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._linePool = null, this._lines = null, a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "levelWidth", { get: function() {
        return this._levelWidth;
      }, set: function(e) {
        e != this._levelWidth && (this._levelWidth = e, this.invalidate());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "handleWidth", { get: function() {
        return this._handleWidth;
      }, set: function(e) {
        e != this._handleWidth && (this._handleWidth = e, this.invalidate());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "handleHeight", { get: function() {
        return this._handleHeight;
      }, set: function(e) {
        e != this._handleHeight && (this._handleHeight = e, this.invalidate());
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "stroke", { get: function() {
        return this._stroke;
      }, set: function(e) {
        e != this._stroke && (this._stroke = e, this.invalidate());
      }, enumerable: !1, configurable: !0 }), i.prototype.setRange = function(e, t, o) {
        t == this._startIndex && o == this._endIndex || (this._startIndex = t, this._endIndex = o, this.invalidate());
      }, i.prototype.layout = function(e) {
        var t = this._treeView;
        if (this.$_hideAll(), !(!t || this._startIndex < 0 || this._endIndex < 0 || this._startIndex > this._endIndex)) {
          var o, r = null;
          for (o = this._startIndex; o <= this._endIndex && !(r = t.getItem(o)); o++)
            ;
          if (r) {
            var n = r.level;
            if (n > 1 || r.childIndex > 0) {
              for (var s = 0; s < n; s++) {
                var l = r.getAncestor(s);
                (h = l.last) && h.index >= o && (h = this.$_findLevelItem(s + 1, o), this.$_drawVertLine(e, this.$_borrowLine(), null, h, l.level));
              }
              r.childIndex > 0 && this.$_drawVertLine(e, this.$_borrowLine(), null, r, r.parent.level);
            }
            for (; o <= this._endIndex; o++) {
              var h, u = (r = t.getItem(o)).parent;
              (s = r.childIndex) < u.count - 1 && ((h = u.getItem(s + 1)).index > this._endIndex && (h = null), this.$_drawVertLine(e, this.$_borrowLine(), r, h, u.level)), (u = r) && u.expanded && u.count > 0 && ((h = u.getItem(0)).index > this._endIndex && (h = null), this.$_drawChildLine(e, this.$_borrowLine(), r, h)), this.$_drawHorzLine(e, this.$_borrowLine(), r);
            }
          }
        }
      }, i.prototype._getCssSelector = function() {
        return "rg-tree-lines";
      }, i.prototype._initDom = function(e) {
        a.prototype._initDom.call(this, e);
        var t = e.style;
        t.setProperty("pointer-events", "none", "important"), t.setProperty("overflow", "hidden");
      }, i.prototype._doDraw = function(e) {
      }, i.prototype.$_borrowLine = function() {
        var e = this._linePool.pop();
        return e || ((e = this._treeView.doc.createElement("div")).className = "rg-tree-line", e.style.position = "absolute", this._dom.appendChild(e)), e.style.display = "inline-block", this._lines.push(e), e;
      }, i.prototype.$_hideAll = function() {
        for (var e = this._lines.length - 1; e >= 0; e--)
          this._lines[e].style.display != "none" && (this._lines[e].style.display = "none");
        this._linePool = this._linePool.concat(this._lines.splice(0, this._lines.length));
      }, i.prototype.$_findLevelItem = function(e, t) {
        for (var o = t; o <= this._endIndex; o++) {
          var r = this._treeView.getItem(o);
          if (r && r.level == e)
            return r;
        }
        return null;
      }, i.prototype.$_setBounds = function(e, t, o, r, n) {
        var s = e.style;
        s.left = 3 + t + "px", s.top = o + "px", s.width = r == 1 ? "1px" : r + "px", s.height = n == 1 ? "1px" : n + "px";
      }, i.prototype.$_drawVertLine = function(e, t, o, r, n) {
        var s = e.topIndex, l = n * this._levelWidth + this._levelWidth / 2, h = 0, u = this.height, c = this._handleHeight;
        if (o) {
          var d = e.getItemBounds(o.index - s), p = o instanceof xe && o.hasChildren ? c + 2 : 0;
          h = d.y + d.height / 2 + p / 2 + 1;
        }
        r && (d = e.getItemBounds(r.index - s), p = r instanceof xe && r.hasChildren ? c : 0, u = d.y + d.height / 2 - p / 2), this.$_setBounds(t, l, h, 1, u - h);
      }, i.prototype.$_drawHorzLine = function(e, t, o) {
        var r, n = e.topIndex, s = o.parent.level * this._levelWidth + this._levelWidth / 2, l = o.level * this._levelWidth + 1;
        o.hasChildren && (s += this._handleWidth / 2 + 1);
        var h = e.getItemBounds(o.index - n);
        r = h.y + h.height / 2, this.$_setBounds(t, s, r, l - s, 1);
      }, i.prototype.$_drawChildLine = function(e, t, o, r) {
        var n, s = e.topIndex, l = o.level * this._levelWidth + this._levelWidth / 2, h = this.height, u = e.getItemBounds(o.index - s);
        if (n = u.y + u.height / 2 + 5, r) {
          u = e.getItemBounds(r.index - s);
          var c = r.hasChildren ? this._handleHeight : 0;
          h = u.y + u.height / 2 - c / 2;
        }
        this.$_setBounds(t, l, n, 1, h - n);
      }, i;
    }(Ve), b_ = function(a) {
      function i(e) {
        return a.call(this, e, "treeViewSelectionTool") || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, i.prototype._doKeyDown = function(e) {
        var t, o = this.focused.clone(), r = this.grid.treeOptions, n = e.which, s = e.ctrlKey || e.metaKey;
        if (o && (t = o.item))
          switch (n) {
            case 39:
              if (!s && this.grid.visibleLayoutCount == 1 && o.isRight && r.expandWhenRightKey || s && r.expandWhenCtrlKey) {
                if (!t.expanded)
                  return t.setExpanded(!0, !1, !1), !0;
                if (t.count > 0)
                  return o.down(), this.setFocused(o, !0, !0), !0;
              }
              break;
            case 37:
              if (!s && o.isLeft && r.collapseWhenLeftKey || s && r.collapseWhenCtrlKey) {
                if (t.expanded)
                  return t.setExpanded(!1, !1, !1), !0;
                if (!(t.parent instanceof gr))
                  return o.itemIndex = t.parent.index, this.setFocused(o, !0, !0), !0;
              }
          }
        return a.prototype._doKeyDown.call(this, e);
      }, i.prototype._doPointerDown = function(e) {
        var t = e.mouseX, o = e.mouseY, r = e.altKey, n = this.grid, s = this.findElementAt(t, o, !1), l = this.mouseEventTarget;
        if (s instanceof Uo && mt.isExpander(l) && !r) {
          var h = s._item;
          h instanceof xe && (h.expanded ? n.collapse(h, !1) : n.expand(h, !1, !1));
        }
        a.prototype._doPointerDown.call(this, e);
      }, i.prototype._doClick = function(e, t, o) {
        t = t || e.mouseX, o = o || e.mouseY;
        var r = e.shiftKey, n = this.grid;
        this.focused;
        var s = this.findElementAt(t, o, !1), l = this.mouseEventTarget;
        if (s instanceof Uo && s.isCheckBox(l))
          if (n.editOptions.checkable) {
            var h = n.getItem(s.itemIndex);
            this._doCheck(l, h, r);
          } else
            e.preventDefault();
        a.prototype._doClick.call(this, e, t, o);
      }, i.prototype._canMoveRowAt = function(e, t, o) {
        var r = e.boundsByContainer(e.getCellRectAt(this.grid.layoutManager, t, !1)), n = 3 + (t.item.level - 1) * this.grid.treeOptions.levelIndent;
        if (o < r.x + (e.isTreeCell(t) ? n : 20)) {
          var s = this.grid.getSelectedItems();
          if (s.length > 1) {
            for (var l = s[0].level, h = 1; h < s.length; h++)
              if (s[h].level < l)
                return !1;
          }
          return !0;
        }
      }, i;
    }(ws), v_ = function(a) {
      function i(e, t, o, r) {
        return a.call(this, e, t, o, r) || this;
      }
      return w(i, a), i.prototype._doDispose = function() {
        a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "treeView", { get: function() {
        return this.gridView;
      }, enumerable: !1, configurable: !0 }), i.prototype._createGridView = function(e, t) {
        return new Ms(this, e, t);
      }, i.prototype._createDefaultTool = function() {
        return new b_(this);
      }, i;
    }(Sh), w_ = function(a) {
      function i() {
        return a.call(this, "treeItemExpanderCell") || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "getText", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), i;
    }(st), C_ = function(a) {
      function i() {
        return a.call(this, "treeItemFooterCell") || this;
      }
      return w(i, a), Object.defineProperty(i.prototype, "getText", { get: function() {
        var e = String(this.value());
        if (!e) {
          var t = this.index;
          t.dataColumn && (e = t.column.footer.text);
        }
        return e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "value", { get: function() {
        return null;
      }, enumerable: !1, configurable: !0 }), i;
    }(st), Ms = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, t, o) || this;
        return r._expanderCell = new w_(), r._footerCell = new C_(), r._focusedRow = -1, r.itemSource = r._rs = r._createItemSource(), r;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this.itemSource = this._rs = this.itemSource && this.itemSource.dispose(), a.prototype._doDispose.call(this);
      }, Object.defineProperty(i.prototype, "treeOptions", { get: function() {
        return this._treeOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "linesView", { get: function() {
        return this._linesView;
      }, enumerable: !1, configurable: !0 }), i.prototype.isTree = function() {
        return !0;
      }, i.prototype.recursiveDeleting = function() {
        return this.treeOptions.recursiveDeleting;
      }, i.prototype._beforeChangeLayout = function() {
      }, i.prototype.getLevels = function(e) {
        return this._rs.getLevels(e);
      }, i.prototype.getExpanderCell = function(e) {
        return this._expanderCell.setIndex(W.temp(this, e)), this._expanderCell;
      }, i.prototype.getFooterCell = function(e) {
        return this._footerCell.setIndex(e), this._footerCell;
      }, i.prototype.expand = function(e, t, o, r) {
        this.isItemEditing(null) || this._rs.expand(e, t, o, r);
      }, i.prototype.collapse = function(e, t) {
        this.isItemEditing(null) || this._rs.collapse(e, t);
      }, i.prototype.expandAll = function(e) {
        e === void 0 && (e = 0), this.isItemEditing(null) || this._rs.expandAll(e);
      }, i.prototype.collapseAll = function() {
        this.isItemEditing(null) || this._rs.collapseAll();
      }, i.prototype.getTreeIcon = function(e) {
        var t = this.treeOptions, o = t.iconImages;
        if (o) {
          var r = void 0;
          r = e.hasChildren && e.expanded && t.expandedIcon > -1 ? t.expandedIcon : e.hasChildren && e.collapsed && t.collapsedIcon > -1 ? t.collapsedIcon : e.iconIndex;
          var n = t.iconCallback;
          if (n) {
            var s = n(this.handler, e.index, e.dataRow, r);
            if (typeof s == "string")
              return s;
            isNaN(s) || (r = s);
          }
          if ((r < 0 || r >= o.length) && (r = t.defaultIcon), r >= 0 && r < o.length)
            return t.iconImagesRoot + o[r];
        }
      }, i.prototype.getCheckedItems = function() {
        for (var e = [], t = 0, o = this.itemCount; t < o; t++) {
          var r = this.getItem(t);
          r.checked && e.push(r);
        }
        return e;
      }, i.prototype.getCheckedItemIndices = function() {
        for (var e = [], t = 0, o = this.itemCount; t < o; t++) {
          var r = this.getItem(t);
          r.checked && e.push(r.index);
        }
        return e;
      }, i.prototype.getCheckedRows = function(e) {
        var t = null;
        if (e) {
          t = [];
          for (var o = 0, r = this.itemCount; o < r; o++) {
            var n = this.getItem(o);
            n.checked && t.push(n.row);
          }
        } else
          t = this._rs.getCheckedRows();
        return t;
      }, i.prototype.getCheckedRowIds = function(e) {
        var t = null;
        if (e) {
          t = [];
          for (var o = 0, r = this.itemCount; o < r; o++) {
            var n = this.getItem(o);
            n.checked && t.push(n.dataRow);
          }
        } else
          t = this._rs.getCheckedRowIds();
        return t;
      }, i.prototype.checkChildren = function(e, t, o, r, n, s) {
        if (n === void 0 && (n = !0), s === void 0 && (s = !1), e)
          for (var l = 0, h = e.count; l < h; l++) {
            var u = e.getItem(l);
            n ? u.checkable && u.setChecked(t, s) : u.setChecked(t, s), !o || !u.expanded && r || this.checkChildren(u, t, !0, r, n, s);
          }
      }, i.prototype.resetCheckables = function() {
        this._rs.resetCheckables();
      }, i.prototype.applyCheckables = function() {
        this._rs.applyCheckables();
      }, i.prototype.getItemOfModel = function(e) {
        return e.itemIndex >= 0 ? this.getItem(e.itemIndex) : e.dataRow >= 0 ? this.getItemOfRow(e.dataRow, !1) : null;
      }, i.prototype.getJsonRows = function() {
        return this._rs.getJsonRows();
      }, Object.defineProperty(i.prototype, "dataSource", { get: function() {
        return this._rs && this._rs.dataSource;
      }, set: function(e) {
        this._rs && (this._rs.dataSource = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "maxItemCount", { get: function() {
        return this._rs ? this._rs.maxItemCount : 0;
      }, set: function(e) {
        this._rs && (this._rs.maxItemCount = e);
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "summarizer", { get: function() {
        return this._rs.summarizer;
      }, enumerable: !1, configurable: !0 }), i.prototype._initStyles = function() {
        a.prototype._initStyles.call(this), this._treeOptions = new d_(this);
      }, i.prototype._createItemSource = function() {
        return new Xc(!0);
      }, i.prototype._doContentPanesCreated = function() {
        this._linesView = new m_(this), this.addElement(this._linesView);
      }, i.prototype._createSidePane = function() {
        return a.prototype._createSidePane.call(this);
      }, i.prototype._createLayoutManager = function() {
        return new x_(this);
      }, i.prototype._createBodyView = function(e) {
        return new __(this.doc, e);
      }, i.prototype._createFixedBodyView = function(e) {
        return new g_(this.doc, e);
      }, i.prototype._createRightBodyView = function(e) {
        return new y_(this.doc, e);
      }, i.prototype._visualObjectChanged = function(e) {
        a.prototype._visualObjectChanged.call(this, e);
      }, i.prototype.append = function() {
        return this.insert(this._rs.rootItem, !1, !0);
      }, i.prototype._doCanInsert = function(e, t, o) {
        return e && (e.count > 0 || !o || e.level == 0 || this.editOptions.appendable);
      }, i.prototype._doMaxRowCountChanged = function() {
        this._rs.maxItemCount = this.maxItemCount;
      }, i.prototype.getSortFields = function() {
        return this._rs.getSortFields();
      }, i.prototype.getSortDirections = function() {
        return this._rs.getSortDirections();
      }, i.prototype.getSortCases = function() {
        return this._rs.getSortCases();
      }, i.prototype._doSortItems = function(e, t, o) {
        this._rs.setLabelComparer(this._doPrepareComparer(e)), this._rs.orderBy(e, t, o);
      }, i.prototype._doColumnFiltersChanged = function(e, t) {
        this._rs.includeParentItem = this.filteringOptions.includeParentItem, this.applyFilters(e, t);
      }, i.prototype.setOptions = function(e) {
        if (e) {
          var t = this._rs;
          e.hideDeleted !== void 0 && (t.hideDeleted = e.hideDeleted), e.hideDeletedRows !== void 0 && (t.hideDeleted = e.hideDeletedRows), e.summaryMode !== void 0 && (t.summaryMode = e.summaryMode), e.sortMode !== void 0 && (t.sortMode = e.sortMdoe), a.prototype.setOptions.call(this, e);
        }
      }, i.prototype._doPrepareRender = function(e) {
        var t = this._horzScrolled;
        a.prototype._doPrepareRender.call(this, e), t && this.layoutManager.$_layoutLines();
      }, i.prototype.$_doLayout = function(e, t) {
        this._treeOptions, a.prototype.$_doLayout.call(this, e, t);
      }, i.prototype.assignImageList = function(e) {
      }, i.prototype.refreshView = function() {
        a.prototype.refreshView.call(this);
      }, i.prototype.getEditBounds = function(e, t) {
        return a.prototype.getEditBounds.call(this, e, t);
      }, i.prototype.updatePastedRow = function(e, t, o) {
        if (e instanceof xe) {
          var r = e.row;
          r && r.update(t, o);
        }
      }, i.prototype.appendPastedRow = function(e) {
        var t = this.dataSource;
        if (t) {
          var o = t.createRow(e, -1, !1);
          return t.rootRow.addChild(o, !1), o.rowId;
        }
      }, Object.defineProperty(i.prototype, "undoable", { get: function() {
        return this._rs.undoable;
      }, set: function(e) {
        this._rs.undoable = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canUndo", { get: function() {
        return this._rs.canUndo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "canRedo", { get: function() {
        return this._rs.canRedo;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "undoing", { get: function() {
        return this._rs.undoing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "redoing", { get: function() {
        return this._rs.redoing;
      }, enumerable: !1, configurable: !0 }), i.prototype.undo = function() {
        return !!this._rs.canUndo && (this._rs.cancelWhenLastUndo = this.editOptions.cancelWhenLastUndo, this.editController.cancelEditor(!0), this._rs.undo(), !0);
      }, i.prototype.redo = function() {
        return !!this._rs.canRedo && (this._rs.redo(), !0);
      }, i.prototype.execute = function(e) {
        this._rs.execute(e);
      }, i.prototype.clearCommandStack = function(e) {
        e === void 0 && (e = !0), this._rs.clearCommandStack(e);
      }, i.prototype.getFirstRow = function() {
        return null;
      }, i.prototype.getLastRow = function() {
        return null;
      }, i.prototype.getPrevRow = function(e) {
        return null;
      }, i.prototype.getNextRow = function(e) {
        return null;
      }, i.prototype.canMoveRows = function(e, t, o) {
        if (o && this.canMoveRow(t, !1) && e && e.length > 0) {
          var r = e[0].parent;
          if (r !== o.parent)
            return !1;
          for (var n = 1, s = e.length; n < s; n++)
            if (r !== e[n].parent)
              return !1;
          var l = !1;
          for (n = 0; n < e.length; n++) {
            var h = e[n];
            h && h.isDataRow && (l = !0);
          }
          return l;
        }
      }, i.prototype._getMoveTarget = function(e, t, o, r) {
        if (e === "keydown") {
          var n = this.getItem(o), s = n.parent;
          if (n.childIndex + t.length >= s.children.length && r > 0 || n.childIndex === 0 && r < 0)
            return;
          var l = this.getItem(o + r);
          if (n.level === l.level)
            return l;
          var h = n.childIndex + r;
          return !s || h < 0 || h >= s.children.length ? void 0 : s.children[h];
        }
        return this.getItem(o + r);
      }, i.prototype._doMoveRows = function(e, t) {
        var o = t && t.dataId;
        if (o >= 0) {
          for (var r = [], n = 0, s = e; n < s.length; n++) {
            var l = s[n], h = l && l.dataId;
            h >= 0 && r.push(h);
          }
          if (r.length > 0) {
            var u = this.dataSource, c = u.rowsByIds(r, !1);
            if (c.length > 0)
              return u.moveRows(c, u.rowById(o));
          }
        }
        return !1;
      }, i.prototype._fitLayoutWidth = function(e) {
        if (!e.visible)
          return 0;
        var t, o = this.itemSource, r = this.getIndex(this.topIndex, e.firstColumn), n = "", s = 0;
        t = n = e.firstColumn.header.displayText;
        var l, h = this.getBodyCellAt(r, !1), u = h && h.renderer2 && h.renderer2._dom, c = h && h.renderer2 instanceof yo, d = { 0: b.getTextLength(t) }, p = { 0: t };
        if (u) {
          var _ = be(u).getComputedStyle(u);
          if (_) {
            n = _.paddingLeft;
            var g = parseInt(n.substr(0, n.indexOf("px")));
            s += g > 0 ? g : 0, n = _.paddingRight, s += (g = parseInt(n.substr(0, n.indexOf("px")))) > 0 ? g : 0, l = { fontSize: _.fontSize, fontFamily: _.fontFamily, fontWeight: _.fontWeight, fontStyle: _.fontStyle };
          }
        }
        for (var y = 0, m = o.itemCount; y < m; y++)
          r.itemIndex = y, d[I = c ? r.item.level : 0] = d[I] || 0, n = this.getDisplayText(r), b.getTextLength(n) > d[I] && (d[I] = b.getTextLength(n), p[I] = n);
        for (var v = 0, C = 0, x = 0, S = Object.keys(d); x < S.length; x++) {
          var I = S[x];
          v = c ? parseInt(I) * this.linesView.levelWidth + 6 + (this.treeOptions.iconVisible ? 24 : 0) : 6, v += this.container.measureText("rg-data-cell", p[I], l), C = Math.max(C, v);
        }
        s += C;
        var E = e.firstColumn, O = E.editor, P = this.delegate.getCellEditor($e.getEditorType(O));
        return P.hasButton(this.displayOptions.showNativeEditButton, O) && (s += this.body.editButtonWidth * P.buttonCount), E.button !== f.CellButton.NONE && (s += this.body.cellButtonWidth), s;
      }, i.prototype.$_getVisibleAncestor = function(e) {
        var t = this._rs.getItemOfRow(e);
        if (t) {
          for (; t && !t.visible; )
            t = t.parent;
          return t;
        }
        return null;
      }, i.prototype.onItemProviderReset = function(e) {
        this._currentRowId = -1, a.prototype.onItemProviderReset.call(this, e);
      }, i.prototype.onTreeItemProviderItemChanged = function(e, t) {
        this.invalidateLayout(), this.fireEvent(i.CHANGED, t);
      }, i.prototype.onTreeItemProviderExpanding = function(e, t) {
        return this._focusedRow = this.focusedIndex ? this.focusedIndex.dataRow : -1, this.editController.editing && !e.isEditing() && this.editController.cancelEditor(!0), !this.editController.editing && !e.isEditing() && this.fireConfirmEvent(i.EXPANDING, t);
      }, i.prototype.onTreeItemProviderExpanded = function(e, t) {
        this.fireEvent(i.EXPANDED, t);
      }, i.prototype.onTreeItemProviderCollapsing = function(e, t) {
        return this._focusedRow = this.focusedIndex ? this.focusedIndex.dataRow : -1, this.editController.editing && !e.isEditing() && this.editController.cancelEditor(!0), !this.editController.editing && !e.isEditing() && this.fireConfirmEvent(i.COLLAPSING, t);
      }, i.prototype.onTreeItemProviderCollapsed = function(e, t) {
        this.fireEvent(i.COLLAPSED, t);
      }, i.EXPANDING = "onTreeViewExpanding", i.EXPANDED = "onTreeViewExpanded", i.COLLAPSING = "onTreeViewCollapsing", i.COLLAPSED = "onTreeViewCollapsed", i.CHANGED = "onTreeViewChanged", i;
    }(li), x_ = function(a) {
      function i(e) {
        return a.call(this, e) || this;
      }
      return w(i, a), i.prototype.layout = function(e) {
        a.prototype.layout.call(this, e), this.$_layoutLines();
      }, i.prototype.$_layoutLines = function() {
        var e = this.grid, t = e.linesView;
        if (t.visible = e.treeOptions.lineVisible) {
          var o = this.fixedLayoutCount > 0, r = (o ? this.fixedBodyBounds : this.bodyBounds).clone();
          o ? (r.y += this.fixedContentBounds.y, r.x += this.fixedContentBounds.x) : (r.y += this.contentBounds.y, r.x += this.contentBounds.x), this.layoutCount > 0 ? r.width = Math.max(0, this.getLayoutWidth(0)) : r.width = 0, t.setRect(r), t.levelWidth = 16, t.setRange(e, this.topIndex, Math.min(e.itemCount, this.topIndex + this.itemCount) - 1), t.layout(this);
        }
      }, i;
    }(as), I_ = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._columns = null, e;
      }
      return w(i, a), i.prototype._doDispose = function() {
        this._columns = null, a.prototype._doDispose.call(this);
      }, i.prototype.setColumns = function(e) {
        this._columns = [];
        for (var t = 0; t < e.length; t++)
          e[t].layout instanceof de && this._columns.push(e[t].layout.firstColumn.name);
      }, i.prototype.setItemIndex = function(e, t) {
        this._itemIndex = e, this._startCol = t;
      }, i.prototype.isIdentifier = function(e) {
        return e = e.toLowerCase(), i.IDENTS.hasOwnProperty(e) ? i.IDENTS[e] : a.prototype.isIdentifier.call(this, e);
      }, i.prototype.evaluateIdentifier = function(e) {
        if (e === i.ID_ROW)
          return String(this._itemIndex + 1);
        throw new ie("Invalid identifier key: " + e);
      }, i.prototype.evaluateIndexerI = function(e, t) {
        if (e == i.ID_EXCELCOLUMN) {
          if (t < 0 || t >= this._columns.length)
            throw new ie("Data field index out of bounds:" + t);
          return this._columns[t];
        }
        throw new ie("Invalid identifier indexer: " + e);
      }, i.prototype.evaluateIndexerS = function(e, t, o) {
        if (e != i.ID_EXCELCOLUMN)
          throw new ie("Invalid identifier indexer: " + e);
        if (this._columns) {
          var r = this._columns.indexOf(t);
          if (r < 0 || r >= this._columns.length)
            throw new ie("Column is not exists:" + t);
          return ht.toColCaption(r + this._startCol);
        }
      }, i.ID_EXCELCOLUMN = 0, i.ID_ROW = 1, i.IDENTS = { excelcolumn: i.ID_EXCELCOLUMN, row: i.ID_ROW }, i;
    }(bt), S_ = function(a) {
      function i() {
        var e = a.call(this) || this;
        return e._gridIndex = 0, e._numberFormatId = 0, e._textFormatId = 49, e._dateFormatId = 14, e._rowLevels = 0, e._indents = 0, e._indentWidth = 3, e._seriesCell = new _r(), e._excelFormulaRuntime = new I_(), e;
      }
      return w(i, a), i.prototype.dispose = function() {
        return a.prototype.dispose.call(this), this._seriesCell = this._seriesCell.dispose(), this._linkRenderer = this._linkRenderer && this._linkRenderer.dispose(), this._templateRenderer = this._templateRenderer && this._templateRenderer.dispose(), this._imageRenderer = this._imageRenderer && this._imageRenderer.dispose(), this._excelFormulaRuntime = this._excelFormulaRuntime.dispose(), null;
      }, i.prototype._progressCallback = function(e, t, o, r) {
        var n = this._progressGrid, s = this._multiOptions;
        n && n.setExportProgress(o, r + s.prepareProgress, s.progressMessage);
      }, i.prototype.export = function(e, t) {
        if (a.prototype.export.call(this, e, t), this._progressGrid = e, t) {
          var o = this._multiOptions = t, r = this._multiOptions.exportGrids;
          if (r && !(r.length <= 0)) {
            var n = te(e.container._containerDiv).documentElement, s = new Kf(n);
            if (this._mergeHeads = {}, o.showProgress)
              this._allCount = this._prepareCount(o, r), this._progressMax = this._allCount + o.prepareProgress, this._progressPos = 0, this._progressStep = Math.max(this._allCount / 10 | 0, 1), o.progressCallback ? this.setProgress = o.progressCallback : (this._progressGrid && this._progressGrid.beginExportProgress(o.progressMessage), this.setProgress = this._progressCallback), this._exportGridAsync(s, o, this._gridIndex = 0, function u() {
                var c = ++this._gridIndex;
                c < o.exportGrids.length ? this._exportGridAsync(s, o, c, u.bind(this)) : (!t.progressCallback && this._progressGrid && this._progressGrid.endExportProgress(), this.save());
              }.bind(this));
            else {
              for (var l = 0, h = r.length; l < h; l++)
                this._exportGrid(s, r[l].options);
              this.save();
            }
          }
        }
      }, i.prototype.buildBook = function(e) {
        var t = this._exportOptions.grid;
        t.isTree() ? this.buildTreeSheet(t, e) : this.buildSheet(t, e);
      }, i.prototype.buildSheet = function(e, t) {
        var o = this, r = this._exportOptions, n = this._workbook, s = n.createSheet(this._sheetName, r), l = e.displayOptions;
        if (this._defaultHeight = l.rowHeight || l.minRowHeight, this._rowGrouped = e.rowGrouped, this._mergedGrouped = e.mergedRowGrouped, this._rowGrouped && (this._rowLevels = e.rowGroupLevels), this._startItem = 0, r.allItems && this._rowGrouped) {
          this.allItems = e.itemSource.getAllItems();
          var h = e.layoutManager.fixedItemCount;
          if (h > 0)
            for (var u = 0; u < h; u++)
              this.allItems.splice(u, 0, e.getItem(u));
        } else if (r.pagingAllItems && e.paged) {
          var c = e.itemSource;
          c instanceof yh && (this.allItems = c.getPagingAllItems()), r.onlyCheckedItems && !e.rowGrouped && (this.allItems = this.allItems.filter(function(g) {
            return g.checked;
          }));
        } else
          r.onlyCheckedItems && !e.rowGrouped && (this.allItems = e.getCheckedItems(!1));
        var d = this.allItems, p = d ? d.length : e.itemCount;
        if (!this._rowGrouped) {
          this._startItem = r.start > 0 ? r.start : 0;
          var _ = r.count > 0 ? r.count : p;
          p = _ > 0 ? this._startItem + _ > p ? p - this._startItem : _ : p - this._startItem;
        }
        this._indexItem = this._startItem, this._lastItem = this._startItem + p, this._currentRow = r.yOffset, s.setFirstCol(this._startCol = r.xOffset), this._prepareCommonStyles(e), this._buildColumns(e), s.createBorderEdges(qe.getSelectorStyle(this._preparer.documentCssStyles, ".rg-grid")), this._buildDocumentTitle(n), this.header && this.buildHeader(e), this.headerSummary && this.buildSummaryItem(e, !1, r.headerSummary), this.buildItems(e, function() {
          o.footer && o.buildSummaryItem(e, !0, r.footer), o._buildDocumentTail(n), o._buildUserCells(e, n), t && t();
        });
      }, i.prototype.buildHeader = function(e) {
        for (var t = this._workbook, o = t.currentSheet, r = this._preparer, n = r.colCount, s = r.headerRowCount, l = e.header.heights || [], h = l && l.length > 0 ? e.header.minRowHeight : Math.max(e.header.height, e.header.minRowHeight * s) / s, u = [], c = 0; c < s; c++)
          u.push(Math.max(l[c] || h, h) * i.LINE_HEIGHT);
        var d = this._indents, p = this._currentRow;
        o.setFirstRow(this._currentRow);
        var _, g = this._startCol, y = this._headerCellStyle, m = [];
        for (c = 0; c < s; c++)
          m.push(o.borrowRow(p + c, u[c]));
        if (this.indicator) {
          if ((_ = m[0]).addText(g, this.indicatorHead, y), s > 1) {
            for (c = 1; c < s; c++)
              m[c].addBlank(g, y);
            o.addMerge(p, g, s, 1);
          }
          g++;
        }
        if (this.checkBar) {
          if ((_ = m[0]).addText(g, this.checkBarHead, y), s > 1) {
            for (c = 1; c < s; c++)
              m[c].addBlank(g, y);
            o.addMerge(p, g, s, 1);
          }
          g++;
        }
        if (d > 0) {
          for (var v = 0; v < d; v++) {
            for (c = 0; c < s; c++)
              m[c].addBlank(v + g, this._indentHeadStyle);
            o.addMerge(p, v + g, s, 1);
          }
          g += d;
        }
        for (c = 0; c < s; c++) {
          var C = p + c;
          for (_ = m[c], v = 0; v < n; v++) {
            var x = r.getHeader(c, v), S = x && x.layout, I = v + g;
            if (S.isProxy || x.spanned)
              _.addBlank(I, y);
            else {
              var E = S.displayText, O = this._preparer.documentCssStyles, P = S instanceof de ? S.firstColumn.header : S.header, R = P.exportStyleName || P.styleName;
              y = this._headerCellStyle, R && (y = this._parseStyles(t, this._inheritStyles([this._headerCssStyle, qe.getSelectorStyle(O, "." + R)]), !0)), _.addText(I, E, y);
              var T = 0, D = S.getHeaderSpan() - 1, M = S.parent, V = M && M.vertical;
              if (D > 0) {
                var B = 0, N = S.vindex + 1;
                if (V)
                  for (; B++ < D && B < s; )
                    T += M.getVisible(N++)._hspan, r.getHeader(c + B, v).spanned = !0;
                else
                  for (; B++ < D && v + B < n && N < M.visibleCount; )
                    T += M.getVisible(N++)._cspan, r.getHeader(c, v + B).spanned = !0;
              }
              V ? o.addMerge(C, I, S.hspan + T, S.cspan) : o.addMerge(C, I, S.hspan, S.cspan + T);
            }
          }
        }
        this._currentRow += s, this._exportOptions.applyFixed && o.setFixedInfo(this._currentRow, void 0), o.setLastRow(this._currentRow - 1);
      }, i.prototype.buildSummaryItem = function(e, t, o) {
        function r(Te, Re, Rt, Vt, ut) {
          var ct = n.getCell(Rt.layout), ui = this._exportOptions, Ue = ct.value;
          if (Ue instanceof Date)
            ui.datetimeCallback ? (Ue = ui.datetimeCallback(-1, Rt.name, Ue)) instanceof Date ? Te.addDate(Re, Ue, ut) : Te.addText(Re, Ue, ut) : Te.addDate(Re, Ue, ut);
          else if (isNaN(Ue)) {
            var Tt = t ? Rt.getFooter(n._childIndex) : Rt.getHeaderSummary(n._childIndex), $t = Tt && n.getCellFormatters(Tt, null), mo = $t ? ct.getDisplayText($t) : Ue;
            Te.addText(Re, mo || "", ut);
          } else
            Te.addNumber(Re, Ue, ut);
        }
        var n, s = this._workbook.currentSheet, l = this._preparer, h = l.colCount, u = l.dataRowCount, c = this._indents, d = t ? e.footers : e.headerSummaries, p = o === It ? d.count : d.visibleCount, _ = p * u, g = this._currentRow;
        s.setFirstRow(this._currentRow);
        for (var y, m = this._startCol, v = e.layoutManager.getDataRowHeights(u), C = v.reduce(function(Te, Re) {
          return Te + Re;
        }, 0), x = [], S = 0; S < p; S++) {
          var I = (n = o === It ? d.get(S) : d.getVisible(S)).heights || [], E = I.reduce(function(Te, Re) {
            return Te + Re;
          }, 0), O = n.height;
          O = O === -1 ? -1 : O > 0 ? O / u : Math.max(n.minHeight, e.heightMeasurer.summaryHeight, O);
          for (var P = 0; P < u; P++)
            E > 0 && I[P] > 0 ? x.push(I[P] * i.LINE_HEIGHT) : C > 0 && v[P] > 0 ? x.push(v[P] * n.height / C * i.LINE_HEIGHT) : x.push(O === -1 ? -1 : O * i.LINE_HEIGHT);
        }
        for (S = 0; S < p * u; S++)
          s.borrowRow(g + S, x[S]);
        if (this.indicator) {
          S = 0;
          for (var R = 0; S < p; S++)
            for (var T = 0; T < u; T++)
              y = s.borrowRow(g + R, x[R]), t ? R === 0 ? y.addText(m, this.indicatorFoot, this._indicatorFootStyle) : y.addBlank(m, this._indicatorFootStyle) : R === 0 ? y.addText(m, this.indicatorSummary, this._indicatorSumStyle) : y.addBlank(m, this._indicatorSumStyle), R++;
          s.addMerge(g, m++, _, 1);
        }
        if (this.checkBar) {
          for (S = 0, R = 0; S < p; S++)
            for (T = 0; T < u; T++)
              y = s.borrowRow(g + R, x[R]), t ? R === 0 ? y.addText(m, this.checkBarSummary, this._checkBarSumStyle) : y.addBlank(m, this._checkBarSumStyle) : R === 0 ? y.addText(m, this.checkBarFoot, this._checkBarFootStyle) : y.addBlank(m, this._checkBarFootStyle), R++;
          s.addMerge(g, m++, _, 1);
        }
        if (c > 0) {
          for (var D = 0; D < c; D++) {
            for (S = 0, R = 0; S < p; S++)
              for (T = 0; T < u; T++)
                (y = s.borrowRow(g + R, x[R])).addBlank(m + D, this._indentFootStyle), R++;
            s.addMerge(g, m + D, p * u, 1);
          }
          m += c;
        }
        for (var M = g, V = (t ? l.getFooterItem : l.getSummaryItem).bind(l), B = (P = 0, 0); P < p; P++)
          for (n = o === It ? d.get(P) : d.getVisible(P), S = 0; S < u; S++, B++) {
            for (y = s.borrowRow(M, x[B]), D = 0; D < h; D++) {
              var N = V(P * u + S, D), A = N.layout, z = A.firstColumn, Z = D + m, ee = A.firstColumn.$_hash, Y = (t ? this._columnFooterStyles : this._columnSummaryStyles)[ee][P];
              if (A.isProxy || N.spanned)
                y.addBlank(Z, Y);
              else {
                var q = 0, G = t ? A.getFooterSpan(P) - 1 : A.getSummarySpan(P) - 1, ce = t ? A.getFooterUserSpan(n._childIndex) : A.getSummaryUserSpan(n._childIndex), fe = A.parent, le = fe && fe.vertical;
                if (ce) {
                  var ne = ce.footerCount || 0, he = ne > 0 ? ne * u : ce.rowspan || 1, K = ce.colspan || 1;
                  r.call(this, y, Z, z, P, Y);
                  for (var ye = 0, se = 0, H = 0; H < he; H++) {
                    var pe = (t ? l._footerCells : l._summaryCells)[P * u + S + H];
                    pe && ye++;
                    for (var Ce = 0; pe && Ce < K; Ce++) {
                      var _e = pe[D + Ce];
                      _e && (se = Math.max(se, Ce + 1), _e.spanned = !0);
                    }
                  }
                  (he > 1 || K > 1) && s.addMerge(M, Z, ye, se);
                } else {
                  if (G > 0) {
                    var ve = 0, ge = A.vindex + 1;
                    if (le)
                      for (; ve++ < G && ve < u; )
                        q += fe.getVisible(ge++)._dspan, V(P * u + S + ve, D).spanned = !0;
                    else
                      for (; ve++ < G && D + ve < h && ge < fe.visibleCount; )
                        q += fe.getVisible(ge++)._cspan, V(P * u + S, D + ve).spanned = !0;
                  }
                  r.call(this, y, Z, z, P, Y), le ? s.addMerge(M, Z, A._dspan + q, A._cspan) : s.addMerge(M, Z, A._dspan, A._cspan + q);
                }
              }
            }
            M++;
          }
        this._rowGrouped && this._exportOptions.showLevelOutline && s.setRowLevel(M, 1), this._currentRow += _, s.setLastRow(this._currentRow - 1);
      }, i.prototype.buildItems = function(e, t) {
        for (var o = this._exportOptions, r = o.showIndicatorRow(e), n = o.showIndicatorReverse(e), s = this.allItems, l = s ? s.length : e.itemCount, h = this._progressStep ? this._indexItem + Math.min(this._progressStep, this._lastItem - this._indexItem) : this._lastItem, u = this._indexItem; u < h; u++) {
          var c = s ? s[u] : e.getItem(u);
          if (this._indicatorNo = r ? c.isDataRow ? c.dataRow + 1 : void 0 : n ? l - u : u + 1, c instanceof Fe)
            this.buildRow(e, c);
          else if (c instanceof _t)
            this.buildMergedGroupHeader(e, c);
          else if (c instanceof Qe || c instanceof Ke)
            this._preparer.groupModel != c.parent && this._preparer.setGroupFooterItms(c.parent, o.allItems, e.rowGroup.mergeMode), c instanceof Qe ? this.buildMergedGroupFooter(e, c) : this.buildGroupFooter(e, c);
          else {
            if (!(c instanceof He))
              throw new Error("Unkown item type");
            this.buildGroupHeader(e, c);
          }
          this._progressPos += 1, this._preparer.clearDataSpanned();
        }
        this.setProgress && this.setProgress(e.handler, "process", this._progressMax, this._progressPos), this._indexItem = h, this._indexItem >= this._lastItem ? t && t() : setTimeout(function() {
          this.buildItems(e, t);
        }.bind(this), 0);
      }, i.prototype.buildRow = function(e, t) {
        var o, r, n = e.rowGroup, s = this._preparer, l = s.dataRowCount, h = s.colCount, u = e.layoutManager, c = this._columnMerged, d = this._mergeHeads, p = this._indents, _ = this._workbook.currentSheet, g = this._currentRow;
        _.setFirstRow(this._currentRow);
        var y, m = this._startCol, v = e.displayOptions, C = v.rowHeightCallback;
        t.index >= 0 && C && (u.getRowHeightOfCallback(e, t.index), y = t.heights);
        var x = (y = y || u.getDataRowHeights(l)).reduce(function(Vt, ut) {
          return Vt + ut;
        }, 0) || t.height;
        isNaN(x) && (x = v.rowHeight === -1 ? -1 : Math.max(v.rowHeight || 0, v.minRowHeight * l)), x = x === -1 ? -1 : x > 0 ? x / l : x;
        for (var S = n.expandedAdornments === f.RowGroupAdornments.SUMMARY && n.mergeMode, I = [], E = 0; E < l; E++)
          I.push(_.borrowRow(g + E, x === -1 ? -1 : (y[E] || x) * i.LINE_HEIGHT));
        for (this.indicator && this._buildIndicatorCell(e, _, I, this._indicatorNo, g, m++, l), this.checkBar && this._buildCheckBarCell(e, _, I, t.checked, g, m++, l), E = 0; E < l; E++) {
          var O = I[E];
          O._row = E;
          var P = g + E, R = m;
          for (o = 0; o < p; o++)
            O.addBlank(R, this._indentBarStyle), R++;
          for (o = 0; o < h; o++) {
            var T = o + R, D = s.getItem(E, o), M = D.layout, V = M.firstColumn, B = V.$_hash, N = this._columnStyles[B], A = gt.tempItem(e, t, M);
            if (M.isProxy || D.spanned)
              O.addBlank(T, D.style || N);
            else {
              var z = M._dspan, Z = !1, ee = !1;
              if (c) {
                var Y = u.getMergeRoom(A);
                if (Y)
                  if (Y.isHead(A) && E == 0 || this._startItem > 0 && t.index == this._startItem && !S)
                    N = this._buildValueCell(e, _, O, t, M, T, R), d[B] = { startRow: P, style: N }, Z = !0, ee = !V.mergeGrouped && t.isDataRow;
                  else {
                    var q = d[B];
                    O.addBlank(T, q.style || N), (Y.isTail(A) || this._lastItem > 0 && t.index == this._lastItem - 1) && (z = P - q.startRow + l, _.addMerge(q.startRow, T, z, 1 + (q.cols || 0)), delete d[B]), Z = !0, ee = !V.mergeGrouped && t.isDataRow;
                  }
                else if (this.allItems && !t.visible && e.isGroupedColumn(V) && this._mergedGrouped) {
                  for (O.addBlank(T, N), Z = !0, r = t.parent; V.groupLevel != r.level && r; )
                    r = r.parent;
                  var G = d[B] ? d[B].startRow : void 0;
                  switch (e.rowGroup.expandedAdornments) {
                    case f.RowGroupAdornments.NONE:
                      t == r.firstItem && t == r.lastDataItem ? Z = !1 : t == r.firstItem ? (N = this._buildValueCell(e, _, O, t, M, T, R), d[B] = { startRow: P, style: N }) : t == r.lastDataItem && (z = P - G + l, _.addMerge(G, T, z, 1));
                      break;
                    case f.RowGroupAdornments.BOTH:
                      t == r.lastDataItem && r.footerCount == 0 && (z = P - G + l, _.addMerge(G, T, z, 1));
                      break;
                    case f.RowGroupAdornments.HEADER:
                    case f.RowGroupAdornments.SUMMARY:
                      t == r.firstItem && t == r.lastDataItem ? d[B] ? (z = P - G + l, _.addMerge(G, T, z, 1), delete d[B]) : Z = !1 : t == r.lastDataItem ? (z = P - G + l, _.addMerge(G, T, z, 1), delete d[B]) : r.firstDataItem;
                      break;
                    case f.RowGroupAdornments.FOOTER:
                      t == r.firstItem && (N = this._buildValueCell(e, _, O, t, M, T, R), d[B] = { startRow: P, style: N }), t == r.lastDataItem && (r.footerCount > 0 || (z = P - d[B].startRow + l, _.addMerge(d[B].startRow, T, z, 1), delete d[B]));
                  }
                }
              }
              if (!Z || ee) {
                var ce = !ee && this._buildValueCell(e, _, O, t, M, T, R), fe = M.parent, le = fe && fe.vertical, ne = !0, he = M.spanCallback, K = he ? he(e.handler, M, t.index) : void 0;
                K === void 0 && (K = M.dataSpan), K === void 0 && (ne = !1, K = M.cellSpan);
                var ye = 0;
                if (K > 0) {
                  var se = 0, H = M.vindex + 1;
                  if (le)
                    for (K--; se++ < K && se < l; )
                      ye += (Re = fe.getVisible(H++))._dspan, s.getItem(E + se, o).spanned = !0, s.getItem(E + se, o).style = ce;
                  else {
                    for (var pe = M._dspan, Ce = [], _e = 0; _e < pe; _e++)
                      Ce.push(0);
                    for (var ve = 0; ve < pe; ve++) {
                      Ce[ve] += M._defColSpan;
                      for (var ge = 1; ge < K && o + ge < h; ge++) {
                        var Te = s.getItem(E + ve, o + ge).layout;
                        Te && !Te.isProxy && (Ce[ve] += Te._defColSpan);
                      }
                    }
                    for (ne = Math.max.apply(Math, Ce) === K; se++ < K - 1 && o + se < h && (ne || H < fe.visibleCount); ) {
                      var Re;
                      if (!(Re = ne ? s.getItem(E, o + se).layout : fe.getVisible(H++)))
                        break;
                      !Re.isProxy && (ye += Re._defColSpan);
                    }
                    for (M._defColSpan + ye !== K && (ye = 0), se = 1; se < M._defColSpan + ye; se++) {
                      if (pe > 1 && ne)
                        for (ge = 1; ge < l && pe > ge; ge++)
                          s.getItem(E + ge, o + se).spanned = !0, s.getItem(E + ge, o + se).style = ce;
                      s.getItem(E, o + se).spanned = !0, s.getItem(E, o + se).style = ce;
                    }
                  }
                }
                if (ee) {
                  var Rt = d[B];
                  Rt && (Rt.cols = ye);
                } else
                  le ? _.addMerge(P, T, M._dspan + ye, M._defColSpan) : _.addMerge(P, T, M._dspan, M._defColSpan + ye);
              }
            }
          }
          this._rowGrouped && this._exportOptions.showLevelOutline && _.setRowLevel(P, t.level);
        }
        this._currentRow += l, _.setLastRow(this._currentRow - 1);
      }, i.prototype.buildGroupHeader = function(e, t) {
        var o = this._workbook, r = o.currentSheet, n = this._preparer, s = t.level - 1, l = this._indentBarStyle, h = n.colCount, u = this._currentRow;
        r.setFirstRow(this._currentRow);
        var c = this._startCol, d = e.layoutManager.getDataRowHeights(n.dataRowCount).reduce(function(E, O) {
          return E + O;
        }, 0);
        d = d || Math.max(e.displayOptions.rowHeight, e.displayOptions.minRowHeight, e.displayOptions.minTableRowHeight * n.dataRowCount);
        var p = this._exportOptions, _ = r.borrowRow(u, d * i.LINE_HEIGHT);
        if (this.indicator && this._buildIndicatorCell(e, r, _, this._indicatorNo, u, c++, 1), this.checkBar && this._buildCheckBarCell(e, r, _, t.checked, u, c++, 1), p.indenting)
          for (var g = 0; g < s; g++)
            _.addBlank(c, l), c++;
        var y = e.rowGroup.getHeaderText(t), m = this._groupHeaderStyle, v = this._preparer.documentCssStyles, C = this._dynamicStyles, x = "groupheader-style=.rg-rowgroup-header-level-" + t.level;
        if (C[x])
          m = C[x];
        else {
          var S = qe.getSelectorStyle(v, ".rg-rowgroup-header-level-" + t.level);
          S && (m = this._extendStyles(o, m, S)), this._dynamicStyles[x] = m;
        }
        _.addText(c, y, m), this._indents > 0 && (h += this._indents - (t.level - 1));
        for (var I = 1; I < h; I++)
          _.addBlank(I + c, m);
        r.addMerge(u, c, 1, h), this._rowGrouped && p.showLevelOutline && r.setRowLevel(u, t.level), this._currentRow++, r.setLastRow(this._currentRow - 1);
      }, i.prototype.buildGroupFooter = function(e, t) {
        function o(K, ye, se, H) {
          var pe = ai.getValue(t, se), Ce = this._exportOptions;
          if (pe instanceof Date)
            Ce.datetimeCallback ? (pe = Ce.datetimeCallback(t.index, se.name, pe)) instanceof Date ? K.addDate(ye, pe, H) : K.addText(ye, pe, H) : K.addDate(ye, pe, H);
          else if (isNaN(pe))
            if (pe)
              K.addText(ye, pe, H);
            else {
              var _e = void 0;
              if (t) {
                var ve = gt.tempItem(e, t, se);
                _e = e.getDisplayText(ve) || "";
              } else
                _e = se.groupFooter.text || "";
              K.addText(ye, _e, H);
            }
          else
            K.addNumber(ye, pe, H);
        }
        var r, n, s, l = this._workbook.currentSheet, h = this._exportOptions, u = this._preparer, c = u.dataRowCount, d = u.colCount, p = this._groupFooterCellStyle, _ = this._indentBarStyle, g = this._indents, y = t.level, m = this._currentRow;
        l.setFirstRow(this._currentRow);
        for (var v = this._startCol, C = e.rowGroup.expandedAdornments == f.RowGroupAdornments.SUMMARY, x = Math.max(Math.max(this._defaultHeight, e.displayOptions.minRowHeight) / c, e.displayOptions.minTableRowHeight), S = e.layoutManager.getDataRowHeights(c), I = [], E = 0; E < c; E++)
          I.push(l.borrowRow(m + E, (S[E] || x) * i.LINE_HEIGHT));
        this.indicator && this._buildIndicatorCell(e, l, I, this._indicatorNo, m, v++, c), this.checkBar && this._buildCheckBarCell(e, l, I, t.checked, m, v++, c);
        var O = u.getGroupFooterCells(), P = t.vindex * c;
        for (E = 0; E < c; E++) {
          var R = m + E, T = v, D = I[E];
          if (g > 0)
            for (var M = 0; M < g; M++)
              C ? M < y - 2 ? D.addBlank(T, _) : D.addBlank(T, p) : D.addBlank(T, _), E == 0 && c > 1 && l.addMerge(R, T, c, 1), T++;
          for (M = 0; M < d; M++) {
            r = M + T;
            var V = O[P + E][M], B = V.layout;
            if (n = B.firstColumn, s = this._columnGroupFooterStyles[n.$_hash][t.footerIndex], h.applyDynamicStyles) {
              var N = gt.tempItem(e, t, B), A = e.rowGroup.getFooterCell(N), z = A.getSummary();
              s = this.$_summaryStyleSet(A, z, s);
            }
            if (B.isProxy || V.spanned)
              D.addBlank(r, s);
            else {
              var Z = B.parent, ee = Z && Z.vertical, Y = 0, q = 0, G = B.getGroupFooterUserSpan(t.parent, t.footerIndex), ce = G ? 0 : B.getGroupFooterSpan(t.index, t.footerIndex) - 1;
              if (G) {
                var fe = G.footerCount || 0;
                Y = fe > 0 ? fe * c : G.rowspan || 1, q = G.colspan || 1, Y = Math.min((t.parent.footerCount - t.vindex) * c, Y), l.addMerge(R, r, Y, q);
                for (var le = 0; le < Y; le++)
                  for (var ne = 0; ne < q; ne++)
                    O[P + le + E][M + ne].spanned = !0;
              } else if (ce > 0) {
                var he = 0;
                if (N = B.vindex + 1, ee)
                  for (; he++ < ce && he < c; )
                    Y += Z.getVisible(N++)._dspan, O[P + he][M].spanned = !0;
                else
                  for (; he++ < ce && N < Math.min(d, Z.visibleCount); )
                    q += Z.getVisible(N++)._cspan, O[P + E][M + he].spanned = !0;
              }
              o.call(this, D, r, n, s), !G && l.addMerge(R, r, B._dspan + Y, B._cspan + q);
            }
            this._rowGrouped && h.showLevelOutline && l.setRowLevel(R, t.level);
          }
        }
        this._currentRow += c, l.setLastRow(this._currentRow - 1);
      }, i.prototype.buildMergedGroupHeader = function(e, t) {
        var o = this._workbook.currentSheet, r = this._preparer, n = t.level, s = Math.max(e.displayOptions.rowHeight, e.displayOptions.minRowHeight, e.displayOptions.minTableRowHeight * r.dataRowCount), l = r.colCount, h = this._currentRow;
        o.setFirstRow(this._currentRow);
        var u = this._startCol, c = o.borrowRow(h, s === -1 ? -1 : s * i.LINE_HEIGHT);
        this.indicator && this._buildIndicatorCell(e, o, c, this._indicatorNo, h, u++, 1), this.checkBar && this._buildCheckBarCell(e, o, c, t.checked, h, u++, 1);
        for (var d = 0; d < n - 1; d++) {
          var p = r.getItem(0, u + d);
          c.addBlank(u + d, this._columnStyles[p.layout.firstColumn.$_hash]);
        }
        var _ = n - 1, g = r.getItem(0, _).layout, y = g.firstColumn, m = this._buildValueCell(e, o, c, t.firstItem, g, u + _);
        this._mergeHeads[y.$_hash] = { startRow: h, style: m };
        var v = e.rowGroup.getHeaderText(t);
        for (d = u + n, m = this._groupHeaderStyle, n < r.colCount && c.addText(d++, v, m); d < l + u; d++)
          c.addBlank(d, m);
        l - n > 1 && o.addMerge(h, n + u, 1, l - n), this._currentRow++, o.setLastRow(this._currentRow - 1);
      }, i.prototype.buildMergedGroupFooter = function(e, t) {
        function o(se, H, pe, Ce) {
          var _e = ai.getValue(t, pe), ve = this._exportOptions;
          if (_e instanceof Date)
            ve.datetimeCallback ? (_e = ve.datetimeCallback(t.index, pe.name, _e)) instanceof Date ? se.addDate(H, _e, Ce) : se.addText(H, _e, Ce) : se.addDate(H, _e, Ce);
          else if (isNaN(_e)) {
            var ge = gt.tempItem(e, t, pe), Te = e.getDisplayText(ge) || "";
            se.addText(H, Te, Ce);
          } else
            se.addNumber(H, _e, Ce);
        }
        var r, n, s, l, h = this._workbook.currentSheet, u = this._exportOptions, c = this._preparer, d = c.dataRowCount, p = c.colCount, _ = c.getItemLevel(t), g = this._currentRow;
        h.setFirstRow(this._currentRow);
        for (var y = this._startCol, m = e.rowGroup.expandedAdornments == f.RowGroupAdornments.SUMMARY, v = Math.max(Math.max(this._defaultHeight, e.displayOptions.minRowHeight) / d, e.displayOptions.minTableRowHeight), C = e.layoutManager.getDataRowHeights(d), x = [], S = e.layoutManager, I = 0; I < d; I++) {
          var E = h.borrowRow(g + I, (C[I] || v) * i.LINE_HEIGHT);
          E._row = I, x.push(E);
        }
        for (this.indicator && this._buildIndicatorCell(e, h, x, this._indicatorNo, g, y++, d), this.checkBar && this._buildCheckBarCell(e, h, x, t.checked, g, y++, d), r = 0; r < _; r++) {
          s = (N = c.getItem(0, r).layout).firstColumn;
          var O = this._mergeHeads[s.$_hash];
          l = O ? O.style : this._columnStyles[s.$_hash];
          for (var P = t.parent; P && s.groupLevel !== P.level; )
            P = P.parent;
          if (this.allItems || t.parent.expanded) {
            for (I = 0; I < d; I++)
              m && I === 0 && P && P.getFirstVisibleItem(!0) === t ? (l = this._buildValueCell(e, h, x[I], t.parent.firstItem, N, y + r), this._mergeHeads[s.$_hash] = { startRow: g, style: l }) : x[I].addBlank(y + r, l);
            if (this._columnMerged)
              if (m)
                s.groupLevel;
              else {
                var R = this._mergeHeads[s.$_hash].startRow;
                if (t.visible) {
                  var T = gt.tempItem(e, t, N), D = S.getMergeRoom(T);
                  D && D.isTail(T) && h.addMerge(R, r + y, g + d - R, N._defColSpan);
                } else
                  P && P.last === t && h.addMerge(R, r + y, g + d - R, N._defColSpan);
              }
          } else
            for (I = 0; I < d; I++)
              this._buildValueCell(e, h, x[I], t.parent.firstItem, N, y + r);
        }
        var M = c.getGroupFooterCells(), V = t.vindex * d;
        for (I = 0; I < d; I++) {
          var B = g + I;
          for (r = _; r < p; r++) {
            n = r + y;
            var N, A = M[V + I][r];
            if (s = (N = A.layout).firstColumn, N.isProxy || A.spanned)
              l = this._columnStyles[s.$_hash], x[I].addBlank(n, l);
            else {
              var z = N.parent, Z = z && z.vertical, ee = 0, Y = 0, q = N.getGroupFooterUserSpan(t.parent, t.footerIndex), G = q ? 0 : N.getGroupFooterSpan(t.index, t.footerIndex) - 1;
              if (q) {
                var ce = q.footerCount || 0;
                ee = ce > 0 ? ce * d : q.rowspan || 1, Y = q.colspan || 1, ee = Math.min((t.parent.footerCount - t.vindex) * d, ee), h.addMerge(B, n, ee, Y);
                for (var fe = 0; fe < ee; fe++)
                  for (var le = 0; le < Y; le++)
                    M[V + fe + I][le + r].spanned = !0;
              } else if (G > 0) {
                var ne = 0, he = N.vindex + 1;
                if (Z)
                  for (; ne++ < G && ne < d; )
                    ee += z.getVisible(he++)._dspan, M[V + ne][r].spanned = !0;
                else
                  for (; ne++ < G && he < Math.min(p - 1, z.visibleCount); )
                    Y += z.getVisible(he++)._cspan, M[V + I][r + ne].spanned = !0;
              }
              if (l = this._columnGroupFooterStyles[s.$_hash][t.footerIndex], u.applyDynamicStyles) {
                he = gt.tempItem(e, t, N);
                var K = e.rowGroup.getFooterCell(he), ye = K.getSummary();
                l = this.$_summaryStyleSet(K, ye, l);
              }
              o.call(this, x[I], n, s, l), !q && h.addMerge(B, n, N._dspan + ee, N._cspan + Y);
            }
            this._rowGrouped && u.showLevelOutline && h.setRowLevel(B, _);
          }
        }
        this._currentRow += d, h.setLastRow(this._currentRow - 1);
      }, i.prototype.buildTreeSheet = function(e, t) {
        var o = this, r = this._exportOptions, n = this._workbook;
        r.allItems && (this.allItems = e.getAllItems());
        var s = this.allItems, l = s ? s.length : e.itemCount, h = n.createSheet(this._sheetName, r), u = e.displayOptions;
        if (this._defaultHeight = u.rowHeight || u.minRowHeight, this._rowLevels = e.getLevels(!1), this._startItem = this._indexItem = 0, !this._rowGrouped) {
          this._startItem = r.start > 0 ? r.start : 0;
          var c = r.count > 0 ? r.count : l;
          l = c > 0 ? this._startItem + c > l ? l - this._startItem : c : l - this._startItem;
        }
        this._lastItem = this._startItem + l, this._prepareCommonStyles(e), this._currentRow = r.yOffset, this._startCol = r.xOffset, this._buildColumns(e), h.createBorderEdges(qe.getSelectorStyle(this._preparer.documentCssStyles, ".rg-grid")), this._buildDocumentTitle(n), this.header && this.buildHeader(e), this.headerSummary && this.buildSummaryItem(e, !1, r.headerSummary), this.buildTreeItems(e, function() {
          o.footer && o.buildSummaryItem(e, !0, r.footer), o._buildDocumentTail(n), o._buildUserCells(e, n), t && t();
        });
      }, i.prototype.buildTreeItems = function(e, t) {
        for (var o = this._exportOptions.showIndicatorRow(e), r = this.allItems, n = this._progressStep ? this._indexItem + Math.min(this._progressStep, this._lastItem - this._indexItem) : this._lastItem, s = this._indexItem; s < n; s++) {
          var l = r ? r[s] : e.getItem(s);
          if (this._indicatorNo = l instanceof Fe && o ? l.dataRow : s + 1, !(l instanceof xe))
            throw new Error("Unkown tree item type");
          this.buildTreeRow(e, l), this._progressPos += 1, this._preparer.clearDataSpanned();
        }
        this.setProgress && this.setProgress(e.handler, "process", this._progressMax, this._progressPos), this._indexItem = n, this._indexItem >= this._lastItem ? t && t() : setTimeout(function() {
          this.buildTreeItems(e, t);
        }.bind(this), 0);
      }, i.prototype.buildTreeRow = function(e, t) {
        var o, r = this._workbook.currentSheet, n = this._preparer, s = n.dataRowCount, l = n.colCount, h = this._indents, u = t.level, c = this._currentRow;
        r.setFirstRow(this._currentRow);
        var d = this._startCol, p = e.displayOptions, _ = e.layoutManager.getDataRowHeights(s), g = _.reduce(function(Z, ee) {
          return Z + ee;
        }, 0) || t.height;
        isNaN(g) && (g = (p.rowHeight || p.minRowHeight) * s), g = g === -1 ? -1 : g > 0 ? g / s : g;
        for (var y = [], m = 0; m < s; m++)
          y.push(r.borrowRow(c + m, g === -1 ? -1 : (_[m] || g) * i.LINE_HEIGHT));
        this.indicator && this._buildIndicatorCell(e, r, y, this._indicatorNo, c, d++, s), this.checkBar && this._buildCheckBarCell(e, r, y, t.checked, c, d++, s);
        var v = this._bodyCellStyle;
        for (m = 0; m < s; m++) {
          var C = y[m];
          C._row = m;
          var x = c + m, S = h > 0 ? d + u - 1 : d, I = n.getItem(m, 0), E = I.layout, O = E.firstColumn, P = this._columnStyles[O.$_hash], R = h > 0 ? h - u + 1 : 0;
          for (o = 0; o < u - 1; o++)
            C.addBlank(o + d, v);
          for (E.isProxy || I.spanned ? C.addBlank(S, P) : (this._buildValueCell(e, r, C, t, E, S, S), r.addMerge(x, S, E._dspan, E._defColSpan + R)), o = 0; o < R; o++)
            C.addBlank(1 + o + S, P);
          for (S = h > 0 ? d + h : d, o = 1; o < l; o++) {
            var T = o + S;
            if (O = (E = (I = n.getItem(m, o)).layout).firstColumn, P = this._columnStyles[O.$_hash], E.isProxy || I.spanned)
              C.addBlank(T, P);
            else {
              var D = E.parent, M = D && D.vertical, V = E.spanCallback, B = V ? V(e.handler, E, t.index) - 1 : void 0;
              B === void 0 && (B = E.getDataSpan() - 1);
              var N = 0;
              if (B > 0) {
                var A = 0, z = E.vindex + 1;
                if (M)
                  for (; A++ < B && A < s; )
                    N += D.getVisible(z++)._dspan, n.getItem(m + A, o).spanned = !0;
                else
                  for (; A++ < B && o + A < l && z < D.visibleCount; )
                    N += D.getVisible(z++)._cspan, n.getItem(m, o + A).spanned = !0;
              }
              this._buildValueCell(e, r, C, t, E, T, S), M ? r.addMerge(x, T, E._dspan + N, E._cspan) : r.addMerge(x, T, E._dspan, E._cspan + N);
            }
          }
          this._exportOptions.showLevelOutline && r.setRowLevel(c, t.level);
        }
        this._currentRow += s, r.setLastRow(this._currentRow - 1);
      }, i.prototype.prepare = function() {
      }, i.prototype.finallize = function() {
      }, i.prototype.save = function() {
        var e = this._multiOptions.zip || JSZip, t = function(d) {
          var p = new e();
          if (d)
            for (var _ = p.folder("xl/media"), g = Object.keys(d), y = 0; y < g.length; y++) {
              var m = d[g[y]];
              m.fileName && m.buffer && _.file(m.fileName, m.buffer);
            }
          var v = this._workbook.createParts();
          for (var C in v) {
            var x = v[C];
            x.indexOf('xmlns=""') >= 0 && (x = x.replace(/ xmlns=""/g, "").replace(/xmlns=""/g, "")), p.file(C, x);
          }
          if (l)
            p.generateAsync ? p.generateAsync({ type: "blob", compression: "DEFLATE", streamFiles: !0 }, function(I) {
              r.progressCallback && r.progressCallback(null, "zip", 100, I.percent);
            }).then(function(I) {
              r.done && typeof r.done == "function" && r.done(), h.saveLocal(n, I, o);
            }) : (r.done && typeof r.done == "function" && r.done(), h.saveLocal(n, p.generate({ type: "blob", compression: "DEFLATE" }), o));
          else if (r.target === f.ExportTarget.STREAM)
            if (p.generateAsync)
              p.generateAsync({ type: "base64", compression: "DEFLATE", streamFiles: !0 }, function(I) {
                r.progressCallback && r.progressCallback(null, "zip", 100, I.percent);
              }).then(function(I) {
                r.done && typeof r.done == "function" && r.done(I);
              });
            else {
              var S = p.generate({ type: "base64", compression: "DEFLATE" });
              r.done && typeof r.done == "function" && r.done(S);
            }
          else
            p.generateAsync ? p.generateAsync({ type: "base64", compression: "DEFLATE", streamFiles: !0 }, function(I) {
              r.progressCallback && r.progressCallback(null, "zip", 100, I.percent);
            }).then(function(I) {
              r.done && typeof r.done == "function" && r.done(), h.saveServer(n, I, r.url, o, s);
            }) : (r.done && typeof r.done == "function" && r.done(), h.saveServer(n, p.generate({ type: "base64", compression: "DEFLATE" }), r.url, o, s));
        }.bind(this), o = this.grid.doc, r = this._multiOptions, n = r.fileName, s = r.params, l = r.target == "local", h = this, u = this._workbook;
        if (e.support.blob || !l)
          if (u.hasDrawing) {
            var c = u.getImageMap();
            u.downloader.buldDownload = r.bulkImageDownload, u.downloader.executeDownLoad(this, c, t);
          } else
            t();
        else
          alert("not supported on this browser");
      }, i.prototype._prepareCount = function(e, t) {
        for (var o = 0, r = 0, n = t.length; r < n; r++) {
          var s = void 0, l = t[r].grid;
          if (l instanceof Vi)
            if (e.allItems && this._rowGrouped) {
              s = l.itemSource.getAllItems();
              var h = l.layoutManager.fixedItemCount;
              if (h > 0)
                for (var u = 0; u < h; u++)
                  s.splice(u, 0, l.getItem(u));
            } else
              e.pagingAllItems && l.paged ? s = l.itemSource.getPagingAllItems() : e.onlyCheckedItems && !l.rowGrouped && (s = l.getCheckedItems(!1));
          else
            l instanceof Ms && e.allItems && (s = l.getAllItems());
          o += s ? s.length : l.itemCount;
        }
        return o;
      }, i.prototype._inheritStyles = function(e) {
        for (var t = { length: 0 }, o = 0, r = e.length; o < r; o++)
          e[o] && qe.extendCssStyle(e[o], t);
        return t;
      }, i.prototype._prepareCommonStyles = function(e) {
        var t, o, r = this, n = this._preparer.documentCssStyles, s = function(Ce) {
          return qe.getSelectorStyle(n, Ce);
        }, l = function(Ce) {
          var _e = [];
          return Ce.forEach(function(ve) {
            var ge = typeof ve == "string" ? s(ve) : ve;
            ge && _e.push(ge);
          }), r._inheritStyles(_e);
        }, h = s("table"), u = l([h, s("tr"), s("td")]), c = l(["html", ".rg-root"]), d = s(".rg-header"), p = s(".rg-footer"), _ = s(".rg-header-summary"), g = s(".rg-body"), y = s(".rg-fixed-body"), m = l([".rg-root table", ".rg-root .rg-table", ".rg-root table tr", ".rg-root .rg-table tr", ".rg-root table tr td", ".rg-root .rg-table tr td", ".rg-root .rg-table td"]), v = l([m, ".rg-header table", ".rg-header .rg-table", ".rg-header table tr", ".rg-header .rg-table tr", ".rg-header table tr td", ".rg-header .rg-table tr td"]), C = l([m, ".rg-footer table", ".rg-footer .rg-table", ".rg-footer table tr", ".rg-footer .rg-table tr", ".rg-footer table tr td", ".rg-footer .rg-table tr td"]), x = l([m, ".rg-header-summary table", ".rg-header-summary .rg-table", ".rg-header-summary table tr", ".rg-header-summary .rg-table tr", ".rg-header-summary table tr td", ".rg-header-summary .rg-table tr td"]), S = l([m, ".rg-body table", ".rg-body .rg-table", ".rg-body table tr", ".rg-body .rg-table tr", ".rg-body table tr td", ".rg-body .rg-table tr td"]), I = l([m, ".rg-fixed-body .rg-table", ".rg-fixed-body .rg-table tr", ".rg-fixed-body table tr", ".rg-fixed-body .rg-table tr td", ".rg-fixed-body table tr td", ".rg-fixed-body .rg-data-row"]), E = l([m, ".rg-rowgroup-bar .rg-table", ".rg-rowgroup-bar .rg-table tr", ".rg-rowgroup-bar table tr", ".rg-rowgroup-bar .rg-table tr td", ".rg-rowgroup-bar table tr td"]), O = l([m, ".rg-rowgroup-head .rg-table", ".rg-rowgroup-head .rg-table tr", ".rg-rowgroup-head table tr", ".rg-rowgroup-head .rg-table tr td", ".rg-rowgroup-head table tr td"]), P = l([m, ".rg-rowgroup-foot .rg-table", ".rg-rowgroup-foot .rg-table tr", ".rg-rowgroup-foot table tr", ".rg-rowgroup-foot .rg-table tr td", ".rg-rowgroup-foot table tr td"]), R = l([m, S]), T = s(".rg-header-cell"), D = s(".rg-footer-cell"), M = s(".rg-header-summary-cell"), V = s(".rg-data-cell"), B = s(".rg-rowgroup-header"), N = s(".rg-rowgroup-footer"), A = s(".rg-rowgroup-footer-cell"), z = l([c, ".rg-rowgroup-head", u, O]), Z = l([c, ".rg-rowgroup-foot", u, P]), ee = l([c, ".rg-rowgroup-bar", u, ".rg-rowgroup-bar-cell", E]), Y = s(".rg-data-row"), q = s(".rg-fixed-row"), G = l([c, ".rg-rowbarcontainer", u, m, ".rg-rowbarcontainer .rg-table tr", ".rg-rowbarcontainer table tr", ".rg-rowbarcontainer .rg-table tr td", ".rg-rowbarcontainer table tr td", ".rg-rowbarcontainer .rg-table tr td.rg-rowindicator-cell"]), ce = l([c, ".rg-foot", u, m, ".rg-foot .rg-table tr td", ".rg-rowindicator-foot"]), fe = l([c, ".rg-sum", u, m, ".rg-sum .rg-table tr td", ".rg-rowindicator-sum"]);
        this._indicatorCellStyle = this._parseStyles(this._workbook, G), this._indicatorFootStyle = this._parseStyles(this._workbook, ce), this._indicatorSumStyle = this._parseStyles(this._workbook, fe);
        var le = l([c, ".rg-rowbarcontainer", u, m, ".rg-rowbarcontainer .rg-table tr", ".rg-rowbarcontainer table tr", ".rg-rowbarcontainer .rg-table tr td", ".rg-rowbarcontainer table tr td.rg-checkbar-cell"]), ne = l([c, ".rg-foot", u, m, ".rg-foot .rg-table tr td", ".rg-checkbar-foot"]), he = l([c, ".rg-sum", u, m, ".rg-sum .rg-table tr td", ".rg-checkbar-sum"]);
        this._checkBarCellStyle = this._parseStyles(this._workbook, le), this._checkBarFootStyle = this._parseStyles(this._workbook, ne), this._checkBarSumStyle = this._parseStyles(this._workbook, he), o = this._headerCssStyle = l([c, d, s("." + e.header.styleName), u, T, v, s("." + e.header.exportStyleName)]), this._headerCellStyle = this._parseStyles(this._workbook, o, !0);
        var K = this._exportOptions, ye = K.footer === It, se = K.headerSummary === It;
        this._footerCellStyles = [];
        for (var H = 0; H < (ye ? e.footers.count : e.footers.visibleCount); H++)
          o = l([c, p, o = (t = (ye ? e.footers.get(H) : e.footers.getVisible(H)).styleName) ? s("." + t) : null, u, D, C]), this._footerCellStyles.push(this._parseStyles(this._workbook, o, !0));
        for (this._summaryCellStyles = [], H = 0; H < (se ? e.headerSummaries.count : e.headerSummaries.visibleCount); H++)
          o = l([c, _, o = (t = (se ? e.headerSummaries.get(H) : e.headerSummaries.getVisible(H)).styleName) ? s("." + t) : null, u, M, x]), this._summaryCellStyles.push(this._parseStyles(this._workbook, o, !0));
        if (this._groupFooterCellStyles = [], e instanceof Vi)
          for (H = 0; H < e.rowGroup.footers.count; H++) {
            var pe = e.rowGroup.footers.get(H);
            o = l([c, N, o = (t = pe.exportStyleName || pe.styleName) ? s("." + t) : null, u, A, R]), this._groupFooterCellStyles.push(this._parseStyles(this._workbook, o, !0));
          }
        o = this._cellCssStyle = l([c, g, h, S, Y, V]), this._bodyCellStyle = this._parseStyles(this._workbook, o, !1), o = l([c, g, h, q, S, V]), this._bodyFixedCellStyle = this._parseStyles(this._workbook, o, !1), o = this._fixedCellCssStyle = l([c, y, h, Y, I, V]), this._fixedCellStyle = this._parseStyles(this._workbook, o, !1), this._groupHeaderStyle = this._parseStyles(this._workbook, l([c, B])), this._groupFooterCellStyle = this._parseStyles(this._workbook, l([c, h, N, A, S])), this._indentHeadStyle = this._parseStyles(this._workbook, z), this._indentFootStyle = this._parseStyles(this._workbook, Z), this._indentBarStyle = this._parseStyles(this._workbook, ee), this._dynamicStyles = {};
      }, i.prototype._exportGridAsync = function(e, t, o, r) {
        if (r === void 0 && (r = null), o < t.exportGrids.length) {
          var n = t.exportGrids[o];
          setTimeout(function() {
            this._exportGrid(e, n.options, function() {
              r();
            }.bind(this));
          }.bind(this));
        }
      }, i.prototype._exportGrid = function(e, t, o) {
        var r = t.grid;
        this._preparer = new Pf(r, t), this._exportOptions = t, this.indicator = t.indicatorVisible(r) ? r.rowIndicator : null, this.checkBar = t.checkBarVisible(r) ? r.checkBar : null, this.header = t.headerVisible(r), this.headerSummary = t.headerSummaryVisible(r), this.footer = t.footerVisible(r), this.indicatorHead = this.indicator && this.indicator.headText || "No", this.indicatorFoot = this.indicator && this.indicator.footText || "", this.indicatorSummary = this.indicator && this.indicator.sumText || "", this.checkBarHead = this.checkBar && this.checkBar.headText || "", this.checkBarFoot = this.checkBar && this.checkBar.footText || "", this.checkBarSummary = this.checkBar && this.checkBar.sumText || "", this._sheetName = t.sheetName, this._workbook = e, this.allItems = null, this.buildBook(function() {
          this._preparer && this._preparer.dispose(), o && o();
        }.bind(this));
      }, i.prototype._changeFormatId = function(e, t, o) {
        return e.changeFormatId(t, o);
      }, i.prototype._parseStyles = function(e, t, o) {
        return e.addStyle(t, !0, !0, !0, o);
      }, i.prototype._extendStyles = function(e, t, o, r, n, s) {
        return r === void 0 && (r = !0), e.extendStyle(t, o, r, n, s);
      }, i.prototype.$_summaryStyleSet = function(e, t, o) {
        var r = this._exportOptions, n = this._workbook, s = void 0;
        if (t) {
          var l = t.exportStyleName || t.styleName, h = void 0;
          if (r.applyDynamicStyles)
            if (e instanceof qn) {
              var u = new Xa();
              l = (h = e.getCellStyle(e.getCell(t.column.layout), u, !1)).exportStyleName || h.styleName || l;
            } else
              e instanceof ai && (u = new Lo(), l = (h = this.grid.rowGroup.getFooterCellStyle(e, u, !1)).exportStyleName || h.styleName || l);
          var c = void 0, d = void 0;
          if ((c = h && h.numberFormat || t.numberFormat) ? c = fo.convertNumberFormat(c) : (c = h && h.datetimeFormat || t.datetimeFormat) && (c = fo.convertDateFormat(c)), c && ((d = t.prefix) && (c = '"' + d + '"' + c), (d = t.suffix) && (c = c + '"' + d + '"'), s = n.addNumberFormat(c)), l || s !== void 0) {
            for (var p = this._preparer.documentCssStyles, _ = l ? l.trim().split(" ") : [], g = [], y = 0, m = _.length; y < m; y++)
              g.push(qe.getSelectorStyle(p, "." + _[y]));
            if (t.$_owner.type) {
              var v = t.$_owner.type + "=styleName=" + l + "formatId=" + s, C = this._dynamicStyles;
              return C[v] || (C[v] = this._extendStyles(n, o, this._inheritStyles(g), !0, s)), C[v];
            }
            return this._extendStyles(n, o, this._inheritStyles(g), !0, s);
          }
        }
        return o;
      }, i.prototype._buildColumns = function(e) {
        for (var t, o, r, n = this._exportOptions, s = this._workbook, l = s.currentSheet, h = this._preparer, u = 0; u < this._startCol; u++)
          l.addColumn(-1, n.xOffsetWidth / i.PIXELS_PER_CHAR, null);
        if (this.indicator && (r = Math.round(e.rowIndicator.minWidth / i.PIXELS_PER_CHAR), l.addColumn(e.rowIndicator.$_hash, r, null)), this.checkBar && (r = Math.round(e.checkBar.width / i.PIXELS_PER_CHAR), l.addColumn(e.checkBar.$_hash, r, null)), n.indenting && (e instanceof Vi && this._rowGrouped && !this._mergedGrouped ? this._indents = this._rowLevels - (e.rowGroup.expandedAdornments === f.RowGroupAdornments.SUMMARY ? 0 : 1) : e instanceof Ms && (this._indents = this._rowLevels - 1), this._indents > 0))
          for (u = 0; u < this._indents; u++)
            r = Math.max(this._indentWidth, 1), l.addColumn(-1, r, null);
        var c = e.formatOptions;
        this._columnStyles = {}, this._columnFixedStyles = {}, this._columnFooterStyles = {}, this._columnSummaryStyles = {}, this._columnGroupFooterStyles = {};
        var d = h.colCount, p = h.dataRowCount, _ = !1;
        for (u = 0; u < p; u++)
          for (var g = 0; g < d; g++) {
            var y = h.getItem(u, g).layout;
            if (t = y.firstColumn, u === 0 && (r = Math.round(y._cellWidth / i.PIXELS_PER_CHAR), l.addColumn(t.$_hash, r, null, n.hiddenColumns.indexOf(t.name) >= 0)), o = t.$_hash, !this._columnStyles[o]) {
              var m = e.dataSource;
              if (t instanceof Et) {
                var v = this._textFormatId;
                if (t instanceof re) {
                  var C = n.exportLink && t.renderer && t.renderer.type == Do.TYPE && !t.excelFormat, x = m.getField(t.dataIndex), S = x ? x.dataType : f.ValueType.TEXT;
                  S === f.ValueType.NUMBER ? v = this._numberFormatId : S === f.ValueType.DATETIME && (v = this._dateFormatId);
                  var I = t.excelFormat, E = void 0;
                  I != null ? v = typeof I == "number" || parseInt(I) > 0 ? parseInt(I) : s.addNumberFormat(I) : C ? v = 0 : (S == f.ValueType.NUMBER ? typeof (I = t.numberFormat === null ? void 0 : t.numberFormat || n.numberFormat || c.numberFormat) == "string" && (I = fo.convertNumberFormat(I)) : S == f.ValueType.DATETIME && typeof (I = t.datetimeFormat || n.datetimeFormat || c.datetimeFormat) == "string" && (I = fo.convertDateFormat(I)), I && ((E = t.prefix) && (I = '"' + E + '"' + I), (E = t.suffix) && (I = I + '"' + E + '"'), v = s.addNumberFormat(I)));
                }
                this._columnStyles[o] = this._changeFormatId(s, y.isFixed ? this._fixedCellStyle : this._bodyCellStyle, v), this._columnFixedStyles[o] = this._changeFormatId(s, this._bodyFixedCellStyle, v), this._columnFooterStyles[o] = [], this._columnSummaryStyles[o] = [], this._columnGroupFooterStyles[o] = [];
                for (var O = n.footer === It, P = n.headerSummary === It, R = 0; R < (O ? e.footers.count : e.footers.visibleCount); R++) {
                  var T = O ? e.footers.get(R) : e.footers.getVisible(R), D = t.footers.get(T._childIndex);
                  this._columnFooterStyles[o][R] = this.$_summaryStyleSet(T, D, this._footerCellStyles[R]);
                }
                for (R = 0; R < (P ? e.headerSummaries.count : e.headerSummaries.visibleCount); R++) {
                  var M = P ? e.headerSummaries.get(R) : e.headerSummaries.getVisible(R), V = t.headerSummaries.get(M._childIndex);
                  this._columnSummaryStyles[o][R] = this.$_summaryStyleSet(M, V, this._summaryCellStyles[R]);
                }
                if (e instanceof Vi)
                  for (R = 0; R < e.rowGroup.footers.count; R++) {
                    var B = e.rowGroup.footers.get(R), N = t.groupFooters.get(B.index);
                    this._columnGroupFooterStyles[o][R] = this.$_summaryStyleSet(null, N, this._groupFooterCellStyles[R]);
                  }
              }
              e instanceof Vi && (n.separateRows || n.onlyCheckedItems && !e.rowGrouped || t instanceof re && (t.mergeRule || t.layout.mergeRule || e.rowGroup.mergeMode && e.isGroupedColumn(t)) && (_ = !0));
            }
          }
        this._columnMerged = _;
      }, i.prototype._buildTitleCommon = function(e, t, o) {
        if (t && t.visible) {
          for (var r = this._currentRow, n = this._startCol, s = void 0, l = e.currentSheet, h = 0; h < t.spaceTop; h++) {
            s = l.addRow(r + h, void 0);
            for (var u = 0; u < o; u++)
              s.addBlank(n + u, void 0);
          }
          r += t.spaceTop;
          var c = t.message, d = void 0;
          if (t.styleName) {
            var p = this._preparer.documentCssStyles, _ = [];
            t.styleName.split(" ").forEach(function(g) {
              _.push(qe.getSelectorStyle(p, "." + g));
            }), d = this._parseStyles(e, this._inheritStyles(_), !0);
          } else
            d = this._parseStyles(e, t.cssStyle, !0);
          for (s = l.addRow(r, t.height), h = 0; h < o; h++)
            h == 0 ? (s.addText(n, c, d), l.addMerge(r, n, 1, o)) : s.addBlank(n + h, d);
          for (r++, h = 0; h < t.spaceBottom; h++)
            for (s = l.addRow(r + h, void 0), u = 0; u < o; u++)
              s.addBlank(n + u, void 0);
          r += t.spaceBottom, this._currentRow = r;
        }
      }, i.prototype._buildDocumentTitle = function(e) {
        var t = this._exportOptions, o = e, r = this._preparer.colCount;
        this.indicator && r++, this.checkBar && r++, r += Math.max(this._indents, 0), this._buildTitleCommon(o, t.documentTitle, r), this._buildTitleCommon(o, t.documentSubtitle, r);
      }, i.prototype._buildDocumentTail = function(e) {
        var t = this._exportOptions, o = e, r = this._preparer.colCount;
        this.indicator && r++, this.checkBar && r++, r += Math.max(this._indents, 0), this._buildTitleCommon(o, t.documentTail, r);
      }, i.prototype._buildIndicatorCell = function(e, t, o, r, n, s, l) {
        var h = this._indicatorCellStyle;
        if ((Array.isArray(o) ? o[0] : o).addNumber(s, r, h), l > 1) {
          for (var u = 1; u < l; u++)
            o[u].addBlank(s, h);
          t.addMerge(n, s, l, 1);
        }
      }, i.prototype._buildCheckBarCell = function(e, t, o, r, n, s, l) {
        var h = this._checkBarCellStyle, u = Array.isArray(o) ? o[0] : o, c = this._exportOptions.checkMark, d = this._exportOptions.unCheckMark;
        if (u.addText(s, r ? c : d || "", h), l > 1) {
          for (var p = 1; p < l; p++)
            o[p].addBlank(s, h);
          t.addMerge(n, s, l, 1);
        }
      }, i.prototype._buildValueCell = function(e, t, o, r, n, s, l) {
        l === void 0 && (l = 0);
        var h, u, c = this._workbook, d = r.index >= 0 && r.index < e.fixedOptions.rowCount, p = e.body, _ = this._exportOptions, g = gt.tempItem(e, r, n), y = n.firstColumn, m = p.getRowStyle(r, d, !0, _.applyDynamicStyles), v = m.exportStyleName || m.styleName, C = y.exportStyleName || y.styleName;
        _.applyDynamicStyles && (u = p.getIndexCellStyle(g, !1));
        var x, S = u && u.renderer || y.renderer, I = (!n.isFixed && d ? this._columnFixedStyles[y.$_hash] : this._columnStyles[y.$_hash]) || this._bodyCellStyle;
        if (_.applyFixed && (!e.isTree() && d && t.setFixedInfo(o.index + 1, void 0), n.$_fixed && t.setFixedInfo(void 0, s + 1)), y.blankWhenExport)
          o.addBlank(s, I);
        else if (y instanceof re) {
          var E = y.dataIndex, O = u && u.cellProtectProps || y.cellProtectProps, P = e.dataSource.getField(E), R = _.exportLink && !y.excelFormat && y.renderer && y.renderer.type == Do.TYPE, T = _.exportTemplate && y.renderer && y.renderer.type === Mo.TYPE, D = _.exportImage !== !1 && S && (S.type === To.TYPE || S.type === eo.TYPE), M = (D = D && (_.exportImage ? S.exportImage !== !1 : !!S.exportImage)) && S.type === eo.TYPE, V = D && S.type === To.TYPE, B = void 0;
          if (P) {
            var N = r.getData(E);
            if (B = y.displayCallback, v || C || u || O) {
              var A = void 0, z = void 0, Z = [n.isFixed ? this._fixedCellCssStyle : this._cellCssStyle];
              if (u && typeof u == "object") {
                var ee = u;
                A = typeof (A = u.exportStyleName || u.styleName || C) == "string" ? A : void 0;
                var Y = void 0;
                if (!(z = u.excelFormat)) {
                  if (P.dataType == f.ValueType.NUMBER ? z = (Y = ee.numberFormat) ? fo.convertNumberFormat(Y) : void 0 : P.dataType == f.ValueType.DATETIME && (z = (Y = ee.datetimeFormat) ? fo.convertDateFormat(Y) : void 0), z) {
                    var q = ee.prefix;
                    q && (z = '"' + q + '"' + z);
                    var G = ee.suffix;
                    G && (z = z + '"' + G + '"');
                  }
                }
              } else
                A = typeof u == "string" ? u : void 0;
              var ce = this._preparer.documentCssStyles, fe = this._dynamicStyles;
              if (fe[ut = y.$_hash + "=" + v + "=" + C + "=" + JSON.stringify(u) + "=" + JSON.stringify(O) + "=true"])
                I = fe[ut];
              else {
                var le = [];
                if (v) {
                  var ne = v.trim().split(" ");
                  Array.prototype.push.apply(le, ne), n.isFixed && ne.forEach(function(D_) {
                    le.push("rg-fixed-body .".concat(D_));
                  });
                }
                C && Array.prototype.push.apply(le, C.trim().split(" ")), A && Array.prototype.push.apply(le, A.trim().split(" "));
                for (var he = 0, K = le.length; he < K; he++)
                  Z.push(qe.getSelectorStyle(ce, "." + le[he]));
                var ye = void 0;
                z && (ye = c.addNumberFormat(z)), x = this._inheritStyles(Z), R && (x["font-decoration"] = "underline", x.color = "blue");
                var se = x.whiteSpace || x["white-space"], H = se != null && se != "none" && se != "nowrap", pe = x.textWrap || x["text-wrap"];
                H = H || pe !== "nowrap", I = this._extendStyles(c, I, x, H, ye, O), this._dynamicStyles[ut] = I;
              }
            }
            switch (P.dataType) {
              case "number":
                (_.numberCallback || B) && (N = _.numberCallback ? _.numberCallback(r.index, y.name, N, e.handler) : B(e.handler, g.proxy(), N));
                var Ce = y.excelFormulaExprStatement, _e = void 0;
                if (Ce) {
                  var ve = this._excelFormulaRuntime;
                  ve.setItemIndex(o.index, l), ve.setColumns(this._preparer._dataCells[o._row]), _e = Ce.evaluate(ve);
                }
                N != null || _e ? typeof N == "number" ? o.addNumber(s, N, I, _e) : o.addText(s, N, I) : o.addBlank(s, I);
                break;
              case "datetime":
              case "date":
                N ? _.datetimeCallback || B ? (N = _.datetimeCallback ? _.datetimeCallback(r.index, y.name, N, e.handler) : B(e.handler, g.proxy(), N)) instanceof Date ? o.addDate(s, N, I) : o.addText(s, N, I) : o.addDate(s, N, I) : _.nullDateText ? o.addText(s, _.nullDateText, I) : o.addBlank(s, I);
                break;
              case "boolean":
                _.booleanCallback || B ? typeof (N = _.booleanCallback ? _.booleanCallback(r.index, y.name, N, e.handler) : B(e.handler, g.proxy(), N)) == "boolean" ? o.addBool(s, N, I) : o.addText(s, N, I) : _.booleanFormat ? (N = Ht.getFormatter(_.booleanFormat).formatValue(N), o.addText(s, N, I)) : o.addBool(s, N, I);
                break;
              default:
                if (h = N || "", _.lookupDisplay && (y.labelField || y.lookupDisplay))
                  h = Wt.getText(r, y);
                else if (T) {
                  this._templateRenderer ? this._templateRenderer.clearAndAssignFrom(y.renderer) : this._templateRenderer = e.delegate.createRenderer(Mo.TYPE, y.renderer, null);
                  var ge = this._templateRenderer._parser, Te = y.renderer.callback, Re = e.body.getCell(g, !1), Rt = Te ? Te.call(this, e.handler, Re, -1, -1) : ge.realize(e, Re, null, this._templateRenderer.valueCallback);
                  h = Rt ? Rt.replace(/<br[\s/]*>/gi, `
`).replace(/(<([^>]+)>)/gi, "") : "";
                } else if (P.dataType === f.ValueType.OBJECT && typeof N == "object")
                  if (_.objectCallback)
                    h = _.objectCallback(r.index, y.name, N, e.handler);
                  else {
                    var Vt = y.objectKey || y.objectCallback, ut = Vt ? y.objectKey : P.objectKey, ct = Vt ? y.objectCallback : P.objectCallback;
                    h = ct && typeof ct == "function" ? ct(P.orgFieldName, r.dataRow, N) : ut && N.hasOwnProperty(ut) ? N[ut] : JSON.stringify(N);
                  }
                else
                  N != null && (h = y.textFormatter ? y.textFormatter.getText(N) : h);
                if (typeof (h = _.textCallback ? _.textCallback(r.index, y.name, h, e.handler) : B && !y.textFormatter ? B(e.handler, g.proxy(), N) : h) == "number")
                  o.addNumber(s, h, I);
                else if (h && R)
                  if (Re = e.body.getCell(g, !1), this._linkRenderer ? (this._linkRenderer.initOptions(), this._linkRenderer.assignFrom(y.renderer)) : this._linkRenderer = e.delegate.createRenderer(Do.TYPE, y.renderer, null), $t = this._linkRenderer) {
                    var ui = $t.$_getUrl(e, Re);
                    o.addLink(s, h, ui, I);
                  } else
                    o.addText(s, h, I);
                else if (V) {
                  Re = e.body.getCell(g, !1), this._imageRenderer ? (this._imageRenderer.initOptions(), this._imageRenderer.assignFrom(S)) : this._imageRenderer = e.delegate.createRenderer(To.TYPE, S, null);
                  var Ue = ($t = this._imageRenderer).$_getImageUrl(e, Re), Tt = t.getColumnWidth(Re.dataColumn.$_hash);
                  Ue ? o.addImage(s, h, Tt, f.IconLocation.CENTER, Ue, I, -1, $t.imageHeight) : o.addText(s, h, I);
                } else if (M) {
                  Re = e.body.getCell(g, !1), this._iconRenderer ? (this._iconRenderer.initOptions(), this._iconRenderer.assignFrom(S)) : this._iconRenderer = e.delegate.createRenderer(eo.TYPE, S, null);
                  var $t;
                  Ue = ($t = this._iconRenderer).$_getIconUrl(e, Re), Tt = t.getColumnWidth(Re.dataColumn.$_hash), Ue ? o.addImage(s, h, Tt, $t.iconLocation, Ue, I, $t.iconWidth, $t.iconHeight) : o.addText(s, h, I);
                } else
                  h ? o.addText(s, h, I) : o.addBlank(s, I);
            }
          } else
            o.addBlank(s, I);
        } else if (y instanceof Bt) {
          var mo = y.renderer;
          if (mo && mo.type && mo.type != Sr.TYPE) {
            var Ph = this._preparer;
            _.exportSeriesColumn && Vo.interfaced(mo) && Ph.sparkColumns[y.$_hash] ? o.addSparkLine(s, l, Ph.sparkColumns[y.$_hash], I) : o.addBlank(s, I);
          } else {
            this._seriesCell.setIndex(g);
            var kh = this._seriesCell.value;
            kh ? (Y = _r.getText(kh, ","), o.addText(s, Y, I)) : o.addBlank(s, I);
          }
        }
        return I;
      }, i.prototype._buildUserCells = function(e, t) {
        var o = this, r = this._exportOptions, n = t.currentSheet, s = r.userCellsCallback, l = r.userCells || s && s(e.handler, n.rowCount, n.colCount, n.name);
        if (b.isArray(l)) {
          var h = this._dynamicStyles, u = this._preparer.documentCssStyles, c = n.workbook.styles._styles._items[0], d = e.doc.createElement("userCell").style;
          l.forEach(function(p) {
            var _, g, y;
            if (p.format && (y = t.addNumberFormat(p.format)), p.styleName) {
              var m = p.styleName;
              _ = "userCells;styleName=".concat(m, ";formatId=").concat(y);
              var v = m ? m.trim().split(" ") : [];
              if (!(g = h[_])) {
                for (var C = [], x = 0, S = v.length; x < S; x++)
                  C.push(qe.getSelectorStyle(u, "." + v[x]));
                var I = o._inheritStyles(C);
                g = h[_] = o._parseStyles(t, I, !!I.whiteSpace && null), y && (g._formatId = y);
              }
            } else if (p.styles) {
              var E = b.objectToCssText(p.styles);
              _ = "userCells;styleName=".concat(E, ";formatId=").concat(y), (g = h[_]) || (d.cssText = E, g = h[_] = o._parseStyles(t, d, !!d.whiteSpace && null), y && (g._formatId = y));
            } else
              y && (_ = "userCells;styleName=".concat(void 0, ";formatId=").concat(y), (g = h[_]) || (g = h[_] = o._extendStyles(t, c, {}, !1, y)));
            g = g || c;
            var O = p.mergeRow || 1, P = p.mergeCol || 1, R = b.makeArray(p.heights, !0);
            for (x = 0; x < O; x++)
              for (var T = 0; T < P; T++) {
                var D = n.borrowRow(p.row + x, R[x] || p.height || -1);
                if (x === 0 && T === 0) {
                  var M = p.value;
                  switch (typeof M) {
                    case "string":
                      D.addText(p.col, M, g);
                      break;
                    case "number":
                      D.addNumber(p.col, M, g, p.formula);
                      break;
                    case "boolean":
                      D.addBool(p.col, M ?? null, g);
                      break;
                    default:
                      M instanceof Date && D.addDate(p.col, M, g);
                  }
                } else
                  D.addBlank(p.col + T, g);
              }
            O * P > 1 && n.addMerge(p.row, p.col, O, P);
          });
        }
      }, i.CSS_HEAD = "rg-header", i.CSS_FOOT = "rg-footer", i.CSS_BODY = "rg-body", i.CSS_FIXED = "rg-fixed-body", i.CSS_TABLE = "rg-table", i.CSS_ROWGROUP_BAR = "rg-rowgroup-bar", i.CSS_ROWGROUP_HEAD = "rg-rowgroup-head", i.CSS_ROWGROUP_FOOT = "rg-rowgroup-foot", i.CSS_HEAD_CELL = "rg-header-cell", i.CSS_INDICATOR = "rg-rowindicator-cell", i.CSS_CHECK = "rg-checkbar-cell", i.CSS_DATA_ROW = "rg-data-row", i.PIXELS_PER_CHAR = 7, i.LINE_HEIGHT = 0.75, i;
    }(uh), we = function() {
      function a() {
      }
      return a.getColumn = function(i, e) {
        if (e) {
          if (typeof e == "string")
            return i.columnByName(e);
          if (e instanceof ti)
            return e;
          if (e.$_hash)
            return i.columnByHash(e.$_hash);
          if (e.name)
            return i.columnByName(e.name);
        }
        return null;
      }, a.getItemProxy = function(i, e) {
        var t = i.parent, o = { type: void 0, id: i.id, parentId: t == null ? -1 : t.id, itemIndex: i.index, index: i.index, dataRow: -1, checked: i.checked };
        return e && (o.childIndex = i.childIndex, o.level = i.level), i instanceof Fe ? (o.type = "row", o.dataRow = i.dataRow) : i instanceof Se ? (o.count = i.children.length, o.expanded = i.expanded, i instanceof He || i instanceof _t ? (o.type = "group", o.footerId = i.footer ? i.footer.id : -1, i instanceof fi || e && (o.firstItem = a.getItemProxy(i.firstItem), o.firstDataItem = a.getItemProxy(i.firstDataItem), o.dataRows = i.getRows())) : i instanceof xe && (o.type = "tree", o.dataRow = i.dataRow ? i.dataRow : -1)) : i instanceof Ke && (o.type = "footer"), o;
      }, a.getItemIndices = function(i) {
        for (var e = [], t = 0, o = i.length; t < o; t++)
          e.push(i[t].index);
        return e;
      }, a.getValues = function(i, e) {
        var t = {}, o = e.dataSource;
        if (i.isItemEditing(e))
          return (t = e.getRowObject()).__rowId = e.dataRow, t;
        if (e.dataRow >= 0) {
          if (e instanceof xe) {
            var r = e.row, n = r.values;
            t.__rowId = r.rowId;
            for (var s = 0, l = o.fieldCount; s < l; s++)
              t[o.getOrgFieldName(s)] = n[s];
          } else
            (t = o.getRowObject(e.dataRow)).__rowId = e.dataRow;
          return t;
        }
        return null;
      }, a.getDisplayValues = function(i, e, t) {
        var o = i.getDataColumns();
        if (e) {
          for (var r = t ? {} : e.getRowObject(), n = new Lo(), s = 0, l = o.length; s < l; s++) {
            var h = o[s], u = e.index >= 0 ? W.temp(i, e.index, h) : gt.tempItem(i, e, h), c = i.body.getCell(u, !1);
            c._index = u, n.clear(), n.assign(h), i.body.getCellStyle(c, n);
            var d = n.toFormatter(null);
            r[t ? h.name : h.fieldName] = Wt._getDisplayText(i, e, h, e.getData(h.dataIndex), d);
          }
          return r;
        }
      }, a.setValues = function(i, e, t, o) {
        var r, n, s, l = e.dataSource, h = l.fieldCount;
        if (i.isItemEditing(e))
          if (e)
            e.values = t;
          else
            for (var u = 0; u < h; u++) {
              var c = l.getOrgFieldName(u);
              t.hasOwnProperty(c) && e.setData(u, t[c]);
            }
        else if ((s = e.dataRow) >= 0) {
          if (l instanceof cr) {
            var d = l.rowById(s);
            if (d) {
              if (r = d.values || [], Array.isArray(t)) {
                u = 0;
                for (var p = t.length; u < p && !(n = !l.getField(u).equalValues(r[u], t[u])); u++)
                  ;
              } else
                for (u = 0; u < h && (c = l.getOrgFieldName(u), !(t.hasOwnProperty(c) && (n = !l.getField(u).equalValues(r[u], t[c])))); u++)
                  ;
              if (!n)
                return;
              d.update(t, o);
            }
          } else if (l instanceof wn) {
            if (r = l.getRow(s), Array.isArray(t))
              for (u = 0, p = t.length; u < p && !(n = !l.getField(u).equalValues(r[u], t[u])); u++)
                ;
            else
              for (u = 0; u < h && (c = l.getOrgFieldName(u), !(t.hasOwnProperty(c) && (n = !l.getField(u).equalValues(r[u], t[c])))); u++)
                ;
            if (!n)
              return;
            l.updateRow(s, t, o);
          }
        }
      }, a;
    }(), Ls = function() {
      function a(i, e, t) {
        this.onCurrentChanging = null, this.onCurrentChanged = null, this.onCurrentRowChanged = null, this.onValidateColumn = null, this.onValidateRow = null, this.onValidationFail = null, this.onColumnCheckedChanged = null, this.onMenuItemClicked = null, this.onContextMenuPopup = null, this.onPopupMenuPopup = null, this.onContextMenuItemClicked = null, this.onCellButtonClicked = null, this.onScrollToBottom = null, this.onTopIndexChanged = null, this.onTopIndexChanging = null, this.onLeftPosChanged = null, this.onRowsDeleting = null, this.onRowInserting = null, this.onSelectionCleared = null, this.onSelectionChanged = null, this.onSelectionAdded = null, this.onSelectionEnded = null, this.onShowEditor = null, this.onShowEditCommand = null, this.onHideEditor = null, this.onEditChange = null, this.onGetEditValue = null, this.onEditCommit = null, this.onEditCanceled = null, this.onItemEditCanceled = null, this.onItemEditCancel = null, this.onEditSearch = null, this.onSearchCellButtonClick = null, this.onCellEdited = null, this.onEditRowChanged = null, this.onEditRowPasted = null, this.onRowsPasted = null, this.onCellPasting = null, this.onItemChecked = null, this.onItemAllChecked = null, this.onErrorClicked = null, this.onSorting = null, this.onSortingChanged = null, this.onFiltering = null, this.onFilteringChanged = null, this.onWheel = null, this.onKeyDown = null, this.onKeyPress = null, this.onKeyUp = null, this.onShowTooltip = null, this.onShowHeaderTooltip = null, this.onColumnPropertyChanged = null, this.onLayoutPropertyChanged = null, this.onGridActivated = null, this.onCopy = null, this.onPaste = null, this.onPasted = null, this.onItemsChecked = null, this.onCellClicked = null, this.onCellDblClicked = null, this.onCellItemClicked = null, this.onCommandStackChanged = null, this.onDataLoadComplated = null, this.onLayoutExpanding = null, this.onLayoutExpanded = null, this.onLayoutCollapsing = null, this.onLayoutCollapsed = null, this._view = this._createView(i, e, t), this._listener = this._createListener(this._view);
      }
      return a.prototype.dispose = function() {
        return this._view.dispose(), this._view = null, this._container = this._container && this._container.dispose(), this._listener = this._listener && this._listener.dispose();
      }, Object.defineProperty(a.prototype, "summaryMode", { get: function() {
        return this._view.itemSource.summaryMode;
      }, set: function(i) {
        this._view.itemSource.summaryMode = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "hideDeletedRows", { get: function() {
        return this._view.itemSource.hideDeleted;
      }, set: function(i) {
        this._view.itemSource.hideDeleted = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "sortMode", { get: function() {
        return this._view.itemSource.sortMode;
      }, set: function(i) {
        this._view.itemSource.sortMode = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "undoable", { get: function() {
        return this._view.undoable;
      }, set: function(i) {
        this._view.undoable = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "undoing", { get: function() {
        return this._view.undoing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "redoing", { get: function() {
        return this._view.redoing;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "disabled", { get: function() {
        return this._view.container.disabled;
      }, set: function(i) {
        this._view.container.disabled = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "scrollBarWidth", { get: function() {
        return this._view.scrollBarWidth;
      }, set: function(i) {
        this._view.scrollBarWidth = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "scrollBarHeight", { get: function() {
        return this._view.scrollBarHeight;
      }, set: function(i) {
        this._view.scrollBarHeight = i;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "fixedOptions", { get: function() {
        return this._view.fixedOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "displayOptions", { get: function() {
        return this._view.displayOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "formatOptions", { get: function() {
        return this._view.formatOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "editOptions", { get: function() {
        return this._view.editOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "editorOptions", { get: function() {
        return this._view.editorOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "copyOptions", { get: function() {
        return this._view.copyOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "pasteOptions", { get: function() {
        return this._view.pasteOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "sortingOptions", { get: function() {
        return this._view.sortingOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "filteringOptions", { get: function() {
        return this._view.filteringOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "mobileOptions", { get: function() {
        return this._view.mobileOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "dataDropOptions", { get: function() {
        return this._view.dataDropOptions;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "rowIndicator", { get: function() {
        return this._view.rowIndicator;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "stateBar", { get: function() {
        return this._view.stateBar;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "checkBar", { get: function() {
        return this._view.checkBar;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "header", { get: function() {
        return this._view.header;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "footer", { get: function() {
        return this._view.footer;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "footers", { get: function() {
        return this._view.footers;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "headerSummary", { get: function() {
        return this._view.headerSummary;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "headerSummaries", { get: function() {
        return this._view.headerSummaries;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a.prototype, "filterPanel", { get: function() {
        return this._view.filterPanel;
      }, enumerable: !1, configurable: !0 }), a.prototype.ping = function(i) {
        this._view instanceof li && alert(i);
      }, a.prototype.refresh = function(i) {
        this._view.refreshView(i);
      }, a.prototype.beginUpdate = function() {
        this._view.beginUpdate();
      }, a.prototype.endUpdate = function(i) {
        this._view.endUpdate(i);
      }, a.prototype.isVisible = function() {
        return this._view.visible;
      }, a.prototype.setVisible = function(i) {
        this._view.visible = i;
      }, a.prototype.getItemCount = function() {
        return this._view.itemCount;
      }, a.prototype.getDataRow = function(i) {
        var e = this._view.getItem(i);
        return e ? e.dataRow : -1;
      }, a.prototype.getRowsOfItems = function(i) {
        var e = [];
        if (i)
          for (var t = 0, o = i.length; t < o; t++) {
            var r = this._view.getItem(i[t]);
            r && e.push(r.dataRow);
          }
        return e;
      }, a.prototype.getItemIndex = function(i) {
        return this._view.getItemIndexOfRow(i);
      }, a.prototype.getItemsOfRows = function(i) {
        return this._view.getItemIndicesOfRows(i);
      }, a.prototype.restoreColumns = function() {
        this._view.restoreColumns();
      }, a.prototype.getDataSource = function() {
        return this._dataDelegator;
      }, a.prototype.setDataSource = function(i) {
        this._dataDelegator = i, this._dataProvider = i ? i.getProvider() : null, this._view.dataSource = this._dataProvider;
      }, a.prototype.getOptions = function() {
        return { summaryMode: this._view.itemSource.summaryMode.toString(), hideDeletedRows: this._view.itemSource.hideDeleted, sortMode: this._view.itemSource.sortMode.toString(), fixed: this.fixedOptions, display: this.displayOptions, format: this.formatOptions, edit: this.editOptions, editor: this.editorOptions, copy: this.copyOptions, paste: this.pasteOptions, sorting: this.sortingOptions, filtering: this.filteringOptions, dataDrop: this.dataDropOptions, rowIndicator: this.rowIndicator, checkBar: this.checkBar, stateBar: this.stateBar, header: this.header, footer: this.footer, footers: this.footers, headerSummary: this.headerSummary, headerSummaries: this.headerSummaries };
      }, a.prototype.setOptions = function(i) {
        i && (this._view.setOptions(i), i.fixed && this.setFixedOptions(i.fixed), i.display && this.setDisplayOptions(i.display), i.format && this.setFormatOptions(i.format), i.edit && this.setEditOptions(i.edit), i.editor && this.setEditorOptions(i.editor), i.copy && this.setCopyOptions(i.copy), i.paste && this.setPasteOptions(i.paste), i.sorting && this.setSortingOptions(i.sorting), i.filtering && this.setFilteringOptions(i.filtering), i.dataDrop && this.setDataDropOptions(i.dataDrop), i.rowIndicator && this.setRowIndicator(i.rowIndicator), i.checkBar && this.setCheckBar(i.checkBar), i.stateBar && this.setStateBar(i.stateBar), i.header && this.setHeader(i.header), i.footer && this.setFooter(i.footer), i.footers && this.setFooters(i.footers), i.headerSummary && this.setHeaderSummary(i.headerSummary), i.headerSummaries && this.setHeaderSummaries(i.headerSummaries));
      }, a.prototype.getFixedOptions = function() {
        return this._view.fixedOptions.toProxy();
      }, a.prototype.setFixedOptions = function(i) {
        this._view.fixedOptions.assignFrom(i);
      }, a.prototype.getDisplayOptions = function() {
        return this._view.displayOptions.toProxy();
      }, a.prototype.setDisplayOptions = function(i) {
        this._view.displayOptions.assignFrom(i);
      }, a.prototype.getFormatOptions = function() {
        return this._view.formatOptions.toProxy();
      }, a.prototype.setFormatOptions = function(i) {
        this._view.formatOptions.assignFrom(i);
      }, a.prototype.getEditOptions = function() {
        return this._view.editOptions.toProxy();
      }, a.prototype.setEditOptions = function(i) {
        this._view.editOptions.assignFrom(i);
      }, a.prototype.getEditorOptions = function() {
        return this._view.editorOptions.toProxy();
      }, a.prototype.setEditorOptions = function(i) {
        this._view.editorOptions.assignFrom(i);
      }, a.prototype.getCopyOptions = function() {
        return this._view.copyOptions.toProxy();
      }, a.prototype.setCopyOptions = function(i) {
        this._view.copyOptions.assignFrom(i);
      }, a.prototype.getPasteOptions = function() {
        return this._view.pasteOptions.toProxy();
      }, a.prototype.setPasteOptions = function(i) {
        this._view.pasteOptions.assignFrom(i);
      }, a.prototype.getSortingOptions = function() {
        return this._view.sortingOptions.toProxy();
      }, a.prototype.setSortingOptions = function(i) {
        this._view.sortingOptions.assignFrom(i);
      }, a.prototype.getFilteringOptions = function() {
        return this._view.filteringOptions.toProxy();
      }, a.prototype.setFilteringOptions = function(i) {
        this._view.filteringOptions.assignFrom(i);
      }, a.prototype.getMobileOptions = function() {
        return this._view.mobileOptions.toProxy();
      }, a.prototype.setMobileOptions = function(i) {
        this._view.mobileOptions.assignFrom(i);
      }, a.prototype.getDataDropOptions = function() {
        return this._view.dataDropOptions.toProxy();
      }, a.prototype.setDataDropOptions = function(i) {
        this._view.dataDropOptions.assignFrom(i);
      }, a.prototype.getRowIndicator = function() {
        return this._view.rowIndicator.toProxy();
      }, a.prototype.setRowIndicator = function(i) {
        this._view.rowIndicator.assignFrom(i);
      }, a.prototype.getStateBar = function() {
        return this._view.stateBar.toProxy();
      }, a.prototype.setStateBar = function(i) {
        this._view.stateBar.assignFrom(i);
      }, a.prototype.getCheckBar = function() {
        return this._view.checkBar.toProxy();
      }, a.prototype.setCheckBar = function(i) {
        this._view.checkBar.assignFrom(i);
      }, a.prototype.getHeader = function() {
        return this._view.header.toProxy();
      }, a.prototype.setHeader = function(i) {
        this._view.header.assignFrom(i);
      }, a.prototype.getFooter = function() {
        return this._view.footer.toProxy();
      }, a.prototype.setFooter = function(i) {
        this._view.footer.assignFrom(i);
      }, a.prototype.getFooters = function() {
        return this._view.footers.toProxy();
      }, a.prototype.setFooters = function(i) {
        this._view.footers.assignFrom(i);
      }, a.prototype.getHeaderSummary = function() {
        return this._view.headerSummary.toProxy();
      }, a.prototype.setHeaderSummary = function(i) {
        this._view.headerSummary.assignFrom(i);
      }, a.prototype.getHeaderSummaries = function() {
        return this._view.headerSummaries.toProxy();
      }, a.prototype.setHeaderSummaries = function(i) {
        this._view.headerSummaries.assignFrom(i);
      }, a.prototype.setFilterPanel = function(i) {
        this._view.filterPanel.assignFrom(i);
      }, a.prototype.setCellStyleCallback = function(i) {
        this._view.body.cellStyleCallback = i;
      }, a.prototype.setRowStyleCallback = function(i) {
        this._view.body.rowStyleCallback = i;
      }, a.prototype.addUserCellStyle = function(i, e, t) {
        this._view.body.addUserCellStyle(i, e, t);
      }, a.prototype.removeUserCellStyle = function(i, e) {
        i === void 0 && (i = null), e === void 0 && (e = null), this._view.body.removeUserCellStyle(i, e);
      }, a.prototype.getUserCellStyle = function(i, e) {
        return this._view.body.getUserCellStyle(i, e);
      }, a.prototype.setAriaLabelCallback = function(i) {
        this._view.body.ariaLabelCallback = i;
      }, a.prototype.orderBy = function(i, e, t) {
        if (i) {
          var o = [], r = [], n = [];
          i = b.makeArray(i, !1), e = b.makeArray(e, !0), t = b.makeArray(t, !0);
          for (var s = 0, l = i.length; s < l; s++)
            o.push(this._view.columnByField(i[s])), r.push(e[s] || f.SortDirection.ASCENDING), n.push(t[s] || f.SortCase.SENSITIVE);
          this._view.orderBy(o, r, n);
        }
      }, a.prototype.getSortedFields = function() {
        var i, e = this._view, t = e.getSortFields(), o = e.getSortDirections();
        if (t && (i = t.length) > 0) {
          for (var r = this._dataProvider, n = [], s = 0; s < i; s++)
            n.push({ fieldName: r.getFieldName(t[s]), orgFieldName: r.getOrgFieldName(t[s]), direction: o[s] });
          return n;
        }
        return null;
      }, a.prototype.setFocus = function() {
        this._view.setFocus();
      }, a.prototype.getColumn = function(i) {
        return this._view.getColumn(i);
      }, a.prototype.getColumns = function() {
        for (var i = this._view.columnCount, e = [], t = 0; t < i; t++)
          e.push(this._view.getColumn(t));
        return e;
      }, a.prototype.setColumns = function(i) {
        this._view.setColumns(i);
      }, a.prototype.addColumn = function(i, e) {
        return this._view.addColumn(i, e);
      }, a.prototype.removeColumn = function(i) {
        return this._view.removeColumn(i);
      }, a.prototype.addLayout = function(i, e) {
        return this._view.addLayout(i, e);
      }, a.prototype.removeLayout = function(i) {
        this._view.removeLayout(i);
      }, a.prototype.layoutByColumn = function(i) {
        return this._view.layoutByColumn(i);
      }, a.prototype.layoutByName = function(i) {
        return this._view.layoutByName(i);
      }, a.prototype.getColumnNames = function(i, e) {
        return this._view.collectColumnNames(i, e);
      }, a.prototype.columnByName = function(i) {
        return this._view.columnByName(i);
      }, a.prototype.columnByField = function(i) {
        return this._view.columnByField(i);
      }, a.prototype.columnByTag = function(i) {
        return this._view.columnByTag(i);
      }, a.prototype.columnsByTag = function(i) {
        return this._view.columnsByTag(i);
      }, a.prototype.getColumnProperty = function(i, e) {
        var t = we.getColumn(this._view, i);
        if (t && e)
          return t[e] instanceof J ? t[e].toProxy() : t[e];
      }, a.prototype.setColumnProperty = function(i, e, t) {
        var o = we.getColumn(this._view, i);
        o && e && (o[e] instanceof J ? o[e].assignFrom(t) : o[e] = t);
      }, a.prototype.setColumn = function(i) {
        var e = we.getColumn(this._view, i);
        e && e.assignFrom(i);
      }, a.prototype.getDisplayColumns = function() {
        return this._view.collectColumns(!0, !0, !0);
      }, a.prototype.setColumnLayout = function(i) {
        (typeof i != "string" || (i = this._view.findColumnLayout(i))) && this._view.setCellLayout(i);
      }, a.prototype.getLayoutByColumn = function(i) {
        var e = this._view.layoutByColumn(i);
        return e ? e.toProxy() : null;
      }, a.prototype.saveColumnLayout = function() {
        return this._view.activeCellLayout.getLayout.apply(this._view.activeCellLayout, arguments);
      }, a.prototype.linearizeColumns = function(i) {
        this._view.linearizeColumns(i);
      }, a.prototype.registerColumnLayouts = function(i) {
        this._view.registerColumnLayouts(i);
      }, a.prototype.fitLayoutWidth = function(i, e, t, o) {
        var r;
        return i ? i instanceof Oe ? r = i : typeof i == "string" ? r = this._view.layoutByName(i) : i.name && (r = this._view.layoutByColumn(i.name)) : i == null && (r = this._view.activeCellLayout._root), r && this._view.fitLayoutWidth(r, e, t, o);
      }, a.prototype.setRowHeight = function(i, e, t) {
        e === void 0 && (e = 0), t === void 0 && (t = !0), this._view.setRowHeight(i, e, t);
      }, a.prototype.getRowHeight = function(i) {
        var e = this._view.getRowHeight(i);
        if (isNaN(e)) {
          var t = this._view.getItem(i);
          e = this._view.layoutManager.getItemHeight(t);
        }
        return e;
      }, a.prototype.clearRowHeights = function(i) {
        this._view.clearRowHeights(i);
      }, a.prototype.getCurrent = function() {
        var i = this._view.focusedIndex;
        return i ? i.proxy() : null;
      }, a.prototype.setCurrent = function(i, e) {
        e === void 0 && (e = !0);
        var t = this._view.focusedIndex.clone();
        t.assignFrom(i), this._view.setFocusedIndex(t, e, !0);
      }, a.prototype.resetCurrent = function() {
        this._view.setFocusedIndex(this._view.focusedIndex.clone().reset());
      }, a.prototype.clearCurrent = function() {
        this._view.clearFocusedIndex();
      }, a.prototype.mouseToIndex = function(i, e) {
        var t = this._view.pointToIndex(null, i, e, !1);
        return t ? t.proxy() : null;
      }, a.prototype.getCellBounds = function(i, e, t) {
        t === void 0 && (t = !0);
        var o = we.getColumn(this._view, e), r = new W(this._view, i, o);
        if (o && r) {
          var n = this._view.layoutManager, s = n.getBodyView(r), l = s.getCellRectAt(n, r, !0);
          if (l = l && (t ? s.boundsByScreen(l) : s.boundsByContainer(l)))
            return { x: l.x, y: l.y, width: l.width, height: l.height };
        }
        return null;
      }, a.prototype.getIndexOfElement = function(i) {
        var e = this._view.getCellViewOf(i), t = this._view.getDataCellIndex(e);
        return t ? t.proxy() : null;
      }, a.prototype.setColumnFilters = function(i, e) {
        var t = we.getColumn(this._view, i);
        t instanceof re && t.setFilters(e);
      }, a.prototype.clearColumnFilters = function(i) {
        var e = we.getColumn(this._view, i);
        e instanceof re && e.clearFilters();
      }, a.prototype.addColumnFilters = function(i, e, t) {
        var o = we.getColumn(this._view, i);
        o instanceof re && o.addFilters(e, t);
      }, a.prototype.removeColumnFilters = function(i, e) {
        var t = we.getColumn(this._view, i);
        t instanceof re && t.removeFilters(e);
      }, a.prototype.activateColumnFilters = function(i, e, t) {
        var o = we.getColumn(this._view, i);
        o instanceof re && o.activateFilters(e, t);
      }, a.prototype.activateAllColumnFilters = function(i, e) {
        var t = we.getColumn(this._view, i);
        t instanceof re && t.activateAllFilters(e);
      }, a.prototype.resetFilters = function() {
        this._view.itemSource.beginFiltering();
        try {
          this._view.itemSource.clearAllFilters(), this._view.getDataColumns(!1).forEach(function(i) {
            i.isFiltered() && (i.activateAllFilters(!1, !1), i.setInlineFilter(null, !1));
          });
        } finally {
          this._view.itemSource.endFiltering(null, null);
        }
      }, a.prototype.hideColumnFilters = function(i, e, t) {
        t === void 0 && (t = !0);
        var o = we.getColumn(this._view, i);
        o instanceof re && (o.hideColumnFilters(e, t), this._view.closePopups());
      }, a.prototype.hideAllColumnFilters = function(i, e) {
        e === void 0 && (e = !0);
        var t = we.getColumn(this._view, i);
        t instanceof re && (t.hideAllColumnFilters(e), this._view.closePopups());
      }, a.prototype.toggleColumnFilters = function(i, e) {
        var t = we.getColumn(this._view, i);
        t instanceof re && t.toggleFilters(e);
      }, a.prototype.toggleAllColumnFilters = function(i) {
        var e = we.getColumn(this._view, i);
        e instanceof re && e.toggleAllFilters();
      }, a.prototype.getColumnFilter = function(i, e) {
        var t = we.getColumn(this._view, i);
        return t instanceof re && t.getFilter(e) ? t.getFilter(e).toProxy() : null;
      }, a.prototype.getColumnFilters = function(i) {
        var e = we.getColumn(this._view, i);
        if (e instanceof re) {
          for (var t = e.autoFilter ? e.autoFilters.items : e.filters.items, o = [], r = 0, n = t.length; r < n; r++)
            o.push(t[r].toProxy());
          return o;
        }
        return null;
      }, a.prototype.getActiveColumnFilters = function(i, e) {
        e === void 0 && (e = !0);
        var t = we.getColumn(this._view, i);
        if (t instanceof re) {
          for (var o = t.getActiveFilters(e), r = [], n = 0, s = o.length; n < s; n++)
            r.push(o[n].toProxy());
          return r;
        }
        return null;
      }, a.prototype.isFiltered = function(i) {
        if (i) {
          var e = we.getColumn(this._view, i);
          return e instanceof re && e.isFiltered();
        }
        var t = this._view.getFilteredColumns();
        return t && t.length > 0;
      }, a.prototype.autoFiltersRefresh = function(i, e) {
        i = i ? b.makeArray(i) : this._view.getChildColumnNames(null);
        for (var t = 0; t < i.length; t++) {
          var o = we.getColumn(this._view, i[t]);
          o instanceof re && o.autoFilterRefresh(e);
        }
      }, a.prototype.getValues = function(i) {
        var e = this._view.getItem(i);
        return e ? we.getValues(this._view, e) : null;
      }, a.prototype.getDisplayValues = function(i, e) {
        var t = this._view.getItem(i);
        if (t)
          return we.getDisplayValues(this._view, t, e);
      }, a.prototype.getDisplayValuesOfRow = function(i, e) {
        var t = this._view.getItemOfRow(i, !0);
        if (t)
          return we.getDisplayValues(this._view, t, e);
      }, a.prototype.getJsonRows = function() {
        return this._view.getJsonRows();
      }, a.prototype.setValues = function(i, e, t) {
        var o = this._view.getItem(i);
        o && we.setValues(this._view, o, e, t);
      }, a.prototype.getValue = function(i, e) {
        var t, o = this._view._clipboardManager;
        if (o.isPasting && (t = o.appendingIndex.item).index !== i && (t = null), t = t || this._view.getItem(i)) {
          var r = typeof e == "string" ? this._dataProvider.getFieldIndex(e) : e;
          return t.getData(r);
        }
        return null;
      }, a.prototype.setValue = function(i, e, t) {
        e = this._dataProvider.getFieldIndex(e), this._view.setValueAt(i, e, t);
      }, a.prototype.getEditValue = function() {
        return this._view.getEditCellValue();
      }, a.prototype.setEditValue = function(i, e, t) {
        t === void 0 && (t = !0), this._view.setEditCellValue(i, e, t);
      }, a.prototype.registerCustomRenderer = function(i, e) {
        this._view.registerCustomRenderer(i, e);
      }, a.prototype.unregisterCustomRenderer = function(i) {
        this._view.unregisterCustomRenderer(i);
      }, a.prototype.existsCustomRenderer = function(i) {
        return this._view.existsCustomRenderer(i);
      }, a.prototype.unregisterAllCustomRenderer = function() {
        this._view.unregisterAllCustomRenderer();
      }, a.prototype.addPopupMenu = function(i, e) {
        this._view.addPopupMenu(i, e);
      }, a.prototype.getPopupMenu = function(i) {
        return this._view.getPopupMenu(i);
      }, a.prototype.removePopupMenu = function(i) {
        this._view.removePopupMenu(i);
      }, a.prototype.setContextMenu = function(i) {
        return this._view.setContextMenu(i);
      }, a.prototype.getSelection = function(i) {
        i === void 0 && (i = 0);
        var e = this._view.getSelection(i);
        return e ? e.toProxy() : null;
      }, a.prototype.getSelections = function() {
        var i = this._view.getSelections(), e = [];
        return i.forEach(function(t) {
          e.push(t.toProxy());
        }), e;
      }, a.prototype.setSelection = function(i) {
        i.style && typeof i.style == "string" && (this._view.clearAddSelection(!0, !1), this.addSelection(i));
      }, a.prototype.addSelection = function(i) {
        if (i.style && typeof i.style == "string") {
          var e, t, o = b.valueIn(i.style, f.SelectionStyle) ? i.style : f.SelectionStyle.BLOCK, r = 0, n = 0;
          if (i.hasOwnProperty("startItem"))
            n = r = i.startItem;
          else if (i.hasOwnProperty("startRow"))
            n = r = this._view.getItemIndexOfRow(i.startRow);
          else if (o != "singleColumn" && o != "columns")
            return;
          if (i.hasOwnProperty("endItem"))
            n = i.endItem;
          else if (i.hasOwnProperty("endRow"))
            n = this._view.getItemIndexOfRow(i.endRow);
          else if (o != "singleColumn" && o != "columns")
            return;
          e = we.getColumn(this._view, i.startColumn), t = we.getColumn(this._view, i.endColumn);
          var s = new W(this._view, r, e), l = new W(this._view, n, t);
          this._view.selections.add(s, l, o);
        }
      }, a.prototype.clearSelection = function() {
        this._view.clearAddSelection();
      }, a.prototype.removeSelection = function(i) {
        var e = this._view.selections.getItem(i);
        e && this._view.selections.remove(e);
      }, a.prototype.getSelectedItems = function(i) {
        return this._view.getSelectedItemIndices(i);
      }, a.prototype.getSelectedRows = function() {
        return this._view.getSelectedRows();
      }, a.prototype.deleteSelection = function(i) {
        this._view.deleteSelection(i);
      }, a.prototype.eraseSelection = function(i) {
        this._view.eraseSelection(i);
      }, a.prototype.getSelectionData = function(i, e) {
        return i === void 0 && (i = -1), e === void 0 && (e = 0), e >= 0 && e < this._view.selections.count ? this._view.selections.getItem(e).getData(i) : null;
      }, a.prototype.getSelectionsData = function() {
        var i = [], e = this._view.selections.getItems(), t = {};
        return e.forEach(function(o) {
          o.getData(-1).forEach(function(r) {
            var n = r.__rowId;
            n >= 0 && (t[n] = t[n] || {}, b.extendObj(r, t[n]));
          });
        }), Object.keys(t).forEach(function(o) {
          i.push(t[o]);
        }), i;
      }, a.prototype.copyToClipboard = function(i, e) {
        return e === void 0 && (e = !0), this._view.toClipboard(i, e);
      }, a.prototype.commitEditor = function(i, e) {
        i === void 0 && (i = !0), e === void 0 && (e = !0), this._view.commitEditor(i, e);
      }, a.prototype.commit = function(i) {
        return this._view.commit(i);
      }, a.prototype.cancel = function() {
        return this._view.cancel();
      }, a.prototype.fillEditSearchItems = function(i, e, t, o) {
        var r = we.getColumn(this._view, i);
        this._view.fillEditSearchItems(r, e, t, o);
      }, a.prototype.isItemEditing = function() {
        return this._view.isItemEditing();
      }, a.prototype.isEditing = function() {
        return this._view.isEditing();
      }, a.prototype.showEditor = function(i) {
        i === void 0 && (i = !1), this._view.showEditor(null, null, i);
      }, a.prototype.hideEditor = function() {
        this._view.hideEditor(!0);
      }, a.prototype.cancelEditor = function() {
        this._view.cancelEditor(!0);
      }, a.prototype.setValidations = function(i) {
        this._view.validations = i;
      }, a.prototype.validateCells = function(i, e, t) {
        return e === void 0 && (e = !0), t === void 0 && (t = !1), this._view.validateCells(i, e, t);
      }, a.prototype.getInvalidCells = function(i) {
        var e;
        return i != null && (e = this.getDataRow(i)) < 0 ? null : this._view.getInvalidCells(e);
      }, a.prototype.getInvalidCellsOfRow = function(i) {
        return i == null ? null : this._view.getInvalidCells(i);
      }, a.prototype.clearInvalidCells = function() {
        return this._view.clearInvalidCells();
      }, a.prototype.getEditingItem = function() {
        var i = this._view.getEditItem();
        return i ? (i.getRowObject(), { itemIndex: i.index, dataRow: i.dataRow, values: i.getRowObject() }) : null;
      }, a.prototype.getItemState = function(i) {
        var e = this._view.getItem(i);
        if (e) {
          var t = e.itemState;
          return t == f.ItemState.NORMAL && this._view.focusedIndex.itemIndex == e.index && (t = f.ItemState.FOCUSED), t;
        }
        return null;
      }, a.prototype.showToast = function(i, e) {
        this._view.showToast(i, e);
      }, a.prototype.hideToast = function(i) {
        this._view.hideToast(i);
      }, a.prototype.setLookups = function(i) {
        this._view.setLookups(i);
      }, a.prototype.addLookupSource = function(i) {
        this._view.addLookupSource(i);
      }, a.prototype.removeLookupSource = function(i) {
        this._view.removeLookupSource(i);
      }, a.prototype.existsLookupData = function(i, e) {
        return this._view.existsLookupData(i, e);
      }, a.prototype.fillLookupData = function(i, e) {
        this._view.fillLookupData(i, e);
      }, a.prototype.clearLookupData = function(i) {
        this._view.clearLookupData(i);
      }, a.prototype.isCheckable = function(i) {
        return this._view.isCheckable(i);
      }, a.prototype.isCheckableOfRow = function(i) {
        return this._view.isCheckableOfRow(i);
      }, a.prototype.setCheckable = function(i, e) {
        this._view.setCheckable(i, e);
      }, a.prototype.setCheckableOfRow = function(i, e) {
        this._view.setCheckableOfRow(i, e);
      }, a.prototype.isCheckedItem = function(i) {
        return this._view.isCheckedItem(i);
      }, a.prototype.isCheckedRow = function(i) {
        return this._view.isCheckedRow(i);
      }, a.prototype.checkItem = function(i, e, t, o) {
        e === void 0 && (e = !0), o === void 0 && (o = !0), this._view.checkItem(i, e, t, o);
      }, a.prototype.checkRow = function(i, e, t, o) {
        e === void 0 && (e = !0), o === void 0 && (o = !0), this._view.checkRow(i, e, t, o);
      }, a.prototype.checkItems = function(i, e, t) {
        e === void 0 && (e = !0), t === void 0 && (t = !0), this._view.checkItems(i, e, t);
      }, a.prototype.checkRows = function(i, e, t) {
        e === void 0 && (e = !0), t === void 0 && (t = !0), this._view.checkRows(i, e, t);
      }, a.prototype.checkAll = function(i, e, t, o) {
        i === void 0 && (i = !0), t === void 0 && (t = !0), o === void 0 && (o = !0), this._view.checkAll(i, e, t, o);
      }, a.prototype.setAllCheck = function(i, e) {
        i === void 0 && (i = !0), e === void 0 && (e = !0), this._view.setAllCheck(i, e);
      }, a.prototype.isAllChecked = function() {
        return this._view.allChecked;
      }, a.prototype.resetCheckables = function(i) {
        this._view.resetCheckables(), i && (this._view.checkBar.checkableExpression = null, this._view.checkBar.checkableCallback = null);
      }, a.prototype.applyCheckables = function() {
        this._view.applyCheckables();
      }, a.prototype.setCheckableExpression = function(i, e) {
        e === void 0 && (e = !0), this._view.checkBar.checkableExpression = i, e && this._view.applyCheckables();
      }, a.prototype.setCheckableCallback = function(i, e) {
        e === void 0 && (e = !0), this._view.checkBar.checkableCallback = i, e && this._view.applyCheckables();
      }, a.prototype.getSummary = function(i, e) {
        var t = this._view.summarizer, o = typeof i == "string" ? this._dataProvider.getFieldIndex(i) : i;
        if (o == -1)
          return null;
        switch (e) {
          case "count":
            return t.getCount(o);
          case "sum":
            return t.getSum(o);
          case "max":
            return t.getMax(o);
          case "min":
            return t.getMin(o);
          case "avg":
            return t.getAvg(o);
          case "var":
            return t.getVar(o);
          case "varp":
            return t.getVarp(o);
          case "stdev":
            return t.getStdev(o);
          case "stdevp":
            return t.getStdevp(o);
          case "datacount":
            return t.getDataCount(o);
          case "dataavg":
            return t.getDataAvg(o);
        }
      }, a.prototype.getModel = function(i, e) {
        var t = this._view.getItem(i);
        return t && we.getItemProxy(t, e);
      }, a.prototype.getModelAs = function(i, e, t) {
        var o = this._view.getItem(i);
        switch (e) {
          case "row":
            o = b.cast(o, Fe);
            break;
          case "group":
            o = b.cast(o, Se);
            break;
          case "footer":
            o = b.cast(o, Ke);
            break;
          case "tree":
            o = b.cast(o, xe);
        }
        return o ? we.getItemProxy(o, t) : null;
      }, a.prototype.getGroupModel = function(i, e) {
        var t = this._view.getItem(i);
        return !t || t instanceof Se || (t = t.parent instanceof fi ? null : t.parent), t ? we.getItemProxy(t, e) : null;
      }, a.prototype.getRootModel = function(i, e) {
        if (!i || !this._view.isTree() && !this._view.rowGrouped)
          return null;
        if (i) {
          var t = this._view.getItem(i.index);
          if (t)
            return t.root ? we.getItemProxy(t.root, e) : null;
        }
        return null;
      }, a.prototype.getModels = function(i, e) {
        if (i = b.makeArray(i)) {
          for (var t = [], o = 0, r = i.length; o < r; o++) {
            var n = this._view.getItem(i[o]);
            n && t.push(we.getItemProxy(n, e));
          }
          return t;
        }
      }, a.prototype.getModelOfRow = function(i, e) {
        var t = this._view.getItemOfRow(i, !1);
        return t ? we.getItemProxy(t, e) : null;
      }, a.prototype.getModelsOfRows = function(i, e) {
        if (i = b.makeArray(i)) {
          for (var t = [], o = 0, r = i.length; o < r; o++) {
            var n = this._view.getItemOfRow(i[o], !1);
            n && t.push(we.getItemProxy(n, e));
          }
          return t;
        }
      }, a.prototype.getParentModel = function(i, e) {
        var t;
        return i && (t = this._view.getItemOfModel(i)), !t || t instanceof Ji || !this._view.isTree() && !this._view.rowGrouped ? null : we.getItemProxy(t.parent, e);
      }, a.prototype.getChildModel = function(i, e, t) {
        var o = i && this._view.getItemOfModel(i);
        if (o instanceof Se) {
          var r = o.getItem(e);
          return r ? we.getItemProxy(r, t) : null;
        }
        return null;
      }, a.prototype.getChildModels = function(i, e) {
        var t = i && this._view.getItemOfModel(i);
        if (t instanceof Se) {
          for (var o = [], r = 0, n = t.count; r < n; r++)
            o.push(we.getItemProxy(t.children[r], e));
          return o;
        }
        return null;
      }, a.prototype.getDescendantModels = function(i, e) {
        var t = i && this._view.getItemOfModel(i);
        if (t instanceof Se) {
          var o = t.getDescendants(!1), r = [];
          if (o)
            for (var n = 0, s = o.length; n < s; n++)
              r.push(we.getItemProxy(o[n], e));
          return r;
        }
        return null;
      }, a.prototype.getGroupSummary = function(i, e, t) {
        if (i) {
          var o = this._view.getItemOfModel(i), r = typeof e == "string" ? this._dataProvider.getFieldIndex(e) : e;
          if (o instanceof Se && r >= 0) {
            var n = { count: o.getNumber(r), sum: o.getSum(r), max: o.getMax(r), min: o.getMin(r), avg: o.getAvg(r), datacount: o.getDataCount(r), dataavg: o.getSum(r) / o.getDataCount(r) };
            return t && (n.var = o.getVar(r, 1), n.varp = o.getVar(r, 0), n.stdev = o.getStdev(r, 1), n.stdevp = o.getStdev(r, 0)), n;
          }
        }
        return null;
      }, a.prototype.getDistinctItemValues = function(i, e, t) {
        return e === void 0 && (e = -1), t === void 0 && (t = f.SortDirection.ASCENDING), i = this._dataProvider.getFieldIndex(i), this._view.getDistinctItemValues(i, e, t);
      }, a.prototype.showProgress = function() {
        this._view.showProgress();
      }, a.prototype.setProgress = function(i, e, t, o) {
        this._view.setProgress(i, e, t, o);
      }, a.prototype.closeProgress = function() {
        this._view.closeProgress();
      }, a.prototype.showLoading = function(i) {
        this._view.showLoading(i);
      }, a.prototype.closeLoading = function() {
        this._view.hideLoading();
      }, a.prototype.searchItem = function(i) {
        return i ? this._view.searchItem(i) : -1;
      }, a.prototype.searchCell = function(i) {
        return i ? this._view.searchCell(i) : null;
      }, a.prototype.resetSize = function(i) {
        this._view.container.resetSize(i);
      }, a.prototype.closeList = function() {
        this._view.closePopups();
      }, a.prototype.exportGrid = function(i) {
        if (i.type === "csv") {
          var e = new Hr(i);
          new Ef().export(this._view, e);
        } else
          i.type === "excel" && (e = new Rf(this._view, i), new S_().export(this._view, e));
      }, a.prototype.scrollPage = function(i) {
        this._view._vscrollBar._doScroll(We.PAGE, i, 0);
      }, a.prototype.getTopItem = function() {
        return this._view.topIndex;
      }, a.prototype.setTopItem = function(i) {
        i === void 0 && (i = 0), this._view.topIndex = i;
      }, a.prototype.getLeftPos = function() {
        return this._view.leftPos;
      }, a.prototype.setLeftPos = function(i) {
        this._view.leftPos = i;
      }, a.prototype.setLeftCol = function(i) {
        var e;
        if (typeof i == "string") {
          var t = this._view.layoutByName(i);
          t && (e = t._col);
        } else
          e = i;
        this._view.leftCell = e;
      }, a.prototype.getContainer = function() {
        return this._view.container._containerDiv;
      }, a.prototype.requestPrepareEditor = function() {
        this._view.requestPrepareEditor();
      }, a.prototype.destroy = function() {
        return this.dispose();
      }, a.prototype.fullItemCount = function() {
        return this._view.layoutManager.fullItemCount;
      }, a.prototype.undo = function() {
        return this._view.undo();
      }, a.prototype.redo = function() {
        return this._view.redo();
      }, a.prototype.clearCommandStack = function(i) {
        i === void 0 && (i = !0), this._view.clearCommandStack(i);
      }, a.prototype._getView = function() {
        return this._view;
      }, a;
    }(), Eh = function(a) {
      function i(e, t, o) {
        var r = a.call(this, e, t, o) || this;
        return r.onPageChanging = null, r.onPageChanged = null, r.onPageCountChanged = null, r.onGrouping = null, r.onGrouped = null, r.onExpanding = null, r.onExpanded = null, r.onCollapsing = null, r.onCollapsed = null, t && (r.shadowDom = r._view._shadowDom), r;
      }
      return w(i, a), Object.defineProperty(i.prototype, "rowGroup", { get: function() {
        return this._view.rowGroup;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupPanel", { get: function() {
        return this._view.groupPanelView;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterMode", { get: function() {
        return this._view._rs.filterMode;
      }, set: function(e) {
        this._view._rs.filterMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "filterOr", { get: function() {
        return this._view._rs.inclusiveFiltering;
      }, set: function(e) {
        this._view._rs.inclusiveFiltering = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupSummaryMode", { get: function() {
        return this._view._rs.groupSummaryMode;
      }, set: function(e) {
        this._view._rs.groupSummaryMode = e;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(i.prototype, "groupingOptions", { get: function() {
        return this._view.groupingOptions;
      }, enumerable: !1, configurable: !0 }), i.prototype.getRowGroup = function() {
        return this._view.rowGroup.toProxy();
      }, i.prototype.setRowGroup = function(e) {
        this._view.rowGroup.assignFrom(e);
      }, i.prototype.getGroupPanel = function() {
        return { visible: this._view.groupPanelView.visible, height: this._view.groupPanelView.height, minHeight: this._view.groupPanelView.minHeight };
      }, i.prototype.setGroupPanel = function(e) {
        this._view.groupPanelView.assignFrom(e);
      }, i.prototype.getOptions = function() {
        var e = a.prototype.getOptions.call(this), t = this._view._rs;
        return e.filterOr = t.inclusiveFiltering, e.groupSummaryMode = t.groupSummaryMode.toString(), e.filterMode = t.filterMode.toString(), e.grouping = this.groupingOptions, e.groupPanel = this.groupPanel, e;
      }, i.prototype.setOptions = function(e) {
        a.prototype.setOptions.call(this, e), e.grouping && this._view.groupingOptions.assignFrom(e.grouping), e.groupPanel && this._view.groupPanelView.assignFrom(e.groupPanel);
      }, i.prototype.getGroupingOptions = function() {
        return this._view.groupingOptions.toProxy();
      }, i.prototype.setGroupingOptions = function(e) {
        this._view.groupingOptions.assignFrom(e);
      }, i.prototype.groupBy = function(e, t, o) {
        this._view.groupByFieldNames(e, t, o);
      }, i.prototype.isGrouped = function() {
        return this._view.rowGrouped;
      }, i.prototype.isMergedGrouped = function() {
        return this._view.mergedRowGrouped;
      }, i.prototype.getGroupFields = function() {
        return this._view.rowGroupFields;
      }, i.prototype.getGroupFieldNames = function(e) {
        e === void 0 && (e = !0);
        var t = this._view.rowGroupFields;
        if (t) {
          var o = this._dataProvider;
          if (o) {
            for (var r = [], n = 0, s = t.length; n < s; n++)
              r.push(e ? o.getOrgFieldName(t[n]) : o.getFieldName(t[n]));
            return r;
          }
          return t;
        }
        return null;
      }, i.prototype.getGroupLevels = function() {
        return this._view.rowGroupLevels;
      }, i.prototype.getGroupLevel = function(e) {
        return (e = this._dataProvider.getFieldIndex(e)) > -1 ? this._view.getGroupLevel(e) : -1;
      }, i.prototype.getGroupIndex = function(e) {
        var t = this._view.getItem(e);
        if (t) {
          var o = t.parent;
          return o ? o.index : -1;
        }
        return -1;
      }, i.prototype.isGroupItem = function(e) {
        return this._view.getItem(e) instanceof Se;
      }, i.prototype.isParentVisible = function(e) {
        var t = this._view.getItem(e);
        return t && t.parent && t.parent.visible;
      }, i.prototype.expandGroup = function(e, t, o, r) {
        r === void 0 && (r = 0);
        var n = this._view.getItem(e);
        n && n instanceof Se && this._view.expand(n, t, o, r);
      }, i.prototype.collapseGroup = function(e, t, o) {
        var r = this._view.getItem(e);
        r && r instanceof Se && this._view.collapse(r, t, o);
      }, i.prototype.expandParent = function(e, t, o, r) {
        r === void 0 && (r = 0);
        var n = this._view.getItem(e);
        if (n) {
          var s = n.parent;
          s && s.expandable && (s.collapsed || o) && this._view.expand(s, t, o, r);
        }
      }, i.prototype.collapseParent = function(e, t, o) {
        var r = this._view.getItem(e);
        if (r) {
          var n = r.parent;
          n && n.collapsable && n instanceof Se && this._view.collapse(n, t, o);
        }
      }, i.prototype.expandAll = function(e, t) {
        e === void 0 && (e = !0), this._view.itemCount > 0 && this._view.expandAll(e, t);
      }, i.prototype.collapseAll = function(e) {
        this._view.itemCount > 0 && this._view.collapseAll(e);
      }, i.prototype.getGroupSummaryValue = function(e, t, o) {
        if (e && this._view.rowGrouped) {
          var r = this._view.getItemOfModel(e), n = we.getColumn(this._view, t);
          if (r instanceof He) {
            var s = r._allFooters;
            return (o = r.allFooterCount === 1 ? 0 : o) != null && r._allFooters[o] ? (r = r._allFooters[o], ai.getValue(r, n)) : s.map(function(l) {
              return ai.getValue(l, n);
            });
          }
          if (r instanceof Ke)
            return ai.getValue(r, n);
        }
        return null;
      }, i.prototype.layoutExpandAll = function(e) {
        this._view.layoutExpandAll(!0, e);
      }, i.prototype.layoutCollapseAll = function(e) {
        this._view.layoutExpandAll(!1, e);
      }, i.prototype.beginInsertRow = function(e, t) {
        e === void 0 && (e = -1), this._view.insertAt(e, t);
      }, i.prototype.beginAppendRow = function() {
        this._view.append();
      }, i.prototype.beginUpdateRow = function(e) {
        if (this._view.focusedIndex) {
          var t = this._view.focusedIndex.clone();
          e !== void 0 && (t.itemIndex = e), this._view.edit(t);
        }
      }, i.prototype.setPaging = function(e, t, o) {
        t === void 0 && (t = 10), o === void 0 && (o = -1), this._view.setPaging(e, t, o);
      }, i.prototype.getPage = function() {
        return this._view.page;
      }, i.prototype.setPage = function(e, t) {
        t === void 0 && (t = -1), this._view.setPage(e, t);
      }, i.prototype.getPageCount = function() {
        return this._view.pageCount;
      }, i.prototype.setPageCount = function(e) {
        this._view.pageCount = e;
      }, i.prototype.getPageOfDataRow = function(e) {
        return this._view.getPageOfDataRow(e);
      }, i.prototype.getCheckedItems = function(e) {
        return e === void 0 && (e = !0), this._view.getCheckedItemIndices(!e);
      }, i.prototype.getCheckedRows = function(e, t, o) {
        return e === void 0 && (e = !0), this._view.getCheckedRows(e, t, o);
      }, i.prototype.getMergedItems = function(e, t, o, r) {
        return o === void 0 && (o = !0), r === void 0 && (r = !0), this._view.getMergedItems(e, t, o, r);
      }, i.prototype._createView = function(e, t, o) {
        return (this._container = new Sh(e, this, t, o)).gridView;
      }, i.prototype._createListener = function(e) {
        return new E_(this, e);
      }, i;
    }(Ls), Oh = function(a) {
      function i() {
        var e = a !== null && a.apply(this, arguments) || this;
        return e.onTreeItemExpanding = null, e.onTreeItemExpanded = null, e.onTreeItemCollapsing = null, e.onTreeItemCollapsed = null, e.onTreeItemChanged = null, e;
      }
      return w(i, a), Object.defineProperty(i.prototype, "treeOptions", { get: function() {
        return this._view.treeOptions;
      }, enumerable: !1, configurable: !0 }), i.prototype.getTreeOptions = function() {
        return this._view.treeOptions.toProxy();
      }, i.prototype.setTreeOptions = function(e) {
        this._view.treeOptions.assignFrom(e);
      }, i.prototype.getParent = function(e) {
        var t = this._view.getItem(e);
        return t ? t.parentIndex : -1;
      }, i.prototype.getChildren = function(e) {
        var t = this._view.getItem(e);
        if (t) {
          for (var o = [], r = 0, n = t.count; r < n; r++)
            o.push(t.getItem(r).index);
          return o;
        }
        return null;
      }, i.prototype.getDescendants = function(e) {
        var t = this._view.getItem(e);
        if (t) {
          for (var o = [], r = t.getDescendants(!1) || [], n = 0, s = r.length; n < s; n++)
            o.push(r[n].index);
          return o;
        }
        return null;
      }, i.prototype.getAncestors = function(e, t) {
        t === void 0 && (t = !0);
        var o = this._view.getItem(e);
        if (o) {
          for (var r = [], n = o.getAncestors(), s = 0, l = n.length; s < l; s++)
            !t && n[s] instanceof gr || r.push(n[s].index);
          return r;
        }
        return null;
      }, i.prototype.expand = function(e, t, o, r) {
        r === void 0 && (r = 0);
        var n = this._view.getItem(e);
        n && this._view.expand(n, t, o, r);
      }, i.prototype.expandModel = function(e, t, o, r) {
        r === void 0 && (r = 0);
        var n = this._view.getItemOfModel(e);
        n && this._view.expand(n, t, o, r);
      }, i.prototype.collapse = function(e, t) {
        var o = this._view.getItem(e);
        o && this._view.collapse(o, t);
      }, i.prototype.collapseModel = function(e, t) {
        var o = this._view.getItemOfModel(e);
        o && this._view.collapse(o, t);
      }, i.prototype.expandAll = function(e) {
        e === void 0 && (e = 0), this._view.expandAll(e);
      }, i.prototype.collapseAll = function() {
        this._view.collapseAll();
      }, i.prototype.getCheckedItems = function() {
        return this._view.getCheckedItemIndices();
      }, i.prototype.getCheckedRows = function(e) {
        return this._view.getCheckedRowIds(e);
      }, i.prototype.checkChildren = function(e, t, o, r, n, s) {
        s === void 0 && (s = !0);
        var l = this._view.getItem(e);
        l && this._view.checkChildren(l, t, o, r, n, s);
      }, i.prototype._createView = function(e, t, o) {
        return (this._container = new v_(e, this, t, o)).gridView;
      }, i.prototype._createListener = function(e) {
        return new O_(this, e);
      }, i;
    }(Ls), Rh = function(a) {
      function i(e, t) {
        var o = a.call(this) || this;
        return o._del = e, o._view = t, o._view.addListener(o), o;
      }
      return w(i, a), i.prototype.dispose = function() {
        return this._view.removeListener(this), this._view = null, this._del = null;
      }, i.prototype.onGridBaseCurrentChanging = function(e, t, o) {
        return this._del.onCurrentChanging ? this._del.onCurrentChanging(this._del, t.proxy(), o.proxy()) : (b.log("onCurrentChanging", t, o), !0);
      }, i.prototype.onGridBaseCurrentChanged = function(e, t) {
        this._del.onCurrentChanged ? this._del.onCurrentChanged(this._del, t.proxy()) : b.log("onCurrentChanged", t);
      }, i.prototype.onGridBaseCurrentRowChanged = function(e, t, o) {
        this._del.onCurrentRowChanged ? this._del.onCurrentRowChanged(this._del, t, o) : b.log("onCurrentRowChanged", t, o);
      }, i.prototype.onGridBaseValidateCell = function(e, t, o, r) {
        if (this._del.onValidateColumn) {
          var n = t.itemIndex, s = t.item && t.item.dataRow, l = this._del.onValidateColumn(this._del, t.column, o, r, n, s);
          if (l && l.level && l.message)
            throw new Me(l.level, l.message, t.column, l.message);
          if (typeof l == "string" || typeof l == "number")
            throw new Me(f.ValidationLevel.ERROR, l, t.column, l);
        }
      }, i.prototype.onGridBaseValidateRow = function(e, t, o, r) {
        if (this._del.onValidateRow) {
          var n = this._del.onValidateRow(this._del, t.index, t.dataRow, o, r);
          if (n && n.level && n.message)
            throw new Me(n.level, n.message, null, n.message);
          if (typeof n == "string" || typeof n == "number")
            throw new Me(f.ValidationLevel.ERROR, n, null, n);
        }
      }, i.prototype.onGridBaseValidationFail = function(e, t, o, r) {
        if (!this._del.onValidationFail)
          return r;
        var n = this._del.onValidationFail(this._del, t, o, { level: r.level, message: r.message });
        return n && n.level && n.message ? (r.level = n.level, r.message = n.message, r.userMessage = n.message, r) : typeof n == "string" || typeof n == "number" ? (r.message = n, r.userMessage = n, r) : void 0;
      }, i.prototype.onGridBaseCellClicked = function(e, t) {
        this._del.onCellClicked ? this._del.onCellClicked(this._del, t) : b.log("onCellClicked: ", t);
      }, i.prototype.onGridBaseCellDblClicked = function(e, t) {
        this._del.onCellDblClicked ? this._del.onCellDblClicked(this._del, t) : b.log("onCellDblClicked: ", t);
      }, i.prototype.onGridBaseCellItemClicked = function(e, t, o) {
        return this._del.onCellItemClicked ? this._del.onCellItemClicked(this._del, t.toProxy(), o) : b.log("onCellItemClicked: ", o);
      }, i.prototype.onGridBaseColumnCheckedChanged = function(e, t, o) {
        this._del.onColumnCheckedChanged ? this._del.onColumnCheckedChanged(this._del, t, o) : b.log("onColumnCheckedChanged: (" + t.name + ", " + o + ")");
      }, i.prototype.onGridBaseMenuItemClicked = function(e, t, o) {
        this._del.onMenuItemClicked ? this._del.onMenuItemClicked(this._del, t.toProxy(), o) : b.log("onMenuItemClicked: ", t.toProxy(), o);
      }, i.prototype.onGridBaseContextMenuPopup = function(e, t, o, r, n, s) {
        return this._del.onContextMenuPopup ? this._del.onContextMenuPopup(this._del, t, o, r, n, s) : b.log("onContextMenuPopup: x = ", t, ", y = ", o, ", clickData =", r);
      }, i.prototype.onGridBaseContextMenuItemClicked = function(e, t, o) {
        this._del.onContextMenuItemClicked ? this._del.onContextMenuItemClicked(this._del, t.toProxy(), o) : b.log("onContextMenuItemClicked: ", t.toProxy(), o);
      }, i.prototype.onGridBaseCellButtonClicked = function(e, t) {
        this._del.onCellButtonClicked ? this._del.onCellButtonClicked(this._del, t.proxy(), t.column) : b.log("onCellButtonClicked: ", t);
      }, i.prototype.onGridBaseScrollToBottom = function(e) {
        this._del.onScrollToBottom ? this._del.onScrollToBottom(this._del) : b.log("onScrollToBottom");
      }, i.prototype.onGridBaseTopIndexChanged = function(e, t) {
        this._del.onTopIndexChanged ? this._del.onTopIndexChanged(this._del, t) : b.log("onTopItemIndexChanged: " + t);
      }, i.prototype.onGridBaseLeftPosChanged = function(e, t) {
        this._del.onLeftPosChanged ? this._del.onLeftPosChanged(this._del, t) : b.log("onLeftPosChanged: " + t);
      }, i.prototype.onGridBaseTopIndexChanging = function(e, t, o, r, n) {
        return this._del.onTopIndexChanging ? this._del.onTopIndexChanging(this._del, t, o, r, n) : b.log("onTopItemIndexChanging: ", t, o, r, n);
      }, i.prototype.onGridBaseRowsDeleting = function(e, t) {
        return this._del.onRowsDeleting ? this._del.onRowsDeleting(this._del, t) : (b.log("onRowsDeleting:", t), !0);
      }, i.prototype.onGridBaseRowInserting = function(e, t, o) {
        if (this._del.onRowInserting)
          return this._del.onRowInserting(this._del, t, o);
        b.log("onRowInserting: " + t, o);
      }, i.prototype.onGridBaseSelectionCleared = function(e) {
        this._del.onSelectionCleared ? this._del.onSelectionCleared(this._del) : b.log("onSelectionCleared");
      }, i.prototype.onGridBaseSelectionChanged = function(e, t) {
        this._del.onSelectionChanged ? this._del.onSelectionChanged(this._del, t) : b.log("onSelectionChanged");
      }, i.prototype.onGridBaseSelectionAdded = function(e, t) {
        this._del.onSelectionAdded ? this._del.onSelectionAdded(this._del, t) : b.log("onSelectionAdded: ", t);
      }, i.prototype.onGridBaseSelectionEnded = function(e, t) {
        this._del.onSelectionEnded ? this._del.onSelectionEnded(this._del, t) : b.log("onSelectionEnded");
      }, i.prototype.onGridBaseShowEditor = function(e, t, o, r) {
        return this._del.onShowEditor ? this._del.onShowEditor(this._del, t.proxy(), o, r) : b.log("onShowEditor", t.proxy(), o, r);
      }, i.prototype.onGridBaseShowEditCommand = function(e, t) {
        return this._del.onShowEditCommand && this._del.onShowEditCommand(this._del, t.proxy());
      }, i.prototype.onGridBaseHideEditor = function(e, t) {
        this._del.onHideEditor ? this._del.onHideEditor(this._del, t.proxy()) : b.log("onHideEditor: ", t.proxy());
      }, i.prototype.onGridBaseEditChange = function(e, t, o) {
        this._del.onEditChange ? this._del.onEditChange(this._del, t.proxy(), o) : b.log("onEditChange: " + o, t.proxy());
      }, i.prototype.onGridBaseGetEditValue = function(e, t, o) {
        this._del.onGetEditValue ? this._del.onGetEditValue(this._del, t.proxy(), o) : b.log("onGetEditValue: ", t, o);
      }, i.prototype.onGridBaseEditCommit = function(e, t, o, r) {
        return this._del.onEditCommit ? this._del.onEditCommit(this._del, t.proxy(), o, r) : (b.log("onEditCommit", t.proxy(), o, r), !0);
      }, i.prototype.onGridBaseEditCanceled = function(e, t) {
        this._del.onEditCanceled ? this._del.onEditCanceled(this._del, t.proxy()) : b.log("onEditCanceled", t.proxy());
      }, i.prototype.onGridBaseItemEditCanceled = function(e, t) {
        this._del.onItemEditCanceled ? this._del.onItemEditCanceled(this._del, t.index, t.itemState) : b.log("onItemEditCanceled: " + t.index + ", " + t.itemState);
      }, i.prototype.onGridBaseItemEditCancel = function(e, t) {
        return this._del.onItemEditCancel ? this._del.onItemEditCancel(this._del, t.index, t.itemState) : (b.log("onItemEditCancel: " + t.index + ", " + t.itemState), !0);
      }, i.prototype.onGridBaseEditSearch = function(e, t, o) {
        this._del.onEditSearch ? this._del.onEditSearch(this._del, t.proxy(), o) : b.log("onEditSearch: " + o, t.proxy());
      }, i.prototype.onGridBaseSearchCellButtonClick = function(e, t, o) {
        return this._del.onSearchCellButtonClick ? this._del.onSearchCellButtonClick(this._del, t.proxy(), o) : (b.log("onSearchCellButtonClick: " + o, t.proxy()), null);
      }, i.prototype.onGridBaseCellEdited = function(e, t, o) {
        return this._del.onCellEdited ? this._del.onCellEdited(this._del, t.index, t.dataRow, o) : b.log("onCellEdited: " + t.index + ", " + t.dataRow + ", " + o);
      }, i.prototype.onGridBaseEditRowChanged = function(e, t, o, r, n) {
        return this._del.onEditRowChanged ? this._del.onEditRowChanged(this._del, t.index, t.dataRow, o, r, n) : b.log("onEditRowChanged: " + t.index + ", " + t.dataRow + ", " + o + ", " + r + " => " + n);
      }, i.prototype.onGridBaseEditRowPasted = function(e, t, o, r, n) {
        return this._del.onEditRowPasted ? this._del.onEditRowPasted(this._del, t.index, t.dataRow, o, r, n) : b.log("onEditRowPasted: " + t.index + ", " + t.dataRow, o, r, n);
      }, i.prototype.onGridBaseRowsPasted = function(e, t) {
        return this._del.onRowsPasted ? this._del.onRowsPasted(this._del, t) : b.log("onRowsPasted: ", t);
      }, i.prototype.onGridBaseCellPasting = function(e, t, o) {
        return this._del.onCellPasting ? this._del.onCellPasting(this._del, t.proxy(), o) : b.log("onCellPasting: ", t, o);
      }, i.prototype.onGridBaseItemChecked = function(e, t, o) {
        return this._del.onItemChecked ? this._del.onItemChecked(this._del, t.index, o) : b.log("onItemChecked", t.index, o);
      }, i.prototype.onGridBaseItemsChecked = function(e, t, o) {
        var r = we.getItemIndices(t);
        return this._del.onItemsChecked ? this._del.onItemsChecked(this._del, r, o) : b.log("onItemsChecked: " + o, r);
      }, i.prototype.onGridBaseItemAllChecked = function(e, t) {
        return this._del.onItemAllChecked ? this._del.onItemAllChecked(this._del, t) : b.log("onItemAllChecked: " + t);
      }, i.prototype.onGridBaseErrorClicked = function(e, t) {
        this._del.onErrorClicked ? this._del.onErrorClicked(this._del, t) : b.log("onErrorClicked: " + t);
      }, i.prototype.onGridBaseSorting = function(e, t, o) {
        for (var r = [], n = 0, s = o.length; n < s; n++)
          r.push(o[n] ? o[n].toString() : "ascending");
        return this._del.onSorting ? this._del.onSorting(this._del, t, o) : b.log("onSorting: ", t, r);
      }, i.prototype.onGridBaseSortingChanged = function(e) {
        this._del.onSortingChanged ? this._del.onSortingChanged(this._del) : b.log("onSortingChanged");
      }, i.prototype.onGridBaseFiltering = function(e) {
        return this._del.onFiltering ? this._del.onFiltering(this._del) : b.log("onFiltering");
      }, i.prototype.onGridBaseFilteringChanged = function(e, t, o) {
        var r = t ? t.getOwner() : null, n = o ? o.toProxy() : null, s = r ? r.name : "", l = o ? o.name : "";
        return this._del.onFilteringChanged ? this._del.onFilteringChanged(this._del, r, n) : b.log("onFilteringChanged: " + s + ", " + l);
      }, i.prototype.onGridBaseWheel = function(e, t) {
        return this._del.onWheel ? this._del.onWheel(this._del, t) : b.keyLog("onWheel: " + t);
      }, i.prototype.onGridBaseKeyDown = function(e, t) {
        return this._del.onKeyDown ? this._del.onKeyDown(this._del, t) : b.keyLog("onKeyDown: " + t);
      }, i.prototype.onGridBaseKeyPress = function(e, t) {
        this._del.onKeyPress ? this._del.onKeyPress(this._del, t) : b.keyLog("onKeyPress: " + t);
      }, i.prototype.onGridBaseKeyUp = function(e, t) {
        this._del.onKeyUp ? this._del.onKeyUp(this._del, t) : b.keyLog("onKeyUp: " + t);
      }, i.prototype.onGridBaseShowTooltip = function(e, t, o) {
        return this._del.onShowTooltip ? this._del.onShowTooltip(this._del, t.proxy(), o) : (b.log("onShowTooltip: " + o, t.proxy()), o);
      }, i.prototype.onGridBaseShowHeaderTooltip = function(e, t, o, r) {
        return this._del.onShowHeaderTooltip ? this._del.onShowHeaderTooltip(this._del, t, o, r) : (b.log("onShowHeaderTooltip: " + t.name + ", " + o), o);
      }, i.prototype.onGridBaseColumnPropertyChanged = function(e, t, o, r, n) {
        this._del.onColumnPropertyChanged ? this._del.onColumnPropertyChanged(this._del, t, o, r, n) : b.log("onColumnPropertyChanged: " + t.name + ", " + o + ", " + r + ", " + n);
      }, i.prototype.onGridBaseLayoutPropertyChanged = function(e, t, o, r, n) {
        this._del.onLayoutPropertyChanged ? this._del.onLayoutPropertyChanged(this._del, t, o, r, n) : b.log("onLayoutPropertyChanged: " + t.name + ", " + o + ", " + r + ", " + n);
      }, i.prototype.onGridBaseGridActivated = function(e) {
        this._del.onGridActivated ? this._del.onGridActivated(this._del) : b.log("onGridActivated");
      }, i.prototype.onGridBasePaste = function(e, t, o) {
        if (this._del.onPaste)
          return this._del.onPaste(this._del, t.proxy(), o);
        b.log("onPaste: ", t);
      }, i.prototype.onGridBaseCopy = function(e, t, o) {
        var r;
        if (Array.isArray(t) ? (r = [], t.forEach(function(n) {
          r.push(n.toProxy());
        })) : r = t.toProxy(), this._del.onCopy)
          return this._del.onCopy(this._del, r, o);
        b.log("onCopy: ", r);
      }, i.prototype.onGridBasePasted = function(e) {
        return this._del.onPasted ? this._del.onPasted(this._del) : b.log("onPasted");
      }, i.prototype.onGridBaseCommandStackChanged = function(e, t, o) {
        this._del.onCommandStackChanged ? this._del.onCommandStackChanged(e.handler, t, o) : b.log("onCommandStackChanged: undoable " + t + ", redoable " + o);
      }, i.prototype.onGridBaseDataLoadComplated = function(e) {
        this._del.onDataLoadComplated ? this._del.onDataLoadComplated(e.handler) : b.log("onDataLoadComplated: ");
      }, i.prototype.onGridBaseLayoutExpanding = function(e, t) {
        return this._del.onLayoutExpanding ? this._del.onLayoutExpanding(e.handler, t) : (b.log("onLayoutExpanding"), !0);
      }, i.prototype.onGridBaseLayoutExpanded = function(e, t) {
        this._del.onLayoutExpanded ? this._del.onLayoutExpanded(e.handler, t) : b.log("onLayoutExpanded");
      }, i.prototype.onGridBaseLayoutCollapsing = function(e, t) {
        return this._del.onLayoutCollapsing ? this._del.onLayoutCollapsing(e.handler, t) : (b.log("onLayoutCollapsing"), !0);
      }, i.prototype.onGridBaseLayoutCollapsed = function(e, t) {
        this._del.onLayoutCollapsed ? this._del.onLayoutCollapsed(e.handler, t) : b.log("onLayoutCollapsed");
      }, i;
    }(On), E_ = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.onGridViewPageChanging = function(e, t) {
        return this._del.onPageChanging ? this._del.onPageChanging(this._del, t) : (b.log("onPageChanging:" + t), !0);
      }, i.prototype.onGridViewPageChanged = function(e, t) {
        this._del.onPageChanged ? this._del.onPageChanged(this._del, t) : b.log("onPageChanged:" + t);
      }, i.prototype.onGridViewPageCountChanged = function(e, t) {
        this._del.onPageCountChanged ? this._del.onPageCountChanged(this._del, t) : b.log("onPageCountChanged:" + t);
      }, i.prototype.onGridViewGrouping = function(e, t) {
        return this._del.onGrouping ? this._del.onGrouping(this._del, t) : (b.log("onGrouping", t), !0);
      }, i.prototype.onGridViewGrouped = function(e) {
        this._del.onGrouped ? this._del.onGrouped(this._del) : b.log("onGrouped");
      }, i.prototype.onGridViewExpanding = function(e, t) {
        return this._del.onExpanding ? this._del.onExpanding(this._del, t.index) : (b.log("onExpanding: " + t.index), !0);
      }, i.prototype.onGridViewExpanded = function(e, t) {
        this._del.onExpanded ? this._del.onExpanded(this._del, t.index) : b.log("onExpanded: " + t.index);
      }, i.prototype.onGridViewCollapsing = function(e, t) {
        return this._del.onCollapsing ? this._del.onCollapsing(this._del, t.index) : (b.log("onCollapsing: " + t.index), !0);
      }, i.prototype.onGridViewCollapsed = function(e, t) {
        this._del.onCollapsed ? this._del.onCollapsed(this._del, t.index) : b.log("onCollapsed: " + t.index);
      }, i;
    }(Rh), O_ = function(a) {
      function i() {
        return a !== null && a.apply(this, arguments) || this;
      }
      return w(i, a), i.prototype.onTreeViewExpanding = function(e, t) {
        return this._del.onTreeItemExpanding ? this._del.onTreeItemExpanding(this._del, t.index, t.rowId) : (b.log("TreeItem expanding: " + t), !0);
      }, i.prototype.onTreeViewExpanded = function(e, t) {
        this._del.onTreeItemExpanded ? this._del.onTreeItemExpanded(this._del, t.index, t.rowId) : b.log("TreeItem expanded: " + t);
      }, i.prototype.onTreeViewCollapsing = function(e, t) {
        return this._del.onTreeItemCollapsing ? this._del.onTreeItemCollapsing(this._del, t.index, t.rowId) : (b.log("TreeItem collapsing: " + t), !0);
      }, i.prototype.onTreeViewCollapsed = function(e, t) {
        this._del.onTreeItemCollapsed ? this._del.onTreeItemCollapsed(this._del, t.index, t.rowId) : b.log("TreeItem collapsed: " + t);
      }, i.prototype.onTreeViewChanged = function(e, t) {
        this._del.onTreeItemChanged ? this._del.onTreeItemChanged(this._del, t.index, t.rowId) : b.log("TreeItem item changed: " + t);
      }, i;
    }(Rh), R_ = function() {
      function a() {
      }
      return a.getVersion = function() {
        return $.version;
      }, a.getLicenseType = function() {
        return $.license;
      }, a.getLicenseCode = function() {
        return $.code;
      }, a.getActiveGrid = function() {
        var i = lo.getActiveGrid();
        return i && i.handler;
      }, a.getGridInstance = function(i) {
        var e = lo.getGridInstance(i);
        return e && e.handler;
      }, a.exportGrid = function(i) {
        var e = i && i.exportGrids;
        if (e) {
          for (var t = this.getActiveGrid(), o = void 0, r = 0; r < e.length; r++) {
            var n = e[r].grid;
            if (n === t) {
              o = n;
              break;
            }
            o = o || n;
          }
          if (o)
            return void o.exportGrid(i);
        }
        throw new Error("multiExport must have exportGrids.");
      }, a.setDebug = function(i, e, t) {
        b.setDebugging(i, e, t);
      }, a.setMobile = function(i) {
        b.setMobile(i);
      }, a.setTablet = function(i) {
        b.setTablet(i);
      }, a.setSlotMode = function(i) {
        b.setSlotMode(i);
      }, Object.defineProperty(a, "GridView", { get: function() {
        return Eh;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a, "TreeView", { get: function() {
        return Oh;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a, "LocalDataProvider", { get: function() {
        return wa;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a, "LocalTreeDataProvider", { get: function() {
        return Ca;
      }, enumerable: !1, configurable: !0 }), Object.defineProperty(a, "ValueType", { get: function() {
        return f.ValueType;
      }, enumerable: !1, configurable: !0 }), a;
    }();
    f.PolygonShape = void 0, function(a) {
      a.RECTANGLE = "rectangle", a.TRIANLGE = "triangle", a.INVERTED_TRIANLGE = "itriangle", a.DIAMOND = "diamond", a.UP_ARROW = "uparrow", a.DOWN_ARROW = "downarrow", a.LEFT_ARROW = "leftarrow", a.RIGHT_ARROW = "rightarrow", a.PLUS = "plus", a.MINUS = "minus", a.EQUAL = "equal", a.STAR = "star";
    }(f.PolygonShape || (f.PolygonShape = {}));
    var P_ = $.version, k_ = $.license, T_ = $.code;
    f.DataProviderBase = Rn, f.GridBase = Ls, f.GridView = Eh, f.LocalDataProvider = wa, f.LocalTreeDataProvider = Ca, f.TreeView = Oh, f.VisualObject = _i, f.default = R_, f.gridLicenseCode = T_, f.gridLicenseType = k_, f.gridVersion = P_, Object.defineProperty(f, "__esModule", { value: !0 });
  });
})(js, js.exports);
var Vs = js.exports;
const sg = /* @__PURE__ */ Ws(`<style>
        .popup {
          position: relative;
          z-index: 2;
          background: #ddd;
          padding: 1rem;
          min-height: 200px;
          min-width: 200px;
        }

        .popup::after {
          content: " ";
          position: absolute;
          bottom: 100%;
          left: 50%;
          margin-left: -5px;
          border-width: 5px;
          border-style: solid;
          border-color: transparent transparent #ddd transparent;
        }
        `), ag = /* @__PURE__ */ Ws("<div class=popup><h1>Popup</h1><p>Some text you might need for something or other."), lg = /* @__PURE__ */ Ws("<div>addOn");
function hg(k) {
  return $h(() => {
    const L = window;
    L.realGrid2Lic = ng;
    const f = new Vs.LocalDataProvider(!1), $ = new Vs.GridView(k.gridSetting.name);
    k.onLoad($, f), $.setDataSource(f), f.setFields([{
      fieldName: "이름"
    }, {
      fieldName: "소속"
    }, {
      fieldName: "직급"
    }, {
      fieldName: "what"
    }, {
      fieldName: "이메일"
    }]), $.setColumns([{
      name: "이름",
      header: {
        text: "이름"
      },
      fieldName: "이름",
      width: 100
    }, {
      name: "소속",
      header: {
        text: "소속"
      },
      fieldName: "소속",
      width: 300
    }, {
      name: "직급",
      header: {
        text: "직급"
      },
      fieldName: "직급",
      width: 100
    }, {
      name: "what",
      header: {
        text: "what"
      },
      fieldName: "what",
      width: 100
    }, {
      name: "이메일",
      header: {
        text: "이메일"
      },
      fieldName: "이메일",
      width: 200
    }]), $.displayOptions.selectionStyle = Vs.SelectionStyle.SINGLE_ROW, f.setRows([{
      이름: "백화현",
      소속: "플랫폼사업부문 개발6Unit 개발4Cell",
      직급: "주임연구원",
      what: "팀원",
      이메일: "yi@duzon.com"
    }, {
      이름: "윤지만",
      소속: "플랫폼사업부문 개발6Unit 개발4Cell",
      직급: "연구원",
      what: "팀원",
      이메일: "min@duzon.com"
    }, {
      이름: "최원진",
      소속: "플랫폼사업부문 개발6Unit 개발4Cell",
      직급: "연구원",
      what: "팀원",
      이메일: "go@duzon.com"
    }, {
      이름: "임채형",
      소속: "플랫폼사업부문 개발6Unit 개발4Cell",
      직급: "연구원",
      what: "팀원",
      이메일: "lee@duzon.com"
    }]);
  }), [sg(), (() => {
    const L = lg();
    return L.firstChild, Kr(L, Wh(U_, {
      get children() {
        return ag();
      }
    }), null), L;
  })()];
}
const [ug, cg] = Zr("default Data"), [dg, Lh] = Zr({
  view: null,
  provider: null
});
rg("lux-data-grid", {
  target: "lux-data-gird",
  data: {
    getData: ug,
    setData: cg,
    getGrid: dg,
    setGrid: Lh
  }
}, (k, {
  element: L
}) => ($h(() => {
  L.addReleaseCallback(() => {
    console.log("addReleaseCallback");
  });
}), Wh(hg, {
  onLoad: (f, $) => Lh({
    view: f,
    provider: $
  }),
  get gridSetting() {
    return {
      name: k.target
    };
  }
})));
